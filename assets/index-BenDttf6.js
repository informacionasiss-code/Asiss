var cS=e=>{throw TypeError(e)};var $g=(e,t,r)=>t.has(e)||cS("Cannot "+r);var F=(e,t,r)=>($g(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?cS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>($g(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Be=(e,t,r)=>($g(e,t,"access private method"),r);var $h=(e,t,r,n)=>({set _(a){Ee(e,t,a,r)},get _(){return F(e,t,n)}});function hC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var pC={exports:{}},Xm={},mC={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),y8=Symbol.for("react.portal"),b8=Symbol.for("react.fragment"),w8=Symbol.for("react.strict_mode"),_8=Symbol.for("react.profiler"),S8=Symbol.for("react.provider"),E8=Symbol.for("react.context"),j8=Symbol.for("react.forward_ref"),T8=Symbol.for("react.suspense"),A8=Symbol.for("react.memo"),O8=Symbol.for("react.lazy"),uS=Symbol.iterator;function N8(e){return e===null||typeof e!="object"?null:(e=uS&&e[uS]||e["@@iterator"],typeof e=="function"?e:null)}var vC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gC=Object.assign,xC={};function _u(e,t,r){this.props=e,this.context=t,this.refs=xC,this.updater=r||vC}_u.prototype.isReactComponent={};_u.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_u.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yC(){}yC.prototype=_u.prototype;function fw(e,t,r){this.props=e,this.context=t,this.refs=xC,this.updater=r||vC}var hw=fw.prototype=new yC;hw.constructor=fw;gC(hw,_u.prototype);hw.isPureReactComponent=!0;var dS=Array.isArray,bC=Object.prototype.hasOwnProperty,pw={current:null},wC={key:!0,ref:!0,__self:!0,__source:!0};function _C(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)bC.call(t,n)&&!wC.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:fh,type:e,key:i,ref:s,props:a,_owner:pw.current}}function C8(e,t){return{$$typeof:fh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mw(e){return typeof e=="object"&&e!==null&&e.$$typeof===fh}function k8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fS=/\/+/g;function Lg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k8(""+e.key):t.toString(36)}function D0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fh:case y8:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Lg(s,0):n,dS(a)?(r="",e!=null&&(r=e.replace(fS,"$&/")+"/"),D0(a,t,r,"",function(c){return c})):a!=null&&(mw(a)&&(a=C8(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(fS,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",dS(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Lg(i,o);s+=D0(i,t,r,l,a)}else if(l=N8(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Lg(i,o++),s+=D0(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fh(e,t,r){if(e==null)return e;var n=[],a=0;return D0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function P8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},M0={transition:null},R8={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:M0,ReactCurrentOwner:pw};function SC(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Fh,forEach:function(e,t,r){Fh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fh(e,function(){t++}),t},toArray:function(e){return Fh(e,function(t){return t})||[]},only:function(e){if(!mw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=_u;He.Fragment=b8;He.Profiler=_8;He.PureComponent=fw;He.StrictMode=w8;He.Suspense=T8;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R8;He.act=SC;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gC({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=pw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)bC.call(t,l)&&!wC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:fh,type:e.type,key:a,ref:i,props:n,_owner:s}};He.createContext=function(e){return e={$$typeof:E8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S8,_context:e},e.Consumer=e};He.createElement=_C;He.createFactory=function(e){var t=_C.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:j8,render:e}};He.isValidElement=mw;He.lazy=function(e){return{$$typeof:O8,_payload:{_status:-1,_result:e},_init:P8}};He.memo=function(e,t){return{$$typeof:A8,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=M0.transition;M0.transition={};try{e()}finally{M0.transition=t}};He.unstable_act=SC;He.useCallback=function(e,t){return on.current.useCallback(e,t)};He.useContext=function(e){return on.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return on.current.useDeferredValue(e)};He.useEffect=function(e,t){return on.current.useEffect(e,t)};He.useId=function(){return on.current.useId()};He.useImperativeHandle=function(e,t,r){return on.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return on.current.useMemo(e,t)};He.useReducer=function(e,t,r){return on.current.useReducer(e,t,r)};He.useRef=function(e){return on.current.useRef(e)};He.useState=function(e){return on.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return on.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return on.current.useTransition()};He.version="18.3.1";mC.exports=He;var A=mC.exports;const U=et(A),I8=hC({__proto__:null,default:U},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D8=A,M8=Symbol.for("react.element"),$8=Symbol.for("react.fragment"),L8=Object.prototype.hasOwnProperty,F8=D8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B8={key:!0,ref:!0,__self:!0,__source:!0};function EC(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)L8.call(t,n)&&!B8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:M8,type:e,key:i,ref:s,props:a,_owner:F8.current}}Xm.Fragment=$8;Xm.jsx=EC;Xm.jsxs=EC;pC.exports=Xm;var u=pC.exports,ay={},jC={exports:{}},Hn={},TC={exports:{}},AC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,te){var ce=K.length;K.push(te);e:for(;0<ce;){var pe=ce-1>>>1,P=K[pe];if(0<a(P,te))K[pe]=te,K[ce]=P,ce=pe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var te=K[0],ce=K.pop();if(ce!==te){K[0]=ce;e:for(var pe=0,P=K.length,H=P>>>1;pe<H;){var B=2*(pe+1)-1,z=K[B],ae=B+1,Se=K[ae];if(0>a(z,ce))ae<P&&0>a(Se,z)?(K[pe]=Se,K[ae]=ce,pe=ae):(K[pe]=z,K[B]=ce,pe=B);else if(ae<P&&0>a(Se,ce))K[pe]=Se,K[ae]=ce,pe=ae;else break e}}return te}function a(K,te){var ce=K.sortIndex-te.sortIndex;return ce!==0?ce:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(K){for(var te=r(c);te!==null;){if(te.callback===null)n(c);else if(te.startTime<=K)n(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(c)}}function _(K){if(v=!1,y(K),!g)if(r(l)!==null)g=!0,ne(w);else{var te=r(c);te!==null&&se(_,te.startTime-K)}}function w(K,te){g=!1,v&&(v=!1,b(j),j=-1),p=!0;var ce=h;try{for(y(te),f=r(l);f!==null&&(!(f.expirationTime>te)||K&&!N());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,h=f.priorityLevel;var P=pe(f.expirationTime<=te);te=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),y(te)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var B=r(c);B!==null&&se(_,B.startTime-te),H=!1}return H}finally{f=null,h=ce,p=!1}}var S=!1,E=null,j=-1,T=5,C=-1;function N(){return!(e.unstable_now()-C<T)}function L(){if(E!==null){var K=e.unstable_now();C=K;var te=!0;try{te=E(!0,K)}finally{te?W():(S=!1,E=null)}}else S=!1}var W;if(typeof m=="function")W=function(){m(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,V=Z.port2;Z.port1.onmessage=L,W=function(){V.postMessage(null)}}else W=function(){x(L,0)};function ne(K){E=K,S||(S=!0,W())}function se(K,te){j=x(function(){K(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ne(w))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(K){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var ce=h;h=te;try{return K()}finally{h=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=h;h=K;try{return te()}finally{h=ce}},e.unstable_scheduleCallback=function(K,te,ce){var pe=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?pe+ce:pe):ce=pe,K){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,K={id:d++,callback:te,priorityLevel:K,startTime:ce,expirationTime:P,sortIndex:-1},ce>pe?(K.sortIndex=ce,t(c,K),r(l)===null&&K===r(c)&&(v?(b(j),j=-1):v=!0,se(_,ce-pe))):(K.sortIndex=P,t(l,K),g||p||(g=!0,ne(w))),K},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(K){var te=h;return function(){var ce=h;h=te;try{return K.apply(this,arguments)}finally{h=ce}}}})(AC);TC.exports=AC;var U8=TC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z8=A,Un=U8;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Xd={};function dl(e,t){Ic(e,t),Ic(e+"Capture",t)}function Ic(e,t){for(Xd[e]=t,e=0;e<t.length;e++)OC.add(t[e])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=Object.prototype.hasOwnProperty,W8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},pS={};function H8(e){return iy.call(pS,e)?!0:iy.call(hS,e)?!1:W8.test(e)?pS[e]=!0:(hS[e]=!0,!1)}function q8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V8(e,t,r,n){if(t===null||typeof t>"u"||q8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var vw=/[\-:]([a-z])/g;function gw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function xw(e,t,r,n){var a=Cr.hasOwnProperty(t)?Cr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V8(t,r,a,n)&&(r=null),n||a===null?H8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vi=z8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),kC=Symbol.for("react.offscreen"),mS=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=mS&&e[mS]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Fg;function xd(e){if(Fg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fg=t&&t[1]||""}return`
`+Fg+e}var Bg=!1;function Ug(e,t){if(!e||Bg)return"";Bg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Bg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xd(e):""}function K8(e){switch(e.tag){case 5:return xd(e.type);case 16:return xd("Lazy");case 13:return xd("Suspense");case 19:return xd("SuspenseList");case 0:case 2:case 15:return e=Ug(e.type,!1),e;case 11:return e=Ug(e.type.render,!1),e;case 1:return e=Ug(e.type,!0),e;default:return""}}function cy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ul:return"Fragment";case Bl:return"Portal";case sy:return"Profiler";case yw:return"StrictMode";case oy:return"Suspense";case ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CC:return(e.displayName||"Context")+".Consumer";case NC:return(e._context.displayName||"Context")+".Provider";case bw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ww:return t=e.displayName||null,t!==null?t:cy(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return cy(e(t))}catch{}}return null}function G8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(t);case 8:return t===yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X8(e){var t=PC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uh(e){e._valueTracker||(e._valueTracker=X8(e))}function RC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Q0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uy(e,t){var r=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IC(e,t){t=t.checked,t!=null&&xw(e,"checked",t,!1)}function dy(e,t){IC(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fy(e,t.type,r):t.hasOwnProperty("defaultValue")&&fy(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fy(e,t,r){(t!=="number"||Q0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yd=Array.isArray;function ac(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function hy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(yd(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function DC(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zh,$C=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y8=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(e){Y8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Od[t]=Od[e]})});function LC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Od.hasOwnProperty(e)&&Od[e]?(""+t).trim():t+"px"}function FC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=LC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Q8=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(e,t){if(t){if(Q8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function vy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=null;function _w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xy=null,ic=null,sc=null;function bS(e){if(e=mh(e)){if(typeof xy!="function")throw Error(he(280));var t=e.stateNode;t&&(t=ev(t),xy(e.stateNode,e.type,t))}}function BC(e){ic?sc?sc.push(e):sc=[e]:ic=e}function UC(){if(ic){var e=ic,t=sc;if(sc=ic=null,bS(e),t)for(e=0;e<t.length;e++)bS(t[e])}}function zC(e,t){return e(t)}function WC(){}var zg=!1;function HC(e,t,r){if(zg)return e(t,r);zg=!0;try{return zC(e,t,r)}finally{zg=!1,(ic!==null||sc!==null)&&(WC(),UC())}}function Qd(e,t){var r=e.stateNode;if(r===null)return null;var n=ev(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var yy=!1;if(Ri)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){yy=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{yy=!1}function J8(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Nd=!1,J0=null,Z0=!1,by=null,Z8={onError:function(e){Nd=!0,J0=e}};function eM(e,t,r,n,a,i,s,o,l){Nd=!1,J0=null,J8.apply(Z8,arguments)}function tM(e,t,r,n,a,i,s,o,l){if(eM.apply(this,arguments),Nd){if(Nd){var c=J0;Nd=!1,J0=null}else throw Error(he(198));Z0||(Z0=!0,by=c)}}function fl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wS(e){if(fl(e)!==e)throw Error(he(188))}function rM(e){var t=e.alternate;if(!t){if(t=fl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return wS(a),e;if(i===n)return wS(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function VC(e){return e=rM(e),e!==null?KC(e):null}function KC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KC(e);if(t!==null)return t;e=e.sibling}return null}var GC=Un.unstable_scheduleCallback,_S=Un.unstable_cancelCallback,nM=Un.unstable_shouldYield,aM=Un.unstable_requestPaint,Ht=Un.unstable_now,iM=Un.unstable_getCurrentPriorityLevel,Sw=Un.unstable_ImmediatePriority,XC=Un.unstable_UserBlockingPriority,ep=Un.unstable_NormalPriority,sM=Un.unstable_LowPriority,YC=Un.unstable_IdlePriority,Ym=null,Za=null;function oM(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(Ym,e,void 0,(e.current.flags&128)===128)}catch{}}var ka=Math.clz32?Math.clz32:uM,lM=Math.log,cM=Math.LN2;function uM(e){return e>>>=0,e===0?32:31-(lM(e)/cM|0)|0}var Wh=64,Hh=4194304;function bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=bd(o):(i&=s,i!==0&&(n=bd(i)))}else s=r&~a,s!==0?n=bd(s):i!==0&&(n=bd(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ka(t),a=1<<r,n|=e[r],t&=~a;return n}function dM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ka(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=dM(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function wy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QC(){var e=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),e}function Wg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ka(t),e[t]=r}function hM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ka(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ew(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ka(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var st=0;function JC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZC,jw,ek,tk,rk,_y=!1,qh=[],Os=null,Ns=null,Cs=null,Jd=new Map,Zd=new Map,ls=[],pM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SS(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function Zu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mh(t),t!==null&&jw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mM(e,t,r,n,a){switch(t){case"focusin":return Os=Zu(Os,e,t,r,n,a),!0;case"dragenter":return Ns=Zu(Ns,e,t,r,n,a),!0;case"mouseover":return Cs=Zu(Cs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jd.set(i,Zu(Jd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zd.set(i,Zu(Zd.get(i)||null,e,t,r,n,a)),!0}return!1}function nk(e){var t=So(e.target);if(t!==null){var r=fl(t);if(r!==null){if(t=r.tag,t===13){if(t=qC(r),t!==null){e.blockedOn=t,rk(e.priority,function(){ek(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gy=n,r.target.dispatchEvent(n),gy=null}else return t=mh(r),t!==null&&jw(t),e.blockedOn=r,!1;t.shift()}return!0}function ES(e,t,r){$0(e)&&r.delete(t)}function vM(){_y=!1,Os!==null&&$0(Os)&&(Os=null),Ns!==null&&$0(Ns)&&(Ns=null),Cs!==null&&$0(Cs)&&(Cs=null),Jd.forEach(ES),Zd.forEach(ES)}function ed(e,t){e.blockedOn===t&&(e.blockedOn=null,_y||(_y=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,vM)))}function ef(e){function t(a){return ed(a,e)}if(0<qh.length){ed(qh[0],e);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Os!==null&&ed(Os,e),Ns!==null&&ed(Ns,e),Cs!==null&&ed(Cs,e),Jd.forEach(t),Zd.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)nk(r),r.blockedOn===null&&ls.shift()}var oc=Vi.ReactCurrentBatchConfig,rp=!0;function gM(e,t,r,n){var a=st,i=oc.transition;oc.transition=null;try{st=1,Tw(e,t,r,n)}finally{st=a,oc.transition=i}}function xM(e,t,r,n){var a=st,i=oc.transition;oc.transition=null;try{st=4,Tw(e,t,r,n)}finally{st=a,oc.transition=i}}function Tw(e,t,r,n){if(rp){var a=Sy(e,t,r,n);if(a===null)Zg(e,t,n,np,r),SS(e,n);else if(mM(a,e,t,r,n))n.stopPropagation();else if(SS(e,n),t&4&&-1<pM.indexOf(e)){for(;a!==null;){var i=mh(a);if(i!==null&&ZC(i),i=Sy(e,t,r,n),i===null&&Zg(e,t,n,np,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Zg(e,t,n,null,r)}}var np=null;function Sy(e,t,r,n){if(np=null,e=_w(n),e=So(e),e!==null)if(t=fl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return np=e,null}function ak(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iM()){case Sw:return 1;case XC:return 4;case ep:case sM:return 16;case YC:return 536870912;default:return 16}default:return 16}}var _s=null,Aw=null,L0=null;function ik(){if(L0)return L0;var e,t=Aw,r=t.length,n,a="value"in _s?_s.value:_s.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return L0=a.slice(e,1<n?1-n:void 0)}function F0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vh(){return!0}function jS(){return!1}function qn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vh:jS,this.isPropagationStopped=jS,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),t}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ow=qn(Su),ph=It({},Su,{view:0,detail:0}),yM=qn(ph),Hg,qg,td,Qm=It({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==td&&(td&&e.type==="mousemove"?(Hg=e.screenX-td.screenX,qg=e.screenY-td.screenY):qg=Hg=0,td=e),Hg)},movementY:function(e){return"movementY"in e?e.movementY:qg}}),TS=qn(Qm),bM=It({},Qm,{dataTransfer:0}),wM=qn(bM),_M=It({},ph,{relatedTarget:0}),Vg=qn(_M),SM=It({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),EM=qn(SM),jM=It({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TM=qn(jM),AM=It({},Su,{data:0}),AS=qn(AM),OM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CM[e])?!!t[e]:!1}function Nw(){return kM}var PM=It({},ph,{key:function(e){if(e.key){var t=OM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=F0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(e){return e.type==="keypress"?F0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RM=qn(PM),IM=It({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OS=qn(IM),DM=It({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),MM=qn(DM),$M=It({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=qn($M),FM=It({},Qm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BM=qn(FM),UM=[9,13,27,32],Cw=Ri&&"CompositionEvent"in window,Cd=null;Ri&&"documentMode"in document&&(Cd=document.documentMode);var zM=Ri&&"TextEvent"in window&&!Cd,sk=Ri&&(!Cw||Cd&&8<Cd&&11>=Cd),NS=" ",CS=!1;function ok(e,t){switch(e){case"keyup":return UM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function WM(e,t){switch(e){case"compositionend":return lk(t);case"keypress":return t.which!==32?null:(CS=!0,NS);case"textInput":return e=t.data,e===NS&&CS?null:e;default:return null}}function HM(e,t){if(zl)return e==="compositionend"||!Cw&&ok(e,t)?(e=ik(),L0=Aw=_s=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sk&&t.locale!=="ko"?null:t.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qM[e.type]:t==="textarea"}function ck(e,t,r,n){BC(n),t=ap(t,"onChange"),0<t.length&&(r=new Ow("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kd=null,tf=null;function VM(e){bk(e,0)}function Jm(e){var t=ql(e);if(RC(t))return e}function KM(e,t){if(e==="change")return t}var uk=!1;if(Ri){var Kg;if(Ri){var Gg="oninput"in document;if(!Gg){var PS=document.createElement("div");PS.setAttribute("oninput","return;"),Gg=typeof PS.oninput=="function"}Kg=Gg}else Kg=!1;uk=Kg&&(!document.documentMode||9<document.documentMode)}function RS(){kd&&(kd.detachEvent("onpropertychange",dk),tf=kd=null)}function dk(e){if(e.propertyName==="value"&&Jm(tf)){var t=[];ck(t,tf,e,_w(e)),HC(VM,t)}}function GM(e,t,r){e==="focusin"?(RS(),kd=t,tf=r,kd.attachEvent("onpropertychange",dk)):e==="focusout"&&RS()}function XM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jm(tf)}function YM(e,t){if(e==="click")return Jm(t)}function QM(e,t){if(e==="input"||e==="change")return Jm(t)}function JM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:JM;function rf(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!iy.call(t,a)||!Da(e[a],t[a]))return!1}return!0}function IS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function DS(e,t){var r=IS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IS(r)}}function fk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hk(){for(var e=window,t=Q0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Q0(e.document)}return t}function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZM(e){var t=hk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fk(r.ownerDocument.documentElement,r)){if(n!==null&&kw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=DS(r,i);var s=DS(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e$=Ri&&"documentMode"in document&&11>=document.documentMode,Wl=null,Ey=null,Pd=null,jy=!1;function MS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jy||Wl==null||Wl!==Q0(n)||(n=Wl,"selectionStart"in n&&kw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pd&&rf(Pd,n)||(Pd=n,n=ap(Ey,"onSelect"),0<n.length&&(t=new Ow("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wl)))}function Kh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hl={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},Xg={},pk={};Ri&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function Zm(e){if(Xg[e])return Xg[e];if(!Hl[e])return e;var t=Hl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pk)return Xg[e]=t[r];return e}var mk=Zm("animationend"),vk=Zm("animationiteration"),gk=Zm("animationstart"),xk=Zm("transitionend"),yk=new Map,$S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){yk.set(e,t),dl(t,[e])}for(var Yg=0;Yg<$S.length;Yg++){var Qg=$S[Yg],t$=Qg.toLowerCase(),r$=Qg[0].toUpperCase()+Qg.slice(1);Ks(t$,"on"+r$)}Ks(mk,"onAnimationEnd");Ks(vk,"onAnimationIteration");Ks(gk,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(xk,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n$=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function LS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tM(n,t,void 0,e),e.currentTarget=null}function bk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;LS(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;LS(a,o,c),i=l}}}if(Z0)throw e=by,Z0=!1,by=null,e}function xt(e,t){var r=t[Cy];r===void 0&&(r=t[Cy]=new Set);var n=e+"__bubble";r.has(n)||(wk(t,e,2,!1),r.add(n))}function Jg(e,t,r){var n=0;t&&(n|=4),wk(r,e,n,t)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function nf(e){if(!e[Gh]){e[Gh]=!0,OC.forEach(function(r){r!=="selectionchange"&&(n$.has(r)||Jg(r,!1,e),Jg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gh]||(t[Gh]=!0,Jg("selectionchange",!1,t))}}function wk(e,t,r,n){switch(ak(t)){case 1:var a=gM;break;case 4:a=xM;break;default:a=Tw}r=a.bind(null,t,r,e),a=void 0,!yy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=So(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}HC(function(){var c=i,d=_w(r),f=[];e:{var h=yk.get(e);if(h!==void 0){var p=Ow,g=e;switch(e){case"keypress":if(F0(r)===0)break e;case"keydown":case"keyup":p=RM;break;case"focusin":g="focus",p=Vg;break;case"focusout":g="blur",p=Vg;break;case"beforeblur":case"afterblur":p=Vg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MM;break;case mk:case vk:case gk:p=EM;break;case xk:p=LM;break;case"scroll":p=yM;break;case"wheel":p=BM;break;case"copy":case"cut":case"paste":p=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OS}var v=(t&4)!==0,x=!v&&e==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=Qd(m,b),_!=null&&v.push(af(m,_,y)))),x)break;m=m.return}0<v.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==gy&&(g=r.relatedTarget||r.fromElement)&&(So(g)||g[Ii]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?So(g):null,g!==null&&(x=fl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=TS,_="onMouseLeave",b="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=OS,_="onPointerLeave",b="onPointerEnter",m="pointer"),x=p==null?h:ql(p),y=g==null?h:ql(g),h=new v(_,m+"leave",p,r,d),h.target=x,h.relatedTarget=y,_=null,So(d)===c&&(v=new v(b,m+"enter",g,r,d),v.target=y,v.relatedTarget=x,_=v),x=_,p&&g)t:{for(v=p,b=g,m=0,y=v;y;y=Tl(y))m++;for(y=0,_=b;_;_=Tl(_))y++;for(;0<m-y;)v=Tl(v),m--;for(;0<y-m;)b=Tl(b),y--;for(;m--;){if(v===b||b!==null&&v===b.alternate)break t;v=Tl(v),b=Tl(b)}v=null}else v=null;p!==null&&FS(f,h,p,v,!1),g!==null&&x!==null&&FS(f,x,g,v,!0)}}e:{if(h=c?ql(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=KM;else if(kS(h))if(uk)w=QM;else{w=XM;var S=GM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=YM);if(w&&(w=w(e,c))){ck(f,w,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&fy(h,"number",h.value)}switch(S=c?ql(c):window,e){case"focusin":(kS(S)||S.contentEditable==="true")&&(Wl=S,Ey=c,Pd=null);break;case"focusout":Pd=Ey=Wl=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,MS(f,r,d);break;case"selectionchange":if(e$)break;case"keydown":case"keyup":MS(f,r,d)}var E;if(Cw)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else zl?ok(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(sk&&r.locale!=="ko"&&(zl||j!=="onCompositionStart"?j==="onCompositionEnd"&&zl&&(E=ik()):(_s=d,Aw="value"in _s?_s.value:_s.textContent,zl=!0)),S=ap(c,j),0<S.length&&(j=new AS(j,e,null,r,d),f.push({event:j,listeners:S}),E?j.data=E:(E=lk(r),E!==null&&(j.data=E)))),(E=zM?WM(e,r):HM(e,r))&&(c=ap(c,"onBeforeInput"),0<c.length&&(d=new AS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}bk(f,t)})}function af(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ap(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Qd(e,r),i!=null&&n.unshift(af(e,i,a)),i=Qd(e,t),i!=null&&n.push(af(e,i,a))),e=e.return}return n}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FS(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Qd(r,i),l!=null&&s.unshift(af(r,l,o))):a||(l=Qd(r,i),l!=null&&s.push(af(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var a$=/\r\n?/g,i$=/\u0000|\uFFFD/g;function BS(e){return(typeof e=="string"?e:""+e).replace(a$,`
`).replace(i$,"")}function Xh(e,t,r){if(t=BS(t),BS(e)!==t&&r)throw Error(he(425))}function ip(){}var Ty=null,Ay=null;function Oy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,s$=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,o$=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(e){return US.resolve(null).then(e).catch(l$)}:Ny;function l$(e){setTimeout(function(){throw e})}function ex(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ef(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ef(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Ya="__reactFiber$"+Eu,sf="__reactProps$"+Eu,Ii="__reactContainer$"+Eu,Cy="__reactEvents$"+Eu,c$="__reactListeners$"+Eu,u$="__reactHandles$"+Eu;function So(e){var t=e[Ya];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ii]||r[Ya]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zS(e);e!==null;){if(r=e[Ya])return r;e=zS(e)}return t}e=r,r=e.parentNode}return null}function mh(e){return e=e[Ya]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function ev(e){return e[sf]||null}var ky=[],Vl=-1;function Gs(e){return{current:e}}function wt(e){0>Vl||(e.current=ky[Vl],ky[Vl]=null,Vl--)}function vt(e,t){Vl++,ky[Vl]=e.current,e.current=t}var Us={},Hr=Gs(Us),xn=Gs(!1),Ko=Us;function Dc(e,t){var r=e.type.contextTypes;if(!r)return Us;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yn(e){return e=e.childContextTypes,e!=null}function sp(){wt(xn),wt(Hr)}function WS(e,t,r){if(Hr.current!==Us)throw Error(he(168));vt(Hr,t),vt(xn,r)}function _k(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(he(108,G8(e)||"Unknown",a));return It({},r,n)}function op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,Ko=Hr.current,vt(Hr,e),vt(xn,xn.current),!0}function HS(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=_k(e,t,Ko),n.__reactInternalMemoizedMergedChildContext=e,wt(xn),wt(Hr),vt(Hr,e)):wt(xn),vt(xn,r)}var pi=null,tv=!1,tx=!1;function Sk(e){pi===null?pi=[e]:pi.push(e)}function d$(e){tv=!0,Sk(e)}function Xs(){if(!tx&&pi!==null){tx=!0;var e=0,t=st;try{var r=pi;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,tv=!1}catch(a){throw pi!==null&&(pi=pi.slice(e+1)),GC(Sw,Xs),a}finally{st=t,tx=!1}}return null}var Kl=[],Gl=0,lp=null,cp=0,ea=[],ta=0,Go=null,yi=1,bi="";function uo(e,t){Kl[Gl++]=cp,Kl[Gl++]=lp,lp=e,cp=t}function Ek(e,t,r){ea[ta++]=yi,ea[ta++]=bi,ea[ta++]=Go,Go=e;var n=yi;e=bi;var a=32-ka(n)-1;n&=~(1<<a),r+=1;var i=32-ka(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,yi=1<<32-ka(t)+a|r<<a|n,bi=i+e}else yi=1<<i|r<<a|n,bi=e}function Pw(e){e.return!==null&&(uo(e,1),Ek(e,1,0))}function Rw(e){for(;e===lp;)lp=Kl[--Gl],Kl[Gl]=null,cp=Kl[--Gl],Kl[Gl]=null;for(;e===Go;)Go=ea[--ta],ea[ta]=null,bi=ea[--ta],ea[ta]=null,yi=ea[--ta],ea[ta]=null}var Fn=null,Ln=null,Et=!1,Ta=null;function jk(e,t){var r=na(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Go!==null?{id:yi,overflow:bi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=na(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fn=e,Ln=null,!0):!1;default:return!1}}function Py(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ry(e){if(Et){var t=Ln;if(t){var r=t;if(!qS(e,t)){if(Py(e))throw Error(he(418));t=ks(r.nextSibling);var n=Fn;t&&qS(e,t)?jk(n,r):(e.flags=e.flags&-4097|2,Et=!1,Fn=e)}}else{if(Py(e))throw Error(he(418));e.flags=e.flags&-4097|2,Et=!1,Fn=e}}}function VS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function Yh(e){if(e!==Fn)return!1;if(!Et)return VS(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oy(e.type,e.memoizedProps)),t&&(t=Ln)){if(Py(e))throw Tk(),Error(he(418));for(;t;)jk(e,t),t=ks(t.nextSibling)}if(VS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ln=ks(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?ks(e.stateNode.nextSibling):null;return!0}function Tk(){for(var e=Ln;e;)e=ks(e.nextSibling)}function Mc(){Ln=Fn=null,Et=!1}function Iw(e){Ta===null?Ta=[e]:Ta.push(e)}var f$=Vi.ReactCurrentBatchConfig;function rd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Qh(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KS(e){var t=e._init;return t(e._payload)}function Ak(e){function t(b,m){if(e){var y=b.deletions;y===null?(b.deletions=[m],b.flags|=16):y.push(m)}}function r(b,m){if(!e)return null;for(;m!==null;)t(b,m),m=m.sibling;return null}function n(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function a(b,m){return b=Ds(b,m),b.index=0,b.sibling=null,b}function i(b,m,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<m?(b.flags|=2,m):y):(b.flags|=2,m)):(b.flags|=1048576,m)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,m,y,_){return m===null||m.tag!==6?(m=lx(y,b.mode,_),m.return=b,m):(m=a(m,y),m.return=b,m)}function l(b,m,y,_){var w=y.type;return w===Ul?d(b,m,y.props.children,_,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===as&&KS(w)===m.type)?(_=a(m,y.props),_.ref=rd(b,m,y),_.return=b,_):(_=V0(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,m,y),_.return=b,_)}function c(b,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=cx(y,b.mode,_),m.return=b,m):(m=a(m,y.children||[]),m.return=b,m)}function d(b,m,y,_,w){return m===null||m.tag!==7?(m=Wo(y,b.mode,_,w),m.return=b,m):(m=a(m,y),m.return=b,m)}function f(b,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=lx(""+m,b.mode,y),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bh:return y=V0(m.type,m.key,m.props,null,b.mode,y),y.ref=rd(b,null,m),y.return=b,y;case Bl:return m=cx(m,b.mode,y),m.return=b,m;case as:var _=m._init;return f(b,_(m._payload),y)}if(yd(m)||Qu(m))return m=Wo(m,b.mode,y,null),m.return=b,m;Qh(b,m)}return null}function h(b,m,y,_){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(b,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:return y.key===w?l(b,m,y,_):null;case Bl:return y.key===w?c(b,m,y,_):null;case as:return w=y._init,h(b,m,w(y._payload),_)}if(yd(y)||Qu(y))return w!==null?null:d(b,m,y,_,null);Qh(b,y)}return null}function p(b,m,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,o(m,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bh:return b=b.get(_.key===null?y:_.key)||null,l(m,b,_,w);case Bl:return b=b.get(_.key===null?y:_.key)||null,c(m,b,_,w);case as:var S=_._init;return p(b,m,y,S(_._payload),w)}if(yd(_)||Qu(_))return b=b.get(y)||null,d(m,b,_,w,null);Qh(m,_)}return null}function g(b,m,y,_){for(var w=null,S=null,E=m,j=m=0,T=null;E!==null&&j<y.length;j++){E.index>j?(T=E,E=null):T=E.sibling;var C=h(b,E,y[j],_);if(C===null){E===null&&(E=T);break}e&&E&&C.alternate===null&&t(b,E),m=i(C,m,j),S===null?w=C:S.sibling=C,S=C,E=T}if(j===y.length)return r(b,E),Et&&uo(b,j),w;if(E===null){for(;j<y.length;j++)E=f(b,y[j],_),E!==null&&(m=i(E,m,j),S===null?w=E:S.sibling=E,S=E);return Et&&uo(b,j),w}for(E=n(b,E);j<y.length;j++)T=p(E,b,j,y[j],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),m=i(T,m,j),S===null?w=T:S.sibling=T,S=T);return e&&E.forEach(function(N){return t(b,N)}),Et&&uo(b,j),w}function v(b,m,y,_){var w=Qu(y);if(typeof w!="function")throw Error(he(150));if(y=w.call(y),y==null)throw Error(he(151));for(var S=w=null,E=m,j=m=0,T=null,C=y.next();E!==null&&!C.done;j++,C=y.next()){E.index>j?(T=E,E=null):T=E.sibling;var N=h(b,E,C.value,_);if(N===null){E===null&&(E=T);break}e&&E&&N.alternate===null&&t(b,E),m=i(N,m,j),S===null?w=N:S.sibling=N,S=N,E=T}if(C.done)return r(b,E),Et&&uo(b,j),w;if(E===null){for(;!C.done;j++,C=y.next())C=f(b,C.value,_),C!==null&&(m=i(C,m,j),S===null?w=C:S.sibling=C,S=C);return Et&&uo(b,j),w}for(E=n(b,E);!C.done;j++,C=y.next())C=p(E,b,j,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?j:C.key),m=i(C,m,j),S===null?w=C:S.sibling=C,S=C);return e&&E.forEach(function(L){return t(b,L)}),Et&&uo(b,j),w}function x(b,m,y,_){if(typeof y=="object"&&y!==null&&y.type===Ul&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:e:{for(var w=y.key,S=m;S!==null;){if(S.key===w){if(w=y.type,w===Ul){if(S.tag===7){r(b,S.sibling),m=a(S,y.props.children),m.return=b,b=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===as&&KS(w)===S.type){r(b,S.sibling),m=a(S,y.props),m.ref=rd(b,S,y),m.return=b,b=m;break e}r(b,S);break}else t(b,S);S=S.sibling}y.type===Ul?(m=Wo(y.props.children,b.mode,_,y.key),m.return=b,b=m):(_=V0(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,m,y),_.return=b,b=_)}return s(b);case Bl:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(b,m.sibling),m=a(m,y.children||[]),m.return=b,b=m;break e}else{r(b,m);break}else t(b,m);m=m.sibling}m=cx(y,b.mode,_),m.return=b,b=m}return s(b);case as:return S=y._init,x(b,m,S(y._payload),_)}if(yd(y))return g(b,m,y,_);if(Qu(y))return v(b,m,y,_);Qh(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(b,m.sibling),m=a(m,y),m.return=b,b=m):(r(b,m),m=lx(y,b.mode,_),m.return=b,b=m),s(b)):r(b,m)}return x}var $c=Ak(!0),Ok=Ak(!1),up=Gs(null),dp=null,Xl=null,Dw=null;function Mw(){Dw=Xl=dp=null}function $w(e){var t=up.current;wt(up),e._currentValue=t}function Iy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lc(e,t){dp=e,Dw=Xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function oa(e){var t=e._currentValue;if(Dw!==e)if(e={context:e,memoizedValue:t,next:null},Xl===null){if(dp===null)throw Error(he(308));Xl=e,dp.dependencies={lanes:0,firstContext:e}}else Xl=Xl.next=e;return t}var Eo=null;function Lw(e){Eo===null?Eo=[e]:Eo.push(e)}function Nk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Lw(t)):(r.next=a.next,a.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Fw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ck(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Di(e,r)}return a=n.interleaved,a===null?(t.next=t,Lw(n)):(t.next=a.next,a.next=t),n.interleaved=t,Di(e,r)}function B0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ew(e,r)}}function GS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fp(e,t,r,n){var a=e.updateQueue;is=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,d=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=It({},f,h);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yo|=s,e.lanes=s,e.memoizedState=f}}function XS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(he(191,a));a.call(n)}}}var vh={},ei=Gs(vh),of=Gs(vh),lf=Gs(vh);function jo(e){if(e===vh)throw Error(he(174));return e}function Bw(e,t){switch(vt(lf,t),vt(of,e),vt(ei,vh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:py(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=py(t,e)}wt(ei),vt(ei,t)}function Lc(){wt(ei),wt(of),wt(lf)}function kk(e){jo(lf.current);var t=jo(ei.current),r=py(t,e.type);t!==r&&(vt(of,e),vt(ei,r))}function Uw(e){of.current===e&&(wt(ei),wt(of))}var kt=Gs(0);function hp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rx=[];function zw(){for(var e=0;e<rx.length;e++)rx[e]._workInProgressVersionPrimary=null;rx.length=0}var U0=Vi.ReactCurrentDispatcher,nx=Vi.ReactCurrentBatchConfig,Xo=0,Pt=null,ar=null,dr=null,pp=!1,Rd=!1,cf=0,h$=0;function Mr(){throw Error(he(321))}function Ww(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Da(e[r],t[r]))return!1;return!0}function Hw(e,t,r,n,a,i){if(Xo=i,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U0.current=e===null||e.memoizedState===null?g$:x$,e=r(n,a),Rd){i=0;do{if(Rd=!1,cf=0,25<=i)throw Error(he(301));i+=1,dr=ar=null,t.updateQueue=null,U0.current=y$,e=r(n,a)}while(Rd)}if(U0.current=mp,t=ar!==null&&ar.next!==null,Xo=0,dr=ar=Pt=null,pp=!1,t)throw Error(he(300));return e}function qw(){var e=cf!==0;return cf=0,e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Pt.memoizedState=dr=e:dr=dr.next=e,dr}function la(){if(ar===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=dr===null?Pt.memoizedState:dr.next;if(t!==null)dr=t,ar=e;else{if(e===null)throw Error(he(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},dr===null?Pt.memoizedState=dr=e:dr=dr.next=e}return dr}function uf(e,t){return typeof t=="function"?t(e):t}function ax(e){var t=la(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=ar,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var d=c.lane;if((Xo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Pt.lanes|=d,Yo|=d}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Da(n,t.memoizedState)||(mn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pt.lanes|=i,Yo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ix(e){var t=la(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Da(i,t.memoizedState)||(mn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Pk(){}function Rk(e,t){var r=Pt,n=la(),a=t(),i=!Da(n.memoizedState,a);if(i&&(n.memoizedState=a,mn=!0),n=n.queue,Vw(Mk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,df(9,Dk.bind(null,r,n,a,t),void 0,null),gr===null)throw Error(he(349));Xo&30||Ik(r,t,a)}return a}function Ik(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dk(e,t,r,n){t.value=r,t.getSnapshot=n,$k(t)&&Lk(e)}function Mk(e,t,r){return r(function(){$k(t)&&Lk(e)})}function $k(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Da(e,r)}catch{return!0}}function Lk(e){var t=Di(e,1);t!==null&&Pa(t,e,1,-1)}function YS(e){var t=qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:e},t.queue=e,e=e.dispatch=v$.bind(null,Pt,e),[t.memoizedState,e]}function df(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Fk(){return la().memoizedState}function z0(e,t,r,n){var a=qa();Pt.flags|=e,a.memoizedState=df(1|t,r,void 0,n===void 0?null:n)}function rv(e,t,r,n){var a=la();n=n===void 0?null:n;var i=void 0;if(ar!==null){var s=ar.memoizedState;if(i=s.destroy,n!==null&&Ww(n,s.deps)){a.memoizedState=df(t,r,i,n);return}}Pt.flags|=e,a.memoizedState=df(1|t,r,i,n)}function QS(e,t){return z0(8390656,8,e,t)}function Vw(e,t){return rv(2048,8,e,t)}function Bk(e,t){return rv(4,2,e,t)}function Uk(e,t){return rv(4,4,e,t)}function zk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wk(e,t,r){return r=r!=null?r.concat([e]):null,rv(4,4,zk.bind(null,t,e),r)}function Kw(){}function Hk(e,t){var r=la();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qk(e,t){var r=la();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vk(e,t,r){return Xo&21?(Da(r,t)||(r=QC(),Pt.lanes|=r,Yo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=r)}function p$(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=nx.transition;nx.transition={};try{e(!1),t()}finally{st=r,nx.transition=n}}function Kk(){return la().memoizedState}function m$(e,t,r){var n=Is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gk(e))Xk(t,r);else if(r=Nk(e,t,r,n),r!==null){var a=an();Pa(r,e,n,a),Yk(r,t,n)}}function v$(e,t,r){var n=Is(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gk(e))Xk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Da(o,s)){var l=t.interleaved;l===null?(a.next=a,Lw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Nk(e,t,a,n),r!==null&&(a=an(),Pa(r,e,n,a),Yk(r,t,n))}}function Gk(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function Xk(e,t){Rd=pp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ew(e,r)}}var mp={readContext:oa,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},g$={readContext:oa,useCallback:function(e,t){return qa().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:QS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,z0(4194308,4,zk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return z0(4194308,4,e,t)},useInsertionEffect:function(e,t){return z0(4,2,e,t)},useMemo:function(e,t){var r=qa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=m$.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=qa();return e={current:e},t.memoizedState=e},useState:YS,useDebugValue:Kw,useDeferredValue:function(e){return qa().memoizedState=e},useTransition:function(){var e=YS(!1),t=e[0];return e=p$.bind(null,e[1]),qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,a=qa();if(Et){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),gr===null)throw Error(he(349));Xo&30||Ik(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,QS(Mk.bind(null,n,i,e),[e]),n.flags|=2048,df(9,Dk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qa(),t=gr.identifierPrefix;if(Et){var r=bi,n=yi;r=(n&~(1<<32-ka(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x$={readContext:oa,useCallback:Hk,useContext:oa,useEffect:Vw,useImperativeHandle:Wk,useInsertionEffect:Bk,useLayoutEffect:Uk,useMemo:qk,useReducer:ax,useRef:Fk,useState:function(){return ax(uf)},useDebugValue:Kw,useDeferredValue:function(e){var t=la();return Vk(t,ar.memoizedState,e)},useTransition:function(){var e=ax(uf)[0],t=la().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Rk,useId:Kk,unstable_isNewReconciler:!1},y$={readContext:oa,useCallback:Hk,useContext:oa,useEffect:Vw,useImperativeHandle:Wk,useInsertionEffect:Bk,useLayoutEffect:Uk,useMemo:qk,useReducer:ix,useRef:Fk,useState:function(){return ix(uf)},useDebugValue:Kw,useDeferredValue:function(e){var t=la();return ar===null?t.memoizedState=e:Vk(t,ar.memoizedState,e)},useTransition:function(){var e=ix(uf)[0],t=la().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Rk,useId:Kk,unstable_isNewReconciler:!1};function ya(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:It({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nv={isMounted:function(e){return(e=e._reactInternals)?fl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=an(),a=Is(e),i=Ei(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ps(e,i,a),t!==null&&(Pa(t,e,a,n),B0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=an(),a=Is(e),i=Ei(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ps(e,i,a),t!==null&&(Pa(t,e,a,n),B0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=an(),n=Is(e),a=Ei(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ps(e,a,n),t!==null&&(Pa(t,e,n,r),B0(t,e,n))}};function JS(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!rf(r,n)||!rf(a,i):!0}function Qk(e,t,r){var n=!1,a=Us,i=t.contextType;return typeof i=="object"&&i!==null?i=oa(i):(a=yn(t)?Ko:Hr.current,n=t.contextTypes,i=(n=n!=null)?Dc(e,a):Us),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ZS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nv.enqueueReplaceState(t,t.state,null)}function My(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=oa(i):(i=yn(t)?Ko:Hr.current,a.context=Dc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nv.enqueueReplaceState(a,a.state,null),fp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fc(e,t){try{var r="",n=t;do r+=K8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function sx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $y(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b$=typeof WeakMap=="function"?WeakMap:Map;function Jk(e,t,r){r=Ei(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gp||(gp=!0,Ky=n),$y(e,t)},r}function Zk(e,t,r){r=Ei(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$y(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$y(e,t),typeof n!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function eE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=I$.bind(null,e,t,r),t.then(e,e))}function tE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ei(-1,1),t.tag=2,Ps(r,t,1))),r.lanes|=1),e)}var w$=Vi.ReactCurrentOwner,mn=!1;function Yr(e,t,r,n){t.child=e===null?Ok(t,null,r,n):$c(t,e.child,r,n)}function nE(e,t,r,n,a){r=r.render;var i=t.ref;return lc(t,a),n=Hw(e,t,r,n,i,a),r=qw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Et&&r&&Pw(t),t.flags|=1,Yr(e,t,n,a),t.child)}function aE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!t_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,e4(e,t,i,n,a)):(e=V0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:rf,r(s,n)&&e.ref===t.ref)return Mi(e,t,a)}return t.flags|=1,e=Ds(i,n),e.ref=t.ref,e.return=t,t.child=e}function e4(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(rf(i,n)&&e.ref===t.ref)if(mn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,Mi(e,t,a)}return Ly(e,t,r,n,a)}function t4(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Ql,Cn),Cn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Ql,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(Ql,Cn),Cn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,vt(Ql,Cn),Cn|=n;return Yr(e,t,a,r),t.child}function r4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ly(e,t,r,n,a){var i=yn(r)?Ko:Hr.current;return i=Dc(t,i),lc(t,a),r=Hw(e,t,r,n,i,a),n=qw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Et&&n&&Pw(t),t.flags|=1,Yr(e,t,r,a),t.child)}function iE(e,t,r,n,a){if(yn(r)){var i=!0;op(t)}else i=!1;if(lc(t,a),t.stateNode===null)W0(e,t),Qk(t,r,n),My(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=oa(c):(c=yn(r)?Ko:Hr.current,c=Dc(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&ZS(t,s,n,c),is=!1;var h=t.memoizedState;s.state=h,fp(t,n,s,a),l=t.memoizedState,o!==n||h!==l||xn.current||is?(typeof d=="function"&&(Dy(t,r,d,n),l=t.memoizedState),(o=is||JS(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ck(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ya(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=oa(l):(l=yn(r)?Ko:Hr.current,l=Dc(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&ZS(t,s,n,l),is=!1,h=t.memoizedState,s.state=h,fp(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||xn.current||is?(typeof p=="function"&&(Dy(t,r,p,n),g=t.memoizedState),(c=is||JS(t,r,c,n,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fy(e,t,r,n,i,a)}function Fy(e,t,r,n,a,i){r4(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&HS(t,r,!1),Mi(e,t,i);n=t.stateNode,w$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=$c(t,e.child,null,i),t.child=$c(t,null,o,i)):Yr(e,t,o,i),t.memoizedState=n.state,a&&HS(t,r,!0),t.child}function n4(e){var t=e.stateNode;t.pendingContext?WS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&WS(e,t.context,!1),Bw(e,t.containerInfo)}function sE(e,t,r,n,a){return Mc(),Iw(a),t.flags|=256,Yr(e,t,r,n),t.child}var By={dehydrated:null,treeContext:null,retryLane:0};function Uy(e){return{baseLanes:e,cachePool:null,transitions:null}}function a4(e,t,r){var n=t.pendingProps,a=kt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vt(kt,a&1),e===null)return Ry(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=sv(s,n,0,null),e=Wo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Uy(r),t.memoizedState=By,e):Gw(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return _$(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ds(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ds(o,i):(i=Wo(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Uy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=By,n}return i=e.child,e=i.sibling,n=Ds(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gw(e,t){return t=sv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jh(e,t,r,n){return n!==null&&Iw(n),$c(t,e.child,null,r),e=Gw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _$(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=sx(Error(he(422))),Jh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=sv({mode:"visible",children:n.children},a,0,null),i=Wo(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$c(t,e.child,null,s),t.child.memoizedState=Uy(s),t.memoizedState=By,i);if(!(t.mode&1))return Jh(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(he(419)),n=sx(i,n,void 0),Jh(e,t,s,n)}if(o=(s&e.childLanes)!==0,mn||o){if(n=gr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Di(e,a),Pa(n,e,a,-1))}return e_(),n=sx(Error(he(421))),Jh(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=D$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ln=ks(a.nextSibling),Fn=t,Et=!0,Ta=null,e!==null&&(ea[ta++]=yi,ea[ta++]=bi,ea[ta++]=Go,yi=e.id,bi=e.overflow,Go=t),t=Gw(t,n.children),t.flags|=4096,t)}function oE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Iy(e.return,t,r)}function ox(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function i4(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Yr(e,t,n.children,r),n=kt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oE(e,r,t);else if(e.tag===19)oE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vt(kt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ox(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ox(t,!0,r,null,i);break;case"together":ox(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function W0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=Ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S$(e,t,r){switch(t.tag){case 3:n4(t),Mc();break;case 5:kk(t);break;case 1:yn(t.type)&&op(t);break;case 4:Bw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;vt(up,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(kt,kt.current&1),t.flags|=128,null):r&t.child.childLanes?a4(e,t,r):(vt(kt,kt.current&1),e=Mi(e,t,r),e!==null?e.sibling:null);vt(kt,kt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(kt,kt.current),n)break;return null;case 22:case 23:return t.lanes=0,t4(e,t,r)}return Mi(e,t,r)}var s4,zy,o4,l4;s4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zy=function(){};o4=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jo(ei.current);var i=null;switch(r){case"input":a=uy(e,a),n=uy(e,n),i=[];break;case"select":a=It({},a,{value:void 0}),n=It({},n,{value:void 0}),i=[];break;case"textarea":a=hy(e,a),n=hy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ip)}my(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xt("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};l4=function(e,t,r,n){r!==n&&(t.flags|=4)};function nd(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E$(e,t,r){var n=t.pendingProps;switch(Rw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return yn(t.type)&&sp(),$r(t),null;case 3:return n=t.stateNode,Lc(),wt(xn),wt(Hr),zw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ta!==null&&(Yy(Ta),Ta=null))),zy(e,t),$r(t),null;case 5:Uw(t);var a=jo(lf.current);if(r=t.type,e!==null&&t.stateNode!=null)o4(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return $r(t),null}if(e=jo(ei.current),Yh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ya]=t,n[sf]=i,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<wd.length;a++)xt(wd[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":vS(n,i),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xt("invalid",n);break;case"textarea":xS(n,i),xt("invalid",n)}my(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",""+o]):Xd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xt("scroll",n)}switch(r){case"input":Uh(n),gS(n,i,!0);break;case"textarea":Uh(n),yS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ip)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ya]=t,e[sf]=n,s4(e,t,!1,!1),t.stateNode=e;e:{switch(s=vy(r,n),r){case"dialog":xt("cancel",e),xt("close",e),a=n;break;case"iframe":case"object":case"embed":xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<wd.length;a++)xt(wd[a],e);a=n;break;case"source":xt("error",e),a=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),a=n;break;case"details":xt("toggle",e),a=n;break;case"input":vS(e,n),a=uy(e,n),xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=It({},n,{value:void 0}),xt("invalid",e);break;case"textarea":xS(e,n),a=hy(e,n),xt("invalid",e);break;default:a=n}my(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?FC(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$C(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yd(e,l):typeof l=="number"&&Yd(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xt("scroll",e):l!=null&&xw(e,i,l,s))}switch(r){case"input":Uh(e),gS(e,n,!1);break;case"textarea":Uh(e),yS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ac(e,!!n.multiple,i,!1):n.defaultValue!=null&&ac(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ip)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)l4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=jo(lf.current),jo(ei.current),Yh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ya]=t,(i=n.nodeValue!==r)&&(e=Fn,e!==null))switch(e.tag){case 3:Xh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ya]=t,t.stateNode=n}return $r(t),null;case 13:if(wt(kt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&Ln!==null&&t.mode&1&&!(t.flags&128))Tk(),Mc(),t.flags|=98560,i=!1;else if(i=Yh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Ya]=t}else Mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),i=!1}else Ta!==null&&(Yy(Ta),Ta=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||kt.current&1?sr===0&&(sr=3):e_())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return Lc(),zy(e,t),e===null&&nf(t.stateNode.containerInfo),$r(t),null;case 10:return $w(t.type._context),$r(t),null;case 17:return yn(t.type)&&sp(),$r(t),null;case 19:if(wt(kt),i=t.memoizedState,i===null)return $r(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)nd(i,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hp(e),s!==null){for(t.flags|=128,nd(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vt(kt,kt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ht()>Bc&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304)}else{if(!n)if(e=hp(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Et)return $r(t),null}else 2*Ht()-i.renderingStartTime>Bc&&r!==1073741824&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,r=kt.current,vt(kt,n?r&1|2:r&1),t):($r(t),null);case 22:case 23:return Zw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cn&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function j$(e,t){switch(Rw(t),t.tag){case 1:return yn(t.type)&&sp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lc(),wt(xn),wt(Hr),zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(wt(kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(kt),null;case 4:return Lc(),null;case 10:return $w(t.type._context),null;case 22:case 23:return Zw(),null;case 24:return null;default:return null}}var Zh=!1,Fr=!1,T$=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Yl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(e,t,n)}else r.current=null}function Wy(e,t,r){try{r()}catch(n){$t(e,t,n)}}var lE=!1;function A$(e,t){if(Ty=rp,e=hk(),kw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ay={focusedElem:e,selectionRange:r},rp=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,b=t.stateNode,m=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:ya(t.type,v),x);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){$t(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=lE,lE=!1,g}function Id(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Wy(t,r,i)}a=a.next}while(a!==n)}}function av(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c4(e){var t=e.alternate;t!==null&&(e.alternate=null,c4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ya],delete t[sf],delete t[Cy],delete t[c$],delete t[u$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u4(e){return e.tag===5||e.tag===3||e.tag===4}function cE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ip));else if(n!==4&&(e=e.child,e!==null))for(qy(e,t,r),e=e.sibling;e!==null;)qy(e,t,r),e=e.sibling}function Vy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vy(e,t,r),e=e.sibling;e!==null;)Vy(e,t,r),e=e.sibling}var Er=null,Sa=!1;function ts(e,t,r){for(r=r.child;r!==null;)d4(e,t,r),r=r.sibling}function d4(e,t,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(Ym,r)}catch{}switch(r.tag){case 5:Fr||Yl(r,t);case 6:var n=Er,a=Sa;Er=null,ts(e,t,r),Er=n,Sa=a,Er!==null&&(Sa?(e=Er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(Sa?(e=Er,r=r.stateNode,e.nodeType===8?ex(e.parentNode,r):e.nodeType===1&&ex(e,r),ef(e)):ex(Er,r.stateNode));break;case 4:n=Er,a=Sa,Er=r.stateNode.containerInfo,Sa=!0,ts(e,t,r),Er=n,Sa=a;break;case 0:case 11:case 14:case 15:if(!Fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Wy(r,t,s),a=a.next}while(a!==n)}ts(e,t,r);break;case 1:if(!Fr&&(Yl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){$t(r,t,o)}ts(e,t,r);break;case 21:ts(e,t,r);break;case 22:r.mode&1?(Fr=(n=Fr)||r.memoizedState!==null,ts(e,t,r),Fr=n):ts(e,t,r);break;default:ts(e,t,r)}}function uE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new T$),t.forEach(function(n){var a=M$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function pa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Er=o.stateNode,Sa=!1;break e;case 3:Er=o.stateNode.containerInfo,Sa=!0;break e;case 4:Er=o.stateNode.containerInfo,Sa=!0;break e}o=o.return}if(Er===null)throw Error(he(160));d4(i,s,a),Er=null,Sa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){$t(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f4(t,e),t=t.sibling}function f4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pa(t,e),za(e),n&4){try{Id(3,e,e.return),av(3,e)}catch(v){$t(e,e.return,v)}try{Id(5,e,e.return)}catch(v){$t(e,e.return,v)}}break;case 1:pa(t,e),za(e),n&512&&r!==null&&Yl(r,r.return);break;case 5:if(pa(t,e),za(e),n&512&&r!==null&&Yl(r,r.return),e.flags&32){var a=e.stateNode;try{Yd(a,"")}catch(v){$t(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&IC(a,i),vy(o,s);var c=vy(o,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?FC(a,f):d==="dangerouslySetInnerHTML"?$C(a,f):d==="children"?Yd(a,f):xw(a,d,f,c)}switch(o){case"input":dy(a,i);break;case"textarea":DC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ac(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ac(a,!!i.multiple,i.defaultValue,!0):ac(a,!!i.multiple,i.multiple?[]:"",!1))}a[sf]=i}catch(v){$t(e,e.return,v)}}break;case 6:if(pa(t,e),za(e),n&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){$t(e,e.return,v)}}break;case 3:if(pa(t,e),za(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(v){$t(e,e.return,v)}break;case 4:pa(t,e),za(e);break;case 13:pa(t,e),za(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Qw=Ht())),n&4&&uE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fr=(c=Fr)||d,pa(t,e),Fr=c):pa(t,e),za(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Id(4,h,h.return);break;case 1:Yl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){$t(n,r,v)}}break;case 5:Yl(h,h.return);break;case 22:if(h.memoizedState!==null){fE(f);continue}}p!==null?(p.return=h,Ae=p):fE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=LC("display",s))}catch(v){$t(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){$t(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pa(t,e),za(e),n&4&&uE(e);break;case 21:break;default:pa(t,e),za(e)}}function za(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u4(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yd(a,""),n.flags&=-33);var i=cE(e);Vy(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=cE(e);qy(e,o,s);break;default:throw Error(he(161))}}catch(l){$t(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O$(e,t,r){Ae=e,h4(e)}function h4(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Zh;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Fr;o=Zh;var c=Fr;if(Zh=s,(Fr=l)&&!c)for(Ae=a;Ae!==null;)s=Ae,l=s.child,s.tag===22&&s.memoizedState!==null?hE(a):l!==null?(l.return=s,Ae=l):hE(a);for(;i!==null;)Ae=i,h4(i),i=i.sibling;Ae=a,Zh=o,Fr=c}dE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):dE(e)}}function dE(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fr||av(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ya(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&XS(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}XS(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ef(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Fr||t.flags&512&&Hy(t)}catch(h){$t(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function fE(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function hE(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{av(4,t)}catch(l){$t(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){$t(t,a,l)}}var i=t.return;try{Hy(t)}catch(l){$t(t,i,l)}break;case 5:var s=t.return;try{Hy(t)}catch(l){$t(t,s,l)}}}catch(l){$t(t,t.return,l)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var N$=Math.ceil,vp=Vi.ReactCurrentDispatcher,Xw=Vi.ReactCurrentOwner,ia=Vi.ReactCurrentBatchConfig,Ke=0,gr=null,Yt=null,Or=0,Cn=0,Ql=Gs(0),sr=0,ff=null,Yo=0,iv=0,Yw=0,Dd=null,pn=null,Qw=0,Bc=1/0,fi=null,gp=!1,Ky=null,Rs=null,e0=!1,Ss=null,xp=0,Md=0,Gy=null,H0=-1,q0=0;function an(){return Ke&6?Ht():H0!==-1?H0:H0=Ht()}function Is(e){return e.mode&1?Ke&2&&Or!==0?Or&-Or:f$.transition!==null?(q0===0&&(q0=QC()),q0):(e=st,e!==0||(e=window.event,e=e===void 0?16:ak(e.type)),e):1}function Pa(e,t,r,n){if(50<Md)throw Md=0,Gy=null,Error(he(185));hh(e,r,n),(!(Ke&2)||e!==gr)&&(e===gr&&(!(Ke&2)&&(iv|=r),sr===4&&cs(e,Or)),bn(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Bc=Ht()+500,tv&&Xs()))}function bn(e,t){var r=e.callbackNode;fM(e,t);var n=tp(e,e===gr?Or:0);if(n===0)r!==null&&_S(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_S(r),t===1)e.tag===0?d$(pE.bind(null,e)):Sk(pE.bind(null,e)),o$(function(){!(Ke&6)&&Xs()}),r=null;else{switch(JC(n)){case 1:r=Sw;break;case 4:r=XC;break;case 16:r=ep;break;case 536870912:r=YC;break;default:r=ep}r=w4(r,p4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p4(e,t){if(H0=-1,q0=0,Ke&6)throw Error(he(327));var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var n=tp(e,e===gr?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yp(e,n);else{t=n;var a=Ke;Ke|=2;var i=v4();(gr!==e||Or!==t)&&(fi=null,Bc=Ht()+500,zo(e,t));do try{P$();break}catch(o){m4(e,o)}while(!0);Mw(),vp.current=i,Ke=a,Yt!==null?t=0:(gr=null,Or=0,t=sr)}if(t!==0){if(t===2&&(a=wy(e),a!==0&&(n=a,t=Xy(e,a))),t===1)throw r=ff,zo(e,0),cs(e,n),bn(e,Ht()),r;if(t===6)cs(e,n);else{if(a=e.current.alternate,!(n&30)&&!C$(a)&&(t=yp(e,n),t===2&&(i=wy(e),i!==0&&(n=i,t=Xy(e,i))),t===1))throw r=ff,zo(e,0),cs(e,n),bn(e,Ht()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:fo(e,pn,fi);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=Qw+500-Ht(),10<t)){if(tp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){an(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ny(fo.bind(null,e,pn,fi),t);break}fo(e,pn,fi);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ka(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N$(n/1960))-n,10<n){e.timeoutHandle=Ny(fo.bind(null,e,pn,fi),n);break}fo(e,pn,fi);break;case 5:fo(e,pn,fi);break;default:throw Error(he(329))}}}return bn(e,Ht()),e.callbackNode===r?p4.bind(null,e):null}function Xy(e,t){var r=Dd;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),e=yp(e,t),e!==2&&(t=pn,pn=r,t!==null&&Yy(t)),e}function Yy(e){pn===null?pn=e:pn.push.apply(pn,e)}function C$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Da(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Yw,t&=~iv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ka(t),n=1<<r;e[r]=-1,t&=~n}}function pE(e){if(Ke&6)throw Error(he(327));cc();var t=tp(e,0);if(!(t&1))return bn(e,Ht()),null;var r=yp(e,t);if(e.tag!==0&&r===2){var n=wy(e);n!==0&&(t=n,r=Xy(e,n))}if(r===1)throw r=ff,zo(e,0),cs(e,t),bn(e,Ht()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fo(e,pn,fi),bn(e,Ht()),null}function Jw(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Bc=Ht()+500,tv&&Xs())}}function Qo(e){Ss!==null&&Ss.tag===0&&!(Ke&6)&&cc();var t=Ke;Ke|=1;var r=ia.transition,n=st;try{if(ia.transition=null,st=1,e)return e()}finally{st=n,ia.transition=r,Ke=t,!(Ke&6)&&Xs()}}function Zw(){Cn=Ql.current,wt(Ql)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,s$(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(Rw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sp();break;case 3:Lc(),wt(xn),wt(Hr),zw();break;case 5:Uw(n);break;case 4:Lc();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:$w(n.type._context);break;case 22:case 23:Zw()}r=r.return}if(gr=e,Yt=e=Ds(e.current,null),Or=Cn=t,sr=0,ff=null,Yw=iv=Yo=0,pn=Dd=null,Eo!==null){for(t=0;t<Eo.length;t++)if(r=Eo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Eo=null}return e}function m4(e,t){do{var r=Yt;try{if(Mw(),U0.current=mp,pp){for(var n=Pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pp=!1}if(Xo=0,dr=ar=Pt=null,Rd=!1,cf=0,Xw.current=null,r===null||r.return===null){sr=1,ff=t,Yt=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Or,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=tE(s);if(p!==null){p.flags&=-257,rE(p,s,o,i,t),p.mode&1&&eE(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){eE(i,c,t),e_();break e}l=Error(he(426))}}else if(Et&&o.mode&1){var x=tE(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rE(x,s,o,i,t),Iw(Fc(l,o));break e}}i=l=Fc(l,o),sr!==4&&(sr=2),Dd===null?Dd=[i]:Dd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Jk(i,l,t);GS(i,b);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rs===null||!Rs.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Zk(i,o,t);GS(i,_);break e}}i=i.return}while(i!==null)}x4(r)}catch(w){t=w,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(!0)}function v4(){var e=vp.current;return vp.current=mp,e===null?mp:e}function e_(){(sr===0||sr===3||sr===2)&&(sr=4),gr===null||!(Yo&268435455)&&!(iv&268435455)||cs(gr,Or)}function yp(e,t){var r=Ke;Ke|=2;var n=v4();(gr!==e||Or!==t)&&(fi=null,zo(e,t));do try{k$();break}catch(a){m4(e,a)}while(!0);if(Mw(),Ke=r,vp.current=n,Yt!==null)throw Error(he(261));return gr=null,Or=0,sr}function k$(){for(;Yt!==null;)g4(Yt)}function P$(){for(;Yt!==null&&!nM();)g4(Yt)}function g4(e){var t=b4(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?x4(e):Yt=t,Xw.current=null}function x4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j$(r,t),r!==null){r.flags&=32767,Yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Yt=null;return}}else if(r=E$(r,t,Cn),r!==null){Yt=r;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);sr===0&&(sr=5)}function fo(e,t,r){var n=st,a=ia.transition;try{ia.transition=null,st=1,R$(e,t,r,n)}finally{ia.transition=a,st=n}return null}function R$(e,t,r,n){do cc();while(Ss!==null);if(Ke&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(hM(e,i),e===gr&&(Yt=gr=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||e0||(e0=!0,w4(ep,function(){return cc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ia.transition,ia.transition=null;var s=st;st=1;var o=Ke;Ke|=4,Xw.current=null,A$(e,r),f4(r,e),ZM(Ay),rp=!!Ty,Ay=Ty=null,e.current=r,O$(r),aM(),Ke=o,st=s,ia.transition=i}else e.current=r;if(e0&&(e0=!1,Ss=e,xp=a),i=e.pendingLanes,i===0&&(Rs=null),oM(r.stateNode),bn(e,Ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(gp)throw gp=!1,e=Ky,Ky=null,e;return xp&1&&e.tag!==0&&cc(),i=e.pendingLanes,i&1?e===Gy?Md++:(Md=0,Gy=e):Md=0,Xs(),null}function cc(){if(Ss!==null){var e=JC(xp),t=ia.transition,r=st;try{if(ia.transition=null,st=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,xp=0,Ke&6)throw Error(he(331));var a=Ke;for(Ke|=4,Ae=e.current;Ae!==null;){var i=Ae,s=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ae=c;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:Id(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,p=d.return;if(c4(d),d===c){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ae=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ae=s;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Id(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ae=b;break e}Ae=i.return}}var m=e.current;for(Ae=m;Ae!==null;){s=Ae;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Ae=y;else e:for(s=m;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:av(9,o)}}catch(w){$t(o,o.return,w)}if(o===s){Ae=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ae=_;break e}Ae=o.return}}if(Ke=a,Xs(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(Ym,e)}catch{}n=!0}return n}finally{st=r,ia.transition=t}}return!1}function mE(e,t,r){t=Fc(r,t),t=Jk(e,t,1),e=Ps(e,t,1),t=an(),e!==null&&(hh(e,1,t),bn(e,t))}function $t(e,t,r){if(e.tag===3)mE(e,e,r);else for(;t!==null;){if(t.tag===3){mE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rs===null||!Rs.has(n))){e=Fc(r,e),e=Zk(t,e,1),t=Ps(t,e,1),e=an(),t!==null&&(hh(t,1,e),bn(t,e));break}}t=t.return}}function I$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&r,gr===e&&(Or&r)===r&&(sr===4||sr===3&&(Or&130023424)===Or&&500>Ht()-Qw?zo(e,0):Yw|=r),bn(e,t)}function y4(e,t){t===0&&(e.mode&1?(t=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):t=1);var r=an();e=Di(e,t),e!==null&&(hh(e,t,r),bn(e,r))}function D$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y4(e,r)}function M$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),y4(e,r)}var b4;b4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)mn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mn=!1,S$(e,t,r);mn=!!(e.flags&131072)}else mn=!1,Et&&t.flags&1048576&&Ek(t,cp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;W0(e,t),e=t.pendingProps;var a=Dc(t,Hr.current);lc(t,r),a=Hw(null,t,n,e,a,r);var i=qw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yn(n)?(i=!0,op(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fw(t),a.updater=nv,t.stateNode=a,a._reactInternals=t,My(t,n,e,r),t=Fy(null,t,n,!0,i,r)):(t.tag=0,Et&&i&&Pw(t),Yr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(W0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=L$(n),e=ya(n,e),a){case 0:t=Ly(null,t,n,e,r);break e;case 1:t=iE(null,t,n,e,r);break e;case 11:t=nE(null,t,n,e,r);break e;case 14:t=aE(null,t,n,ya(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),Ly(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),iE(e,t,n,a,r);case 3:e:{if(n4(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Ck(e,t),fp(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fc(Error(he(423)),t),t=sE(e,t,n,r,a);break e}else if(n!==a){a=Fc(Error(he(424)),t),t=sE(e,t,n,r,a);break e}else for(Ln=ks(t.stateNode.containerInfo.firstChild),Fn=t,Et=!0,Ta=null,r=Ok(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mc(),n===a){t=Mi(e,t,r);break e}Yr(e,t,n,r)}t=t.child}return t;case 5:return kk(t),e===null&&Ry(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Oy(n,a)?s=null:i!==null&&Oy(n,i)&&(t.flags|=32),r4(e,t),Yr(e,t,s,r),t.child;case 6:return e===null&&Ry(t),null;case 13:return a4(e,t,r);case 4:return Bw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$c(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),nE(e,t,n,a,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,vt(up,n._currentValue),n._currentValue=s,i!==null)if(Da(i.value,s)){if(i.children===a.children&&!xn.current){t=Mi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ei(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Iy(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(he(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Iy(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Yr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,lc(t,r),a=oa(a),n=n(a),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return n=t.type,a=ya(n,t.pendingProps),a=ya(n.type,a),aE(e,t,n,a,r);case 15:return e4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),W0(e,t),t.tag=1,yn(n)?(e=!0,op(t)):e=!1,lc(t,r),Qk(t,n,a),My(t,n,a,r),Fy(null,t,n,!0,e,r);case 19:return i4(e,t,r);case 22:return t4(e,t,r)}throw Error(he(156,t.tag))};function w4(e,t){return GC(e,t)}function $$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,r,n){return new $$(e,t,r,n)}function t_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L$(e){if(typeof e=="function")return t_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bw)return 11;if(e===ww)return 14}return 2}function Ds(e,t){var r=e.alternate;return r===null?(r=na(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function V0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")t_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ul:return Wo(r.children,a,i,t);case yw:s=8,a|=8;break;case sy:return e=na(12,r,t,a|2),e.elementType=sy,e.lanes=i,e;case oy:return e=na(13,r,t,a),e.elementType=oy,e.lanes=i,e;case ly:return e=na(19,r,t,a),e.elementType=ly,e.lanes=i,e;case kC:return sv(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NC:s=10;break e;case CC:s=9;break e;case bw:s=11;break e;case ww:s=14;break e;case as:s=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=na(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Wo(e,t,r,n){return e=na(7,e,n,t),e.lanes=r,e}function sv(e,t,r,n){return e=na(22,e,n,t),e.elementType=kC,e.lanes=r,e.stateNode={isHidden:!1},e}function lx(e,t,r){return e=na(6,e,null,t),e.lanes=r,e}function cx(e,t,r){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wg(0),this.expirationTimes=Wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function r_(e,t,r,n,a,i,s,o,l){return e=new F$(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=na(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(i),e}function B$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _4(e){if(!e)return Us;e=e._reactInternals;e:{if(fl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(yn(r))return _k(e,r,t)}return t}function S4(e,t,r,n,a,i,s,o,l){return e=r_(r,n,!0,e,a,i,s,o,l),e.context=_4(null),r=e.current,n=an(),a=Is(r),i=Ei(n,a),i.callback=t??null,Ps(r,i,a),e.current.lanes=a,hh(e,a,n),bn(e,n),e}function ov(e,t,r,n){var a=t.current,i=an(),s=Is(a);return r=_4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ei(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ps(a,t,s),e!==null&&(Pa(e,a,s,i),B0(e,a,s)),s}function bp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n_(e,t){vE(e,t),(e=e.alternate)&&vE(e,t)}function U$(){return null}var E4=typeof reportError=="function"?reportError:function(e){console.error(e)};function a_(e){this._internalRoot=e}lv.prototype.render=a_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));ov(e,t,null,null)};lv.prototype.unmount=a_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){ov(null,e,null,null)}),t[Ii]=null}};function lv(e){this._internalRoot=e}lv.prototype.unstable_scheduleHydration=function(e){if(e){var t=tk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&nk(e)}};function i_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gE(){}function z$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=bp(s);i.call(c)}}var s=S4(t,n,e,0,null,!1,!1,"",gE);return e._reactRootContainer=s,e[Ii]=s.current,nf(e.nodeType===8?e.parentNode:e),Qo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=bp(l);o.call(c)}}var l=r_(e,0,!1,null,null,!1,!1,"",gE);return e._reactRootContainer=l,e[Ii]=l.current,nf(e.nodeType===8?e.parentNode:e),Qo(function(){ov(t,l,r,n)}),l}function uv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=bp(s);o.call(l)}}ov(t,s,e,a)}else s=z$(r,t,e,a,n);return bp(s)}ZC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bd(t.pendingLanes);r!==0&&(Ew(t,r|1),bn(t,Ht()),!(Ke&6)&&(Bc=Ht()+500,Xs()))}break;case 13:Qo(function(){var n=Di(e,1);if(n!==null){var a=an();Pa(n,e,1,a)}}),n_(e,1)}};jw=function(e){if(e.tag===13){var t=Di(e,134217728);if(t!==null){var r=an();Pa(t,e,134217728,r)}n_(e,134217728)}};ek=function(e){if(e.tag===13){var t=Is(e),r=Di(e,t);if(r!==null){var n=an();Pa(r,e,t,n)}n_(e,t)}};tk=function(){return st};rk=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};xy=function(e,t,r){switch(t){case"input":if(dy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ev(n);if(!a)throw Error(he(90));RC(n),dy(n,a)}}}break;case"textarea":DC(e,r);break;case"select":t=r.value,t!=null&&ac(e,!!r.multiple,t,!1)}};zC=Jw;WC=Qo;var W$={usingClientEntryPoint:!1,Events:[mh,ql,ev,BC,UC,Jw]},ad={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H$={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VC(e),e===null?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||U$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{Ym=t0.inject(H$),Za=t0}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$;Hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i_(t))throw Error(he(200));return B$(e,t,null,r)};Hn.createRoot=function(e,t){if(!i_(e))throw Error(he(299));var r=!1,n="",a=E4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=r_(e,1,!1,null,null,r,!1,n,a),e[Ii]=t.current,nf(e.nodeType===8?e.parentNode:e),new a_(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=VC(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return Qo(e)};Hn.hydrate=function(e,t,r){if(!cv(t))throw Error(he(200));return uv(null,e,t,!0,r)};Hn.hydrateRoot=function(e,t,r){if(!i_(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=E4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=S4(t,null,e,1,r??null,a,!1,i,s),e[Ii]=t.current,nf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lv(t)};Hn.render=function(e,t,r){if(!cv(t))throw Error(he(200));return uv(null,e,t,!1,r)};Hn.unmountComponentAtNode=function(e){if(!cv(e))throw Error(he(40));return e._reactRootContainer?(Qo(function(){uv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ii]=null})}),!0):!1};Hn.unstable_batchedUpdates=Jw;Hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cv(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return uv(e,t,r,!1,n)};Hn.version="18.3.1-next-f1338f8080-20240426";function j4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j4)}catch(e){console.error(e)}}j4(),jC.exports=Hn;var q$=jC.exports,xE=q$;ay.createRoot=xE.createRoot,ay.hydrateRoot=xE.hydrateRoot;var ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hs,dw,rC,K$=(rC=class{constructor(){Pe(this,hs,V$);Pe(this,dw,!1)}setTimeoutProvider(e){Ee(this,hs,e)}setTimeout(e,t){return F(this,hs).setTimeout(e,t)}clearTimeout(e){F(this,hs).clearTimeout(e)}setInterval(e,t){return F(this,hs).setInterval(e,t)}clearInterval(e){F(this,hs).clearInterval(e)}},hs=new WeakMap,dw=new WeakMap,rC),To=new K$;function G$(e){setTimeout(e,0)}var Jo=typeof window>"u"||"Deno"in globalThis;function Qr(){}function X$(e,t){return typeof e=="function"?e(t):e}function Qy(e){return typeof e=="number"&&e>=0&&e!==1/0}function T4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ms(e,t){return typeof e=="function"?e(t):e}function Zn(e,t){return typeof e=="function"?e(t):e}function yE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==s_(s,t.options))return!1}else if(!hf(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function bE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Zo(t.options.mutationKey)!==Zo(i))return!1}else if(!hf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function s_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,r)=>Jy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hf(e[r],t[r])):!1}var Y$=Object.prototype.hasOwnProperty;function A4(e,t){if(e===t)return e;const r=wE(e)&&wE(t);if(!r&&!(Jy(e)&&Jy(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let c=0;c<s;c++){const d=r?c:i[c],f=e[d],h=t[d];if(f===h){o[d]=f,(r?c<a:Y$.call(e,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=A4(f,h);o[d]=p,p===f&&l++}return a===s&&l===a?e:o}function wp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function wE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jy(e){if(!_E(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_E(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _E(e){return Object.prototype.toString.call(e)==="[object Object]"}function Q$(e){return new Promise(t=>{To.setTimeout(t,e)})}function Zy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?A4(e,t):t}function J$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Z$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var o_=Symbol();function O4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===o_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function N4(e,t){return typeof e=="function"?e(...t):!!e}var Ro,ps,_c,nC,eL=(nC=class extends ju{constructor(){super();Pe(this,Ro);Pe(this,ps);Pe(this,_c);Ee(this,_c,t=>{if(!Jo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,ps)||this.setEventListener(F(this,_c))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ps))==null||t.call(this),Ee(this,ps,void 0))}setEventListener(t){var r;Ee(this,_c,t),(r=F(this,ps))==null||r.call(this),Ee(this,ps,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,Ro)!==t&&(Ee(this,Ro,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,Ro)=="boolean"?F(this,Ro):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ro=new WeakMap,ps=new WeakMap,_c=new WeakMap,nC),l_=new eL;function e1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var tL=G$;function rL(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=tL;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ir=rL(),Sc,ms,Ec,aC,nL=(aC=class extends ju{constructor(){super();Pe(this,Sc,!0);Pe(this,ms);Pe(this,Ec);Ee(this,Ec,t=>{if(!Jo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,ms)||this.setEventListener(F(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ms))==null||t.call(this),Ee(this,ms,void 0))}setEventListener(t){var r;Ee(this,Ec,t),(r=F(this,ms))==null||r.call(this),Ee(this,ms,t(this.setOnline.bind(this)))}setOnline(t){F(this,Sc)!==t&&(Ee(this,Sc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Sc)}},Sc=new WeakMap,ms=new WeakMap,Ec=new WeakMap,aC),_p=new nL;function aL(e){return Math.min(1e3*2**e,3e4)}function C4(e){return(e??"online")==="online"?_p.isOnline():!0}var t1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function k4(e){let t=!1,r=0,n;const a=e1(),i=()=>a.status!=="pending",s=v=>{var x;if(!i()){const b=new t1(v);h(b),(x=e.onCancel)==null||x.call(e,b)}},o=()=>{t=!0},l=()=>{t=!1},c=()=>l_.isFocused()&&(e.networkMode==="always"||_p.isOnline())&&e.canRun(),d=()=>C4(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),a.resolve(v))},h=v=>{i()||(n==null||n(),a.reject(v))},p=()=>new Promise(v=>{var x;n=b=>{(i()||c())&&v(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(i())return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var S;if(i())return;const m=e.retry??(Jo?0:3),y=e.retryDelay??aL,_=typeof y=="function"?y(r,b):y,w=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,b);if(t||!w){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),Q$(_).then(()=>c()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),a)}}var Io,iC,P4=(iC=class{constructor(){Pe(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qy(this.gcTime)&&Ee(this,Io,To.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jo?1/0:5*60*1e3))}clearGcTimeout(){F(this,Io)&&(To.clearTimeout(F(this,Io)),Ee(this,Io,void 0))}},Io=new WeakMap,iC),Do,jc,Qn,Mo,cr,oh,$o,wa,di,sC,iL=(sC=class extends P4{constructor(t){super();Pe(this,wa);Pe(this,Do);Pe(this,jc);Pe(this,Qn);Pe(this,Mo);Pe(this,cr);Pe(this,oh);Pe(this,$o);Ee(this,$o,!1),Ee(this,oh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Mo,t.client),Ee(this,Qn,F(this,Mo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Do,EE(this.options)),this.state=t.state??F(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,cr))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,oh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=EE(this.options);r.data!==void 0&&(this.setState(SE(r.data,r.dataUpdatedAt)),Ee(this,Do,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Qn).remove(this)}setData(t,r){const n=Zy(this.state.data,t,this.options);return Be(this,wa,di).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Be(this,wa,di).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=F(this,cr))==null?void 0:n.promise;return(a=F(this,cr))==null||a.cancel(t),r?r.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Do))}isActive(){return this.observers.some(t=>Zn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ms(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!T4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,cr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,cr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,cr)&&(F(this,$o)?F(this,cr).cancel({revert:!0}):F(this,cr).cancelRetry()),this.scheduleGc()),F(this,Qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,wa,di).call(this,{type:"invalidate"})}async fetch(t,r){var l,c,d,f,h,p,g,v,x,b,m,y;if(this.state.fetchStatus!=="idle"&&((l=F(this,cr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,cr))return F(this,cr).continueRetry(),F(this,cr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ee(this,$o,!0),n.signal)})},i=()=>{const _=O4(this.options,r),S=(()=>{const E={client:F(this,Mo),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Ee(this,$o,!1),this.options.persister?this.options.persister(_,S,this):_(S)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Mo),state:this.state,fetchFn:i};return a(_),_})();(c=this.options.behavior)==null||c.onFetch(o,this),Ee(this,jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Be(this,wa,di).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),Ee(this,cr,k4({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof t1&&_.revert&&this.setState({...F(this,jc),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{Be(this,wa,di).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Be(this,wa,di).call(this,{type:"pause"})},onContinue:()=>{Be(this,wa,di).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await F(this,cr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=F(this,Qn).config).onSuccess)==null||p.call(h,_,this),(v=(g=F(this,Qn).config).onSettled)==null||v.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof t1){if(_.silent)return F(this,cr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Be(this,wa,di).call(this,{type:"error",error:_}),(b=(x=F(this,Qn).config).onError)==null||b.call(x,_,this),(y=(m=F(this,Qn).config).onSettled)==null||y.call(m,this.state.data,_,this),_}finally{this.scheduleGc()}}},Do=new WeakMap,jc=new WeakMap,Qn=new WeakMap,Mo=new WeakMap,cr=new WeakMap,oh=new WeakMap,$o=new WeakMap,wa=new WeakSet,di=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R4(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...SE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,jc,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Qn).notify({query:this,type:"updated",action:t})})},sC);function R4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var dn,Ve,lh,Gr,Lo,Tc,mi,vs,ch,Ac,Oc,Fo,Bo,gs,Nc,Ze,_d,r1,n1,a1,i1,s1,o1,l1,I4,oC,sL=(oC=class extends ju{constructor(t,r){super();Pe(this,Ze);Pe(this,dn);Pe(this,Ve);Pe(this,lh);Pe(this,Gr);Pe(this,Lo);Pe(this,Tc);Pe(this,mi);Pe(this,vs);Pe(this,ch);Pe(this,Ac);Pe(this,Oc);Pe(this,Fo);Pe(this,Bo);Pe(this,gs);Pe(this,Nc,new Set);this.options=r,Ee(this,dn,t),Ee(this,vs,null),Ee(this,mi,e1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ve).addObserver(this),jE(F(this,Ve),this.options)?Be(this,Ze,_d).call(this):this.updateResult(),Be(this,Ze,i1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c1(F(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c1(F(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Ze,s1).call(this),Be(this,Ze,o1).call(this),F(this,Ve).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,Ve);if(this.options=F(this,dn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zn(this.options.enabled,F(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Ze,l1).call(this),F(this,Ve).setOptions(this.options),r._defaulted&&!wp(this.options,r)&&F(this,dn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ve),observer:this});const a=this.hasListeners();a&&TE(F(this,Ve),n,this.options,r)&&Be(this,Ze,_d).call(this),this.updateResult(),a&&(F(this,Ve)!==n||Zn(this.options.enabled,F(this,Ve))!==Zn(r.enabled,F(this,Ve))||Ms(this.options.staleTime,F(this,Ve))!==Ms(r.staleTime,F(this,Ve)))&&Be(this,Ze,r1).call(this);const i=Be(this,Ze,n1).call(this);a&&(F(this,Ve)!==n||Zn(this.options.enabled,F(this,Ve))!==Zn(r.enabled,F(this,Ve))||i!==F(this,gs))&&Be(this,Ze,a1).call(this,i)}getOptimisticResult(t){const r=F(this,dn).getQueryCache().build(F(this,dn),t),n=this.createResult(r,t);return lL(this,n)&&(Ee(this,Gr,n),Ee(this,Tc,this.options),Ee(this,Lo,F(this,Ve).state)),n}getCurrentResult(){return F(this,Gr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,mi).status==="pending"&&F(this,mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){F(this,Nc).add(t)}getCurrentQuery(){return F(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,dn).defaultQueryOptions(t),n=F(this,dn).getQueryCache().build(F(this,dn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Be(this,Ze,_d).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Gr)))}createResult(t,r){var T;const n=F(this,Ve),a=this.options,i=F(this,Gr),s=F(this,Lo),o=F(this,Tc),c=t!==n?t.state:F(this,lh),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const C=this.hasListeners(),N=!C&&jE(t,r),L=C&&TE(t,n,r,a);(N||L)&&(f={...f,...R4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:x}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=i.data,b=!0):C=typeof r.placeholderData=="function"?r.placeholderData((T=F(this,Oc))==null?void 0:T.state.data,F(this,Oc)):r.placeholderData,C!==void 0&&(x="success",p=Zy(i==null?void 0:i.data,C,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(s==null?void 0:s.data)&&r.select===F(this,ch))p=F(this,Ac);else try{Ee(this,ch,r.select),p=r.select(p),p=Zy(i==null?void 0:i.data,p,r),Ee(this,Ac,p),Ee(this,vs,null)}catch(C){Ee(this,vs,C)}F(this,vs)&&(g=F(this,vs),p=F(this,Ac),v=Date.now(),x="error");const m=f.fetchStatus==="fetching",y=x==="pending",_=x==="error",w=y&&m,S=p!==void 0,j={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:_,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:c_(t,r),refetch:this.refetch,promise:F(this,mi),isEnabled:Zn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=W=>{j.status==="error"?W.reject(j.error):j.data!==void 0&&W.resolve(j.data)},N=()=>{const W=Ee(this,mi,j.promise=e1());C(W)},L=F(this,mi);switch(L.status){case"pending":t.queryHash===n.queryHash&&C(L);break;case"fulfilled":(j.status==="error"||j.data!==L.value)&&N();break;case"rejected":(j.status!=="error"||j.error!==L.reason)&&N();break}}return j}updateResult(){const t=F(this,Gr),r=this.createResult(F(this,Ve),this.options);if(Ee(this,Lo,F(this,Ve).state),Ee(this,Tc,this.options),F(this,Lo).data!==void 0&&Ee(this,Oc,F(this,Ve)),wp(r,t))return;Ee(this,Gr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,Nc).size)return!0;const s=new Set(i??F(this,Nc));return this.options.throwOnError&&s.add("error"),Object.keys(F(this,Gr)).some(o=>{const l=o;return F(this,Gr)[l]!==t[l]&&s.has(l)})};Be(this,Ze,I4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Ze,i1).call(this)}},dn=new WeakMap,Ve=new WeakMap,lh=new WeakMap,Gr=new WeakMap,Lo=new WeakMap,Tc=new WeakMap,mi=new WeakMap,vs=new WeakMap,ch=new WeakMap,Ac=new WeakMap,Oc=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,gs=new WeakMap,Nc=new WeakMap,Ze=new WeakSet,_d=function(t){Be(this,Ze,l1).call(this);let r=F(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Qr)),r},r1=function(){Be(this,Ze,s1).call(this);const t=Ms(this.options.staleTime,F(this,Ve));if(Jo||F(this,Gr).isStale||!Qy(t))return;const n=T4(F(this,Gr).dataUpdatedAt,t)+1;Ee(this,Fo,To.setTimeout(()=>{F(this,Gr).isStale||this.updateResult()},n))},n1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ve)):this.options.refetchInterval)??!1},a1=function(t){Be(this,Ze,o1).call(this),Ee(this,gs,t),!(Jo||Zn(this.options.enabled,F(this,Ve))===!1||!Qy(F(this,gs))||F(this,gs)===0)&&Ee(this,Bo,To.setInterval(()=>{(this.options.refetchIntervalInBackground||l_.isFocused())&&Be(this,Ze,_d).call(this)},F(this,gs)))},i1=function(){Be(this,Ze,r1).call(this),Be(this,Ze,a1).call(this,Be(this,Ze,n1).call(this))},s1=function(){F(this,Fo)&&(To.clearTimeout(F(this,Fo)),Ee(this,Fo,void 0))},o1=function(){F(this,Bo)&&(To.clearInterval(F(this,Bo)),Ee(this,Bo,void 0))},l1=function(){const t=F(this,dn).getQueryCache().build(F(this,dn),this.options);if(t===F(this,Ve))return;const r=F(this,Ve);Ee(this,Ve,t),Ee(this,lh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},I4=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,Gr))}),F(this,dn).getQueryCache().notify({query:F(this,Ve),type:"observerResultsUpdated"})})},oC);function oL(e,t){return Zn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jE(e,t){return oL(e,t)||e.state.data!==void 0&&c1(e,t,t.refetchOnMount)}function c1(e,t,r){if(Zn(t.enabled,e)!==!1&&Ms(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&c_(e,t)}return!1}function TE(e,t,r,n){return(e!==t||Zn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&c_(e,r)}function c_(e,t){return Zn(t.enabled,e)!==!1&&e.isStaleByTime(Ms(t.staleTime,e))}function lL(e,t){return!wp(e.getCurrentResult(),t)}function AE(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=O4(t.options,t.fetchOptions),m=async(y,_,w)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return x(N),N})(),j=await b(E),{maxPages:T}=t.options,C=w?Z$:J$;return{pages:C(y.pages,j,T),pageParams:C(y.pageParams,_,T)}};if(a&&i.length){const y=a==="backward",_=y?cL:OE,w={pages:i,pageParams:s},S=_(n,w);o=await m(w,S,y)}else{const y=e??i.length;do{const _=l===0?s[0]??n.initialPageParam:OE(n,o);if(l>0&&_==null)break;o=await m(o,_),l++}while(l<y)}return o};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function OE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function cL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var uh,Ka,Xr,Uo,Ga,ns,lC,uL=(lC=class extends P4{constructor(t){super();Pe(this,Ga);Pe(this,uh);Pe(this,Ka);Pe(this,Xr);Pe(this,Uo);Ee(this,uh,t.client),this.mutationId=t.mutationId,Ee(this,Xr,t.mutationCache),Ee(this,Ka,[]),this.state=t.state||D4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Ka).includes(t)||(F(this,Ka).push(t),this.clearGcTimeout(),F(this,Xr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Ka,F(this,Ka).filter(r=>r!==t)),this.scheduleGc(),F(this,Xr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Ka).length||(this.state.status==="pending"?this.scheduleGc():F(this,Xr).remove(this))}continue(){var t;return((t=F(this,Uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,d,f,h,p,g,v,x,b,m,y,_,w,S,E,j,T;const r=()=>{Be(this,Ga,ns).call(this,{type:"continue"})},n={client:F(this,uh),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Uo,k4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Be(this,Ga,ns).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Be(this,Ga,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Xr).canRun(this)}));const a=this.state.status==="pending",i=!F(this,Uo).canStart();try{if(a)r();else{Be(this,Ga,ns).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=F(this,Xr).config).onMutate)==null?void 0:o.call(s,t,this,n));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t,n));N!==this.state.context&&Be(this,Ga,ns).call(this,{type:"pending",context:N,variables:t,isPaused:i})}const C=await F(this,Uo).start();return await((f=(d=F(this,Xr).config).onSuccess)==null?void 0:f.call(d,C,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,C,t,this.state.context,n)),await((v=(g=F(this,Xr).config).onSettled)==null?void 0:v.call(g,C,null,this.state.variables,this.state.context,this,n)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,C,null,t,this.state.context,n)),Be(this,Ga,ns).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(m=F(this,Xr).config).onError)==null?void 0:y.call(m,C,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,C,t,this.state.context,n)),await((E=(S=F(this,Xr).config).onSettled)==null?void 0:E.call(S,void 0,C,this.state.variables,this.state.context,this,n)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,C,t,this.state.context,n)),C}finally{Be(this,Ga,ns).call(this,{type:"error",error:C})}}finally{F(this,Xr).runNext(this)}}},uh=new WeakMap,Ka=new WeakMap,Xr=new WeakMap,Uo=new WeakMap,Ga=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{F(this,Ka).forEach(n=>{n.onMutationUpdate(t)}),F(this,Xr).notify({mutation:this,type:"updated",action:t})})},lC);function D4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,_a,dh,cC,dL=(cC=class extends ju{constructor(t={}){super();Pe(this,vi);Pe(this,_a);Pe(this,dh);this.config=t,Ee(this,vi,new Set),Ee(this,_a,new Map),Ee(this,dh,0)}build(t,r,n){const a=new uL({client:t,mutationCache:this,mutationId:++$h(this,dh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){F(this,vi).add(t);const r=r0(t);if(typeof r=="string"){const n=F(this,_a).get(r);n?n.push(t):F(this,_a).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,vi).delete(t)){const r=r0(t);if(typeof r=="string"){const n=F(this,_a).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&F(this,_a).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=r0(t);if(typeof r=="string"){const n=F(this,_a).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=r0(t);if(typeof r=="string"){const a=(n=F(this,_a).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ir.batch(()=>{F(this,vi).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,vi).clear(),F(this,_a).clear()})}getAll(){return Array.from(F(this,vi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bE(r,n))}findAll(t={}){return this.getAll().filter(r=>bE(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(Qr))))}},vi=new WeakMap,_a=new WeakMap,dh=new WeakMap,cC);function r0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gi,xs,fn,xi,Pi,K0,u1,uC,fL=(uC=class extends ju{constructor(r,n){super();Pe(this,Pi);Pe(this,gi);Pe(this,xs);Pe(this,fn);Pe(this,xi);Ee(this,gi,r),this.setOptions(n),this.bindMethods(),Be(this,Pi,K0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,gi).defaultMutationOptions(r),wp(this.options,n)||F(this,gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,fn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zo(n.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((a=F(this,fn))==null?void 0:a.state.status)==="pending"&&F(this,fn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,fn))==null||r.removeObserver(this)}onMutationUpdate(r){Be(this,Pi,K0).call(this),Be(this,Pi,u1).call(this,r)}getCurrentResult(){return F(this,xs)}reset(){var r;(r=F(this,fn))==null||r.removeObserver(this),Ee(this,fn,void 0),Be(this,Pi,K0).call(this),Be(this,Pi,u1).call(this)}mutate(r,n){var a;return Ee(this,xi,n),(a=F(this,fn))==null||a.removeObserver(this),Ee(this,fn,F(this,gi).getMutationCache().build(F(this,gi),this.options)),F(this,fn).addObserver(this),F(this,fn).execute(r)}},gi=new WeakMap,xs=new WeakMap,fn=new WeakMap,xi=new WeakMap,Pi=new WeakSet,K0=function(){var n;const r=((n=F(this,fn))==null?void 0:n.state)??D4();Ee(this,xs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},u1=function(r){ir.batch(()=>{var n,a,i,s,o,l,c,d;if(F(this,xi)&&this.hasListeners()){const f=F(this,xs).variables,h=F(this,xs).context,p={client:F(this,gi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=F(this,xi)).onSuccess)==null||a.call(n,r.data,f,h,p),(s=(i=F(this,xi)).onSettled)==null||s.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=F(this,xi)).onError)==null||l.call(o,r.error,f,h,p),(d=(c=F(this,xi)).onSettled)==null||d.call(c,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(F(this,xs))})})},uC),Xa,dC,hL=(dC=class extends ju{constructor(t={}){super();Pe(this,Xa);this.config=t,Ee(this,Xa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??s_(a,r);let s=this.get(i);return s||(s=new iL({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){F(this,Xa).has(t.queryHash)||(F(this,Xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Xa).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Xa).get(t)}getAll(){return[...F(this,Xa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yE(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xa=new WeakMap,dC),Mt,ys,bs,Cc,kc,ws,Pc,Rc,fC,pL=(fC=class{constructor(e={}){Pe(this,Mt);Pe(this,ys);Pe(this,bs);Pe(this,Cc);Pe(this,kc);Pe(this,ws);Pe(this,Pc);Pe(this,Rc);Ee(this,Mt,e.queryCache||new hL),Ee(this,ys,e.mutationCache||new dL),Ee(this,bs,e.defaultOptions||{}),Ee(this,Cc,new Map),Ee(this,kc,new Map),Ee(this,ws,0)}mount(){$h(this,ws)._++,F(this,ws)===1&&(Ee(this,Pc,l_.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Mt).onFocus())})),Ee(this,Rc,_p.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Mt).onOnline())})))}unmount(){var e,t;$h(this,ws)._--,F(this,ws)===0&&((e=F(this,Pc))==null||e.call(this),Ee(this,Pc,void 0),(t=F(this,Rc))==null||t.call(this),Ee(this,Rc,void 0))}isFetching(e){return F(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,Mt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ms(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,Mt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=F(this,Mt).get(n.queryHash),i=a==null?void 0:a.state.data,s=X$(t,i);if(s!==void 0)return F(this,Mt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>F(this,Mt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,Mt);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,Mt);return ir.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ir.batch(()=>F(this,Mt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Qr).catch(Qr)}invalidateQueries(e,t={}){return ir.batch(()=>(F(this,Mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ir.batch(()=>F(this,Mt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,Mt).build(this,t);return r.isStaleByTime(Ms(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qr).catch(Qr)}fetchInfiniteQuery(e){return e.behavior=AE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qr).catch(Qr)}ensureInfiniteQueryData(e){return e.behavior=AE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _p.isOnline()?F(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Mt)}getMutationCache(){return F(this,ys)}getDefaultOptions(){return F(this,bs)}setDefaultOptions(e){Ee(this,bs,e)}setQueryDefaults(e,t){F(this,Cc).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Cc).values()],r={};return t.forEach(n=>{hf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,kc).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,kc).values()],r={};return t.forEach(n=>{hf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,bs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=s_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===o_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,bs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Mt).clear(),F(this,ys).clear()}},Mt=new WeakMap,ys=new WeakMap,bs=new WeakMap,Cc=new WeakMap,kc=new WeakMap,ws=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,fC),M4=A.createContext(void 0),qt=e=>{const t=A.useContext(M4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mL=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(M4.Provider,{value:e,children:t})),$4=A.createContext(!1),vL=()=>A.useContext($4);$4.Provider;function gL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xL=A.createContext(gL()),yL=()=>A.useContext(xL),bL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},wL=e=>{A.useEffect(()=>{e.clearReset()},[e])},_L=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||N4(r,[e.error,n])),SL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EL=(e,t)=>e.isLoading&&e.isFetching&&!t,jL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,NE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function TL(e,t,r){var f,h,p,g,v;const n=vL(),a=yL(),i=qt(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",SL(s),bL(s,a),wL(a);const o=!i.getQueryCache().get(s.queryHash),[l]=A.useState(()=>new t(i,s)),c=l.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(x=>{const b=d?l.subscribe(ir.batchCalls(x)):Qr;return l.updateResult(),b},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(s)},[s,l]),jL(s,c))throw NE(s,l,a);if(_L({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,c),s.experimental_prefetchInRender&&!Jo&&EL(c,n)){const x=o?NE(s,l,a):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;x==null||x.catch(Qr).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function Tt(e,t){return TL(e,sL)}function Qt(e,t){const r=qt(),[n]=A.useState(()=>new fL(r,e));A.useEffect(()=>{n.setOptions(e)},[n,e]);const a=A.useSyncExternalStore(A.useCallback(s=>n.subscribe(ir.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=A.useCallback((s,o)=>{n.mutate(s,o).catch(Qr)},[n]);if(a.error&&N4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const AL={},CE=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(AL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,a,l);return l},OL=e=>e?CE(e):CE;var L4={exports:{}},F4={},B4={exports:{}},U4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=A;function NL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CL=typeof Object.is=="function"?Object.is:NL,kL=Uc.useState,PL=Uc.useEffect,RL=Uc.useLayoutEffect,IL=Uc.useDebugValue;function DL(e,t){var r=t(),n=kL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return RL(function(){a.value=r,a.getSnapshot=t,ux(a)&&i({inst:a})},[e,r,t]),PL(function(){return ux(a)&&i({inst:a}),e(function(){ux(a)&&i({inst:a})})},[e]),IL(r),r}function ux(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CL(e,r)}catch{return!0}}function ML(e,t){return t()}var $L=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ML:DL;U4.useSyncExternalStore=Uc.useSyncExternalStore!==void 0?Uc.useSyncExternalStore:$L;B4.exports=U4;var LL=B4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=A,FL=LL;function BL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UL=typeof Object.is=="function"?Object.is:BL,zL=FL.useSyncExternalStore,WL=dv.useRef,HL=dv.useEffect,qL=dv.useMemo,VL=dv.useDebugValue;F4.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=WL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=qL(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,UL(d,p))return g;var v=n(p);return a!==void 0&&a(g,v)?(d=p,g):(d=p,f=v)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=zL(e,i[0],i[1]);return HL(function(){s.hasValue=!0,s.value=o},[o]),VL(o),o};L4.exports=F4;var KL=L4.exports;const GL=et(KL),z4={},{useDebugValue:XL}=U,{useSyncExternalStoreWithSelector:YL}=GL;let kE=!1;const QL=e=>e;function JL(e,t=QL,r){(z4?"production":void 0)!=="production"&&r&&!kE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kE=!0);const n=YL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return XL(n),n}const PE=e=>{(z4?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?OL(e):e,r=(n,a)=>JL(t,n,a);return Object.assign(r,t),r},fv=e=>e?PE(e):PE,ZL=e=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return;const r=new t,n=r.createOscillator(),a=r.createGain();switch(n.connect(a),a.connect(r.destination),e){case"success":n.frequency.setValueAtTime(880,r.currentTime),n.frequency.setValueAtTime(1108.73,r.currentTime+.1),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.3),n.start(r.currentTime),n.stop(r.currentTime+.3);break;case"error":n.frequency.setValueAtTime(220,r.currentTime),n.frequency.setValueAtTime(196,r.currentTime+.15),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.4),n.start(r.currentTime),n.stop(r.currentTime+.4);break;case"warning":n.frequency.setValueAtTime(440,r.currentTime),a.gain.setValueAtTime(.2,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.2),n.start(r.currentTime),n.stop(r.currentTime+.2);break;case"info":n.frequency.setValueAtTime(523.25,r.currentTime),a.gain.setValueAtTime(.15,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.15),n.start(r.currentTime),n.stop(r.currentTime+.15);break}}catch{}},gh=fv(e=>({toasts:[],addToast:t=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={...t,id:r,duration:t.duration??5e3};ZL(t.type),e(a=>({toasts:[...a.toasts,n]})),setTimeout(()=>{e(a=>({toasts:a.toasts.filter(i=>i.id!==r)}))},n.duration)},removeToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearAll:()=>e({toasts:[]})})),ni=(e,t,r)=>{gh.getState().addToast({type:"success",title:e,message:t,createdBy:r})},Qa=(e,t)=>{gh.getState().addToast({type:"error",title:e,message:t,duration:8e3})},eF=(e,t)=>{gh.getState().addToast({type:"warning",title:e,message:t})},tF={users:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}),calendar:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"}),clipboard:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"}),megaphone:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 008.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"}),clock:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),key:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}),inbox:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"}),sparkles:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"}),truck:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}),"check-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),tag:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),eye:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),gauge:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z"}),image:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}),home:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}),"chevron-down":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}),"chevron-right":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),menu:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),x:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}),search:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),bell:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}),logout:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}),settings:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),building:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}),layers:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"}),droplet:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.314 0-6 4.03-6 9a6 6 0 1012 0c0-4.97-2.686-9-6-9z"}),spray:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 15.5m14.8-.2a2.251 2.251 0 01.45 2.574l-.788 1.576a2.25 2.25 0 01-2.45 1.186l-6.09-1.218a5.227 5.227 0 01-2.842-1.61l-.91-1.014a2.25 2.25 0 01-.218-2.692l1.55-2.58"}),brush:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}),info:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),"alert-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}),"alert-triangle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}),check:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}),"x-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),trash:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}),activity:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"}),user:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),plus:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}),package:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"}),"file-text":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),"bar-chart":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"}),edit:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}),send:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}),upload:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}),file:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})},de=({name:e,className:t="",size:r=24})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:r,height:r,className:t,children:tF[e]}),rF=({toast:e})=>{const{removeToast:t}=gh(),r={success:"bg-gradient-to-r from-success-500 to-success-600",error:"bg-gradient-to-r from-danger-500 to-danger-600",warning:"bg-gradient-to-r from-warning-500 to-warning-600",info:"bg-gradient-to-r from-brand-500 to-brand-600"},n={success:"check-circle",error:"alert-circle",warning:"alert-triangle",info:"info"};return u.jsxs("div",{className:`${r[e.type]} text-white rounded-xl shadow-2xl p-4 min-w-[320px] max-w-[420px] animate-slide-in-right flex items-start gap-3`,style:{animation:"slideInRight 0.3s ease-out"},children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:u.jsx(de,{name:n[e.type],size:22,className:"text-white"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h4",{className:"font-bold text-base",children:e.title})}),u.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:e.message}),e.createdBy&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/80",children:[u.jsx(de,{name:"user",size:14}),u.jsxs("span",{children:["Registrado por: ",u.jsx("strong",{className:"text-white",children:e.createdBy})]})]})]}),u.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(de,{name:"x",size:18,className:"text-white/80"})})]})},nF=()=>{const{toasts:e}=gh();return e.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),u.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3",children:e.map(t=>u.jsx(rF,{toast:t},t.id))})]})},aF=({children:e})=>{const[t]=A.useState(()=>new pL({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}}));return u.jsxs(mL,{client:t,children:[e,u.jsx(nF,{})]})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}var Es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Es||(Es={}));const RE="popstate";function iF(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:l=""}=hl(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),d1("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof i=="string"?i:Sp(i))}function n(a,i){hv(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return oF(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sF(){return Math.random().toString(36).substr(2,8)}function IE(e,t){return{usr:e.state,key:e.key,idx:t}}function d1(e,t,r,n){return r===void 0&&(r=null),pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hl(t):t,{state:r,key:t&&t.key||n||sF()})}function Sp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Es.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(pf({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Es.Pop;let x=d(),b=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:b})}function h(x,b){o=Es.Push;let m=d1(v.location,x,b);r&&r(m,x),c=d()+1;let y=IE(m,c),_=v.createHref(m);try{s.pushState(y,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&l&&l({action:o,location:v.location,delta:1})}function p(x,b){o=Es.Replace;let m=d1(v.location,x,b);r&&r(m,x),c=d();let y=IE(m,c),_=v.createHref(m);s.replaceState(y,"",_),i&&l&&l({action:o,location:v.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof x=="string"?x:Sp(x);return m=m.replace(/ $/,"%20"),Rt(b,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,b)}let v={get action(){return o},get location(){return e(a,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(RE,f),l=x,()=>{a.removeEventListener(RE,f),l=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return v}var DE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DE||(DE={}));function lF(e,t,r){return r===void 0&&(r="/"),cF(e,t,r)}function cF(e,t,r,n){let a=typeof t=="string"?hl(t):t,i=zc(a.pathname||"/",r);if(i==null)return null;let s=W4(e);uF(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=wF(i);o=yF(s[l],c)}return o}function W4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=$s([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W4(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:gF(c,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of H4(i.path))a(i,s,l)}),t}function H4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=H4(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function uF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dF=/^:[\w-]+$/,fF=3,hF=2,pF=1,mF=10,vF=-2,ME=e=>e==="*";function gF(e,t){let r=e.split("/"),n=r.length;return r.some(ME)&&(n+=vF),t&&(n+=hF),r.filter(a=>!ME(a)).reduce((a,i)=>a+(dF.test(i)?fF:i===""?pF:mF),n)}function xF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function yF(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=f1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:$s([i,f.pathname]),pathnameBase:TF($s([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=$s([i,f.pathnameBase]))}return s}function f1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function bF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function wF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const _F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SF=e=>_F.test(e);function EF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hl(e):e,i;if(r)if(SF(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),hv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=$E(r.substring(1),"/"):i=$E(r,t)}else i=t;return{pathname:i,search:AF(n),hash:OF(a)}}function $E(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function dx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function u_(e,t){let r=jF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function d_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=hl(e):(a=pf({},e),Rt(!a.pathname||!a.pathname.includes("?"),dx("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),dx("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),dx("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=EF(a,o),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),TF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q4=["post","put","patch","delete"];new Set(q4);const CF=["get",...q4];new Set(CF);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}const pv=A.createContext(null),V4=A.createContext(null),Ki=A.createContext(null),mv=A.createContext(null),Gi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),K4=A.createContext(null);function kF(e,t){let{relative:r}=t===void 0?{}:t;Tu()||Rt(!1);let{basename:n,navigator:a}=A.useContext(Ki),{hash:i,pathname:s,search:o}=vv(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:$s([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Tu(){return A.useContext(mv)!=null}function pl(){return Tu()||Rt(!1),A.useContext(mv).location}function G4(e){A.useContext(Ki).static||A.useLayoutEffect(e)}function f_(){let{isDataRoute:e}=A.useContext(Gi);return e?VF():PF()}function PF(){Tu()||Rt(!1);let e=A.useContext(pv),{basename:t,future:r,navigator:n}=A.useContext(Ki),{matches:a}=A.useContext(Gi),{pathname:i}=pl(),s=JSON.stringify(u_(a,r.v7_relativeSplatPath)),o=A.useRef(!1);return G4(()=>{o.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=d_(c,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$s([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const RF=A.createContext(null);function IF(e){let t=A.useContext(Gi).outlet;return t&&A.createElement(RF.Provider,{value:e},t)}function vv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Ki),{matches:a}=A.useContext(Gi),{pathname:i}=pl(),s=JSON.stringify(u_(a,n.v7_relativeSplatPath));return A.useMemo(()=>d_(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function DF(e,t){return MF(e,t)}function MF(e,t,r,n){Tu()||Rt(!1);let{navigator:a}=A.useContext(Ki),{matches:i}=A.useContext(Gi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=pl(),d;if(t){var f;let x=typeof t=="string"?hl(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Rt(!1),d=x}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=lF(e,{pathname:p}),v=UF(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:$s([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:$s([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&v?A.createElement(mv.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Es.Pop}},v):v}function $F(){let e=qF(),t=NF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const LF=A.createElement($F,null);class FF extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Gi.Provider,{value:this.props.routeContext},A.createElement(K4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BF(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(pv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Gi.Provider,{value:t},n)}function UF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Rt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,v=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||LF,l&&(c<0&&h===0?(KF("route-fallback"),g=!0,x=null):c===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),m=()=>{let y;return p?y=v:g?y=x:f.route.Component?y=A.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,A.createElement(BF,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(FF,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):m()},null)}var X4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X4||{}),Y4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y4||{});function zF(e){let t=A.useContext(pv);return t||Rt(!1),t}function WF(e){let t=A.useContext(V4);return t||Rt(!1),t}function HF(e){let t=A.useContext(Gi);return t||Rt(!1),t}function Q4(e){let t=HF(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function qF(){var e;let t=A.useContext(K4),r=WF(),n=Q4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function VF(){let{router:e}=zF(X4.UseNavigateStable),t=Q4(Y4.UseNavigateStable),r=A.useRef(!1);return G4(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mf({fromRouteId:t},i)))},[e,t])}const LE={};function KF(e,t,r){LE[e]||(LE[e]=!0)}function GF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function J4(e){let{to:t,replace:r,state:n,relative:a}=e;Tu()||Rt(!1);let{future:i,static:s}=A.useContext(Ki),{matches:o}=A.useContext(Gi),{pathname:l}=pl(),c=f_(),d=d_(t,u_(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function Z4(e){return IF(e.context)}function Dt(e){Rt(!1)}function XF(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Es.Pop,navigator:i,static:s=!1,future:o}=e;Tu()&&Rt(!1);let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:s,future:mf({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=hl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,v=A.useMemo(()=>{let x=zc(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[l,d,f,h,p,g,a]);return v==null?null:A.createElement(Ki.Provider,{value:c},A.createElement(mv.Provider,{children:r,value:v}))}function YF(e){let{children:t,location:r}=e;return DF(h1(t),r)}new Promise(()=>{});function h1(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,h1(n.props.children,i));return}n.type!==Dt&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=h1(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function eP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function QF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JF(e,t){return e.button===0&&(!t||t==="_self")&&!QF(e)}const ZF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],t7="6";try{window.__reactRouterVersion=t7}catch{}const r7=A.createContext({isTransitioning:!1}),n7="startTransition",FE=I8[n7];function a7(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=iF({window:a,v5Compat:!0}));let s=i.current,[o,l]=A.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},d=A.useCallback(f=>{c&&FE?FE(()=>l(f)):l(f)},[l,c]);return A.useLayoutEffect(()=>s.listen(d),[s,d]),A.useEffect(()=>GF(n),[n]),A.createElement(XF,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const i7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o7=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=eP(t,ZF),{basename:p}=A.useContext(Ki),g,v=!1;if(typeof c=="string"&&s7.test(c)&&(g=c,i7))try{let y=new URL(window.location.href),_=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=zc(_.pathname,p);_.origin===y.origin&&w!=null?c=w+_.search+_.hash:v=!0}catch{}let x=kF(c,{relative:a}),b=u7(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||b(y)}return A.createElement("a",Ep({},h,{href:g||x,onClick:v||i?n:m,ref:r,target:l}))}),l7=A.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:d}=t,f=eP(t,e7),h=vv(l,{relative:f.relative}),p=pl(),g=A.useContext(V4),{navigator:v,basename:x}=A.useContext(Ki),b=g!=null&&d7(h)&&c===!0,m=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,y=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(y=y.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&x&&(_=zc(_,x)||_);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!s&&y.startsWith(m)&&y.charAt(w)==="/",E=_!=null&&(_===m||!s&&_.startsWith(m)&&_.charAt(m.length)==="/"),j={isActive:S,isPending:E,isTransitioning:b},T=S?n:void 0,C;typeof i=="function"?C=i(j):C=[i,S?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(j):o;return A.createElement(o7,Ep({},f,{"aria-current":T,className:C,ref:r,style:N,to:l,viewTransition:c}),typeof d=="function"?d(j):d)});var p1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p1||(p1={}));var BE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(BE||(BE={}));function c7(e){let t=A.useContext(pv);return t||Rt(!1),t}function u7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=f_(),c=pl(),d=vv(e,{relative:s});return A.useCallback(f=>{if(JF(f,r)){f.preventDefault();let h=n!==void 0?n:Sp(c)===Sp(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,a,r,e,i,s,o])}function d7(e,t){t===void 0&&(t={});let r=A.useContext(r7);r==null&&Rt(!1);let{basename:n}=c7(p1.useViewTransitionState),a=vv(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=zc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=zc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return f1(a.pathname,s)!=null||f1(a.pathname,i)!=null}let n0=null;const f7=(e,t)=>({supervisorName:e,terminalCode:t,startedAt:new Date().toISOString()}),jp={startSession:async(e,t)=>(n0=f7(e,t),n0),getSession:async()=>n0,logout:async()=>{n0=null}},zn=fv(e=>({session:null,setSession:t=>e({session:t}),clearSession:()=>e({session:null}),hydrateSession:async()=>{const t=await jp.getSession();e({session:t})}})),Wc={EL_ROBLE:"El Roble",LA_REINA:"La Reina",EL_SALTO:"El Salto",LO_ECHEVERS:"Lo Echevers",COLO_COLO:"Colo Colo"},h_=[{code:"ROBLE_Y_REINA",name:"El Roble + La Reina",members:["EL_ROBLE","LA_REINA"]}],Ma=Object.entries(Wc).map(([e,t])=>({value:e,label:t})),h7=h_.map(e=>({value:e.code,label:e.name})),tP={mode:"ALL"},Xi=e=>{if(e.mode==="ALL"||!e.value)return Object.keys(Wc);if(e.mode==="TERMINAL")return[e.value];const t=h_.find(r=>r.code===e.value);return t?t.members:Object.keys(Wc)},p7=(e,t)=>{const r=Xi(t);return e.filter(n=>r.includes(n.terminal))},Ge=e=>{if(Wc[e])return Wc[e];const t=h_.find(r=>r.code===e);return(t==null?void 0:t.name)??String(e)},qe=fv(e=>({context:tP,setContext:t=>e({context:t})})),m7=()=>{const e=f_(),t=zn(f=>f.setSession),r=zn(f=>f.session),n=qe(f=>f.setContext),[a,i]=A.useState(""),[s,o]=A.useState("EL_ROBLE"),[l,c]=A.useState(!1);A.useEffect(()=>{r&&e("/personal")},[r,e]);const d=async f=>{f.preventDefault(),c(!0);const h=await jp.startSession(a,s);t(h),n({mode:"TERMINAL",value:s}),e("/personal")};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-brand-900",children:[u.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/30 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-brand-600/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),u.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),u.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 animate-slide-up",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand-lg",children:u.jsx("span",{className:"text-3xl font-bold text-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-2xl font-bold text-white",children:"Asiss"}),u.jsx("span",{className:"text-sm text-slate-400",children:"Dashboard de Logstica"})]})]})}),u.jsxs("div",{className:"card-glass p-8 md:p-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Bienvenido"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Ingresa tus datos para acceder al panel de control"})]}),u.jsxs("form",{onSubmit:d,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre del Supervisor"}),u.jsxs("div",{className:"relative",children:[u.jsx(de,{name:"users",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),u.jsx("input",{type:"text",className:"input pl-10",value:a,onChange:f=>i(f.target.value),placeholder:"Ej: Ana Prez",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsxs("div",{className:"relative",children:[u.jsx(de,{name:"building",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),u.jsx("select",{className:"input pl-10 appearance-none cursor-pointer",value:s,onChange:f=>o(f.target.value),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px",paddingRight:"40px"},children:Ma.map(f=>u.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),u.jsx("button",{type:"submit",disabled:l||!a,className:"btn btn-primary w-full py-3.5 text-base",children:l?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Entrar al Dashboard",u.jsx(de,{name:"chevron-right",size:18})]})})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-500",children:[u.jsx(de,{name:"check-circle",size:14,className:"text-success-500"}),u.jsx("span",{children:"Conexin segura  Datos protegidos"})]})})]}),u.jsx("p",{className:"mt-6 text-center text-xs text-slate-500",children:"Versin 2.0   2024 Asiss"})]})]})},UE=[{label:"Operacin",icon:"building",items:[{label:"Personal",to:"/personal",icon:"users"},{label:"Reuniones",to:"/reuniones",icon:"calendar"},{label:"Tareas",to:"/tareas",icon:"clipboard"},{label:"Informativos",to:"/informativos",icon:"megaphone"},{label:"Asistencia",to:"/asistencia",icon:"clock"},{label:"Credenciales",to:"/credenciales",icon:"key"},{label:"Solicitudes",to:"/solicitudes",icon:"inbox"}]},{label:"Aseo",icon:"sparkles",items:[{label:"Interior",to:"/aseo/interior",icon:"droplet"},{label:"Exterior",to:"/aseo/exterior",icon:"spray"},{label:"Rodillo",to:"/aseo/rodillo",icon:"brush"}]},{label:"Insumos",icon:"package",items:[{label:"Solicitudes",to:"/insumos",icon:"file-text"}]},{label:"MiniCheck",icon:"check-circle",items:[{label:"Extintor",to:"/minicheck/extintor",icon:"check-circle"},{label:"Tag",to:"/minicheck/tag",icon:"tag"},{label:"Mobileye",to:"/minicheck/mobileye",icon:"eye"},{label:"Odmetro",to:"/minicheck/odometro",icon:"gauge"},{label:"Publicidad",to:"/minicheck/publicidad",icon:"image"}]},{label:"Flota",icon:"truck",items:[{label:"Estado de Flota",to:"/estado-flota",icon:"truck"}]}],v7=({isOpen:e,onClose:t})=>{const r=pl(),[n,a]=A.useState(()=>{const o=UE.find(l=>l.items.some(c=>r.pathname.startsWith(c.to)));return o?[o.label]:["Operacin"]}),i=o=>{a(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},s=o=>o.items.some(l=>r.pathname.startsWith(l.to));return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${e?"fixed":"hidden"} inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden`,onClick:t}),u.jsx("aside",{className:`${e?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-72 transform transition-transform duration-300 ease-out md:translate-x-0`,children:u.jsxs("div",{className:"flex h-full flex-col bg-gradient-to-b from-dark-800 to-dark-900",children:[u.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-white/10",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand",children:u.jsx("span",{className:"text-lg font-bold text-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:"Asiss"}),u.jsx("span",{className:"text-xs text-slate-400",children:"Dashboard Logstica"})]}),u.jsx("button",{onClick:t,className:"ml-auto rounded-lg p-1.5 text-slate-400 hover:bg-white/10 hover:text-white md:hidden",children:u.jsx(de,{name:"x",size:20})})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-4 space-y-1",children:UE.map(o=>{const l=n.includes(o.label),c=s(o);return u.jsxs("div",{className:"mb-1",children:[u.jsxs("button",{onClick:()=>i(o.label),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${c?"bg-white/10 text-white":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[u.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg transition-all duration-200 ${c?"bg-gradient-to-br from-brand-500 to-brand-600 text-white shadow-brand":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-slate-200"}`,children:u.jsx(de,{name:o.icon,size:18})}),u.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:o.label}),u.jsx(de,{name:"chevron-down",size:16,className:`transition-transform duration-200 ${l?"rotate-0":"-rotate-90"}`})]}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${l?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"mt-1 ml-4 pl-4 border-l border-white/10 space-y-0.5",children:o.items.map(d=>u.jsxs(l7,{to:d.to,onClick:t,className:({isActive:f})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${f?"bg-brand-500/20 text-brand-300 font-medium":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[u.jsx(de,{name:d.icon,size:16}),u.jsx("span",{children:d.label})]},d.to))})})]},o.label)})}),u.jsx("div",{className:"border-t border-white/10 px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-3 px-2",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white text-sm font-bold",children:"S"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Supervisor"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Terminal Activo"})]})]})})]})})]})},fx=new Set;let a0=[];const g7=()=>crypto.randomUUID(),zE={subscribeNotifications:e=>(fx.add(e),()=>fx.delete(e)),publishNotification:e=>{const t={id:e.id??g7(),createdAt:e.createdAt??new Date().toISOString(),...e};return a0=[t,...a0].slice(0,50),fx.forEach(r=>r(t)),t},getNotifications:()=>a0,clear:()=>{a0=[]}},x7=fv(e=>({items:[],last:void 0,addNotification:t=>e(r=>({items:[t,...r.items],last:t})),setAll:t=>e({items:t}),clear:()=>e({items:[],last:void 0})})),Ut=e=>(typeof e=="string"?new Date(e):e).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric"}),y7=()=>{const{items:e,addNotification:t,setAll:r,last:n}=x7(),[a,i]=A.useState(!1),[s,o]=A.useState(!1);return A.useEffect(()=>{r(zE.getNotifications());const l=zE.subscribeNotifications(c=>{t(c),o(!0),setTimeout(()=>o(!1),3500)});return()=>l()},[t,r]),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{type:"button",className:"btn btn-secondary h-10",onClick:()=>i(l=>!l),children:[u.jsxs("span",{className:"relative inline-flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-slate-600",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 17h5l-1.405-1.405A2.032 2.032 0 0117 14.158V11a5.002 5.002 0 00-3-4.584V6a2 2 0 10-4 0v.416A5.002 5.002 0 007 11v3.159c0 .538-.214 1.055-.595 1.436L5 17h5m4 0v1a3 3 0 11-6 0v-1m6 0H8"})}),e.length>0&&u.jsx("span",{className:"absolute -right-2 -top-2 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-brand-500 px-1 text-xs font-bold text-white",children:e.length})]}),u.jsx("span",{className:"hidden text-sm font-semibold text-slate-700 sm:inline",children:"Alertas"})]}),a&&u.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-80 rounded-lg border border-slate-200 bg-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Notificaciones"}),u.jsx("button",{className:"text-xs text-brand-600 hover:underline",onClick:()=>i(!1),children:"Cerrar"})]}),u.jsxs("div",{className:"max-h-80 space-y-2 overflow-y-auto px-4 pb-4",children:[e.length===0&&u.jsx("p",{className:"text-sm text-slate-500",children:"Sin notificaciones por ahora."}),e.map(l=>u.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{className:"font-semibold capitalize",children:l.level}),u.jsx("span",{children:Ut(l.createdAt)})]}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:l.title}),u.jsx("p",{className:"text-sm text-slate-600",children:l.message})]},l.id))]})]}),s&&n&&u.jsxs("div",{className:"fixed bottom-4 right-4 z-40 max-w-sm rounded-md border border-slate-200 bg-white px-4 py-3 shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase text-brand-700",children:n.level}),u.jsx("button",{onClick:()=>o(!1),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cerrar"})]}),u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.title}),u.jsx("p",{className:"text-sm text-slate-700",children:n.message})]})]})},b7=({onMenuToggle:e})=>{var i;const t=qe(s=>s.context),r=zn(s=>s.session),n=zn(s=>s.clearSession),a=()=>t.mode==="ALL"?"Todos los terminales":t.mode==="TERMINAL"&&t.value?Ge(t.value):"Terminal";return u.jsx("header",{className:"header px-4 md:px-6",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e,className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-slate-200 md:hidden","aria-label":"Abrir men",children:u.jsx(de,{name:"menu",size:20})}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-xs text-slate-500",children:a()})]})]}),u.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(de,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"search",placeholder:"Buscar en el dashboard...",className:"w-full rounded-xl border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-4 text-sm transition-all placeholder:text-slate-400 focus:border-brand-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-brand-500/20"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"md:hidden",children:u.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-brand-50 px-3 py-1.5",children:[u.jsx(de,{name:"building",size:14,className:"text-brand-600"}),u.jsx("span",{className:"text-xs font-semibold text-brand-700",children:t.mode==="ALL"?"Todos":(i=t.value)==null?void 0:i.split("_").pop()})]})}),u.jsx(y7,{}),r&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-500 to-brand-600 text-white text-sm font-bold",children:r.supervisorName.charAt(0).toUpperCase()}),u.jsxs("div",{className:"hidden md:flex flex-col leading-tight",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.supervisorName}),u.jsx("span",{className:"text-xs text-slate-500",children:Ge(r.terminalCode)})]}),u.jsx("button",{onClick:()=>{n(),jp.logout()},className:"ml-1 rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-100 hover:text-danger-600",title:"Cerrar sesin",children:u.jsx(de,{name:"logout",size:18})})]}),u.jsx("button",{onClick:()=>{n(),jp.logout()},className:"sm:hidden flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-danger-100 hover:text-danger-600",title:"Cerrar sesin",children:u.jsx(de,{name:"logout",size:20})})]})]})]})})},w7=()=>{const[e,t]=A.useState(!1);return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50",children:u.jsxs("div",{className:"flex",children:[u.jsx(v7,{isOpen:e,onClose:()=>t(!1)}),u.jsxs("div",{className:"flex min-h-screen flex-1 flex-col md:ml-72",children:[u.jsx(b7,{onMenuToggle:()=>t(r=>!r)}),u.jsx("main",{className:"flex-1 px-4 pb-8 pt-6 md:px-8",children:u.jsx("div",{className:"animate-fade-in",children:u.jsx(Z4,{})})}),u.jsx("footer",{className:"border-t border-slate-200 bg-white/50 px-4 py-4 md:px-8",children:u.jsxs("div",{className:"flex flex-col items-center justify-between gap-2 text-xs text-slate-500 sm:flex-row",children:[u.jsx("p",{children:" 2024 Asiss  Dashboard de Operaciones y Logstica"}),u.jsxs("p",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success-500 animate-pulse"}),"Sistema operativo"]})]})})]})]})})},xr=({label:e="Cargando..."})=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"h-12 w-12 rounded-full border-[3px] border-slate-200"}),u.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full border-[3px] border-transparent border-t-brand-500 animate-spin"})]}),u.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:e})]}),Pr=({title:e,description:t,actions:r})=>u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 md:text-3xl",children:e}),t&&u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:t})]}),r&&u.jsx("div",{className:"flex flex-wrap items-center gap-3",children:r})]}),_7=({value:e,onChange:t,label:r="Terminal actual"})=>{const n=e.mode==="ALL"?"ALL":e.mode==="GROUP"?`GROUP:${e.value}`:`TERMINAL:${e.value}`,a=i=>{const s=i.target.value;if(s==="ALL"){t(tP);return}if(s.startsWith("GROUP:")){const l=s.replace("GROUP:","");t({mode:"GROUP",value:l});return}const o=s.replace("TERMINAL:","");t({mode:"TERMINAL",value:o})};return u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-600",children:[u.jsx("span",{className:"mb-1",children:r}),u.jsxs("select",{value:n,onChange:a,className:"input min-w-[200px]","aria-label":"Selector de terminal",children:[u.jsx("option",{value:"ALL",children:"Todos"}),u.jsx("optgroup",{label:"Terminales",children:Ma.map(i=>u.jsx("option",{value:`TERMINAL:${i.value}`,children:i.label},i.value))}),u.jsx("optgroup",{label:"Grupos",children:h7.map(i=>u.jsx("option",{value:`GROUP:${i.value}`,children:i.label},i.value))})]})]})},ua=({terminalContext:e,onTerminalChange:t,children:r})=>u.jsx("div",{className:"card p-4 mb-6",children:u.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(_7,{value:e,onChange:t})}),r&&u.jsx("div",{className:"flex flex-wrap items-end gap-3 border-t border-slate-100 pt-4 lg:border-0 lg:pt-0",children:r})]})}),Rr=({message:e="Ha ocurrido un error",onRetry:t})=>u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-danger-200 bg-danger-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-danger-100 mb-4",children:u.jsx("svg",{className:"h-7 w-7 text-danger-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),u.jsx("p",{className:"text-sm font-semibold text-danger-700",children:e}),u.jsx("p",{className:"mt-1 text-xs text-danger-600 max-w-xs",children:"Por favor intenta de nuevo o contacta soporte si el problema persiste."}),t&&u.jsxs("button",{onClick:t,className:"mt-4 btn btn-secondary text-danger-700 border-danger-300 hover:bg-danger-100",children:[u.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]}),qr=({onExportView:e,onExportAll:t})=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:e,className:"btn btn-secondary text-sm",children:[u.jsx(de,{name:"clipboard",size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Exportar Vista"}),u.jsx("span",{className:"sm:hidden",children:"Vista"})]}),u.jsxs("button",{onClick:t,className:"btn btn-primary text-sm",children:[u.jsx(de,{name:"layers",size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Exportar Todo"}),u.jsx("span",{className:"sm:hidden",children:"Todo"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Tp={};Tp.version="0.18.5";var rP=1252,S7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nP=function(e){S7.indexOf(e)!=-1&&(rP=e)};function E7(){nP(1252)}var vf=function(e){nP(e)};function j7(){vf(1200),E7()}var i0=function(t){return String.fromCharCode(t)},WE=function(t){return String.fromCharCode(t)},Ap,js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gf(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=js.charAt(i)+js.charAt(s)+js.charAt(o)+js.charAt(l);return t}function $i(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=js.indexOf(e.charAt(c++)),s=js.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=js.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=js.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Yi=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function el(e){return Qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function HE(e){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Oa=function(t){return Qe?Yi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function gv(e){if(typeof ArrayBuffer>"u")return Oa(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function xh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function T7(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Tr=Qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Yi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function A7(e){for(var t=[],r=0,n=e.length+250,a=el(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=el(65535),n=65530)}return t.push(a.slice(0,r)),Tr(t)}var $d=/\u0000/g,s0=/[\u0001-\u0006]/g;function uc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ca(e,t){var r=""+e;return r.length>=t?r:Lt("0",t-r.length)+r}function p_(e,t){var r=""+e;return r.length>=t?r:Lt(" ",t-r.length)+r}function Op(e,t){var r=""+e;return r.length>=t?r:r+Lt(" ",t-r.length)}function O7(e,t){var r=""+Math.round(e);return r.length>=t?r:Lt("0",t-r.length)+r}function N7(e,t){var r=""+e;return r.length>=t?r:Lt("0",t-r.length)+r}var qE=Math.pow(2,32);function Al(e,t){if(e>qE||e<-qE)return O7(e,t);var r=Math.round(e);return N7(r,t)}function Np(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var VE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],hx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function C7(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},k7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,d=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,d=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=i):(d=c,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function o0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=L7(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var aP=new Date(1899,11,31,0,0,0),P7=aP.getTime(),R7=new Date(1900,2,1,0,0,0);function iP(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=R7&&(r+=24*60*60*1e3),(r-(P7+(e.getTimezoneOffset()-aP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function m_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function I7(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function D7(e){var t=e<0?12:11,r=m_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function M7(e){var t=m_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function $7(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=D7(e):t===10?r=e.toFixed(10).substr(0,12):r=M7(e),m_(I7(r.toUpperCase()))}function m1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):$7(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zs(14,iP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function L7(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function F7(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return hx[r.m-1][1];case 5:return hx[r.m-1][0];default:return hx[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return VE[r.q][0];default:return VE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ca(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Ca(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var d=c>0?Ca(l,c):"";return d}function Ts(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var sP=/%/g;function B7(e,t,r){var n=t.replace(sP,""),a=t.length-n.length;return ji(e,n,r*Math.pow(10,2*a))+Lt("%",a)}function U7(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ji(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var lP=/# (\?+)( ?)\/( ?)(\d+)/;function z7(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Lt(" ",e[1].length+1+e[4].length):p_(s,e[1].length)+e[2]+"/"+e[3]+Ca(o,e[4].length))}function W7(e,t,r){return r+(t===0?"":""+t)+Lt(" ",e[1].length+2+e[4].length)}var cP=/^#*0*\.([0#]+)/,uP=/\).*[0#]/,dP=/\(###\) ###\\?-####/;function Jr(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function GE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function XE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function H7(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function q7(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Yn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(uP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yn("n",n,r):"("+Yn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return U7(e,t,r);if(t.indexOf("%")!==-1)return B7(e,t,r);if(t.indexOf("E")!==-1)return oP(t,r);if(t.charCodeAt(0)===36)return"$"+Yn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Al(l,t.length);if(t.match(/^[#?]+$/))return a=Al(r,0),a==="0"&&(a=""),a.length>t.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(lP))return z7(i,l,c);if(t.match(/^#+0+$/))return c+Al(l,t.length-t.indexOf("0"));if(i=t.match(cP))return a=GE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Jr(i[1])).replace(/\.$/,"."+Jr(i[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+Lt("0",Jr(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+GE(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ts(Al(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yn(e,t,-r):Ts(""+(Math.floor(r)+H7(r,i[1].length)))+"."+Ca(XE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Yn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=uc(Yn(e,t.replace(/[\\-]/g,""),r)),s=0,uc(uc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(dP))return a=Yn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Cp(l,Math.pow(10,s)-1,!1),a=""+c,d=ji("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Op(o[2],s),d.length<i[4].length&&(d=Jr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Cp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p_(o[1],s)+i[2]+"/"+i[3]+Op(o[2],s):Lt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Al(r,0),t.length<=a.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Jr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=XE(r,i[1].length),r<0?"-"+Yn(e,t,-r):Ts(q7(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ca(0,3-g.length):"")+g})+"."+Ca(s,i[1].length);switch(t){case"###,##0.00":return Yn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Ts(Al(l,0));return p!=="0"?c+p:"";case"###,###.00":return Yn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function V7(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ji(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function K7(e,t,r){var n=t.replace(sP,""),a=t.length-n.length;return ji(e,n,r*Math.pow(10,2*a))+Lt("%",a)}function fP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(uP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wa("n",n,r):"("+Wa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return V7(e,t,r);if(t.indexOf("%")!==-1)return K7(e,t,r);if(t.indexOf("E")!==-1)return fP(t,r);if(t.charCodeAt(0)===36)return"$"+Wa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ca(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(lP))return W7(i,l,c);if(t.match(/^#+0+$/))return c+Ca(l,t.length-t.indexOf("0"));if(i=t.match(cP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Jr(i[1])).replace(/\.$/,"."+Jr(i[1])),a=a.replace(/\.(\d*)$/,function(g,v){return"."+v+Lt("0",Jr(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ts(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wa(e,t,-r):Ts(""+r)+"."+Lt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Wa(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=uc(Wa(e,t.replace(/[\\-]/g,""),r)),s=0,uc(uc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(dP))return a=Wa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Cp(l,Math.pow(10,s)-1,!1),a=""+c,d=ji("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Op(o[2],s),d.length<i[4].length&&(d=Jr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Cp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p_(o[1],s)+i[2]+"/"+i[3]+Op(o[2],s):Lt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Jr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wa(e,t,-r):Ts(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ca(0,3-g.length):"")+g})+"."+Ca(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ts(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Wa(e,t.slice(0,t.lastIndexOf(".")),r)+Jr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ji(e,t,r){return(r|0)===r?Wa(e,t,r):Yn(e,t,r)}function G7(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var hP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pP(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Np(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(hP))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function X7(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Np(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=o0(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=o0(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=o0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",s+=5,h="h"):(v.t="t",++s),c==null&&v.t==="T")return"";a[a.length]=v,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(hP)){if(c==null&&(c=o0(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",pP(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,b=0,m;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",x<1&&(x=1);break;case"s":(m=a[s].v.match(/\.0+$/))&&(b=Math.max(b,m[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=F7(a[s].t.charCodeAt(0),a[s].v,c,b),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=m1(t,r);break}var w="",S,E;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,E=ji("n",y,S)):(S=t<0&&n>1?-t:t,E=ji("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var j=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){j=s;break}var T=a.length;if(j===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=E.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=E.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v)}else if(j!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,s=j;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")-1:a[s].v.length-1,w=a[s].v.substr(d+1);d>=0;--d)_>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(w=E.charAt(_--)+w);a[s].v=w,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v),_=E.indexOf(".")+1,s=j;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==j)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")+1:0,w=a[s].v.substr(0,d);d<a[s].v.length;++d)_<E.length&&(w+=E.charAt(_++));a[s].v=w,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=ji(a[s].t,a[s].v,S),a[s].t="t");var C="";for(s=0;s!==a.length;++s)a[s]!=null&&(C+=a[s].v);return C}var YE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Y7(e,t){var r=G7(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(YE),o=r[1].match(YE);return QE(t,s)?[n,r[0]]:QE(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function zs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:zt)[e],n==null&&(n=r.table&&r.table[KE[e]]||zt[KE[e]]),n==null&&(n=k7[e]||"General");break}if(Np(n,0))return m1(t,r);t instanceof Date&&(t=iP(t,r.date1904));var a=Y7(n,t);if(Np(a[1]))return m1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return X7(a[1],t,r,a[0])}function mP(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(zt[r]==null){t<0&&(t=r);continue}if(zt[r]==e){t=r;break}}t<0&&(t=391)}return zt[t]=e,t}function xv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&mP(e[t],t)}function yv(){zt=C7()}var vP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Q7(e){var t=typeof e=="number"?zt[e]:e;return t=t.replace(vP,"(\\d+)"),new RegExp("^"+t+"$")}function J7(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(vP)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?d:c+"T"+d}var Z7=function(){var e={};e.version="1.2.0";function t(){for(var E=0,j=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,j[T]=E;return typeof Int32Array<"u"?new Int32Array(j):j}var r=t();function n(E){var j=0,T=0,C=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)N[C]=E[C];for(C=0;C!=256;++C)for(T=E[C],j=256+C;j<4096;j+=256)T=N[j]=T>>>8^E[T&255];var L=[];for(C=1;C!=16;++C)L[C-1]=typeof Int32Array<"u"?N.subarray(C*256,C*256+256):N.slice(C*256,C*256+256);return L}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],v=a[10],x=a[11],b=a[12],m=a[13],y=a[14];function _(E,j){for(var T=j^-1,C=0,N=E.length;C<N;)T=T>>>8^r[(T^E.charCodeAt(C++))&255];return~T}function w(E,j){for(var T=j^-1,C=E.length-15,N=0;N<C;)T=y[E[N++]^T&255]^m[E[N++]^T>>8&255]^b[E[N++]^T>>16&255]^x[E[N++]^T>>>24]^v[E[N++]]^g[E[N++]]^p[E[N++]]^h[E[N++]]^f[E[N++]]^d[E[N++]]^c[E[N++]]^l[E[N++]]^o[E[N++]]^s[E[N++]]^i[E[N++]]^r[E[N++]];for(C+=15;N<C;)T=T>>>8^r[(T^E[N++])&255];return~T}function S(E,j){for(var T=j^-1,C=0,N=E.length,L=0,W=0;C<N;)L=E.charCodeAt(C++),L<128?T=T>>>8^r[(T^L)&255]:L<2048?(T=T>>>8^r[(T^(192|L>>6&31))&255],T=T>>>8^r[(T^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,W=E.charCodeAt(C++)&1023,T=T>>>8^r[(T^(240|L>>8&7))&255],T=T>>>8^r[(T^(128|L>>2&63))&255],T=T>>>8^r[(T^(128|W>>6&15|(L&3)<<4))&255],T=T>>>8^r[(T^(128|W&63))&255]):(T=T>>>8^r[(T^(224|L>>12&15))&255],T=T>>>8^r[(T^(128|L>>6&63))&255],T=T>>>8^r[(T^(128|L&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=w,e.str=S,e}(),ct=function(){var t={};t.version="1.2.1";function r(O,I){for(var k=O.split("/"),R=I.split("/"),D=0,M=0,X=Math.min(k.length,R.length);D<X;++D){if(M=k[D].length-R[D].length)return M;if(k[D]!=R[D])return k[D]<R[D]?-1:1}return k.length-R.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var I=O.lastIndexOf("/");return I===-1?O:O.slice(0,I+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var I=O.lastIndexOf("/");return I===-1?O:O.slice(I+1)}function i(O,I){typeof I=="string"&&(I=new Date(I));var k=I.getHours();k=k<<6|I.getMinutes(),k=k<<5|I.getSeconds()>>>1,O.write_shift(2,k);var R=I.getFullYear()-1980;R=R<<4|I.getMonth()+1,R=R<<5|I.getDate(),O.write_shift(2,R)}function s(O){var I=O.read_shift(2)&65535,k=O.read_shift(2)&65535,R=new Date,D=k&31;k>>>=5;var M=k&15;k>>>=4,R.setMilliseconds(0),R.setFullYear(k+1980),R.setMonth(M-1),R.setDate(D);var X=I&31;I>>>=5;var le=I&63;return I>>>=6,R.setHours(I),R.setMinutes(le),R.setSeconds(X<<1),R}function o(O){Pn(O,0);for(var I={},k=0;O.l<=O.length-4;){var R=O.read_shift(2),D=O.read_shift(2),M=O.l+D,X={};switch(R){case 21589:k=O.read_shift(1),k&1&&(X.mtime=O.read_shift(4)),D>5&&(k&2&&(X.atime=O.read_shift(4)),k&4&&(X.ctime=O.read_shift(4))),X.mtime&&(X.mt=new Date(X.mtime*1e3));break}O.l=M,I[R]=X}return I}var l;function c(){return l||(l={})}function d(O,I){if(O[0]==80&&O[1]==75)return lS(O,I);if((O[0]|32)==109&&(O[1]|32)==105)return f8(O,I);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var k=3,R=512,D=0,M=0,X=0,le=0,G=0,Y=[],J=O.slice(0,512);Pn(J,0);var fe=f(J);switch(k=fe[0],k){case 3:R=512;break;case 4:R=4096;break;case 0:if(fe[1]==0)return lS(O,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}R!==512&&(J=O.slice(0,R),Pn(J,28));var we=O.slice(0,R);h(J,k);var Te=J.read_shift(4,"i");if(k===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);J.l+=4,X=J.read_shift(4,"i"),J.l+=4,J.chk("00100000","Mini Stream Cutoff Size: "),le=J.read_shift(4,"i"),D=J.read_shift(4,"i"),G=J.read_shift(4,"i"),M=J.read_shift(4,"i");for(var me=-1,je=0;je<109&&(me=J.read_shift(4,"i"),!(me<0));++je)Y[je]=me;var $e=p(O,R);x(G,M,$e,R,Y);var Ot=m($e,X,Y,R);Ot[X].name="!Directory",D>0&&le!==W&&(Ot[le].name="!MiniFAT"),Ot[Y[0]].name="!FAT",Ot.fat_addrs=Y,Ot.ssz=R;var Nt={},Dr=[],Gu=[],Xu=[];y(X,Ot,$e,Dr,D,Nt,Gu,le),g(Gu,Xu,Dr),Dr.shift();var Yu={FileIndex:Gu,FullPaths:Xu};return I&&I.raw&&(Yu.raw={header:we,sectors:$e}),Yu}function f(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(Z,"Header Signature: "),O.l+=16;var I=O.read_shift(2,"u");return[O.read_shift(2,"u"),I]}function h(O,I){var k=9;switch(O.l+=2,k=O.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,I){for(var k=Math.ceil(O.length/I)-1,R=[],D=1;D<k;++D)R[D-1]=O.slice(D*I,(D+1)*I);return R[k-1]=O.slice(k*I),R}function g(O,I,k){for(var R=0,D=0,M=0,X=0,le=0,G=k.length,Y=[],J=[];R<G;++R)Y[R]=J[R]=R,I[R]=k[R];for(;le<J.length;++le)R=J[le],D=O[R].L,M=O[R].R,X=O[R].C,Y[R]===R&&(D!==-1&&Y[D]!==D&&(Y[R]=Y[D]),M!==-1&&Y[M]!==M&&(Y[R]=Y[M])),X!==-1&&(Y[X]=R),D!==-1&&R!=Y[R]&&(Y[D]=Y[R],J.lastIndexOf(D)<le&&J.push(D)),M!==-1&&R!=Y[R]&&(Y[M]=Y[R],J.lastIndexOf(M)<le&&J.push(M));for(R=1;R<G;++R)Y[R]===R&&(M!==-1&&Y[M]!==M?Y[R]=Y[M]:D!==-1&&Y[D]!==D&&(Y[R]=Y[D]));for(R=1;R<G;++R)if(O[R].type!==0){if(le=R,le!=Y[le])do le=Y[le],I[R]=I[le]+"/"+I[R];while(le!==0&&Y[le]!==-1&&le!=Y[le]);Y[R]=-1}for(I[0]+="/",R=1;R<G;++R)O[R].type!==2&&(I[R]+="/")}function v(O,I,k){for(var R=O.start,D=O.size,M=[],X=R;k&&D>0&&X>=0;)M.push(I.slice(X*L,X*L+L)),D-=L,X=yo(k,X*4);return M.length===0?ie(0):Tr(M).slice(0,O.size)}function x(O,I,k,R,D){var M=W;if(O===W){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var X=k[O],le=(R>>>2)-1;if(!X)return;for(var G=0;G<le&&(M=yo(X,G*4))!==W;++G)D.push(M);x(yo(X,R-4),I-1,k,R,D)}}function b(O,I,k,R,D){var M=[],X=[];D||(D=[]);var le=R-1,G=0,Y=0;for(G=I;G>=0;){D[G]=!0,M[M.length]=G,X.push(O[G]);var J=k[Math.floor(G*4/R)];if(Y=G*4&le,R<4+Y)throw new Error("FAT boundary crossed: "+G+" 4 "+R);if(!O[J])break;G=yo(O[J],Y)}return{nodes:M,data:ij([X])}}function m(O,I,k,R){var D=O.length,M=[],X=[],le=[],G=[],Y=R-1,J=0,fe=0,we=0,Te=0;for(J=0;J<D;++J)if(le=[],we=J+I,we>=D&&(we-=D),!X[we]){G=[];var me=[];for(fe=we;fe>=0;){me[fe]=!0,X[fe]=!0,le[le.length]=fe,G.push(O[fe]);var je=k[Math.floor(fe*4/R)];if(Te=fe*4&Y,R<4+Te)throw new Error("FAT boundary crossed: "+fe+" 4 "+R);if(!O[je]||(fe=yo(O[je],Te),me[fe]))break}M[we]={nodes:le,data:ij([G])}}return M}function y(O,I,k,R,D,M,X,le){for(var G=0,Y=R.length?2:0,J=I[O].data,fe=0,we=0,Te;fe<J.length;fe+=128){var me=J.slice(fe,fe+128);Pn(me,64),we=me.read_shift(2),Te=b_(me,0,we-Y),R.push(Te);var je={name:Te,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},$e=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);$e!==0&&(je.ct=_(me,me.l-8));var Ot=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ot!==0&&(je.mt=_(me,me.l-8)),je.start=me.read_shift(4,"i"),je.size=me.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=W,je.name=""),je.type===5?(G=je.start,D>0&&G!==W&&(I[G].name="!StreamData")):je.size>=4096?(je.storage="fat",I[je.start]===void 0&&(I[je.start]=b(k,je.start,I.fat_addrs,I.ssz)),I[je.start].name=je.name,je.content=I[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:G!==W&&je.start!==W&&I[G]&&(je.content=v(je,I[G].data,(I[le]||{}).data))),je.content&&Pn(je.content,0),M[Te]=je,X.push(je)}}function _(O,I){return new Date((In(O,I+4)/1e7*Math.pow(2,32)+In(O,I)/1e7-11644473600)*1e3)}function w(O,I){return c(),d(l.readFileSync(O),I)}function S(O,I){var k=I&&I.type;switch(k||Qe&&Buffer.isBuffer(O)&&(k="buffer"),k||"base64"){case"file":return w(O,I);case"base64":return d(Oa($i(O)),I);case"binary":return d(Oa(O),I)}return d(O,I)}function E(O,I){var k=I||{},R=k.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=R+"/",O.FileIndex[0]={name:R,type:5}),k.CLSID&&(O.FileIndex[0].clsid=k.CLSID),j(O)}function j(O){var I="Sh33tJ5";if(!ct.find(O,"/"+I)){var k=ie(4);k[0]=55,k[1]=k[3]=50,k[2]=54,O.FileIndex.push({name:I,type:2,content:k,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+I),T(O)}}function T(O,I){E(O);for(var k=!1,R=!1,D=O.FullPaths.length-1;D>=0;--D){var M=O.FileIndex[D];switch(M.type){case 0:R?k=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:R=!0,isNaN(M.R*M.L*M.C)&&(k=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!I)){var X=new Date(1987,1,19),le=0,G=Object.create?Object.create(null):{},Y=[];for(D=0;D<O.FullPaths.length;++D)G[O.FullPaths[D]]=!0,O.FileIndex[D].type!==0&&Y.push([O.FullPaths[D],O.FileIndex[D]]);for(D=0;D<Y.length;++D){var J=n(Y[D][0]);R=G[J],R||(Y.push([J,{name:a(J).replace("/",""),type:1,clsid:ne,ct:X,mt:X,content:null}]),G[J]=!0)}for(Y.sort(function(Te,me){return r(Te[0],me[0])}),O.FullPaths=[],O.FileIndex=[],D=0;D<Y.length;++D)O.FullPaths[D]=Y[D][0],O.FileIndex[D]=Y[D][1];for(D=0;D<Y.length;++D){var fe=O.FileIndex[D],we=O.FullPaths[D];if(fe.name=a(we).replace("/",""),fe.L=fe.R=fe.C=-(fe.color=1),fe.size=fe.content?fe.content.length:0,fe.start=0,fe.clsid=fe.clsid||ne,D===0)fe.C=Y.length>1?1:-1,fe.size=0,fe.type=5;else if(we.slice(-1)=="/"){for(le=D+1;le<Y.length&&n(O.FullPaths[le])!=we;++le);for(fe.C=le>=Y.length?-1:le,le=D+1;le<Y.length&&n(O.FullPaths[le])!=n(we);++le);fe.R=le>=Y.length?-1:le,fe.type=1}else n(O.FullPaths[D+1]||"")==n(we)&&(fe.R=D+1),fe.type=2}}}function C(O,I){var k=I||{};if(k.fileType=="mad")return h8(O,k);switch(T(O),k.fileType){case"zip":return s8(O,k)}var R=function(Te){for(var me=0,je=0,$e=0;$e<Te.FileIndex.length;++$e){var Ot=Te.FileIndex[$e];if(Ot.content){var Nt=Ot.content.length;Nt>0&&(Nt<4096?me+=Nt+63>>6:je+=Nt+511>>9)}}for(var Dr=Te.FullPaths.length+3>>2,Gu=me+7>>3,Xu=me+127>>7,Yu=Gu+je+Dr+Xu,ao=Yu+127>>7,Mg=ao<=109?0:Math.ceil((ao-109)/127);Yu+ao+Mg+127>>7>ao;)Mg=++ao<=109?0:Math.ceil((ao-109)/127);var ci=[1,Mg,ao,Xu,Dr,je,me,0];return Te.FileIndex[0].size=me<<6,ci[7]=(Te.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(O),D=ie(R[7]<<9),M=0,X=0;{for(M=0;M<8;++M)D.write_shift(1,V[M]);for(M=0;M<8;++M)D.write_shift(2,0);for(D.write_shift(2,62),D.write_shift(2,3),D.write_shift(2,65534),D.write_shift(2,9),D.write_shift(2,6),M=0;M<3;++M)D.write_shift(2,0);for(D.write_shift(4,0),D.write_shift(4,R[2]),D.write_shift(4,R[0]+R[1]+R[2]+R[3]-1),D.write_shift(4,0),D.write_shift(4,4096),D.write_shift(4,R[3]?R[0]+R[1]+R[2]-1:W),D.write_shift(4,R[3]),D.write_shift(-4,R[1]?R[0]-1:W),D.write_shift(4,R[1]),M=0;M<109;++M)D.write_shift(-4,M<R[2]?R[1]+M:-1)}if(R[1])for(X=0;X<R[1];++X){for(;M<236+X*127;++M)D.write_shift(-4,M<R[2]?R[1]+M:-1);D.write_shift(-4,X===R[1]-1?W:X+1)}var le=function(Te){for(X+=Te;M<X-1;++M)D.write_shift(-4,M+1);Te&&(++M,D.write_shift(-4,W))};for(X=M=0,X+=R[1];M<X;++M)D.write_shift(-4,se.DIFSECT);for(X+=R[2];M<X;++M)D.write_shift(-4,se.FATSECT);le(R[3]),le(R[4]);for(var G=0,Y=0,J=O.FileIndex[0];G<O.FileIndex.length;++G)J=O.FileIndex[G],J.content&&(Y=J.content.length,!(Y<4096)&&(J.start=X,le(Y+511>>9)));for(le(R[6]+7>>3);D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(X=M=0,G=0;G<O.FileIndex.length;++G)J=O.FileIndex[G],J.content&&(Y=J.content.length,!(!Y||Y>=4096)&&(J.start=X,le(Y+63>>6)));for(;D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(M=0;M<R[4]<<2;++M){var fe=O.FullPaths[M];if(!fe||fe.length===0){for(G=0;G<17;++G)D.write_shift(4,0);for(G=0;G<3;++G)D.write_shift(4,-1);for(G=0;G<12;++G)D.write_shift(4,0);continue}J=O.FileIndex[M],M===0&&(J.start=J.size?J.start-1:W);var we=M===0&&k.root||J.name;if(Y=2*(we.length+1),D.write_shift(64,we,"utf16le"),D.write_shift(2,Y),D.write_shift(1,J.type),D.write_shift(1,J.color),D.write_shift(-4,J.L),D.write_shift(-4,J.R),D.write_shift(-4,J.C),J.clsid)D.write_shift(16,J.clsid,"hex");else for(G=0;G<4;++G)D.write_shift(4,0);D.write_shift(4,J.state||0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,J.start),D.write_shift(4,J.size),D.write_shift(4,0)}for(M=1;M<O.FileIndex.length;++M)if(J=O.FileIndex[M],J.size>=4096)if(D.l=J.start+1<<9,Qe&&Buffer.isBuffer(J.content))J.content.copy(D,D.l,0,J.size),D.l+=J.size+511&-512;else{for(G=0;G<J.size;++G)D.write_shift(1,J.content[G]);for(;G&511;++G)D.write_shift(1,0)}for(M=1;M<O.FileIndex.length;++M)if(J=O.FileIndex[M],J.size>0&&J.size<4096)if(Qe&&Buffer.isBuffer(J.content))J.content.copy(D,D.l,0,J.size),D.l+=J.size+63&-64;else{for(G=0;G<J.size;++G)D.write_shift(1,J.content[G]);for(;G&63;++G)D.write_shift(1,0)}if(Qe)D.l=D.length;else for(;D.l<D.length;)D.write_shift(1,0);return D}function N(O,I){var k=O.FullPaths.map(function(G){return G.toUpperCase()}),R=k.map(function(G){var Y=G.split("/");return Y[Y.length-(G.slice(-1)=="/"?2:1)]}),D=!1;I.charCodeAt(0)===47?(D=!0,I=k[0].slice(0,-1)+I):D=I.indexOf("/")!==-1;var M=I.toUpperCase(),X=D===!0?k.indexOf(M):R.indexOf(M);if(X!==-1)return O.FileIndex[X];var le=!M.match(s0);for(M=M.replace($d,""),le&&(M=M.replace(s0,"!")),X=0;X<k.length;++X)if((le?k[X].replace(s0,"!"):k[X]).replace($d,"")==M||(le?R[X].replace(s0,"!"):R[X]).replace($d,"")==M)return O.FileIndex[X];return null}var L=64,W=-2,Z="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(O,I,k){c();var R=C(O,k);l.writeFileSync(I,R)}function te(O){for(var I=new Array(O.length),k=0;k<O.length;++k)I[k]=String.fromCharCode(O[k]);return I.join("")}function ce(O,I){var k=C(O,I);switch(I&&I.type||"buffer"){case"file":return c(),l.writeFileSync(I.filename,k),k;case"binary":return typeof k=="string"?k:te(k);case"base64":return gf(typeof k=="string"?k:te(k));case"buffer":if(Qe)return Buffer.isBuffer(k)?k:Yi(k);case"array":return typeof k=="string"?Oa(k):k}return k}var pe;function P(O){try{var I=O.InflateRaw,k=new I;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)pe=O;else throw new Error("zlib does not expose bytesRead")}catch(R){console.error("cannot use native zlib: "+(R.message||R))}}function H(O,I){if(!pe)return sS(O,I);var k=pe.InflateRaw,R=new k,D=R._processChunk(O.slice(O.l),R._finishFlushFlag);return O.l+=R.bytesRead,D}function B(O){return pe?pe.deflateRawSync(O):eS(O)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(O){var I=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(I>>16|I>>8|I)&255}for(var q=typeof Uint8Array<"u",ee=q?new Uint8Array(256):[],ye=0;ye<256;++ye)ee[ye]=Q(ye);function re(O,I){var k=ee[O&255];return I<=8?k>>>8-I:(k=k<<8|ee[O>>8&255],I<=16?k>>>16-I:(k=k<<8|ee[O>>16&255],k>>>24-I))}function Le(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=6?0:O[R+1]<<8))>>>k&3}function Ce(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=5?0:O[R+1]<<8))>>>k&7}function tt(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=4?0:O[R+1]<<8))>>>k&15}function Fe(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=3?0:O[R+1]<<8))>>>k&31}function be(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=1?0:O[R+1]<<8))>>>k&127}function Wt(O,I,k){var R=I&7,D=I>>>3,M=(1<<k)-1,X=O[D]>>>R;return k<8-R||(X|=O[D+1]<<8-R,k<16-R)||(X|=O[D+2]<<16-R,k<24-R)||(X|=O[D+3]<<24-R),X&M}function Ir(O,I,k){var R=I&7,D=I>>>3;return R<=5?O[D]|=(k&7)<<R:(O[D]|=k<<R&255,O[D+1]=(k&7)>>8-R),I+3}function Vn(O,I,k){var R=I&7,D=I>>>3;return k=(k&1)<<R,O[D]|=k,I+1}function cn(O,I,k){var R=I&7,D=I>>>3;return k<<=R,O[D]|=k&255,k>>>=8,O[D+1]=k,I+8}function Ua(O,I,k){var R=I&7,D=I>>>3;return k<<=R,O[D]|=k&255,k>>>=8,O[D+1]=k&255,O[D+2]=k>>>8,I+16}function to(O,I){var k=O.length,R=2*k>I?2*k:I+5,D=0;if(k>=I)return O;if(Qe){var M=HE(R);if(O.copy)O.copy(M);else for(;D<O.length;++D)M[D]=O[D];return M}else if(q){var X=new Uint8Array(R);if(X.set)X.set(O);else for(;D<k;++D)X[D]=O[D];return X}return O.length=R,O}function An(O){for(var I=new Array(O),k=0;k<O;++k)I[k]=0;return I}function ro(O,I,k){var R=1,D=0,M=0,X=0,le=0,G=O.length,Y=q?new Uint16Array(32):An(32);for(M=0;M<32;++M)Y[M]=0;for(M=G;M<k;++M)O[M]=0;G=O.length;var J=q?new Uint16Array(G):An(G);for(M=0;M<G;++M)Y[D=O[M]]++,R<D&&(R=D),J[M]=0;for(Y[0]=0,M=1;M<=R;++M)Y[M+16]=le=le+Y[M-1]<<1;for(M=0;M<G;++M)le=O[M],le!=0&&(J[M]=Y[le+16]++);var fe=0;for(M=0;M<G;++M)if(fe=O[M],fe!=0)for(le=re(J[M],R)>>R-fe,X=(1<<R+4-fe)-1;X>=0;--X)I[le|X<<fe]=fe&15|M<<4;return R}var Rg=q?new Uint16Array(512):An(512),Ig=q?new Uint16Array(32):An(32);if(!q){for(var no=0;no<512;++no)Rg[no]=0;for(no=0;no<32;++no)Ig[no]=0}(function(){for(var O=[],I=0;I<32;I++)O.push(5);ro(O,Ig,32);var k=[];for(I=0;I<=143;I++)k.push(8);for(;I<=255;I++)k.push(9);for(;I<=279;I++)k.push(7);for(;I<=287;I++)k.push(8);ro(k,Rg,288)})();var r8=function(){for(var I=q?new Uint8Array(32768):[],k=0,R=0;k<Se.length-1;++k)for(;R<Se[k+1];++R)I[R]=k;for(;R<32768;++R)I[R]=29;var D=q?new Uint8Array(259):[];for(k=0,R=0;k<ae.length-1;++k)for(;R<ae[k+1];++R)D[R]=k;function M(le,G){for(var Y=0;Y<le.length;){var J=Math.min(65535,le.length-Y),fe=Y+J==le.length;for(G.write_shift(1,+fe),G.write_shift(2,J),G.write_shift(2,~J&65535);J-- >0;)G[G.l++]=le[Y++]}return G.l}function X(le,G){for(var Y=0,J=0,fe=q?new Uint16Array(32768):[];J<le.length;){var we=Math.min(65535,le.length-J);if(we<10){for(Y=Ir(G,Y,+(J+we==le.length)),Y&7&&(Y+=8-(Y&7)),G.l=Y/8|0,G.write_shift(2,we),G.write_shift(2,~we&65535);we-- >0;)G[G.l++]=le[J++];Y=G.l*8;continue}Y=Ir(G,Y,+(J+we==le.length)+2);for(var Te=0;we-- >0;){var me=le[J];Te=(Te<<5^me)&32767;var je=-1,$e=0;if((je=fe[Te])&&(je|=J&-32768,je>J&&(je-=32768),je<J))for(;le[je+$e]==le[J+$e]&&$e<250;)++$e;if($e>2){me=D[$e],me<=22?Y=cn(G,Y,ee[me+1]>>1)-1:(cn(G,Y,3),Y+=5,cn(G,Y,ee[me-23]>>5),Y+=3);var Ot=me<8?0:me-4>>2;Ot>0&&(Ua(G,Y,$e-ae[me]),Y+=Ot),me=I[J-je],Y=cn(G,Y,ee[me]>>3),Y-=3;var Nt=me<4?0:me-2>>1;Nt>0&&(Ua(G,Y,J-je-Se[me]),Y+=Nt);for(var Dr=0;Dr<$e;++Dr)fe[Te]=J&32767,Te=(Te<<5^le[J])&32767,++J;we-=$e-1}else me<=143?me=me+48:Y=Vn(G,Y,1),Y=cn(G,Y,ee[me]),fe[Te]=J&32767,++J}Y=cn(G,Y,0)-1}return G.l=(Y+7)/8|0,G.l}return function(G,Y){return G.length<8?M(G,Y):X(G,Y)}}();function eS(O){var I=ie(50+Math.floor(O.length*1.1)),k=r8(O,I);return I.slice(0,k)}var tS=q?new Uint16Array(32768):An(32768),rS=q?new Uint16Array(32768):An(32768),nS=q?new Uint16Array(128):An(128),aS=1,iS=1;function n8(O,I){var k=Fe(O,I)+257;I+=5;var R=Fe(O,I)+1;I+=5;var D=tt(O,I)+4;I+=4;for(var M=0,X=q?new Uint8Array(19):An(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G=1,Y=q?new Uint8Array(8):An(8),J=q?new Uint8Array(8):An(8),fe=X.length,we=0;we<D;++we)X[z[we]]=M=Ce(O,I),G<M&&(G=M),Y[M]++,I+=3;var Te=0;for(Y[0]=0,we=1;we<=G;++we)J[we]=Te=Te+Y[we-1]<<1;for(we=0;we<fe;++we)(Te=X[we])!=0&&(le[we]=J[Te]++);var me=0;for(we=0;we<fe;++we)if(me=X[we],me!=0){Te=ee[le[we]]>>8-me;for(var je=(1<<7-me)-1;je>=0;--je)nS[Te|je<<me]=me&7|we<<3}var $e=[];for(G=1;$e.length<k+R;)switch(Te=nS[be(O,I)],I+=Te&7,Te>>>=3){case 16:for(M=3+Le(O,I),I+=2,Te=$e[$e.length-1];M-- >0;)$e.push(Te);break;case 17:for(M=3+Ce(O,I),I+=3;M-- >0;)$e.push(0);break;case 18:for(M=11+be(O,I),I+=7;M-- >0;)$e.push(0);break;default:$e.push(Te),G<Te&&(G=Te);break}var Ot=$e.slice(0,k),Nt=$e.slice(k);for(we=k;we<286;++we)Ot[we]=0;for(we=R;we<30;++we)Nt[we]=0;return aS=ro(Ot,tS,286),iS=ro(Nt,rS,30),I}function a8(O,I){if(O[0]==3&&!(O[1]&3))return[el(I),2];for(var k=0,R=0,D=HE(I||1<<18),M=0,X=D.length>>>0,le=0,G=0;!(R&1);){if(R=Ce(O,k),k+=3,R>>>1)R>>1==1?(le=9,G=5):(k=n8(O,k),le=aS,G=iS);else{k&7&&(k+=8-(k&7));var Y=O[k>>>3]|O[(k>>>3)+1]<<8;if(k+=32,Y>0)for(!I&&X<M+Y&&(D=to(D,M+Y),X=D.length);Y-- >0;)D[M++]=O[k>>>3],k+=8;continue}for(;;){!I&&X<M+32767&&(D=to(D,M+32767),X=D.length);var J=Wt(O,k,le),fe=R>>>1==1?Rg[J]:tS[J];if(k+=fe&15,fe>>>=4,!(fe>>>8&255))D[M++]=fe;else{if(fe==256)break;fe-=257;var we=fe<8?0:fe-4>>2;we>5&&(we=0);var Te=M+ae[fe];we>0&&(Te+=Wt(O,k,we),k+=we),J=Wt(O,k,G),fe=R>>>1==1?Ig[J]:rS[J],k+=fe&15,fe>>>=4;var me=fe<4?0:fe-2>>1,je=Se[fe];for(me>0&&(je+=Wt(O,k,me),k+=me),!I&&X<Te&&(D=to(D,Te+100),X=D.length);M<Te;)D[M]=D[M-je],++M}}}return I?[D,k+7>>>3]:[D.slice(0,M),k+7>>>3]}function sS(O,I){var k=O.slice(O.l||0),R=a8(k,I);return O.l+=R[1],R[0]}function oS(O,I){if(O)typeof console<"u"&&console.error(I);else throw new Error(I)}function lS(O,I){var k=O;Pn(k,0);var R=[],D=[],M={FileIndex:R,FullPaths:D};E(M,{root:I.root});for(var X=k.length-4;(k[X]!=80||k[X+1]!=75||k[X+2]!=5||k[X+3]!=6)&&X>=0;)--X;k.l=X+4,k.l+=4;var le=k.read_shift(2);k.l+=6;var G=k.read_shift(4);for(k.l=G,X=0;X<le;++X){k.l+=20;var Y=k.read_shift(4),J=k.read_shift(4),fe=k.read_shift(2),we=k.read_shift(2),Te=k.read_shift(2);k.l+=8;var me=k.read_shift(4),je=o(k.slice(k.l+fe,k.l+fe+we));k.l+=fe+we+Te;var $e=k.l;k.l=me+4,i8(k,Y,J,M,je),k.l=$e}return M}function i8(O,I,k,R,D){O.l+=2;var M=O.read_shift(2),X=O.read_shift(2),le=s(O);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var G=O.read_shift(4),Y=O.read_shift(4),J=O.read_shift(4),fe=O.read_shift(2),we=O.read_shift(2),Te="",me=0;me<fe;++me)Te+=String.fromCharCode(O[O.l++]);if(we){var je=o(O.slice(O.l,O.l+we));(je[21589]||{}).mt&&(le=je[21589].mt),((D||{})[21589]||{}).mt&&(le=D[21589].mt)}O.l+=we;var $e=O.slice(O.l,O.l+Y);switch(X){case 8:$e=H(O,J);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+X)}var Ot=!1;M&8&&(G=O.read_shift(4),G==134695760&&(G=O.read_shift(4),Ot=!0),Y=O.read_shift(4),J=O.read_shift(4)),Y!=I&&oS(Ot,"Bad compressed size: "+I+" != "+Y),J!=k&&oS(Ot,"Bad uncompressed size: "+k+" != "+J),Dg(R,Te,$e,{unsafe:!0,mt:le})}function s8(O,I){var k=I||{},R=[],D=[],M=ie(1),X=k.compression?8:0,le=0,G=0,Y=0,J=0,fe=0,we=O.FullPaths[0],Te=we,me=O.FileIndex[0],je=[],$e=0;for(G=1;G<O.FullPaths.length;++G)if(Te=O.FullPaths[G].slice(we.length),me=O.FileIndex[G],!(!me.size||!me.content||Te=="Sh33tJ5")){var Ot=J,Nt=ie(Te.length);for(Y=0;Y<Te.length;++Y)Nt.write_shift(1,Te.charCodeAt(Y)&127);Nt=Nt.slice(0,Nt.l),je[fe]=Z7.buf(me.content,0);var Dr=me.content;X==8&&(Dr=B(Dr)),M=ie(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,le),M.write_shift(2,X),me.mt?i(M,me.mt):M.write_shift(4,0),M.write_shift(-4,je[fe]),M.write_shift(4,Dr.length),M.write_shift(4,me.content.length),M.write_shift(2,Nt.length),M.write_shift(2,0),J+=M.length,R.push(M),J+=Nt.length,R.push(Nt),J+=Dr.length,R.push(Dr),M=ie(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,le),M.write_shift(2,X),M.write_shift(4,0),M.write_shift(-4,je[fe]),M.write_shift(4,Dr.length),M.write_shift(4,me.content.length),M.write_shift(2,Nt.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,Ot),$e+=M.l,D.push(M),$e+=Nt.length,D.push(Nt),++fe}return M=ie(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,fe),M.write_shift(2,fe),M.write_shift(4,$e),M.write_shift(4,J),M.write_shift(2,0),Tr([Tr(R),Tr(D),M])}var Mh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function o8(O,I){if(O.ctype)return O.ctype;var k=O.name||"",R=k.match(/\.([^\.]+)$/);return R&&Mh[R[1]]||I&&(R=(k=I).match(/[\.\\]([^\.\\])+$/),R&&Mh[R[1]])?Mh[R[1]]:"application/octet-stream"}function l8(O){for(var I=gf(O),k=[],R=0;R<I.length;R+=76)k.push(I.slice(R,R+76));return k.join(`\r
`)+`\r
`}function c8(O){var I=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Y){var J=Y.charCodeAt(0).toString(16).toUpperCase();return"="+(J.length==1?"0"+J:J)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],R=I.split(`\r
`),D=0;D<R.length;++D){var M=R[D];if(M.length==0){k.push("");continue}for(var X=0;X<M.length;){var le=76,G=M.slice(X,X+le);G.charAt(le-1)=="="?le--:G.charAt(le-2)=="="?le-=2:G.charAt(le-3)=="="&&(le-=3),G=M.slice(X,X+le),X+=le,X<M.length&&(G+="="),k.push(G)}}return k.join(`\r
`)}function u8(O){for(var I=[],k=0;k<O.length;++k){for(var R=O[k];k<=O.length&&R.charAt(R.length-1)=="=";)R=R.slice(0,R.length-1)+O[++k];I.push(R)}for(var D=0;D<I.length;++D)I[D]=I[D].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return Oa(I.join(`\r
`))}function d8(O,I,k){for(var R="",D="",M="",X,le=0;le<10;++le){var G=I[le];if(!G||G.match(/^\s*$/))break;var Y=G.match(/^(.*?):\s*([^\s].*)$/);if(Y)switch(Y[1].toLowerCase()){case"content-location":R=Y[2].trim();break;case"content-type":M=Y[2].trim();break;case"content-transfer-encoding":D=Y[2].trim();break}}switch(++le,D.toLowerCase()){case"base64":X=Oa($i(I.slice(le).join("")));break;case"quoted-printable":X=u8(I.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+D)}var J=Dg(O,R.slice(k.length),X,{unsafe:!0});M&&(J.ctype=M)}function f8(O,I){if(te(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=I&&I.root||"",R=(Qe&&Buffer.isBuffer(O)?O.toString("binary"):te(O)).split(`\r
`),D=0,M="";for(D=0;D<R.length;++D)if(M=R[D],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),k||(k=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),M.slice(0,k.length)!=k););var X=(R[1]||"").match(/boundary="(.*?)"/);if(!X)throw new Error("MAD cannot find boundary");var le="--"+(X[1]||""),G=[],Y=[],J={FileIndex:G,FullPaths:Y};E(J);var fe,we=0;for(D=0;D<R.length;++D){var Te=R[D];Te!==le&&Te!==le+"--"||(we++&&d8(J,R.slice(fe,D),k),fe=D)}return J}function h8(O,I){var k=I||{},R=k.boundary||"SheetJS";R="------="+R;for(var D=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+R.slice(2)+'"',"","",""],M=O.FullPaths[0],X=M,le=O.FileIndex[0],G=1;G<O.FullPaths.length;++G)if(X=O.FullPaths[G].slice(M.length),le=O.FileIndex[G],!(!le.size||!le.content||X=="Sh33tJ5")){X=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var Y=le.content,J=Qe&&Buffer.isBuffer(Y)?Y.toString("binary"):te(Y),fe=0,we=Math.min(1024,J.length),Te=0,me=0;me<=we;++me)(Te=J.charCodeAt(me))>=32&&Te<128&&++fe;var je=fe>=we*4/5;D.push(R),D.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+X),D.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),D.push("Content-Type: "+o8(le,X)),D.push(""),D.push(je?c8(J):l8(J))}return D.push(R+`--\r
`),D.join(`\r
`)}function p8(O){var I={};return E(I,O),I}function Dg(O,I,k,R){var D=R&&R.unsafe;D||E(O);var M=!D&&ct.find(O,I);if(!M){var X=O.FullPaths[0];I.slice(0,X.length)==X?X=I:(X.slice(-1)!="/"&&(X+="/"),X=(X+I).replace("//","/")),M={name:a(I),type:2},O.FileIndex.push(M),O.FullPaths.push(X),D||ct.utils.cfb_gc(O)}return M.content=k,M.size=k?k.length:0,R&&(R.CLSID&&(M.clsid=R.CLSID),R.mt&&(M.mt=R.mt),R.ct&&(M.ct=R.ct)),M}function m8(O,I){E(O);var k=ct.find(O,I);if(k){for(var R=0;R<O.FileIndex.length;++R)if(O.FileIndex[R]==k)return O.FileIndex.splice(R,1),O.FullPaths.splice(R,1),!0}return!1}function v8(O,I,k){E(O);var R=ct.find(O,I);if(R){for(var D=0;D<O.FileIndex.length;++D)if(O.FileIndex[D]==R)return O.FileIndex[D].name=a(k),O.FullPaths[D]=k,!0}return!1}function g8(O){T(O,!0)}return t.find=N,t.read=S,t.parse=d,t.write=ce,t.writeFile=K,t.utils={cfb_new:p8,cfb_add:Dg,cfb_del:m8,cfb_mov:v8,cfb_gc:g8,ReadShift:Fd,CheckField:IP,prep_blob:Pn,bconcat:Tr,use_zlib:P,_deflateRaw:eS,_inflateRaw:sS,consts:se},t}();function eB(e){return typeof e=="string"?gv(e):Array.isArray(e)?T7(e):e}function yh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=gv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?yf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([eB(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=xh(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function kr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function JE(e,t){for(var r=[],n=kr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function v_(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function bv(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function tB(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var kp=new Date(1899,11,30,0,0,0);function _n(e,t){var r=e.getTime(),n=kp.getTime()+(e.getTimezoneOffset()-kp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var gP=new Date,rB=kp.getTime()+(gP.getTimezoneOffset()-kp.getTimezoneOffset())*6e4,ZE=gP.getTimezoneOffset();function xP(e){var t=new Date;return t.setTime(e*24*60*60*1e3+rB),t.getTimezoneOffset()!==ZE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ZE)*6e4),t}var ej=new Date("2017-02-19T19:06:09.000Z"),yP=isNaN(ej.getFullYear())?new Date("2/19/17"):ej,nB=yP.getFullYear()==2017;function sn(e,t){var r=new Date(e);if(nB)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(yP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function wv(e,t){if(Qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Sn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Sn(e[r]));return t}function Lt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ti(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var aB=["january","february","march","april","may","june","july","august","september","october","november","december"];function xf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&aB.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ue(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qe?n=Yi(r):n=A7(r),ct.utils.cfb_add(e,t,n)}ct.utils.cfb_add(e,t,r)}else e.file(t,r)}function g_(){return ct.utils.cfb_new()}var er=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,iB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x_=v_(iB),y_=/[&<>'"]/g,sB=/[\u0000-\u0008\u000b-\u001f]/g;function it(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(sB,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tj(e){return it(e).replace(/ /g,"_x0020_")}var bP=/[\u0000-\u001f]/g;function oB(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(/\n/g,"<br/>").replace(bP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function lB(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(bP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function cB(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function uB(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function px(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function rj(e){var t=el(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function nj(e){return Yi(e,"binary").toString("utf8")}var l0="foo bar baz",Ld=Qe&&(nj(l0)==px(l0)&&nj||rj(l0)==px(l0)&&rj)||px,yf=Qe?function(e){return Yi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},dB=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),wP=/(^\s|\s$|\n)/;function Ar(e,t){return"<"+e+(t.match(wP)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bf(e){return kr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ge(e,t,r){return"<"+e+(r!=null?bf(r):"")+(t!=null?(t.match(wP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function v1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function fB(e,t){switch(typeof e){case"string":var r=ge("vt:lpwstr",it(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ge((e|0)==e?"vt:i4":"vt:r8",it(String(e)));case"boolean":return ge("vt:bool",e?"true":"false")}if(e instanceof Date)return ge("vt:filetime",v1(e));throw new Error("Unable to serialize "+e)}var pr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Au=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Rn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function hB(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function pB(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var aj=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ij=Qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Yi(t)})):aj(e)}:aj,sj=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Sd(e,a)));return n.join("").replace($d,"")},b_=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace($d,""):sj(e,t,r)}:sj,oj=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},_P=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):oj(e,t,r)}:oj,lj=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode($l(e,a)));return n.join("")},bh=Qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):lj(t,r,n)}:lj,SP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},EP=SP,jP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},TP=jP,AP=function(e,t){var r=2*In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},OP=AP,NP=function(t,r){var n=In(t,r);return n>0?b_(t,r+4,r+4+n):""},CP=NP,kP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r):""},PP=kP,RP=function(e,t){return hB(e,t)},Pp=RP,w_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qe&&(EP=function(t,r){if(!Buffer.isBuffer(t))return SP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},TP=function(t,r){if(!Buffer.isBuffer(t))return jP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},OP=function(t,r){if(!Buffer.isBuffer(t))return AP(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},CP=function(t,r){if(!Buffer.isBuffer(t))return NP(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},PP=function(t,r){if(!Buffer.isBuffer(t))return kP(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Pp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):RP(t,r)},w_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var $l=function(e,t){return e[t]},Sd=function(e,t){return e[t+1]*256+e[t]},mB=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},In=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},vB=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fd(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Sd(this,c)),c+=2;e*=2;break;case"utf8":r=bh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=b_(this,this.l,this.l+e);break;case"wstr":return Fd.call(this,e,"dbcs");case"lpstr-ansi":r=EP(this,this.l),e=4+In(this,this.l);break;case"lpstr-cp":r=TP(this,this.l),e=4+In(this,this.l);break;case"lpwstr":r=OP(this,this.l),e=4+2*In(this,this.l);break;case"lpp4":e=4+In(this,this.l),r=CP(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+In(this,this.l),r=PP(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=$l(this,this.l+e++))!==0;)i.push(i0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Sd(this,this.l+e))!==0;)i.push(i0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=$l(this,c),this.l=c+1,o=Fd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(i0(Sd(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=$l(this,c),this.l=c+1,o=Fd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(i0($l(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=$l(this,this.l),this.l++,n;case 2:return n=(t==="i"?mB:Sd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yo:vB)(this,this.l),this.l+=4,n):(a=In(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Pp(this,this.l):a=Pp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=_P(this,this.l,e);break}}return this.l+=e,r}var gB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},xB=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},yB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function bB(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)yB(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,gB(this,t,this.l);break;case 8:if(n=8,r==="f"){pB(this,t,this.l);break}case 16:break;case-4:n=4,xB(this,t,this.l);break}return this.l+=n,this}function IP(e,t){var r=_P(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Pn(e,t){e.l=t,e.read_shift=Fd,e.chk=IP,e.write_shift=bB}function ai(e,t){e.l+=t}function ie(e){var t=el(e);return Pn(t,0),t}function wn(){var e=[],t=Qe?256:2048,r=function(c){var d=ie(c);return Pn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Tr(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function ue(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=hq[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&w_(r)&&e.push(r)}}function Bd(e,t,r){var n=Sn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function cj(e,t,r){var n=Sn(e);return n.s=Bd(n.s,t.s,r),n.e=Bd(n.e,t.s,r),n}function Ud(e,t){if(e.cRel&&e.c<0)for(e=Sn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Sn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ot(e);return!e.cRel&&e.cRel!=null&&(r=SB(r)),!e.rRel&&e.rRel!=null&&(r=wB(r)),r}function mx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+zr(e.s.c)+":"+(e.e.cRel?"":"$")+zr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Nr(e.s.r)+":"+(e.e.rRel?"":"$")+Nr(e.e.r):Ud(e.s,t.biff)+":"+Ud(e.e,t.biff)}function __(e){return parseInt(_B(e),10)-1}function Nr(e){return""+(e+1)}function wB(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _B(e){return e.replace(/\$(\d+)$/,"$1")}function S_(e){for(var t=EB(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function zr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function SB(e){return e.replace(/^([A-Z])/,"$$$1")}function EB(e){return e.replace(/^\$([A-Z])/,"$1")}function jB(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ot(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Wn(e){var t=e.indexOf(":");return t==-1?{s:mr(e),e:mr(e)}:{s:mr(e.slice(0,t)),e:mr(e.slice(t+1))}}function Jt(e,t){return typeof t>"u"||typeof t=="number"?Jt(e.s,e.e):(typeof e!="string"&&(e=ot(e)),typeof t!="string"&&(t=ot(t)),e==t?e:e+":"+t)}function _t(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function uj(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zs(e.z,r?_n(t):t)}catch{}try{return e.w=zs((e.XF||{}).numFmtId||(r?14:0),r?_n(t):t)}catch{return""+t}}function Li(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wh[e.v]||e.v:t==null?uj(e,e.v):uj(e,t))}function ml(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function DP(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=_t(i["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),s==-1&&(c.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,v=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>v&&(c.s.c=v),c.e.r<g&&(c.e.r=g),c.e.c<v&&(c.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||zt[14],n.cellDates?(p.t="d",p.w=zs(p.z,_n(p.v))):(p.t="n",p.v=_n(p.v),p.w=zs(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][v]&&i[g][v].z&&(p.z=i[g][v].z),i[g][v]=p;else{var x=ot({c:v,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return c.s.c<1e7&&(i["!ref"]=Jt(c)),i}function Ou(e,t){return DP(null,e,t)}function TB(e){return e.read_shift(4,"i")}function Ra(e,t){return t||(t=ie(4)),t.write_shift(4,e),t}function Wr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function vr(e,t){var r=!1;return t==null&&(r=!0,t=ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function AB(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function OB(e,t){return t||(t=ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function E_(e,t){var r=e.l,n=e.read_shift(1),a=Wr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(AB(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function NB(e,t){var r=!1;return t==null&&(r=!0,t=ie(15+4*e.t.length)),t.write_shift(1,0),vr(e.t,t),r?t.slice(0,t.l):t}var CB=E_;function kB(e,t){var r=!1;return t==null&&(r=!0,t=ie(23+4*e.t.length)),t.write_shift(1,1),vr(e.t,t),t.write_shift(4,1),OB({},t),r?t.slice(0,t.l):t}function da(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vl(e,t){return t==null&&(t=ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xl(e,t){return t==null&&(t=ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var PB=Wr,MP=vr;function j_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Rp(e,t){var r=!1;return t==null&&(r=!0,t=ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var RB=Wr,g1=j_,T_=Rp;function $P(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Pp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yo(t,0)>>2;return r?a/100:a}function LP(e,t){t==null&&(t=ie(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function FP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function IB(e,t){return t||(t=ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var yl=FP,Nu=IB;function Cu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tl(e,t){return(t||ie(8)).write_shift(8,e,"f")}function DB(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=HB[a];c&&(t.rgb=wj(c));break;case 2:t.rgb=wj([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ip(e,t){if(t||(t=ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function MB(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function $B(e,t){t||(t=ie(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var BP=2,Nn=3,c0=11,Dp=19,u0=64,LB=65,FB=71,BB=4108,UB=4126,jr=80,dj={1:{n:"CodePage",t:BP},2:{n:"Category",t:jr},3:{n:"PresentationFormat",t:jr},4:{n:"ByteCount",t:Nn},5:{n:"LineCount",t:Nn},6:{n:"ParagraphCount",t:Nn},7:{n:"SlideCount",t:Nn},8:{n:"NoteCount",t:Nn},9:{n:"HiddenCount",t:Nn},10:{n:"MultimediaClipCount",t:Nn},11:{n:"ScaleCrop",t:c0},12:{n:"HeadingPairs",t:BB},13:{n:"TitlesOfParts",t:UB},14:{n:"Manager",t:jr},15:{n:"Company",t:jr},16:{n:"LinksUpToDate",t:c0},17:{n:"CharacterCount",t:Nn},19:{n:"SharedDoc",t:c0},22:{n:"HyperlinksChanged",t:c0},23:{n:"AppVersion",t:Nn,p:"version"},24:{n:"DigSig",t:LB},26:{n:"ContentType",t:jr},27:{n:"ContentStatus",t:jr},28:{n:"Language",t:jr},29:{n:"Version",t:jr},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}},fj={1:{n:"CodePage",t:BP},2:{n:"Title",t:jr},3:{n:"Subject",t:jr},4:{n:"Author",t:jr},5:{n:"Keywords",t:jr},6:{n:"Comments",t:jr},7:{n:"Template",t:jr},8:{n:"LastAuthor",t:jr},9:{n:"RevNumber",t:jr},10:{n:"EditTime",t:u0},11:{n:"LastPrinted",t:u0},12:{n:"CreatedDate",t:u0},13:{n:"ModifiedDate",t:u0},14:{n:"PageCount",t:Nn},15:{n:"WordCount",t:Nn},16:{n:"CharCount",t:Nn},17:{n:"Thumbnail",t:FB},18:{n:"Application",t:jr},19:{n:"DocSecurity",t:Nn},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}};function zB(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var WB=zB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),HB=Sn(WB),wh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},d0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zP(e,t){var r=tB(qB),n=[],a;n[n.length]=er,n[n.length]=ge("Types",null,{xmlns:pr.CT,"xmlns:xsd":pr.xsd,"xmlns:xsi":pr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ge("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=ge("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:d0[l][t.bookType]||d0[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:d0[l][t.bookType]||d0[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Xe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function WP(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function dc(e){var t=[er,ge("Relationships",null,{xmlns:pr.RELS})];return kr(e["!id"]).forEach(function(r){t[t.length]=ge("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Xe.HLINK,Xe.XPATH,Xe.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function VB(e){var t=[er];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function hj(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function KB(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function GB(e){var t=[er];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(hj(e[r][0],e[r][1])),t.push(KB("",e[r][0]));return t.push(hj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function HP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Tp.version+"</meta:generator></office:meta></office:document-meta>"}var Ho=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function vx(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=it(t),n[n.length]=r?ge(e,t,r):Ar(e,t))}function qP(e,t){var r=t||{},n=[er,ge("cp:coreProperties",null,{"xmlns:cp":pr.CORE_PROPS,"xmlns:dc":pr.dc,"xmlns:dcterms":pr.dcterms,"xmlns:dcmitype":pr.dcmitype,"xmlns:xsi":pr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&vx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:v1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&vx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:v1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ho.length;++i){var s=Ho[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&vx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var fc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],VP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KP(e){var t=[],r=ge;return e||(e={}),e.Application="SheetJS",t[t.length]=er,t[t.length]=ge("Properties",null,{xmlns:pr.EXT_PROPS,"xmlns:vt":pr.vt}),fc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=it(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+it(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function GP(e){var t=[er,ge("Properties",null,{xmlns:pr.CUST_PROPS,"xmlns:vt":pr.vt})];if(!e)return t.join("");var r=1;return kr(e).forEach(function(a){++r,t[t.length]=ge("property",fB(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:it(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function XB(e,t){var r=[];return kr(pj).map(function(n){for(var a=0;a<Ho.length;++a)if(Ho[a][1]==n)return Ho[a];for(a=0;a<fc.length;++a)if(fc[a][1]==n)return fc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ar(pj[n[1]]||n[1],a))}}),ge("DocumentProperties",r.join(""),{xmlns:Rn.o})}function YB(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&kr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Ho.length;++s)if(i==Ho[s][1])return;for(s=0;s<fc.length;++s)if(i==fc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(ge(tj(i),o,{"dt:dt":l}))}}),t&&kr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ge(tj(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Rn.o+'">'+a.join("")+"</"+n+">"}function QB(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ie(8);return s.write_shift(4,n),s.write_shift(4,a),s}function mj(e,t){var r=ie(4),n=ie(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ie(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=QB(t);break;case 31:case 80:for(n=ie(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Tr([r,n])}var XP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function JB(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function vj(e,t,r){var n=ie(8),a=[],i=[],s=8,o=0,l=ie(8),c=ie(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=ie(8),c.write_shift(4,0),a.unshift(c);var d=[ie(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=ie(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Tr(d),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(XP.indexOf(e[o][0])>-1||VP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}l=mj(g.t,h)}else{var x=JB(h);x==-1&&(x=31,h=String(h)),l=mj(x,h)}i.push(l),c=ie(8),c.write_shift(4,t?p:2+o),a.push(c),s+=8+l.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Tr([n].concat(a).concat(i))}function gj(e,t,r,n,a,i){var s=ie(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,ct.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=vj(e,r,n);if(o.push(l),a){var c=vj(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Tr(o)}function ZB(e,t){t||(t=ie(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function e9(e,t){return e.read_shift(t)===1}function Zr(e,t){return t||(t=ie(2)),t.write_shift(2,+!!e),t}function YP(e){return e.read_shift(2,"u")}function Jn(e,t){return t||(t=ie(2)),t.write_shift(2,e),t}function QP(e,t,r){return r||(r=ie(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function JP(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function t9(e){var t=e.t||"",r=ie(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ie(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Tr(a)}function r9(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function n9(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):r9(e,n,r)}function a9(e,t,r){if(r.biff>5)return n9(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ZP(e,t,r){return r||(r=ie(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function xj(e,t){t||(t=ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function i9(e){var t=ie(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),xj(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&xj(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function rl(e,t,r,n){return n||(n=ie(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function s9(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function o9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function e3(e,t){return t||(t=ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function A_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ie(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function l9(e,t){var r=!t||t.biff==8,n=ie(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function c9(e,t){var r=!t||t.biff>=8?2:1,n=ie(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function u9(e,t){var r=ie(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=t9(e[a]);var i=Tr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function d9(){var e=ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function f9(e){var t=ie(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function h9(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ie(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function p9(e,t,r,n){var a=ie(10);return rl(e,t,n,a),a.write_shift(4,r),a}function m9(e,t,r,n,a){var i=!a||a.biff==8,s=ie(8+ +i+(1+i)*r.length);return rl(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function v9(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function g9(e,t){var r=t.biff==8||!t.biff?4:2,n=ie(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function yj(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function x9(e){var t=ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function y9(e,t,r,n,a,i){var s=ie(8);return rl(e,t,n,s),QP(r,i,s),s}function b9(e,t,r,n){var a=ie(14);return rl(e,t,n,a),tl(r,a),a}function w9(e,t,r){if(r.biff<8)return _9(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(s9(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function _9(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=JP(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function S9(e){var t=ie(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)e3(e[r],t);return t}function E9(e){var t=ie(24),r=mr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Tr([t,i9(e[1])])}function j9(e){var t=e[1].Tooltip,r=ie(10+2*(t.length+1));r.write_shift(2,2048);var n=mr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function T9(e){return e||(e=ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function A9(e,t,r){if(!r.cellStyles)return ai(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function O9(e,t){var r=ie(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function N9(e){for(var t=ie(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function C9(e,t,r){var n=ie(15);return Sh(n,e,t),n.write_shift(8,r,"f"),n}function k9(e,t,r){var n=ie(9);return Sh(n,e,t),n.write_shift(2,r),n}var P9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=v_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],d=el(1);switch(l.type){case"base64":d=Oa($i(o));break;case"binary":d=Oa(o);break;case"buffer":case"array":d=o;break}Pn(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,x=521;f==2&&(v=d.read_shift(2)),d.l+=3,f!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),m=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(m=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var y=[],_={},w=Math.min(d.length,f==2?521:x-10-(p?264:0)),S=g?32:11;d.l<w&&d[d.l]!=13;)switch(_={},_.name=Ap.utils.decode(m,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var E=0,j=0;for(c[0]=[],j=0;j!=y.length;++j)c[0][j]=y[j].name;for(;v-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,c[++E]=[],j=0,j=0;j!=y.length;++j){var T=d.slice(d.l,d.l+y[j].len);d.l+=y[j].len,Pn(T,0);var C=Ap.utils.decode(m,T);switch(y[j].type){case"C":C.trim().length&&(c[E][j]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[E][j]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[E][j]=C;break;case"F":c[E][j]=parseFloat(C.trim());break;case"+":case"I":c[E][j]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[E][j]=!0;break;case"N":case"F":c[E][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][j]="##MEMO##"+(g?parseInt(C.trim(),10):T.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[E][j]=+C||0);break;case"@":c[E][j]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[E][j]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[E][j]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][j]=-T.read_shift(-8,"f");break;case"B":if(p&&y[j].len==8){c[E][j]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[j].len;break;case"0":if(y[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[j].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ou(r(o,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function a(o,l){try{return ml(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&vf(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=wn(),f=Bp(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],v=0,x=0,b=0,m=1;for(v=0;v<h.length;++v){if(((g[v]||{}).DBF||{}).name){h[v]=g[v].DBF.name,++b;continue}if(h[v]!=null){if(++b,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(x=0;x<1024;++x)if(h.indexOf(h[v]+"_"+x)==-1){h[v]+="_"+x;break}}}}var y=_t(o["!ref"]),_=[],w=[],S=[];for(v=0;v<=y.e.c-y.s.c;++v){var E="",j="",T=0,C=[];for(x=0;x<p.length;++x)p[x][v]!=null&&C.push(p[x][v]);if(C.length==0||h[v]==null){_[v]="?";continue}for(x=0;x<C.length;++x){switch(typeof C[x]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=C[x]instanceof Date?"D":"C";break;default:j="C"}T=Math.max(T,String(C[x]).length),E=E&&E!=j?"C":j}T>250&&(T=250),j=((g[v]||{}).DBF||{}).type,j=="C"&&g[v].DBF.len>T&&(T=g[v].DBF.len),E=="B"&&j=="N"&&(E="N",S[v]=g[v].DBF.dec,T=g[v].DBF.len),w[v]=E=="C"||j=="N"?T:i[E]||0,m+=w[v],_[v]=E}var N=d.next(32);for(N.write_shift(4,318902576),N.write_shift(4,p.length),N.write_shift(2,296+32*b),N.write_shift(2,m),v=0;v<4;++v)N.write_shift(4,0);for(N.write_shift(4,0|(+t[rP]||3)<<8),v=0,x=0;v<h.length;++v)if(h[v]!=null){var L=d.next(32),W=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,W,"sbcs"),L.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),L.write_shift(4,x),L.write_shift(1,w[v]||i[_[v]]||0),L.write_shift(1,S[v]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),x+=w[v]||i[_[v]]||0}var Z=d.next(264);for(Z.write_shift(4,13),v=0;v<65;++v)Z.write_shift(4,0);for(v=0;v<p.length;++v){var V=d.next(m);for(V.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(_[x]){case"L":V.write_shift(1,p[v][x]==null?63:p[v][x]?84:70);break;case"B":V.write_shift(8,p[v][x]||0,"f");break;case"N":var ne="0";for(typeof p[v][x]=="number"&&(ne=p[v][x].toFixed(S[x]||0)),b=0;b<w[x]-ne.length;++b)V.write_shift(1,32);V.write_shift(1,ne,"sbcs");break;case"D":p[v][x]?(V.write_shift(4,("0000"+p[v][x].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(p[v][x].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+p[v][x].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var se=String(p[v][x]!=null?p[v][x]:"").slice(0,w[x]);for(V.write_shift(1,se,"sbcs"),b=0;b<w[x]-se.length;++b)V.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),R9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+kr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?WE(g):g},n=function(h,p,g){var v=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?h:WE(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i($i(h),p);case"binary":return i(h,p);case"buffer":return i(Qe&&Buffer.isBuffer(h)?h.toString("binary"):xh(h),p);case"array":return i(wv(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),v=-1,x=-1,b=0,m=0,y=[],_=[],w=null,S={},E=[],j=[],T=[],C=0,N;for(+p.codepage>=0&&vf(+p.codepage);b!==g.length;++b){C=0;var L=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),W=L.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Z=W[0],V;if(L.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&_.push(L.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,se=!1,K=!1,te=!1,ce=-1,pe=-1;for(m=1;m<W.length;++m)switch(W[m].charAt(0)){case"A":break;case"X":x=parseInt(W[m].slice(1))-1,se=!0;break;case"Y":for(v=parseInt(W[m].slice(1))-1,se||(x=0),N=y.length;N<=v;++N)y[N]=[];break;case"K":V=W[m].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Ti(V))?isNaN(xf(V).getDate())||(V=sn(V)):(V=Ti(V),w!==null&&pP(w)&&(V=xP(V))),ne=!0;break;case"E":te=!0;var P=kU(W[m].slice(1),{r:v,c:x});y[v][x]=[y[v][x],P];break;case"S":K=!0,y[v][x]=[y[v][x],"S5S"];break;case"G":break;case"R":ce=parseInt(W[m].slice(1))-1;break;case"C":pe=parseInt(W[m].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}if(ne&&(y[v][x]&&y[v][x].length==2?y[v][x][0]=V:y[v][x]=V,w=null),K){if(te)throw new Error("SYLK shared formula cannot have own formula");var H=ce>-1&&y[ce][pe];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");y[v][x][1]=PU(H[1],{r:v-ce,c:x-pe})}break;case"F":var B=0;for(m=1;m<W.length;++m)switch(W[m].charAt(0)){case"X":x=parseInt(W[m].slice(1))-1,++B;break;case"Y":for(v=parseInt(W[m].slice(1))-1,N=y.length;N<=v;++N)y[N]=[];break;case"M":C=parseInt(W[m].slice(1))/20;break;case"F":break;case"G":break;case"P":w=_[parseInt(W[m].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=W[m].slice(1).split(" "),N=parseInt(T[0],10);N<=parseInt(T[1],10);++N)C=parseInt(T[2],10),j[N-1]=C===0?{hidden:!0}:{wch:C},O_(j[N-1]);break;case"C":x=parseInt(W[m].slice(1))-1,j[x]||(j[x]={});break;case"R":v=parseInt(W[m].slice(1))-1,E[v]||(E[v]={}),C>0?(E[v].hpt=C,E[v].hpx=i3(C)):C===0&&(E[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}B<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}}return E.length>0&&(S["!rows"]=E),j.length>0&&(S["!cols"]=j),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function s(h,p){var g=a(h,p),v=g[0],x=g[1],b=Ou(v,p);return kr(x).forEach(function(m){b[m]=x[m]}),b}function o(h,p){return ml(s(h,p),p)}function l(h,p,g,v){var x="C;Y"+(g+1)+";X"+(v+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+C_(h.f,{r:g,c:v}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(h,p){p.forEach(function(g,v){var x="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Mp(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=$p(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,v){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Lp(g.hpx)+";"),x.length>2&&h.push(x+"R"+(v+1))})}function f(h,p){var g=["ID;PWXL;N;E"],v=[],x=_t(h["!ref"]),b,m=Array.isArray(h),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var w=x.s.c;w<=x.e.c;++w){var S=ot({r:_,c:w});b=m?(h[_]||[])[w]:h[S],!(!b||b.v==null&&(!b.f||b.F))&&v.push(l(b,h,_,w))}return g.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),I9=function(){function e(i,s){switch(s.type){case"base64":return t($i(i),s);case"binary":return t(i,s);case"buffer":return t(Qe&&Buffer.isBuffer(i)?i.toString("binary"):xh(i),s);case"array":return t(wv(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var v=o[d]||"";(v.match(/["]/g)||[]).length&1&&d<o.length-1;)v+=`
`+o[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(Ti(g))?isNaN(xf(g).getDate())?f[l][c]=g:f[l][c]=sn(g):f[l][c]=Ti(g),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Ou(e(i,s),s)}function n(i,s){return ml(r(i,s),s)}var a=function(){var i=function(l,c,d,f,h){l.push(c),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=_t(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,d.e.r-d.s.r+1,""),i(c,"TUPLES",0,d.e.c-d.s.c+1,""),i(c,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(c,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var v=ot({r:p,c:g});if(f=h?(l[p]||[])[g]:l[v],!f){s(c,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,x,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=zs(f.z||zt[14],_n(sn(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var b=`\r
`,m=c.join(b);return m}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),t3=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,v=-1,x=0,b=[];x!==p.length;++x){var m=p[x].trim().split(":");if(m[0]==="cell"){var y=mr(m[1]);if(b.length<=y.r)for(g=b.length;g<=y.r;++g)b[g]||(b[g]=[]);switch(g=y.r,v=y.c,m[2]){case"t":b[g][v]=e(m[3]);break;case"v":b[g][v]=+m[3];break;case"vtf":var _=m[m.length-1];case"vtc":switch(m[3]){case"nl":b[g][v]=!!+m[4];break;default:b[g][v]=+m[4];break}m[2]=="vtf"&&(b[g][v]=[b[g][v],_])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Ou(r(f,h),h)}function a(f,h){return ml(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,v="",x=Wn(f["!ref"]),b=Array.isArray(f),m=x.s.r;m<=x.e.r;++m)for(var y=x.s.c;y<=x.e.c;++y)if(v=ot({r:m,c:y}),g=b?(f[m]||[])[y]:f[v],!(!g||g.v==null||g.t==="z")){switch(p=["cell",v,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=_n(sn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||zs(g.z||zt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),D9=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Ti(d))?isNaN(xf(d).getDate())?f[h][p]=d:f[h][p]=sn(d):f[h][p]=Ti(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var x=10,b=0,m=0;m<=v;++m)b=g[m].indexOf(" "),b==-1?b=g[m].length:b++,x=Math.max(x,b);for(m=0;m<=v;++m){p[m]=[];var y=0;for(e(g[m].slice(0,x).trim(),p,m,y,h),y=1;y<=(g[m].length-x)/10+1;++y)e(g[m].slice(x+(y-1)*10,x+y*10).trim(),p,m,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(v,x){return v[0]-x[0]||n[v[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},p="",g=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,m=0,y=0,_=0,w=p.charCodeAt(0),S=!1,E=0,j=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Q7(h.dateNF):null;function C(){var N=d.slice(y,_),L={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)L.t="z";else if(h.raw)L.t="s",L.v=N;else if(N.trim().length===0)L.t="s",L.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(L.t="s",L.v=N.slice(2,-1).replace(/""/g,'"')):RU(N)?(L.t="n",L.f=N.slice(1)):(L.t="s",L.v=N);else if(N=="TRUE")L.t="b",L.v=!0;else if(N=="FALSE")L.t="b",L.v=!1;else if(!isNaN(m=Ti(N)))L.t="n",h.cellText!==!1&&(L.w=N),L.v=m;else if(!isNaN(xf(N).getDate())||T&&N.match(T)){L.z=h.dateNF||zt[14];var W=0;T&&N.match(T)&&(N=J7(N,h.dateNF,N.match(T)||[]),W=1),h.cellDates?(L.t="d",L.v=sn(N,W)):(L.t="n",L.v=_n(sn(N,W))),h.cellText!==!1&&(L.w=zs(L.z,L.v instanceof Date?_n(L.v):L.v)),h.cellNF||delete L.z}else L.t="s",L.v=N;if(L.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=L):g[ot({c:b,r:x})]=L),y=_+1,j=d.charCodeAt(y),v.e.c<b&&(v.e.c=b),v.e.r<x&&(v.e.r=x),E==w)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;_<d.length;++_)switch(E=d.charCodeAt(_)){case 34:j===34&&(S=!S);break;case w:case 10:case 13:if(!S&&C())break e;break}return _-y>0&&C(),g["!ref"]=Jt(v),g}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Ou(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:Kq(d,f);switch(f.type){case"base64":h=$i(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Ap<"u"||(h=Qe&&Buffer.isBuffer(d)?d.toString("binary"):xh(d));break;case"array":h=wv(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Ld(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ld(h):f.type=="binary"&&typeof Ap<"u",h.slice(0,19)=="socialcalc:version:"?t3.to_sheet(f.type=="string"?h:Ld(h),f):s(h,f)}function l(d,f){return ml(o(d,f),f)}function c(d){for(var f=[],h=_t(d["!ref"]),p,g=Array.isArray(d),v=h.s.r;v<=h.e.r;++v){for(var x=[],b=h.s.c;b<=h.e.c;++b){var m=ot({r:v,c:b});if(p=g?(d[v]||[])[b]:d[m],!p||p.v==null){x.push("          ");continue}for(var y=(p.w||(Li(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),bj=function(){function e(P,H,B){if(P){Pn(P,P.l||0);for(var z=B.Enum||ce;P.l<P.length;){var ae=P.read_shift(2),Se=z[ae]||z[65535],Q=P.read_shift(2),q=P.l+Q,ee=Se.f&&Se.f(P,Q,B);if(P.l=q,H(ee,Se,ae))return}}}function t(P,H){switch(H.type){case"base64":return r(Oa($i(P)),H);case"binary":return r(Oa(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var B=H||{},z=B.dense?[]:{},ae="Sheet1",Se="",Q=0,q={},ee=[],ye=[],re={s:{r:0,c:0},e:{r:0,c:0}},Le=B.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)B.Enum=ce,e(P,function(be,Wt,Ir){switch(Ir){case 0:B.vers=be,be>=4096&&(B.qpro=!0);break;case 6:re=be;break;case 204:be&&(Se=be);break;case 222:Se=be;break;case 15:case 51:B.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Ir==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=B.dateNF||zt[14],B.cellDates&&(be[1].t="d",be[1].v=xP(be[1].v))),B.qpro&&be[3]>Q&&(z["!ref"]=Jt(re),q[ae]=z,ee.push(ae),z=B.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Q=be[3],ae=Se||"Sheet"+(Q+1),Se="");var Vn=B.dense?(z[be[0].r]||[])[be[0].c]:z[ot(be[0])];if(Vn){Vn.t=be[1].t,Vn.v=be[1].v,be[1].z!=null&&(Vn.z=be[1].z),be[1].f!=null&&(Vn.f=be[1].f);break}B.dense?(z[be[0].r]||(z[be[0].r]=[]),z[be[0].r][be[0].c]=be[1]):z[ot(be[0])]=be[1];break}},B);else if(P[2]==26||P[2]==14)B.Enum=pe,P[2]==14&&(B.qpro=!0,P.l=0),e(P,function(be,Wt,Ir){switch(Ir){case 204:ae=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>Q&&(z["!ref"]=Jt(re),q[ae]=z,ee.push(ae),z=B.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Q=be[3],ae="Sheet"+(Q+1)),Le>0&&be[0].r>=Le)break;B.dense?(z[be[0].r]||(z[be[0].r]=[]),z[be[0].r][be[0].c]=be[1]):z[ot(be[0])]=be[1],re.e.c<be[0].c&&(re.e.c=be[0].c),re.e.r<be[0].r&&(re.e.r=be[0].r);break;case 27:be[14e3]&&(ye[be[14e3][0]]=be[14e3][1]);break;case 1537:ye[be[0]]=be[1],be[0]==Q&&(ae=be[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(z["!ref"]=Jt(re),q[Se||ae]=z,ee.push(Se||ae),!ye.length)return{SheetNames:ee,Sheets:q};for(var Ce={},tt=[],Fe=0;Fe<ye.length;++Fe)q[ee[Fe]]?(tt.push(ye[Fe]||ee[Fe]),Ce[ye[Fe]]=q[ye[Fe]]||q[ee[Fe]]):(tt.push(ye[Fe]),Ce[ye[Fe]]={"!ref":"A1"});return{SheetNames:tt,Sheets:Ce}}function n(P,H){var B=H||{};if(+B.codepage>=0&&vf(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=wn(),ae=_t(P["!ref"]),Se=Array.isArray(P),Q=[];xe(z,0,i(1030)),xe(z,6,l(ae));for(var q=Math.min(ae.e.r,8191),ee=ae.s.r;ee<=q;++ee)for(var ye=Nr(ee),re=ae.s.c;re<=ae.e.c;++re){ee===ae.s.r&&(Q[re]=zr(re));var Le=Q[re]+ye,Ce=Se?(P[ee]||[])[re]:P[Le];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?xe(z,13,p(ee,re,Ce.v)):xe(z,14,v(ee,re,Ce.v));else{var tt=Li(Ce);xe(z,15,f(ee,re,tt.slice(0,239)))}}return xe(z,1),z.end()}function a(P,H){var B=H||{};if(+B.codepage>=0&&vf(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=wn();xe(z,0,s(P));for(var ae=0,Se=0;ae<P.SheetNames.length;++ae)(P.Sheets[P.SheetNames[ae]]||{})["!ref"]&&xe(z,27,te(P.SheetNames[ae],Se++));var Q=0;for(ae=0;ae<P.SheetNames.length;++ae){var q=P.Sheets[P.SheetNames[ae]];if(!(!q||!q["!ref"])){for(var ee=_t(q["!ref"]),ye=Array.isArray(q),re=[],Le=Math.min(ee.e.r,8191),Ce=ee.s.r;Ce<=Le;++Ce)for(var tt=Nr(Ce),Fe=ee.s.c;Fe<=ee.e.c;++Fe){Ce===ee.s.r&&(re[Fe]=zr(Fe));var be=re[Fe]+tt,Wt=ye?(q[Ce]||[])[Fe]:q[be];if(!(!Wt||Wt.t=="z"))if(Wt.t=="n")xe(z,23,C(Ce,Fe,Q,Wt.v));else{var Ir=Li(Wt);xe(z,22,E(Ce,Fe,Q,Ir.slice(0,239)))}}++Q}}return xe(z,1),z.end()}function i(P){var H=ie(2);return H.write_shift(2,P),H}function s(P){var H=ie(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var B=0,z=0,ae=0,Se=0;Se<P.SheetNames.length;++Se){var Q=P.SheetNames[Se],q=P.Sheets[Q];if(!(!q||!q["!ref"])){++ae;var ee=Wn(q["!ref"]);B<ee.e.r&&(B=ee.e.r),z<ee.e.c&&(z=ee.e.c)}}return B>8191&&(B=8191),H.write_shift(2,B),H.write_shift(1,ae),H.write_shift(1,z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&B.qpro?(z.s.c=P.read_shift(1),P.l++,z.s.r=P.read_shift(2),z.e.c=P.read_shift(1),P.l++,z.e.r=P.read_shift(2),z):(z.s.c=P.read_shift(2),z.s.r=P.read_shift(2),H==12&&B.qpro&&(P.l+=2),z.e.c=P.read_shift(2),z.e.r=P.read_shift(2),H==12&&B.qpro&&(P.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(P){var H=ie(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function c(P,H,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=P.read_shift(1),z[3]=P.read_shift(1),z[0].r=P.read_shift(2),P.l+=2):(z[2]=P.read_shift(1),z[0].c=P.read_shift(2),z[0].r=P.read_shift(2)),z}function d(P,H,B){var z=P.l+H,ae=c(P,H,B);if(ae[1].t="s",B.vers==20768){P.l++;var Se=P.read_shift(1);return ae[1].v=P.read_shift(Se,"utf8"),ae}return B.qpro&&P.l++,ae[1].v=P.read_shift(z-P.l,"cstr"),ae}function f(P,H,B){var z=ie(7+B.length);z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(1,39);for(var ae=0;ae<z.length;++ae){var Se=B.charCodeAt(ae);z.write_shift(1,Se>=128?95:Se)}return z.write_shift(1,0),z}function h(P,H,B){var z=c(P,H,B);return z[1].v=P.read_shift(2,"i"),z}function p(P,H,B){var z=ie(7);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(2,B,"i"),z}function g(P,H,B){var z=c(P,H,B);return z[1].v=P.read_shift(8,"f"),z}function v(P,H,B){var z=ie(13);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(8,B,"f"),z}function x(P,H,B){var z=P.l+H,ae=c(P,H,B);if(ae[1].v=P.read_shift(8,"f"),B.qpro)P.l=z;else{var Se=P.read_shift(2);_(P.slice(P.l,P.l+Se),ae),P.l+=Se}return ae}function b(P,H,B){var z=H&32768;return H&=-32769,H=(z?P:0)+(H>=8192?H-16384:H),(z?"":"$")+(B?zr(H):Nr(H))}var m={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,H){Pn(P,0);for(var B=[],z=0,ae="",Se="",Q="",q="";P.l<P.length;){var ee=P[P.l++];switch(ee){case 0:B.push(P.read_shift(8,"f"));break;case 1:Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),B.push(Se+ae);break;case 2:{var ye=b(H[0].c,P.read_shift(2),!0),re=b(H[0].r,P.read_shift(2),!1);Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),B.push(ye+re+":"+Se+ae)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(P.read_shift(2));break;case 6:{for(var Le="";ee=P[P.l++];)Le+=String.fromCharCode(ee);B.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:q=B.pop(),Q=B.pop(),B.push(["AND","OR"][ee-20]+"("+Q+","+q+")");break;default:if(ee<32&&y[ee])q=B.pop(),Q=B.pop(),B.push(Q+y[ee]+q);else if(m[ee]){if(z=m[ee][1],z==69&&(z=P[P.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+B.join("|")+"|");return}var Ce=B.slice(-z);B.length-=z,B.push(m[ee][0]+"("+Ce.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}B.length==1?H[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function w(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function S(P,H){var B=w(P);return B[1].t="s",B[1].v=P.read_shift(H-4,"cstr"),B}function E(P,H,B,z){var ae=ie(6+z.length);ae.write_shift(2,P),ae.write_shift(1,B),ae.write_shift(1,H),ae.write_shift(1,39);for(var Se=0;Se<z.length;++Se){var Q=z.charCodeAt(Se);ae.write_shift(1,Q>=128?95:Q)}return ae.write_shift(1,0),ae}function j(P,H){var B=w(P);B[1].v=P.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function T(P,H){var B=w(P),z=P.read_shift(4),ae=P.read_shift(4),Se=P.read_shift(2);if(Se==65535)return z===0&&ae===3221225472?(B[1].t="e",B[1].v=15):z===0&&ae===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var Q=Se&32768;return Se=(Se&32767)-16446,B[1].v=(1-Q*2)*(ae*Math.pow(2,Se+32)+z*Math.pow(2,Se)),B}function C(P,H,B,z){var ae=ie(14);if(ae.write_shift(2,P),ae.write_shift(1,B),ae.write_shift(1,H),z==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Se=0,Q=0,q=0,ee=0;return z<0&&(Se=1,z=-z),Q=Math.log2(z)|0,z/=Math.pow(2,Q-31),ee=z>>>0,ee&2147483648||(z/=2,++Q,ee=z>>>0),z-=ee,ee|=2147483648,ee>>>=0,z*=Math.pow(2,32),q=z>>>0,ae.write_shift(4,q),ae.write_shift(4,ee),Q+=16383+(Se?32768:0),ae.write_shift(2,Q),ae}function N(P,H){var B=T(P);return P.l+=H-14,B}function L(P,H){var B=w(P),z=P.read_shift(4);return B[1].v=z>>6,B}function W(P,H){var B=w(P),z=P.read_shift(8,"f");return B[1].v=z,B}function Z(P,H){var B=W(P);return P.l+=H-10,B}function V(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function ne(P,H){var B=P[P.l++];B>H-1&&(B=H-1);for(var z="";z.length<B;)z+=String.fromCharCode(P[P.l++]);return z}function se(P,H,B){if(!(!B.qpro||H<21)){var z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ae=P.read_shift(H-21,"cstr");return[z,ae]}}function K(P,H){for(var B={},z=P.l+H;P.l<z;){var ae=P.read_shift(2);if(ae==14e3){for(B[ae]=[0,""],B[ae][0]=P.read_shift(2);P[P.l];)B[ae][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return B}function te(P,H){var B=ie(5+P.length);B.write_shift(2,14e3),B.write_shift(2,H);for(var z=0;z<P.length;++z){var ae=P.charCodeAt(z);B[B.l++]=ae>127?95:ae}return B[B.l++]=0,B}var ce={0:{n:"BOF",f:YP},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),M9=/^\s|\s$|[\t\n\r]/;function r3(e,t){if(!t.bookSST)return"";var r=[er];r[r.length]=ge("sst",null,{xmlns:Au[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(M9)&&(i+=' xml:space="preserve"'),i+=">"+it(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function $9(e){return[e.read_shift(4),e.read_shift(4)]}function L9(e,t){return t||(t=ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var F9=NB;function B9(e){var t=wn();ue(t,159,L9(e));for(var r=0;r<e.length;++r)ue(t,19,F9(e[r]));return ue(t,160),t.end()}function U9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function n3(e){var t=0,r,n=U9(e),a=n.length+1,i,s,o,l,c;for(r=el(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var z9=function(){function e(a,i){switch(i.type){case"base64":return t($i(a),i);case"binary":return t(a,i);case"buffer":return t(Qe&&Buffer.isBuffer(a)?a.toString("binary"):xh(a),i);case"array":return t(wv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,v=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++v,x.length){var b={v:x,t:"s"};Array.isArray(o)?o[f][v]=b:o[ot({r:f,c:v})]=b}break}p=h.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Jt(c),o}function r(a,i){return ml(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=_t(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=ot({r:c,c:d});o=l?(a[c]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Li(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function wj(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var W9=6,Ai=W9;function Mp(e){return Math.floor((e+Math.round(128/Ai)/256)*Ai)}function $p(e){return Math.floor((e-5)/Ai*100+.5)/100}function x1(e){return Math.round((e*Ai+5)/Ai*256)/256}function O_(e){e.width?(e.wpx=Mp(e.width),e.wch=$p(e.wpx),e.MDW=Ai):e.wpx?(e.wch=$p(e.wpx),e.width=x1(e.wch),e.MDW=Ai):typeof e.wch=="number"&&(e.width=x1(e.wch),e.wpx=Mp(e.width),e.MDW=Ai),e.customWidth&&delete e.customWidth}var H9=96,a3=H9;function Lp(e){return e*96/a3}function i3(e){return e*a3/96}function q9(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ge("numFmt",null,{numFmtId:n,formatCode:it(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ge("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function V9(e){var t=[];return t[t.length]=ge("cellXfs",null),e.forEach(function(r){t[t.length]=ge("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ge("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function s3(e,t){var r=[er,ge("styleSheet",null,{xmlns:Au[0],"xmlns:vt":pr.vt})],n;return e.SSF&&(n=q9(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=V9(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function K9(e,t){var r=e.read_shift(2),n=Wr(e);return[r,n]}function G9(e,t,r){r||(r=ie(6+4*t.length)),r.write_shift(2,e),vr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function X9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=MB(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=DB(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wr(e),n}function Y9(e,t){t||(t=ie(25+4*32)),t.write_shift(2,e.sz*20),$B(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ip(e.color,t);var n=0;return n=2,t.write_shift(1,n),vr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Q9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],gx,J9=ai;function _j(e,t){t||(t=ie(4*3+8*7+16*1)),gx||(gx=v_(Q9));var r=gx[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Ip({auto:1},t),Ip({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Z9(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function o3(e,t,r){r||(r=ie(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function id(e,t){return t||(t=ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var eU=ai;function tU(e,t){return t||(t=ie(51)),t.write_shift(1,0),id(null,t),id(null,t),id(null,t),id(null,t),id(null,t),t.length>t.l?t.slice(0,t.l):t}function rU(e,t){return t||(t=ie(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Rp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function nU(e,t,r){var n=ie(2052);return n.write_shift(4,e),Rp(t,n),Rp(r,n),n.length>n.l?n.slice(0,n.l):n}function aU(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ue(e,615,Ra(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ue(e,44,G9(a,t[a]))}),ue(e,616))}}function iU(e){var t=1;ue(e,611,Ra(t)),ue(e,43,Y9({sz:12,color:{theme:1},name:"Calibri",family:2})),ue(e,612)}function sU(e){var t=2;ue(e,603,Ra(t)),ue(e,45,_j({patternType:"none"})),ue(e,45,_j({patternType:"gray125"})),ue(e,604)}function oU(e){var t=1;ue(e,613,Ra(t)),ue(e,46,tU()),ue(e,614)}function lU(e){var t=1;ue(e,626,Ra(t)),ue(e,47,o3({numFmtId:0},65535)),ue(e,627)}function cU(e,t){ue(e,617,Ra(t.length)),t.forEach(function(r){ue(e,47,o3(r,0))}),ue(e,618)}function uU(e){var t=1;ue(e,619,Ra(t)),ue(e,48,rU({xfId:0,name:"Normal"})),ue(e,620)}function dU(e){var t=0;ue(e,505,Ra(t)),ue(e,506)}function fU(e){var t=0;ue(e,508,nU(t,"TableStyleMedium9","PivotStyleMedium4")),ue(e,509)}function hU(e,t){var r=wn();return ue(r,278),aU(r,e.SSF),iU(r),sU(r),oU(r),lU(r),cU(r,t.cellXfs),uU(r),dU(r),fU(r),ue(r,279),r.end()}function l3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[er];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function pU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wr(e)}}function mU(e){var t=ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),vr(e.name,t),t.slice(0,t.l)}function vU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function gU(e){var t=ie(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function xU(e,t){var r=ie(8+2*t.length);return r.write_shift(4,e),vr(t,r),r.slice(0,r.l)}function yU(e){return e.l+=4,e.read_shift(4)!=0}function bU(e,t){var r=ie(8);return r.write_shift(4,e),r.write_shift(4,1),r}function wU(){var e=wn();return ue(e,332),ue(e,334,Ra(1)),ue(e,335,mU({name:"XLDAPR",version:12e4,flags:3496657072})),ue(e,336),ue(e,339,xU(1,"XLDAPR")),ue(e,52),ue(e,35,Ra(514)),ue(e,4096,Ra(0)),ue(e,4097,Jn(1)),ue(e,36),ue(e,53),ue(e,340),ue(e,337,bU(1)),ue(e,51,gU([[1,0]])),ue(e,338),ue(e,333),e.end()}function c3(){var e=[er];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function _U(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ot(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Jl=1024;function u3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ge("xml",null,{"xmlns:v":Rn.v,"xmlns:o":Rn.o,"xmlns:x":Rn.x,"xmlns:mv":Rn.mv}).replace(/\/>/,">"),ge("o:shapelayout",ge("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ge("v:shapetype",[ge("v:stroke",null,{joinstyle:"miter"}),ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Jl<e*1e3;)Jl+=1e3;return t.forEach(function(i){var s=mr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ge("v:fill",l,o),d={on:"t",obscured:"t"};++Jl,a=a.concat(["<v:shape"+bf({id:"_x0000_s"+Jl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ge("v:shadow",null,d),ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ar("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ar("x:AutoFill","False"),Ar("x:Row",String(s.r)),Ar("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function d3(e){var t=[er,ge("comments",null,{xmlns:Au[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=it(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(it(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ar("t",it(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Ar("t",it(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function SU(e,t,r){var n=[er,ge("ThreadedComments",null,{xmlns:pr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ge("threadedComment",Ar("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function EU(e){var t=[er,ge("personList",null,{xmlns:pr.TCMNT,"xmlns:x":Au[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function jU(e){var t={};t.iauthor=e.read_shift(4);var r=yl(e);return t.rfx=r.s,t.ref=ot(r.s),e.l+=16,t}function TU(e,t){return t==null&&(t=ie(36)),t.write_shift(4,e[1].iauthor),Nu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var AU=Wr;function OU(e){return vr(e.slice(0,54))}function NU(e){var t=wn(),r=[];return ue(t,628),ue(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ue(t,632,OU(a.a)))})}),ue(t,631),ue(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:mr(n[0]),e:mr(n[0])};ue(t,635,TU([i,a])),a.t&&a.t.length>0&&ue(t,637,kB(a)),ue(t,636),delete a.iauthor})}),ue(t,634),ue(t,629),t.end()}function CU(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ct.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var f3=["xlsb","xlsm","xlam","biff8","xla"],kU=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,l?c+=t.r:--c,a+(o?"":"$")+zr(d)+(l?"":"$")+Nr(c)}return function(a,i){return t=i,a.replace(e,r)}}(),N_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C_=function(){return function(t,r){return t.replace(N_,function(n,a,i,s,o,l){var c=S_(s)-(i?0:r.c),d=__(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function PU(e,t){return e.replace(N_,function(r,n,a,i,s,o){return n+(a=="$"?a+i:zr(S_(i)+t.c))+(s=="$"?s+o:Nr(__(o)+t.r))})}function RU(e){return e.length!=1}function Vt(e){e.l+=1}function Ws(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function h3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return p3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Ws(e),o=Ws(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function p3(e){var t=Ws(e),r=Ws(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function IU(e,t,r){if(r.biff<8)return p3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ws(e),s=Ws(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function m3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return DU(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ws(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function DU(e){var t=Ws(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function MU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function $U(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return LU(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function LU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function FU(e,t,r){var n=(e[e.l++]&96)>>5,a=h3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function BU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=h3(e,i,r);return[n,a,s]}function UU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function zU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function WU(e,t,r){var n=(e[e.l++]&96)>>5,a=IU(e,t-1,r);return[n,a]}function HU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Sj(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function qU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function VU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function KU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function XU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function v3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function YU(e){return e.read_shift(2),v3(e)}function QU(e){return e.read_shift(2),v3(e)}function JU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=m3(e,0,r);return[n,a]}function ZU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=$U(e,0,r);return[n,a]}function ez(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=m3(e,0,r);return[n,a,i]}function tz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[tW[a],y3[a],n]}function rz(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:nz(e);return[a,(i[0]===0?y3:eW)[i[1]]]}function nz(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function az(e,t,r){e.l+=r&&r.biff==2?3:4}function iz(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sz(e){return e.l++,wh[e.read_shift(1)]}function oz(e){return e.l++,e.read_shift(2)}function lz(e){return e.l++,e.read_shift(1)!==0}function cz(e){return e.l++,Cu(e)}function uz(e,t,r){return e.l++,JP(e,t-1,r)}function dz(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=e9(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Cu(e);break;case 2:r[1]=a9(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fz(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?yl:o9)(e));return a}function hz(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=dz(e,r.biff);return s}function pz(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function mz(e,t,r){if(r.biff==5)return vz(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function vz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function gz(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xz(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yz(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function bz(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var wz=ai,_z=ai,Sz=ai;function _h(e,t,r){return e.l+=2,[MU(e)]}function k_(e){return e.l+=6,[]}var Ez=_h,jz=k_,Tz=k_,Az=_h;function g3(e){return e.l+=2,[YP(e),e.read_shift(2)&1]}var Oz=_h,Nz=g3,Cz=k_,kz=_h,Pz=_h,Rz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Iz(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Rz[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Dz(e){return e.l+=2,[e.read_shift(4)]}function Mz(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function $z(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Lz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Fz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Bz(e){return e.l+=4,[0,0]}var Ej={1:{n:"PtgExp",f:iz},2:{n:"PtgTbl",f:Sz},3:{n:"PtgAdd",f:Vt},4:{n:"PtgSub",f:Vt},5:{n:"PtgMul",f:Vt},6:{n:"PtgDiv",f:Vt},7:{n:"PtgPower",f:Vt},8:{n:"PtgConcat",f:Vt},9:{n:"PtgLt",f:Vt},10:{n:"PtgLe",f:Vt},11:{n:"PtgEq",f:Vt},12:{n:"PtgGe",f:Vt},13:{n:"PtgGt",f:Vt},14:{n:"PtgNe",f:Vt},15:{n:"PtgIsect",f:Vt},16:{n:"PtgUnion",f:Vt},17:{n:"PtgRange",f:Vt},18:{n:"PtgUplus",f:Vt},19:{n:"PtgUminus",f:Vt},20:{n:"PtgPercent",f:Vt},21:{n:"PtgParen",f:Vt},22:{n:"PtgMissArg",f:Vt},23:{n:"PtgStr",f:uz},26:{n:"PtgSheet",f:Mz},27:{n:"PtgEndSheet",f:$z},28:{n:"PtgErr",f:sz},29:{n:"PtgBool",f:lz},30:{n:"PtgInt",f:oz},31:{n:"PtgNum",f:cz},32:{n:"PtgArray",f:HU},33:{n:"PtgFunc",f:tz},34:{n:"PtgFuncVar",f:rz},35:{n:"PtgName",f:pz},36:{n:"PtgRef",f:JU},37:{n:"PtgArea",f:FU},38:{n:"PtgMemArea",f:gz},39:{n:"PtgMemErr",f:wz},40:{n:"PtgMemNoMem",f:_z},41:{n:"PtgMemFunc",f:xz},42:{n:"PtgRefErr",f:yz},43:{n:"PtgAreaErr",f:UU},44:{n:"PtgRefN",f:ZU},45:{n:"PtgAreaN",f:WU},46:{n:"PtgMemAreaN",f:Lz},47:{n:"PtgMemNoMemN",f:Fz},57:{n:"PtgNameX",f:mz},58:{n:"PtgRef3d",f:ez},59:{n:"PtgArea3d",f:BU},60:{n:"PtgRefErr3d",f:bz},61:{n:"PtgAreaErr3d",f:zU},255:{}},Uz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zz={1:{n:"PtgElfLel",f:g3},2:{n:"PtgElfRw",f:kz},3:{n:"PtgElfCol",f:Ez},6:{n:"PtgElfRwV",f:Pz},7:{n:"PtgElfColV",f:Az},10:{n:"PtgElfRadical",f:Oz},11:{n:"PtgElfRadicalS",f:Cz},13:{n:"PtgElfColS",f:jz},15:{n:"PtgElfColSV",f:Tz},16:{n:"PtgElfRadicalLel",f:Nz},25:{n:"PtgList",f:Iz},29:{n:"PtgSxName",f:Dz},255:{}},Wz={0:{n:"PtgAttrNoop",f:Bz},1:{n:"PtgAttrSemi",f:XU},2:{n:"PtgAttrIf",f:KU},4:{n:"PtgAttrChoose",f:qU},8:{n:"PtgAttrGoto",f:VU},16:{n:"PtgAttrSum",f:az},32:{n:"PtgAttrBaxcel",f:Sj},33:{n:"PtgAttrBaxcel",f:Sj},64:{n:"PtgAttrSpace",f:YU},65:{n:"PtgAttrSpaceSemi",f:QU},128:{n:"PtgAttrIfError",f:GU},255:{}};function Hz(e,t,r,n){if(n.biff<8)return ai(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=hz(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=fz(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ai(e,t)),i}function qz(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Ej[i]||Ej[Uz[i]],(i===24||i===25)&&(a=(i===24?zz:Wz)[e[e.l+1]]),!a||!a.f?ai(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Vz(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Kz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gz(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function x3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function jj(e,t,r){var n=x3(e,t,r);return n=="#REF"?n:Gz(n,r)}function Hc(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var v=-1,x="",b=0,m=e[0].length;b<m;++b){var y=e[0][b];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:x=Lt(" ",e[0][v][1][1]);break;case 1:x=Lt("\r",e[0][v][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+x,v=-1}o.push(c+Kz[y[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Bd(y[1][1],s,a),o.push(Ud(d,i));break;case"PtgRefN":d=r?Bd(y[1][1],r,a):y[1][1],o.push(Ud(d,i));break;case"PtgRef3d":f=y[1][1],d=Bd(y[1][2],s,a),g=jj(n,f,a),o.push(g+"!"+Ud(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],w=y[1][1];_||(_=0),_&=127;var S=_==0?[]:o.slice(-_);o.length-=_,w==="User"&&(w=S.shift()),o.push(w+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=cj(y[1][1],r?{s:r}:s,a),o.push(mx(p,a));break;case"PtgArea":p=cj(y[1][1],s,a),o.push(mx(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],g=jj(n,f,a),o.push(g+"!"+mx(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],j=E?E.Name:"SH33TJSNAME"+String(h);j&&j.slice(0,6)=="_xlfn."&&!a.xlfn&&(j=j.slice(6)),o.push(j);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var C;if(a.biff<=5)T<0&&(T=-T),n[T]&&(C=n[T][h]);else{var N="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(N=n.SheetNames[n[T][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])N+=n[T][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var L=(x3(n,T,a)||"").split(";;");L[h-1]?N=L[h-1]:N+="SH33TJSERRX"}o.push(N);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var W="(",Z=")";if(v>=0){switch(x="",e[0][v][1][0]){case 2:W=Lt(" ",e[0][v][1][1])+W;break;case 3:W=Lt("\r",e[0][v][1][1])+W;break;case 4:Z=Lt(" ",e[0][v][1][1])+Z;break;case 5:Z=Lt("\r",e[0][v][1][1])+Z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(W+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[ot(d)]){var ne=n.sharedf[ot(d)];o.push(Hc(ne,s,V,n,a))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){o.push(Hc(c[1],s,V,n,a)),se=!0;break}se||o.push(y[1])}break;case"PtgArray":o.push("{"+Vz(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&K.indexOf(e[0][b][0])==-1){y=e[0][v];var te=!0;switch(y[1][0]){case 4:te=!1;case 0:x=Lt(" ",y[1][1]);break;case 5:te=!1;case 1:x=Lt("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((te?x:"")+o.pop()+(te?"":x)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Xz(e){if(e==null){var t=ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return tl(e);return tl(0)}function Yz(e,t,r,n,a){var i=rl(t,r,a),s=Xz(e.v),o=ie(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ie(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var f=Tr([i,s,o,c]);return f}function _v(e,t,r){var n=e.read_shift(4),a=qz(e,n,r),i=e.read_shift(4),s=i>0?Hz(e,i,a,r):null;return[a,s]}var Qz=_v,Sv=_v,Jz=_v,Zz=_v,eW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},y3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rW(e){var t="of:="+e.replace(N_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function nW(e){return e.replace(/\./,"!")}var zd=typeof Map<"u";function P_(e,t,r){var n=0,a=e.length;if(r){if(zd?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=zd?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(zd?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Ev(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ai=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=$p(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=x1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function b3(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ys(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){mP(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function aW(e,t,r){if(e&&e["!ref"]){var n=_t(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function iW(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Jt(e[r])+'"/>';return t+"</mergeCells>"}function sW(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=yf(it(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+ge("outlinePr",null,c)}!i&&!o||(a[a.length]=ge("sheetPr",o,s))}var oW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function cW(e){var t={sheet:1};return oW.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),lW.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=n3(e.password).toString(16).toUpperCase()),ge("sheetProtection",null,t)}function uW(e){return b3(e),ge("pageMargins",null,e)}function dW(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ge("col",null,Ev(a,n)));return r[r.length]="</cols>",r.join("")}function fW(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Jt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Wn(a);s.s.r==s.e.r&&(s.e.r=Wn(t["!ref"]).e.r,a=Jt(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ge("autoFilter",null,{ref:a})}function hW(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ge("sheetViews",ge("sheetView",null,a),{})}function pW(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=wh[e.v];break;case"d":n&&n.cellDates?a=sn(e.v,-1).toISOString():(e=Sn(e),e.t="n",a=""+(e.v=_n(sn(e.v)))),typeof e.z>"u"&&(e.z=zt[14]);break;default:a=e.v;break}var o=Ar("v",it(a)),l={r:t},c=Ys(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ar("v",""+P_(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ge("f",it(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),ge("c",o,l)}function mW(e,t,r,n){var a=[],i=[],s=_t(e["!ref"]),o="",l,c="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),v={r:c},x,b=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=zr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],c=Nr(f),h=s.s.c;h<=s.e.c;++h){l=d[h]+c;var m=g?(e[f]||[])[h]:e[l];m!==void 0&&(o=pW(m,l,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(v={r:c},p&&p[f]&&(x=p[f],x.hidden&&(v.hidden=1),b=-1,x.hpx?b=Lp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(v.ht=b,v.customHeight=1),x.level&&(v.outlineLevel=x.level)),a[a.length]=ge("row",i.join(""),v))}if(p)for(;f<p.length;++f)p&&p[f]&&(v={r:f+1},x=p[f],x.hidden&&(v.hidden=1),b=-1,x.hpx?b=Lp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(v.ht=b,v.customHeight=1),x.level&&(v.outlineLevel=x.level),a[a.length]=ge("row","",v));return a.join("")}function w3(e,t,r,n){var a=[er,ge("worksheet",null,{xmlns:Au[0],"xmlns:r":pr.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",d=_t(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Jt(d)}n||(n={}),l["!comments"]=[];var f=[];sW(l,r,e,t,a),a[a.length]=ge("dimension",null,{ref:c}),a[a.length]=hW(l,t,e,r),t.sheetFormat&&(a[a.length]=ge("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=dW(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=mW(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=cW(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=fW(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=iW(l["!merges"]));var h=-1,p,g=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(g=nt(n,-1,it(v[1].Target).replace(/#.*$/,""),Xe.HLINK),p["r:id"]="rId"+g),(h=v[1].Target.indexOf("#"))>-1&&(p.location=it(v[1].Target.slice(h+1))),v[1].Tooltip&&(p.tooltip=it(v[1].Tooltip)),a[a.length]=ge("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=uW(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ar("ignoredErrors",ge("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(g=nt(n,-1,"../drawings/drawing"+(e+1)+".xml",Xe.DRAW),a[a.length]=ge("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=nt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xe.VML),a[a.length]=ge("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function vW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function gW(e,t,r){var n=ie(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Lp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){c.c=p;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[ot(c)];g&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var v=n.l;return n.l=l,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function xW(e,t,r,n){var a=gW(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ue(e,0,a)}var yW=yl,bW=Nu;function wW(){}function _W(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=PB(e),r}function SW(e,t,r){r==null&&(r=ie(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Ip({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),MP(e,r),r.slice(0,r.l)}function EW(e){var t=da(e);return[t]}function jW(e,t,r){return r==null&&(r=ie(8)),vl(t,r)}function TW(e){var t=gl(e);return[t]}function AW(e,t,r){return r==null&&(r=ie(4)),xl(t,r)}function OW(e){var t=da(e),r=e.read_shift(1);return[t,r,"b"]}function NW(e,t,r){return r==null&&(r=ie(9)),vl(t,r),r.write_shift(1,e.v?1:0),r}function CW(e){var t=gl(e),r=e.read_shift(1);return[t,r,"b"]}function kW(e,t,r){return r==null&&(r=ie(5)),xl(t,r),r.write_shift(1,e.v?1:0),r}function PW(e){var t=da(e),r=e.read_shift(1);return[t,r,"e"]}function RW(e,t,r){return r==null&&(r=ie(9)),vl(t,r),r.write_shift(1,e.v),r}function IW(e){var t=gl(e),r=e.read_shift(1);return[t,r,"e"]}function DW(e,t,r){return r==null&&(r=ie(8)),xl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function MW(e){var t=da(e),r=e.read_shift(4);return[t,r,"s"]}function $W(e,t,r){return r==null&&(r=ie(12)),vl(t,r),r.write_shift(4,t.v),r}function LW(e){var t=gl(e),r=e.read_shift(4);return[t,r,"s"]}function FW(e,t,r){return r==null&&(r=ie(8)),xl(t,r),r.write_shift(4,t.v),r}function BW(e){var t=da(e),r=Cu(e);return[t,r,"n"]}function UW(e,t,r){return r==null&&(r=ie(16)),vl(t,r),tl(e.v,r),r}function zW(e){var t=gl(e),r=Cu(e);return[t,r,"n"]}function WW(e,t,r){return r==null&&(r=ie(12)),xl(t,r),tl(e.v,r),r}function HW(e){var t=da(e),r=$P(e);return[t,r,"n"]}function qW(e,t,r){return r==null&&(r=ie(12)),vl(t,r),LP(e.v,r),r}function VW(e){var t=gl(e),r=$P(e);return[t,r,"n"]}function KW(e,t,r){return r==null&&(r=ie(8)),xl(t,r),LP(e.v,r),r}function GW(e){var t=da(e),r=E_(e);return[t,r,"is"]}function XW(e){var t=da(e),r=Wr(e);return[t,r,"str"]}function YW(e,t,r){return r==null&&(r=ie(12+4*e.v.length)),vl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function QW(e){var t=gl(e),r=Wr(e);return[t,r,"str"]}function JW(e,t,r){return r==null&&(r=ie(8+4*e.v.length)),xl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ZW(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=Hc(o,null,a,r.supbooks,r)}else e.l=n;return s}function eH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=Hc(o,null,a,r.supbooks,r)}else e.l=n;return s}function tH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=Cu(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=Hc(o,null,a,r.supbooks,r)}else e.l=n;return s}function rH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=Wr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=Hc(o,null,a,r.supbooks,r)}else e.l=n;return s}var nH=yl,aH=Nu;function iH(e,t){return t==null&&(t=ie(4)),t.write_shift(4,e),t}function sH(e,t){var r=e.l+t,n=yl(e),a=j_(e),i=Wr(e),s=Wr(e),o=Wr(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function oH(e,t){var r=ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Nu({s:mr(e[0]),e:mr(e[0])},r),T_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return vr(a||"",r),vr(e[1].Tooltip||"",r),vr("",r),r.slice(0,r.l)}function lH(){}function cH(e,t,r){var n=e.l+t,a=FP(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Qz(e,n-e.l,r);s[1]=o}else e.l=n;return s}function uH(e,t,r){var n=e.l+t,a=yl(e),i=[a];if(r.cellFormula){var s=Zz(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function dH(e,t,r){r==null&&(r=ie(18));var n=Ev(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var _3=["left","right","top","bottom","header","footer"];function fH(e){var t={};return _3.forEach(function(r){t[r]=Cu(e)}),t}function hH(e,t){return t==null&&(t=ie(6*8)),b3(e),_3.forEach(function(r){tl(e[r],t)}),t}function pH(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function mH(e,t,r){r==null&&(r=ie(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function vH(e){var t=ie(24);return t.write_shift(4,4),t.write_shift(4,1),Nu(e,t),t}function gH(e,t){return t==null&&(t=ie(16*4+2)),t.write_shift(2,e.password?n3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function xH(){}function yH(){}function bH(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Sn(t),t.z=t.z||zt[14],t.v=_n(sn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=Ys(a.cellXfs,t,a),t.l&&i["!links"].push([ot(l),t.l]),t.c&&i["!comments"].push([ot(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=P_(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?ue(e,18,FW(t,l)):ue(e,7,$W(t,l))):(l.t="str",s?ue(e,17,JW(t,l)):ue(e,6,YW(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?ue(e,13,KW(t,l)):ue(e,2,qW(t,l)):s?ue(e,16,WW(t,l)):ue(e,5,UW(t,l)),!0;case"b":return l.t="b",s?ue(e,15,kW(t,l)):ue(e,4,NW(t,l)),!0;case"e":return l.t="e",s?ue(e,14,DW(t,l)):ue(e,3,RW(t,l)),!0}return s?ue(e,12,AW(t,l)):ue(e,1,jW(t,l)),!0}function wH(e,t,r,n){var a=_t(t["!ref"]||"A1"),i,s="",o=[];ue(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=c;++d){s=Nr(d),xW(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=zr(h)),i=o[h]+s;var p=l?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=bH(e,p,d,h,n,t,f)}}ue(e,146)}function _H(e,t){!t||!t["!merges"]||(ue(e,177,iH(t["!merges"].length)),t["!merges"].forEach(function(r){ue(e,176,aH(r))}),ue(e,178))}function SH(e,t){!t||!t["!cols"]||(ue(e,390),t["!cols"].forEach(function(r,n){r&&ue(e,60,dH(n,r))}),ue(e,391))}function EH(e,t){!t||!t["!ref"]||(ue(e,648),ue(e,649,vH(_t(t["!ref"]))),ue(e,650))}function jH(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=nt(r,-1,n[1].Target.replace(/#.*$/,""),Xe.HLINK);ue(e,494,oH(n,a))}}),delete t["!links"]}function TH(e,t,r,n){if(t["!comments"].length>0){var a=nt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Xe.VML);ue(e,551,T_("rId"+a)),t["!legacy"]=a}}function AH(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Jt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Wn(i);o.s.r==o.e.r&&(o.e.r=Wn(t["!ref"]).e.r,i=Jt(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ue(e,161,Nu(_t(i))),ue(e,162)}}function OH(e,t,r){ue(e,133),ue(e,137,mH(t,r)),ue(e,138),ue(e,134)}function NH(e,t){t["!protect"]&&ue(e,535,gH(t["!protect"]))}function CH(e,t,r,n){var a=wn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=_t(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ue(a,129),(r.vbaraw||s["!outline"])&&ue(a,147,SW(o,s["!outline"])),ue(a,148,bW(l)),OH(a,s,r.Workbook),SH(a,s),wH(a,s,e,t),NH(a,s),AH(a,s,r,e),_H(a,s),jH(a,s,n),s["!margins"]&&ue(a,476,hH(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&EH(a,s),TH(a,s,e,n),ue(a,130),a.end()}function kH(e,t){e.l+=10;var r=Wr(e);return{name:r}}var PH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function RH(e){return!e.Workbook||!e.Workbook.WBProps?"false":uB(e.Workbook.WBProps.date1904)?"true":"false"}var IH="][*?/\\".split("");function S3(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return IH.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function DH(e,t,r){e.forEach(function(n,a){S3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function MH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];DH(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)aW(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function E3(e){var t=[er];t[t.length]=ge("workbook",null,{xmlns:Au[0],"xmlns:r":pr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(PH.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ge("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:it(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ge("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=ge("definedName",it(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function $H(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=g1(e),r.name=Wr(e),r}function LH(e,t){return t||(t=ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),T_(e.strRelID,t),vr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function FH(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Wr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function BH(e,t){t||(t=ie(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),MP(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function UH(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=RB(e),s=Jz(e,0,r),o=j_(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function zH(e,t){ue(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ue(e,156,LH(a))}ue(e,144)}function WH(e,t){t||(t=ie(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return vr("SheetJS",t),vr(Tp.version,t),vr(Tp.version,t),vr("7262",t),t.length>t.l?t.slice(0,t.l):t}function HH(e,t){t||(t=ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function qH(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ue(e,135),ue(e,158,HH(a)),ue(e,136))}}function VH(e,t){var r=wn();return ue(r,131),ue(r,128,WH()),ue(r,153,BH(e.Workbook&&e.Workbook.WBProps||null)),qH(r,e),zH(r,e),ue(r,132),r.end()}function KH(e,t,r){return(t.slice(-4)===".bin"?VH:E3)(e)}function GH(e,t,r,n,a){return(t.slice(-4)===".bin"?CH:w3)(e,r,n,a)}function XH(e,t,r){return(t.slice(-4)===".bin"?hU:s3)(e,r)}function YH(e,t,r){return(t.slice(-4)===".bin"?B9:r3)(e,r)}function QH(e,t,r){return(t.slice(-4)===".bin"?NU:d3)(e)}function JH(e){return(e.slice(-4)===".bin"?wU:c3)()}function ZH(e,t){var r=[];return e.Props&&r.push(XB(e.Props,t)),e.Custprops&&r.push(YB(e.Props,e.Custprops)),r.join("")}function eq(){return""}function tq(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ge("NumberFormat",null,{"ss:Format":it(zt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ge("Style",i.join(""),s))}),ge("Styles",r.join(""))}function j3(e){return ge("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+C_(e.Ref,{r:0,c:0})})}function rq(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(j3(a)))}return ge("Names",r.join(""))}function nq(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(j3(o)))}return i.join("")}function aq(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ge("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ge("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ge("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ar("ProtectContents","True")),e["!protect"].objects&&a.push(Ar("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ar("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ar("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ar("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ge("WorksheetOptions",a.join(""),{xmlns:Rn.x})}function iq(e){return e.map(function(t){var r=cB(t.t||""),n=ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ge("Comment",n,{"ss:Author":t.a})}).join("")}function sq(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+it(C_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=mr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=it(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=it(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c!=s.c||c[d].s.r!=s.r||(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=wh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||zt[14]);break;case"s":f="String",h=lB(e.v||"");break}var p=Ys(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",v=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(v+=iq(e.c)),ge("Cell",v,o)}function oq(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=i3(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function lq(e,t,r,n){if(!e["!ref"])return"";var a=_t(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,b){O_(x);var m=!!x.width,y=Ev(b,x),_={"ss:Index":b+1};m&&(_["ss:Width"]=Mp(y.width)),x.hidden&&(_["ss:Hidden"]="1"),o.push(ge("Column",null,_))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var d=[oq(c,(e["!rows"]||[])[c])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>c)&&!(i[s].e.c<f)&&!(i[s].e.r<c)){(i[s].s.c!=f||i[s].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},g=ot(p),v=l?(e[c]||[])[f]:e[g];d.push(sq(v,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function cq(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?nq(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?lq(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(aq(i,t,e,r)),n.join("")}function uq(e,t){t||(t={}),e.SSF||(e.SSF=Sn(zt)),e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ZH(e,t)),r.push(eq()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ge("Worksheet",cq(n,t,e),{"ss:Name":it(e.SheetNames[n])}));return r[2]=tq(e,t),r[3]=rq(e),er+ge("Workbook",r.join(""),{xmlns:Rn.ss,"xmlns:o":Rn.o,"xmlns:x":Rn.x,"xmlns:ss":Rn.ss,"xmlns:dt":Rn.dt,"xmlns:html":Rn.html})}var xx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dq(e,t){var r=[],n=[],a=[],i=0,s,o=JE(dj,"n"),l=JE(fj,"n");if(e.Props)for(s=kr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=kr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)XP.indexOf(a[i][0])>-1||VP.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&ct.utils.cfb_add(t,"/SummaryInformation",gj(n,xx.SI,l,fj)),(r.length||c.length)&&ct.utils.cfb_add(t,"/DocumentSummaryInformation",gj(r,xx.DSI,o,dj,c.length?c:null,xx.UDI))}function fq(e,t){var r=t||{},n=ct.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ct.utils.cfb_add(n,a,T3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&dq(e,n),r.biff==8&&e.vbaraw&&CU(n,ct.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var hq={0:{f:vW},1:{f:EW},2:{f:HW},3:{f:PW},4:{f:OW},5:{f:BW},6:{f:XW},7:{f:MW},8:{f:rH},9:{f:tH},10:{f:ZW},11:{f:eH},12:{f:TW},13:{f:VW},14:{f:IW},15:{f:CW},16:{f:zW},17:{f:QW},18:{f:LW},19:{f:E_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:UH},40:{},42:{},43:{f:X9},44:{f:K9},45:{f:J9},46:{f:eU},47:{f:Z9},48:{},49:{f:TB},50:{},51:{f:vU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:A9},62:{f:GW},63:{f:_U},64:{f:xH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_W},148:{f:yW,p:16},151:{f:lH},152:{},153:{f:FH},154:{},155:{},156:{f:$H},157:{},158:{},159:{T:1,f:$9},160:{T:-1},161:{T:1,f:yl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:pU},336:{T:-1},337:{f:yU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:g1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:w9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:cH},427:{f:uH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:wW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:sH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:g1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:AU},633:{T:1},634:{T:-1},635:{T:1,f:jU},636:{T:-1},637:{f:CB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:yH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&w_(r)&&e.push(r)}}function pq(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return xe(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function Sh(e,t,r){return e||(e=ie(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function mq(e,t,r,n){var a=ie(9);return Sh(a,e,t),QP(r,n||"b",a),a}function vq(e,t,r){var n=ie(8+2*r.length);return Sh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function gq(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_n(sn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?xe(e,2,k9(r,n,a)):xe(e,3,C9(r,n,a));return;case"b":case"e":xe(e,5,mq(r,n,t.v,t.t));return;case"s":case"str":xe(e,4,vq(r,n,(t.v||"").slice(0,255)));return}xe(e,1,Sh(null,r,n))}function xq(e,t,r,n){var a=Array.isArray(t),i=_t(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Jt(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Nr(c);for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(l[d]=zr(d)),s=l[d]+o;var f=a?(t[c]||[])[d]:t[s];f&&gq(e,f,c,d)}}}function yq(e,t){for(var r=t||{},n=wn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xe(n,r.biff==4?1033:r.biff==3?521:9,A_(e,16,r)),xq(n,e.Sheets[e.SheetNames[a]],a,r),xe(n,10),n.end()}function bq(e,t,r){xe(e,49,h9({sz:12,name:"Arial"},r))}function wq(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&xe(e,1054,v9(a,t[a],r))})}function _q(e,t){var r=ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xe(e,2151,r),r=ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),e3(_t(t["!ref"]||"A1"),r),r.write_shift(4,4),xe(e,2152,r)}function Sq(e,t){for(var r=0;r<16;++r)xe(e,224,yj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){xe(e,224,yj(n,0,t))})}function Eq(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];xe(e,440,E9(n)),n[1].Tooltip&&xe(e,2048,j9(n))}delete t["!links"]}function jq(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&xe(e,125,O9(Ev(a,n),a))})}}function Tq(e,t,r,n,a){var i=16+Ys(a.cellXfs,t,a);if(t.v==null&&!t.bf){xe(e,513,rl(r,n,i));return}if(t.bf)xe(e,6,Yz(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?_n(sn(t.v)):t.v;xe(e,515,b9(r,n,s,i));break;case"b":case"e":xe(e,517,y9(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=P_(a.Strings,t.v,a.revStrings);xe(e,253,p9(r,n,o,i))}else xe(e,516,m9(r,n,(t.v||"").slice(0,255),i,a));break;default:xe(e,513,rl(r,n,i))}}function Aq(e,t,r){var n=wn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,d,f="",h=[],p=_t(i["!ref"]||"A1"),g=c?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}xe(n,2057,A_(r,16,t)),xe(n,13,Jn(1)),xe(n,12,Jn(100)),xe(n,15,Zr(!0)),xe(n,17,Zr(!1)),xe(n,16,tl(.001)),xe(n,95,Zr(!0)),xe(n,42,Zr(!1)),xe(n,43,Zr(!1)),xe(n,130,Jn(1)),xe(n,128,x9()),xe(n,131,Zr(!1)),xe(n,132,Zr(!1)),c&&jq(n,i["!cols"]),xe(n,512,g9(p,t)),c&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){f=Nr(v);for(var x=p.s.c;x<=p.e.c;++x){v===p.s.r&&(h[x]=zr(x)),d=h[x]+f;var b=l?(i[v]||[])[x]:i[d];b&&(Tq(n,b,v,x,t),c&&b.l&&i["!links"].push([d,b.l]))}}var m=o.CodeName||o.name||a;return c&&xe(n,574,f9((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&xe(n,229,S9(i["!merges"])),c&&Eq(n,i),xe(n,442,ZP(m)),c&&_q(n,i),xe(n,10),n.end()}function Oq(e,t,r){var n=wn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(xe(n,2057,A_(e,5,r)),r.bookType=="xla"&&xe(n,135),xe(n,225,o?Jn(1200):null),xe(n,193,ZB(2)),l&&xe(n,191),l&&xe(n,192),xe(n,226),xe(n,92,l9("SheetJS",r)),xe(n,66,Jn(o?1200:1252)),o&&xe(n,353,Jn(0)),o&&xe(n,448),xe(n,317,N9(e.SheetNames.length)),o&&e.vbaraw&&xe(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";xe(n,442,ZP(c))}xe(n,156,Jn(17)),xe(n,25,Zr(!1)),xe(n,18,Zr(!1)),xe(n,19,Jn(0)),o&&xe(n,431,Zr(!1)),o&&xe(n,444,Jn(0)),xe(n,61,d9()),xe(n,64,Zr(!1)),xe(n,141,Jn(0)),xe(n,34,Zr(RH(e)=="true")),xe(n,14,Zr(!0)),o&&xe(n,439,Zr(!1)),xe(n,218,Jn(0)),bq(n,e,r),wq(n,e.SSF,r),Sq(n,r),o&&xe(n,352,Zr(!1));var d=n.end(),f=wn();o&&xe(f,140,T9()),o&&r.Strings&&pq(f,252,u9(r.Strings)),xe(f,10);var h=f.end(),p=wn(),g=0,v=0;for(v=0;v<e.SheetNames.length;++v)g+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var x=d.length+g+h.length;for(v=0;v<e.SheetNames.length;++v){var b=i[v]||{};xe(p,133,c9({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[v]},r)),x+=t[v].length}var m=p.end();if(g!=m.length)throw new Error("BS8 "+g+" != "+m.length);var y=[];return d.length&&y.push(d),m.length&&y.push(m),h.length&&y.push(h),Tr(y)}function Nq(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),r.revssf=bv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,R_(r),r.cellXfs=[],Ys(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Aq(a,r,e);return n.unshift(Oq(e,n,r)),Tr(n)}function T3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Wn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Nq(e,t);case 4:case 3:case 2:return yq(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Cq(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var d=ot({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||oB(f.w||(Li(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ge("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var kq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Pq="</body></html>";function Rq(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function A3(e,t){var r=t||{},n=r.header!=null?r.header:kq,a=r.footer!=null?r.footer:Pq,i=[n],s=Wn(e["!ref"]);r.dense=Array.isArray(e),i.push(Rq(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(Cq(e,s,o,r));return i.push("</table>"+a),i.join("")}function O3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?mr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Wn(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),a==-1&&(c.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,v=0,x=0,b=0,m=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&v<l;++g){var _=o[g];if(Tj(_)){if(n.display)continue;p[v]={hidden:!0}}var w=_.children;for(x=b=0;x<w.length;++x){var S=w[x];if(!(n.display&&Tj(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):dB(S.innerHTML),j=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==b+i&&T.s.r<v+a&&v+a<=T.e.r&&(b=T.e.c+1-i,h=-1)}y=+S.getAttribute("colspan")||1,((m=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:b+i},e:{r:v+a+(m||1)-1,c:b+i+(y||1)-1}});var C={t:"s",v:E},N=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?C.t=N||"z":n.raw||E.trim().length==0||N=="s"||(E==="TRUE"?C={t:"b",v:!0}:E==="FALSE"?C={t:"b",v:!1}:isNaN(Ti(E))?isNaN(xf(E).getDate())||(C={t:"d",v:sn(E)},n.cellDates||(C={t:"n",v:_n(C.v)}),C.z=n.dateNF||zt[14]):C={t:"n",v:Ti(E)})),C.z===void 0&&j!=null&&(C.z=j);var L="",W=S.getElementsByTagName("A");if(W&&W.length)for(var Z=0;Z<W.length&&!(W[Z].hasAttribute("href")&&(L=W[Z].getAttribute("href"),L.charAt(0)!="#"));++Z);L&&L.charAt(0)!="#"&&(C.l={Target:L}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][b+i]=C):e[ot({c:b+i,r:v+a})]=C,c.e.c<b+i&&(c.e.c=b+i),b+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=Jt(c),v>=l&&(e["!fullref"]=Jt((c.e.r=o.length-g+v-1+a,c))),e}function N3(e,t){var r=t||{},n=r.dense?[]:{};return O3(n,e,t)}function Iq(e,t){return ml(N3(e,t),t)}function Tj(e){var t="",r=Dq(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Dq(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Mq=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return er+t}}(),Aj=function(){var e=function(i){return it(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+it(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,d=0,f=Wn(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",x=i["!rows"]||[];for(c=0;c<f.s.r;++c)v=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=f.e.r;++c){for(v=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var b=!1,m={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>c)&&!(h[p].e.c<d)&&!(h[p].e.r<c)){(h[p].s.c!=d||h[p].s.r!=c)&&(b=!0),m["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,m["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(r);continue}var _=ot({r:c,c:d}),w=g?(i[c]||[])[d]:i[_];if(w&&w.f&&(m["table:formula"]=it(rW(w.f)),w.F&&w.F.slice(0,_.length)==_)){var S=Wn(w.F);m["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,m["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!w){l.push(t);continue}switch(w.t){case"b":y=w.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=w.v?"true":"false";break;case"n":y=w.w||String(w.v||0),m["office:value-type"]="float",m["office:value"]=w.v||0;break;case"s":case"str":y=w.v==null?"":w.v,m["office:value-type"]="string";break;case"d":y=w.w||sn(w.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=sn(w.v).toISOString(),m["table:style-name"]="ce1";break;default:l.push(t);continue}var E=e(y);if(w.l&&w.l.Target){var j=w.l.Target;j=j.charAt(0)=="#"?"#"+nW(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),E=ge("text:a",E,{"xlink:href":j.replace(/&/g,"&amp;")})}l.push("          "+ge("table:table-cell",ge("text:p",E,{}),m)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var f=c["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;O_(f),f.ods=o;var h=c["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var f=c["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[er],c=bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=bf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push(HP().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function C3(e,t){if(t.bookType=="fods")return Aj(e,t);var r=g_(),n="",a=[],i=[];return n="mimetype",Ue(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ue(r,n,Aj(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ue(r,n,Mq(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ue(r,n,er+HP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ue(r,n,GB(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ue(r,n,VB(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Fp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $q(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Oa(yf(e))}function Lq(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Hs(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Fq(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function wf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function hc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function nr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=wf(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=wf(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function wr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(rt(n*8+a.type)),a.type==2&&t.push(rt(a.data.length)),t.push(a.data))})}),Hs(t)}function ma(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=wf(e,n),i=nr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:hc(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=nr(o.data),c=hc(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=hc(i[3][0].data)>>>0>0),r.push(s)}return r}function Ol(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:rt(s.data.length)}],n[2].push({data:wr(s.meta),type:2})});var i=wr(n);t.push(rt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Hs(t)}function Bq(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=wf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Hs(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var d=Hs(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function va(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Bq(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Hs(t)}function Nl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=rt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Hs(t)}function yx(e,t){var r=new Uint8Array(32),n=Fp(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Fq(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function bx(e,t){var r=new Uint8Array(32),n=Fp(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function rs(e){var t=nr(e);return wf(t[1][0].data)}function Uq(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&hc(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Fp(e[7][0].data),d=0,f=[],h=Fp(e[4][0].data),p=0,g=[],v=0;v<t.length;++v){if(t[v]==null){c.setUint16(v*2,65535,!0),h.setUint16(v*2,65535);continue}c.setUint16(v*2,d,!0),h.setUint16(v*2,p,!0);var x,b;switch(typeof t[v]){case"string":x=yx({t:"s",v:t[v]},r),b=bx({t:"s",v:t[v]},r);break;case"number":x=yx({t:"n",v:t[v]},r),b=bx({t:"n",v:t[v]},r);break;case"boolean":x=yx({t:"b",v:t[v]},r),b=bx({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}f.push(x),d+=x.length,g.push(b),p+=b.length,++l}for(e[2][0].data=rt(l);v<e[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),h.setUint16(v*2,65535,!0);return e[6][0].data=Hs(f),e[3][0].data=Hs(g),l}function zq(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Jt(n)));var i=Bp(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(B){typeof B=="string"&&s.push(B)})});var o={},l=[],c=ct.read(t.numbers,{type:"base64"});c.FileIndex.map(function(H,B){return[H,c.FullPaths[B]]}).forEach(function(H){var B=H[0],z=H[1];if(B.type==2&&B.name.match(/\.iwa/)){var ae=B.content,Se=va(ae),Q=ma(Se);Q.forEach(function(q){l.push(q.id),o[q.id]={deps:[],location:z,type:hc(q.messages[0].meta[1][0].data)}})}}),l.sort(function(H,B){return H-B});var d=l.filter(function(H){return H>1}).map(function(H){return[H,rt(H)]});c.FileIndex.map(function(H,B){return[H,c.FullPaths[B]]}).forEach(function(H){var B=H[0];if(H[1],!!B.name.match(/\.iwa/)){var z=ma(va(B.content));z.forEach(function(ae){ae.messages.forEach(function(Se){d.forEach(function(Q){ae.messages.some(function(q){return hc(q.meta[1][0].data)!=11006&&Lq(q.data,Q[1])})&&o[Q[0]].deps.push(ae.id)})})})}});for(var f=ct.find(c,o[1].location),h=ma(va(f.content)),p,g=0;g<h.length;++g){var v=h[g];v.id==1&&(p=v)}var x=rs(nr(p.messages[0].data)[1][0].data);for(f=ct.find(c,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);for(x=rs(nr(p.messages[0].data)[2][0].data),f=ct.find(c,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);for(x=rs(nr(p.messages[0].data)[2][0].data),f=ct.find(c,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);var b=nr(p.messages[0].data);{b[6][0].data=rt(n.e.r+1),b[7][0].data=rt(n.e.c+1);var m=rs(b[46][0].data),y=ct.find(c,o[m].location),_=ma(va(y.content));{for(var w=0;w<_.length&&_[w].id!=m;++w);if(_[w].id!=m)throw"Bad ColumnRowUIDMapArchive";var S=nr(_[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=n.e.c;++E){var j=[];j[1]=j[2]=[{type:0,data:rt(E+420690)}],S[1].push({type:2,data:wr(j)}),S[2].push({type:0,data:rt(E)}),S[3].push({type:0,data:rt(E)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)j=[],j[1]=j[2]=[{type:0,data:rt(T+726270)}],S[4].push({type:2,data:wr(j)}),S[5].push({type:0,data:rt(T)}),S[6].push({type:0,data:rt(T)});_[w].messages[0].data=wr(S)}y.content=Nl(Ol(_)),y.size=y.content.length,delete b[46];var C=nr(b[4][0].data);{C[7][0].data=rt(n.e.r+1);var N=nr(C[1][0].data),L=rs(N[2][0].data);y=ct.find(c,o[L].location),_=ma(va(y.content));{if(_[0].id!=L)throw"Bad HeaderStorageBucket";var W=nr(_[0].messages[0].data);for(T=0;T<i.length;++T){var Z=nr(W[2][0].data);Z[1][0].data=rt(T),Z[4][0].data=rt(i[T].length),W[2][T]={type:W[2][0].type,data:wr(Z)}}_[0].messages[0].data=wr(W)}y.content=Nl(Ol(_)),y.size=y.content.length;var V=rs(C[2][0].data);y=ct.find(c,o[V].location),_=ma(va(y.content));{if(_[0].id!=V)throw"Bad HeaderStorageBucket";for(W=nr(_[0].messages[0].data),E=0;E<=n.e.c;++E)Z=nr(W[2][0].data),Z[1][0].data=rt(E),Z[4][0].data=rt(n.e.r+1),W[2][E]={type:W[2][0].type,data:wr(Z)};_[0].messages[0].data=wr(W)}y.content=Nl(Ol(_)),y.size=y.content.length;var ne=rs(C[4][0].data);(function(){for(var H=ct.find(c,o[ne].location),B=ma(va(H.content)),z,ae=0;ae<B.length;++ae){var Se=B[ae];Se.id==ne&&(z=Se)}var Q=nr(z.messages[0].data);{Q[3]=[];var q=[];s.forEach(function(re,Le){q[1]=[{type:0,data:rt(Le)}],q[2]=[{type:0,data:rt(1)}],q[3]=[{type:2,data:$q(re)}],Q[3].push({type:2,data:wr(q)})})}z.messages[0].data=wr(Q);var ee=Ol(B),ye=Nl(ee);H.content=ye,H.size=H.content.length})();var se=nr(C[3][0].data);{var K=se[1][0];delete se[2];var te=nr(K.data);{var ce=rs(te[2][0].data);(function(){for(var H=ct.find(c,o[ce].location),B=ma(va(H.content)),z,ae=0;ae<B.length;++ae){var Se=B[ae];Se.id==ce&&(z=Se)}var Q=nr(z.messages[0].data);{delete Q[6],delete se[7];var q=new Uint8Array(Q[5][0].data);Q[5]=[];for(var ee=0,ye=0;ye<=n.e.r;++ye){var re=nr(q);ee+=Uq(re,i[ye],s),re[1][0].data=rt(ye),Q[5].push({data:wr(re),type:2})}Q[1]=[{type:0,data:rt(n.e.c+1)}],Q[2]=[{type:0,data:rt(n.e.r+1)}],Q[3]=[{type:0,data:rt(ee)}],Q[4]=[{type:0,data:rt(n.e.r+1)}]}z.messages[0].data=wr(Q);var Le=Ol(B),Ce=Nl(Le);H.content=Ce,H.size=H.content.length})()}K.data=wr(te)}C[3][0].data=wr(se)}b[4][0].data=wr(C)}p.messages[0].data=wr(b);var pe=Ol(h),P=Nl(pe);return f.content=P,f.size=f.content.length,c}function Wq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function R_(e){Wq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Hq(e,t){return t.bookType=="ods"?C3(e,t):t.bookType=="numbers"?zq(e,t):t.bookType=="xlsb"?qq(e,t):Vq(e,t)}function qq(e,t){Jl=1024,e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=f3.indexOf(t.bookType)>-1,a=UP();R_(t=t||{});var i=g_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,qP(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,KP(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,GP(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,GH(o-1,s,t,e,d)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(f){var p=f["!comments"],g=!1,v="";p&&p.length>0&&(v="xl/comments"+o+"."+r,Ue(i,v,QH(p,v)),a.comments.push(v),nt(d,-1,"../comments"+o+"."+r,Xe.CMNT),g=!0),f["!legacy"]&&g&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",u3(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ue(i,WP(s),dc(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,YH(t.Strings,s,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,KH(e,s)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,l3(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,XH(e,s,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,JH(s)),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),Ue(i,"[Content_Types].xml",zP(a,t)),Ue(i,"_rels/.rels",dc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",dc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Vq(e,t){Jl=1024,e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=f3.indexOf(t.bookType)>-1,a=UP();R_(t=t||{});var i=g_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,qP(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,KP(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,GP(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,w3(o-1,t,e,f)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(h){var g=h["!comments"],v=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(m){m[1].forEach(function(y){y.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+o+"."+r,Ue(i,x,SU(g,d,t)),a.threadedcomments.push(x),nt(f,-1,"../threadedComments/threadedComment"+o+"."+r,Xe.TCMNT)),x="xl/comments"+o+"."+r,Ue(i,x,d3(g)),a.comments.push(x),nt(f,-1,"../comments"+o+"."+r,Xe.CMNT),v=!0}h["!legacy"]&&v&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",u3(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ue(i,WP(s),dc(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,r3(t.Strings,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,E3(e)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,l3(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,s3(e,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,c3()),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),d.length>1&&(s="xl/persons/person.xml",Ue(i,s,EU(d)),a.people.push(s),nt(t.wbrels,-1,"persons/person.xml",Xe.PEOPLE)),Ue(i,"[Content_Types].xml",zP(a,t)),Ue(i,"_rels/.rels",dc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",dc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Kq(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$i(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function k3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return yh(t.file,ct.write(e,{type:Qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ct.write(e,t)}function Gq(e,t){var r=Sn(t||{}),n=Hq(e,r);return Xq(n,r)}function Xq(e,t){var r={},n=Qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ct.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(gv(a))}return t.password&&typeof encrypt_agile<"u"?k3(encrypt_agile(a,t.password),t):t.type==="file"?yh(t.file,a):t.type=="string"?Ld(a):a}function Yq(e,t){var r=t||{},n=fq(e,r);return k3(n,r)}function Ha(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return gf(yf(n));case"binary":return yf(n);case"string":return e;case"file":return yh(t.file,n,"utf8");case"buffer":return Qe?Yi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ha(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Qq(e,t){switch(t.type){case"base64":return gf(e);case"binary":return e;case"string":return e;case"file":return yh(t.file,e,"binary");case"buffer":return Qe?Yi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function f0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?gf(r):t.type=="string"?Ld(r):r;case"file":return yh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function P3(e,t){j7(),MH(e);var r=Sn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=P3(e,r);return r.type="array",gv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ha(uq(e,r),r);case"slk":case"sylk":return Ha(R9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ha(A3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Qq(R3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ha(I_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ha(I9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return f0(P9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ha(D9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ha(z9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ha(t3.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ha(C3(e,r),r);case"wk1":return f0(bj.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return f0(bj.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),f0(T3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Yq(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Gq(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Jq(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Zq(e,t,r){var n={};return n.type="file",n.file=t,Jq(n),P3(e,n)}function eV(e,t,r,n,a,i,s,o){var l=Nr(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(v==null)if(g.t=="e"&&v===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(d&&v===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?v:Li(g,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function Bp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof d){case"string":l=_t(d);break;case"number":l=_t(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Nr(l.s.r),h=[],p=[],g=0,v=0,x=Array.isArray(e),b=l.s.r,m=0,y={};x&&!e[b]&&(e[b]=[]);var _=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(m=l.s.c;m<=l.e.c;++m)if(!(_[m]||{}).hidden)switch(h[m]=zr(m),r=x?e[b][m]:e[h[m]+f],n){case 1:i[m]=m-l.s.c;break;case 2:i[m]=h[m];break;case 3:i[m]=c.header[m-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Li(r,null,c),v=y[s]||0,!v)y[s]=1;else{do o=s+"_"+v++;while(y[o]);y[s]=v,y[o]=1}i[m]=o}for(b=l.s.r+a;b<=l.e.r;++b)if(!(w[b]||{}).hidden){var S=eV(e,l,b,h,n,i,x,c);(S.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=S.row)}return p.length=g,p}var Oj=/"/g;function tV(e,t,r,n,a,i,s,o){for(var l=!0,c=[],d="",f=Nr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Li(p,null,o));for(var g=0,v=0;g!==d.length;++g)if((v=d.charCodeAt(g))===a||v===i||v===34||o.forceQuotes){d='"'+d.replace(Oj,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(Oj,'""')+'"')):d="";c.push(d)}return o.blankrows===!1&&l?null:c.join(s)}function I_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=_t(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=zr(g));for(var v=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=tV(e,a,x,f,s,l,i,n),d!=null&&(n.strip&&(d=d.replace(c,"")),(d||n.blankrows!==!1)&&r.push((v++?o:"")+d)));return delete n.dense,r.join("")}function R3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=I_(e,t);return r}function rV(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=_t(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=zr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Nr(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function I3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}var c,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=_t(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,x){kr(v).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var m=v[b],y="z",_="",w=ot({c:o+p,r:s+x+a});c=_f(i,w),m&&typeof m=="object"&&!(m instanceof Date)?i[w]=m:(typeof m=="number"?y="n":typeof m=="boolean"?y="b":typeof m=="string"?y="s":m instanceof Date?(y="d",n.cellDates||(y="n",m=_n(m)),_=n.dateNF||zt[14]):m===null&&n.nullError&&(y="e",m=0),c?(c.t=y,c.v=m,delete c.w,delete c.R,_&&(c.z=_)):i[w]=c={t:y,v:m},_&&(c.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=Nr(s);if(a)for(p=0;p<h.length;++p)i[zr(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Jt(d),i}function nV(e,t){return I3(null,e,t)}function _f(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=mr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_f(e,ot(t)):_f(e,ot({r:t,c:r||0}))}function aV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function iV(){return{SheetNames:[],Sheets:{}}}function sV(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(S3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function oV(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=aV(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function lV(e,t){return e.z=t,e}function D3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function cV(e,t,r){return D3(e,"#"+t,r)}function uV(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function dV(e,t,r,n){for(var a=typeof t!="string"?t:_t(t),i=typeof t=="string"?t:Jt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=_f(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var wx={encode_col:zr,encode_row:Nr,encode_cell:ot,encode_range:Jt,decode_col:S_,decode_row:__,split_cell:jB,decode_cell:mr,decode_range:Wn,format_cell:Li,sheet_add_aoa:DP,sheet_add_json:I3,sheet_add_dom:O3,aoa_to_sheet:Ou,json_to_sheet:nV,table_to_sheet:N3,table_to_book:Iq,sheet_to_csv:I_,sheet_to_txt:R3,sheet_to_json:Bp,sheet_to_html:A3,sheet_to_formulae:rV,sheet_to_row_object_array:Bp,sheet_get_cell:_f,book_new:iV,book_append_sheet:sV,book_set_sheet_visibility:oV,cell_set_number_format:lV,cell_set_hyperlink:D3,cell_set_internal_link:cV,cell_add_comment:uV,sheet_set_array_formula:dV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const dt=({filename:e,sheetName:t,rows:r,columns:n})=>{const a=e.endsWith(".xlsx")?e:`${e}.xlsx`,i=n.map(c=>c.header),s=r.map(c=>n.map(d=>(d.value?d.value(c):c[d.key])??"")),o=wx.aoa_to_sheet([i,...s]),l=wx.book_new();wx.book_append_sheet(l,o,t),Zq(l,a)},bl=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),En=e=>{const t=bl(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},fV=e=>{const t=e.replace(/\D/g,"");let r=0,n=2;for(let i=t.length-1;i>=0;i--)r+=parseInt(t[i],10)*n,n=n===7?2:n+1;const a=11-r%11;return a===11?"0":a===10?"K":String(a)},y1=e=>{if(!e||e.trim()==="")return{valid:!1,error:"RUT es requerido"};const t=bl(e);if(!/^\d{7,9}[0-9K]$/i.test(t))return{valid:!1,error:"Formato de RUT invlido"};const r=t.slice(0,-1),n=t.slice(-1).toUpperCase(),a=fV(r);return n!==a?{valid:!1,error:"Dgito verificador invlido"}:{valid:!0}};var b1=function(e,t){return b1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},b1(e,t)};function M3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");b1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Up=function(){return Up=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Up.apply(this,arguments)};function ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $3(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function L3(e,t){return function(r,n){t(r,n,e)}}function F3(e,t,r,n,a,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var x=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[l],g);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(d.get=f),(f=s(x.set))&&(d.set=f),(f=s(x.init))&&a.unshift(f)}else(f=s(x))&&(o==="field"?a.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function B3(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function U3(e){return typeof e=="symbol"?e:"".concat(e)}function z3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function W3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Oe(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?i(d.value):a(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function H3(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var jv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function q3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jv(t,e,r)}function zp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function D_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function V3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D_(arguments[t]));return e}function K3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function G3(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function qc(e){return this instanceof qc?(this.v=e,this):new qc(e)}function X3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(a[p]=function(v){return new Promise(function(x,b){i.push([p,v,x,b])>1||l(p,v)})},g&&(a[p]=g(a[p])))}function l(p,g){try{c(n[p](g))}catch(v){h(i[0][3],v)}}function c(p){p.value instanceof qc?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Y3(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:qc(e[a](s)),done:!1}:i?i(s):s}:i}}function Q3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof zp=="function"?zp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(c){i({value:c,done:o})},s)}}function J3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var hV=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},w1=function(e){return w1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},w1(e)};function Z3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=w1(e),n=0;n<r.length;n++)r[n]!=="default"&&jv(t,e,r[n]);return hV(t,e),t}function e5(e){return e&&e.__esModule?e:{default:e}}function t5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function r5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function n5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function a5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var pV=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function i5(e){function t(i){e.error=e.hasError?new pV(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function s5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const mV={__extends:M3,__assign:Up,__rest:ku,__decorate:$3,__param:L3,__esDecorate:F3,__runInitializers:B3,__propKey:U3,__setFunctionName:z3,__metadata:W3,__awaiter:Oe,__generator:H3,__createBinding:jv,__exportStar:q3,__values:zp,__read:D_,__spread:V3,__spreadArrays:K3,__spreadArray:G3,__await:qc,__asyncGenerator:X3,__asyncDelegator:Y3,__asyncValues:Q3,__makeTemplateObject:J3,__importStar:Z3,__importDefault:e5,__classPrivateFieldGet:t5,__classPrivateFieldSet:r5,__classPrivateFieldIn:n5,__addDisposableResource:a5,__disposeResources:i5,__rewriteRelativeImportExtension:s5},vV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:a5,get __assign(){return Up},__asyncDelegator:Y3,__asyncGenerator:X3,__asyncValues:Q3,__await:qc,__awaiter:Oe,__classPrivateFieldGet:t5,__classPrivateFieldIn:n5,__classPrivateFieldSet:r5,__createBinding:jv,__decorate:$3,__disposeResources:i5,__esDecorate:F3,__exportStar:q3,__extends:M3,__generator:H3,__importDefault:e5,__importStar:Z3,__makeTemplateObject:J3,__metadata:W3,__param:L3,__propKey:U3,__read:D_,__rest:ku,__rewriteRelativeImportExtension:s5,__runInitializers:B3,__setFunctionName:z3,__spread:V3,__spreadArray:G3,__spreadArrays:K3,__values:zp,default:mV},Symbol.toStringTag,{value:"Module"})),gV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Tv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class o5 extends Tv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _1 extends Tv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class S1 extends Tv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wp||(Wp={}));class xV{constructor(t,{headers:r={},customFetch:n,region:a=Wp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=gV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Oe(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let x=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(x=s.signal,d.addEventListener("abort",()=>s.abort())):x=s.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:x}).catch(w=>{throw new o5(w)}),m=b.headers.get("x-relay-error");if(m&&m==="true")throw new _1(b);if(!b.ok)throw new S1(b);let y=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield b.json():y==="application/octet-stream"||y==="application/pdf"?_=yield b.blob():y==="text/event-stream"?_=b:y==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof S1||o instanceof _1?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var en={};const Pu=x8(vV);var h0={},p0={},m0={},v0={},g0={},x0={},Nj;function l5(){if(Nj)return x0;Nj=1,Object.defineProperty(x0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return x0.default=e,x0}var Cj;function c5(){if(Cj)return g0;Cj=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=Pu.__importDefault(l5());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,g=null,v=null,x=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,x=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(g=[],p=null,x=200,b="OK")}catch{l.status===404&&y===""?(x=204,b="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,b="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:v,status:x,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,d,f,h,p,g;let v="";const x=l==null?void 0:l.cause;if(x){const b=(c=x==null?void 0:x.message)!==null&&c!==void 0?c:"",m=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";v=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${b}`,m&&(v+=` (${m})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return g0.default=r,g0}var kj;function u5(){if(kj)return v0;kj=1,Object.defineProperty(v0,"__esModule",{value:!0});const t=Pu.__importDefault(c5());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return v0.default=r,v0}var Pj;function M_(){if(Pj)return m0;Pj=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=Pu.__importDefault(u5()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return m0.default=n,m0}var Rj;function d5(){if(Rj)return p0;Rj=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=Pu.__importDefault(M_());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},l=s?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return p0.default=r,p0}var Ij;function yV(){if(Ij)return h0;Ij=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=Pu,t=e.__importDefault(d5()),r=e.__importDefault(M_());class n{constructor(i,{headers:s={},schema:o,fetch:l}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(f="POST",p=s);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return h0.default=n,h0}Object.defineProperty(en,"__esModule",{value:!0});var f5=en.PostgrestError=_5=en.PostgrestBuilder=b5=en.PostgrestTransformBuilder=x5=en.PostgrestFilterBuilder=v5=en.PostgrestQueryBuilder=p5=en.PostgrestClient=void 0;const Ru=Pu,h5=Ru.__importDefault(yV());var p5=en.PostgrestClient=h5.default;const m5=Ru.__importDefault(d5());var v5=en.PostgrestQueryBuilder=m5.default;const g5=Ru.__importDefault(M_());var x5=en.PostgrestFilterBuilder=g5.default;const y5=Ru.__importDefault(u5());var b5=en.PostgrestTransformBuilder=y5.default;const w5=Ru.__importDefault(c5());var _5=en.PostgrestBuilder=w5.default;const S5=Ru.__importDefault(l5());f5=en.PostgrestError=S5.default;var E5=en.default={PostgrestClient:h5.default,PostgrestQueryBuilder:m5.default,PostgrestFilterBuilder:g5.default,PostgrestTransformBuilder:y5.default,PostgrestBuilder:w5.default,PostgrestError:S5.default};const bV=hC({__proto__:null,get PostgrestBuilder(){return _5},get PostgrestClient(){return p5},get PostgrestError(){return f5},get PostgrestFilterBuilder(){return x5},get PostgrestQueryBuilder(){return v5},get PostgrestTransformBuilder(){return b5},default:E5},[en]),{PostgrestClient:wV,PostgrestQueryBuilder:GSe,PostgrestFilterBuilder:XSe,PostgrestTransformBuilder:YSe,PostgrestBuilder:QSe,PostgrestError:_V}=E5||bV;class j5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SV="2.87.3",EV=`realtime-js/${SV}`,T5="1.0.0",jV="2.0.0",Dj=T5,E1=1e4,TV=1e3,AV=100;var bo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bo||(bo={}));var Kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Kt||(Kt={}));var Ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ea||(Ea={}));var j1;(function(e){e.websocket="websocket"})(j1||(j1={}));var wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wo||(wo={}));class OV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,s.length),g.setUint8(v++,c.length),g.setUint8(v++,f.length),g.setUint8(v++,r),Array.from(l,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(v++,b.charCodeAt(0)));var x=new Uint8Array(p.byteLength+n.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(n),p.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,l]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class A5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const Mj=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=NV(s,e,t,a),i),{}):{}},NV=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?O5(i,s):T1(s)},O5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RV(t,r)}switch(e){case ht.bool:return CV(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return kV(t);case ht.json:case ht.jsonb:return PV(t);case ht.timestamp:return IV(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return T1(t);default:return T1(t)}},T1=e=>e,CV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>O5(t,o))}return e},IV=e=>typeof e=="string"?e.replace(" ","T"):e,N5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _x{constructor(t,r,n={},a=E1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var A1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(A1||(A1={}));class pc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=pc.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=i[c];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(O1||(O1={}));var mc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mc||(mc={}));var Va;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Va||(Va={}));const DV=Kt;class Ao{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _x(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new A5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new pc(this),this.broadcastEndpointURL=N5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[mc.PRESENCE]&&this.bindings[mc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Va.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Va.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Va.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,b=[];for(let m=0;m<x;m++){const y=v[m],{filter:{event:_,schema:w,table:S,filter:E}}=y,j=p&&p[m];if(j&&j.event===_&&Ao.isFilterValueEqual(j.schema,w)&&Ao.isFilterValueEqual(j.table,S)&&Ao.isFilterValueEqual(j.filter,E))b.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Kt.errored,t==null||t(Va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Va.SUBSCRIBED);return}}).receive("error",p=>{this.state=Kt.errored,t==null||t(Va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Kt.joined&&t===mc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new _x(this,Ea.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new _x(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Ea;if(n&&[o,l,c,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,v,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,v,x,b,m,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:x,commit_timestamp:b,type:m,errors:y}=g;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:b,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ao.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ea.close,{},t)}_onError(t){this._on(Ea.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mj(t.columns,t.old_record)),r}}const Sx=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MV=[1e3,2e3,5e3,1e4],$V=1e4,LV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=E1,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sx,this.ref=0,this.reconnectTimer=null,this.vsn=Dj,this.logger=Sx,this.conn=null,this.sendBuffer=[],this.serializer=new OV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${j1.websocket}`,this.httpEndpoint=N5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bo.connecting:return wo.Connecting;case bo.open:return wo.Open;case bo.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ao(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(TV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===bo.open||this.conn.readyState===bo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ea.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:EV};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ea.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new A5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,l,c,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:E1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:y0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Sx,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Dj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:g=>MV[g-1]||$V,this.vsn){case T5:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,v)=>v(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case jV:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Av extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FV extends Av{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N1 extends Av{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const $_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BV=()=>Response,C1=e=>{if(Array.isArray(e))return e.map(r=>C1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=C1(n)}),t},UV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ex=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},WV=(e,t,r)=>Oe(void 0,void 0,void 0,function*(){const n=yield BV();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new FV(Ex(a),i,s))}).catch(a=>{t(new N1(Ex(a),a))}):t(new N1(Ex(e),e))}),HV=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(UV(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Eh(e,t,r,n,a,i){return Oe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,HV(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>WV(l,o,n))})})}function Sf(e,t,r,n){return Oe(this,void 0,void 0,function*(){return Eh(e,"GET",t,r,n)})}function ba(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return Eh(e,"POST",t,n,a,r)})}function k1(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return Eh(e,"PUT",t,n,a,r)})}function qV(e,t,r,n){return Oe(this,void 0,void 0,function*(){return Eh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function L_(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return Eh(e,"DELETE",t,n,a,r)})}class VV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var k5;class KV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[k5]="BlobDownloadBuilder",this.promise=null}asStream(){return new VV(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}k5=Symbol.toStringTag;const GV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XV{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Oe(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$j),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?k1:ba)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:$j.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield k1(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ba(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Av("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Oe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ba(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Oe(this,void 0,void 0,function*(){try{const a=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),l=()=>Sf(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new KV(l,this.shouldThrowOnError)}info(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}exists(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qV(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n)&&n instanceof N1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GV),r),{prefix:t||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}listV2(t,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const P5="2.87.3",R5={"X-Client-Info":`storage-js/${P5}`};class YV{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R5),r),this.fetch=$_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Oe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Sf(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t){return Oe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ef=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QV(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function JV(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ZV(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=QV(e.baseUrl,n,a),l=await JV(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new Ef((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function b0(e){return e.join("")}var eK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:b0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${b0(e.namespace)}`}),!0}catch(t){if(t instanceof Ef&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return;throw r}}};function Cl(e){return e.join("")}var tK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ef&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},rK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ZV({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new eK(this.client,t),this.tableOps=new tK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class nK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R5),r),this.fetch=$_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(t){return Oe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Sf(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}from(t){if(!zV(t))throw new Av("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new rK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:(...l)=>Oe(this,void 0,void 0,function*(){try{return{data:yield o.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const F_={"X-Client-Info":`storage-js/${P5}`,"Content-Type":"application/json"};class I5 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jx extends I5{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aK extends I5{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Lj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lj||(Lj={}));const B_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sK=(e,t,r)=>Oe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new jx(Fj(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new jx(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new jx(o,a,s))}}else t(new aK(Fj(e),e))}),oK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(iK(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function lK(e,t,r,n,a,i){return Oe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,oK(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>sK(l,o,n))})})}function Mn(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return lK(e,"POST",t,n,a,r)})}class cK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}}class uK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getVectors(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Mn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class dK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listBuckets(){return Oe(this,arguments,void 0,function*(t={}){try{return{data:yield Mn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class fK extends dK{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new hK(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Oe(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Oe(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Oe(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Oe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class hK extends cK{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pK(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pK extends uK{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mK extends YV{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new XV(this.url,this.headers,t,this.fetch)}get vectors(){return new fK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nK(this.url+"/iceberg",this.headers,this.fetch)}}const vK="2.87.3";let Ed="";typeof Deno<"u"?Ed="deno":typeof document<"u"?Ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ed="react-native":Ed="node";const gK={"X-Client-Info":`supabase-js-${Ed}/${vK}`},xK={headers:gK},yK={schema:"public"},bK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wK={},_K=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SK=()=>Headers,EK=(e,t,r)=>{const n=_K(r),a=SK();return async(i,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))}};function jK(e){return e.endsWith("/")?e:e+"/"}function TK(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function AK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D5="2.87.3",Ll=30*1e3,P1=3,Tx=P1*Ll,OK="http://localhost:9999",NK="supabase.auth.token",CK={"X-Client-Info":`gotrue-js/${D5}`},R1="X-Supabase-Api-Version",M5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PK=10*60*1e3;class Vc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $5 extends Vc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function L5(e){return ke(e)&&e.name==="AuthApiError"}class us extends Vc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class si extends Vc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class un extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F5(e){return ke(e)&&e.name==="AuthSessionMissingError"}class ho extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jd extends si{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Td extends si{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B5(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class I1 extends si{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U5 extends si{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function RK(e){return ke(e)&&e.name==="AuthPKCECodeVerifierMissingError"}class Hp extends si{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function G0(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class D1 extends si{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function IK(e){return ke(e)&&e.name==="AuthWeakPasswordError"}class qp extends si{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bj=` 	
\r=`.split(""),DK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bj.length;t+=1)e[Bj[t].charCodeAt(0)]=-2;for(let t=0;t<Vp.length;t+=1)e[Vp[t].charCodeAt(0)]=t;return e})();function Uj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vp[n]),t.queuedBits-=6}}function z5(e,t,r){const n=DK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zj(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{LK(s,n,r)};for(let s=0;s<e.length;s+=1)z5(e.charCodeAt(s),a,i);return t.join("")}function MK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $K(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}MK(n,t)}}function LK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function vc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)z5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function FK(e){const t=[];return $K(e,r=>t.push(r)),new Uint8Array(t)}function Oo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Uj(a,r,n)),Uj(null,r,n),t.join("")}function BK(e){return Math.round(Date.now()/1e3)+e}function UK(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},W5=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function zK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const H5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},so=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},br=async(e,t)=>{await e.removeItem(t)};class Ov{constructor(){this.promise=new Ov.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ov.promiseConstructor=Promise;function Ax(e){const t=e.split(".");if(t.length!==3)throw new qp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kK.test(t[n]))throw new qp("JWT not in base64url format");return{header:JSON.parse(zj(t[0])),payload:JSON.parse(zj(t[1])),signature:vc(t[2]),raw:{header:t[0],payload:t[1]}}}async function HK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qK(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function VK(e){return("0"+e.toString(16)).substr(-2)}function KK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,VK).join("")}async function GK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function XK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(e,t,r=!1){const n=KK();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Fl(e,`${t}-code-verifier`,a);const i=await XK(n);return[i,n===i?"plain":"s256"]}const YK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QK(e){const t=e.headers.get(R1);if(!t||!t.match(YK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pl(e){if(!eG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ox(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Wj(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rG=[502,503,504];async function Hj(e){var t;if(!WK(e))throw new Hp(po(e),0);if(rG.includes(e.status))throw new Hp(po(e),e.status);let r;try{r=await e.json()}catch(i){throw new us(po(i),i)}let n;const a=QK(e);if(a&&a.getTime()>=M5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new D1(po(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new D1(po(r),e.status,r.weak_password.reasons);throw new $5(po(r),e.status||500,n)}const nG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[R1]||(i[R1]=M5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await aG(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function aG(e,t,r,n,a,i){const s=nG(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Hp(po(l),0)}if(o.ok||await Hj(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Hj(l)}}function xa(e){var t;let r=null;oG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qj(e){const t=xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iG(e){return{data:e,error:null}}function sG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=ku(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Vj(e){return e}function oG(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];class U_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=H5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=X0[0]){if(X0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ku(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:sG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Pl(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pl(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pl(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pl(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pl(t.userId),Pl(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ke(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Kj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const mo={debug:!!(globalThis&&W5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q5 extends z_{}class lG extends z_{}async function V5(e,t,r){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new q5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Gj={};async function cG(e,t,r){var n;const a=(n=Gj[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((s,o)=>{setTimeout(()=>{o(new lG(`Acquiring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return Gj[e]=i.catch(async s=>{if(s&&s.isAcquireTimeout)return await a,null;throw s}),await i}function uG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dG(e){return parseInt(e,16)}function fG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function hG(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=K5(e.address),g=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}b+=m}return`${x}
${b}`}class Xt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Kp extends Xt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function pG({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(G5(s)){if(i.rp.id!==s)return new Xt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(G5(n)){if(r.rpId!==n)return new Xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class vG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const gG=new vG;function xG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ku(e,["challenge","user","excludeCredentials"]),i=vc(t).buffer,s=Object.assign(Object.assign({},r),{id:vc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:vc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function yG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ku(e,["challenge","allowCredentials"]),a=vc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:vc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function bG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Oo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Oo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Oo(new Uint8Array(a.authenticatorData)),clientDataJSON:Oo(new Uint8Array(a.clientDataJSON)),signature:Oo(new Uint8Array(a.signature)),userHandle:a.userHandle?Oo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function G5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xj(){var e,t;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _G(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:pG({error:t,options:e})}}}async function SG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:mG({error:t,options:e})}}}const EG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gp(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Gp(o,s):n[i]=Gp(s)}else n[i]=s}return n}function TG(e,t){return Gp(EG,e,t||{})}function AG(e,t){return Gp(jG,e,t||{})}class OG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=a??gG.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=TG(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await _G({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=AG(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await SG(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Vc("rpId is required for WebAuthn authentication")};try{if(!Xj())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Vc("rpId is required for WebAuthn registration")};try{if(!Xj())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in register",s)}}}}uG();const NG={url:OK,storageKey:NK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yj(e,t,r){return await r()}const Rl={};class Kc{get jwks(){var t,r;return(r=(t=Rl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rl[this.storageKey]=Object.assign(Object.assign({},Rl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rl[this.storageKey]=Object.assign(Object.assign({},Rl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},NG),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Kc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_r()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new U_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=H5(i.fetch),this.lock=i.lock||Yj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&_r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=V5:this.lock=Yj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:W5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Kj(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(_r()&&(r=zK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_r()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B5(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new us("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:xa}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await kl(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:xa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xa})}else throw new jd("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return await br(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qj})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qj})}else throw new jd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ho;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,l,c,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:b,options:m}=t;let y;if(_r())if(typeof x=="object")y=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),w=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=K5(w[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await y.request({method:"eth_chainId"});E=dG(T)}const j={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:E,nonce:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=hG(j),g=await y.request({method:"personal_sign",params:[fG(p),S]})}try{const{data:v,error:x}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xa});if(x)throw x;if(!v||!v.session||!v.user){const b=new ho;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(ke(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,i,s,o,l,c,d,f,h,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:m,options:y}=t;let _;if(_r())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),m?{statement:m}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:x,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Oo(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xa});if(b)throw b;if(!x||!x.session||!x.user){const m=new ho;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(ke(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new U5;const{data:i,error:s}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xa});if(await br(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new ho;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xa}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ho;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await kl(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new jd("You must provide either an email or phone number.")}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:xa});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await kl(this.storage,this.storageKey));const c=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:iG});return!((i=c.data)===null||i===void 0)&&i.url&&_r()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new un;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new jd("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await so(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ox()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=tG(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(r){if(ke(r))return F5(r)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new un;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await kl(this.storage,this.storageKey));const{data:c,error:d}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ds});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Ax(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!_r())throw new Td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I1("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!s||!c)throw new Td("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ll&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(L5(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=UK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await kl(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return _r()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:l,access_token:c,nonce:d}=t,f=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:xa}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ho}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qK(async a=>(a>0&&await HK(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xa})),(a,i)=>{const s=200*Math.pow(2,a);return i&&G0(i)&&Date.now()+s-n<Ll})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await so(this.storage,this.storageKey);if(a&&this.userStorage){let s=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Fl(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ox()}else if(a&&!a.user&&!a.user){const s=await so(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await br(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,a)):a.user=Ox()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),G0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ov;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ke(i)){const s={data:null,error:i};return G0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await br(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Wj(a);await Fl(this.storage,this.storageKey,i)}else{const a=Wj(r);await Fl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ll);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ll);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ll}ms, refresh threshold is ${P1} ticks`),a<=P1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await kl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bG(t.webauthn.credential_response):wG(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:xG(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:yG(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ax(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new un});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new un});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new un})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+PK>a)return n;const{data:i,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=Ax(n);r!=null&&r.allowExpired||JK(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=ZK(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,FK(`${o}.${l}`)))throw new qp("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}Kc.nextInstanceID={};const CG=U_,X5=Kc;class kG extends X5{constructor(t){super(t)}}class Y5{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=AK(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:yK,realtime:wK,auth:Object.assign(Object.assign({},bK),{storageKey:l}),global:xK},d=TK(n??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=EK(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new wV(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mK(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new xV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new C5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PG=(e,t,r)=>new Y5(e,t,r);function RG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}RG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IG=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:CG,AuthApiError:$5,AuthClient:X5,AuthError:Vc,AuthImplicitGrantRedirectError:Td,AuthInvalidCredentialsError:jd,AuthInvalidJwtError:qp,AuthInvalidTokenResponseError:ho,AuthPKCECodeVerifierMissingError:U5,AuthPKCEGrantCodeExchangeError:I1,AuthRetryableFetchError:Hp,AuthSessionMissingError:un,AuthUnknownError:us,AuthWeakPasswordError:D1,CustomAuthError:si,get FunctionRegion(){return Wp},FunctionsError:Tv,FunctionsFetchError:o5,FunctionsHttpError:S1,FunctionsRelayError:_1,GoTrueAdminApi:U_,GoTrueClient:Kc,NavigatorLockAcquireTimeoutError:q5,PostgrestError:_V,REALTIME_CHANNEL_STATES:DV,get REALTIME_LISTEN_TYPES(){return mc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return O1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return A1},get REALTIME_SUBSCRIBE_STATES(){return Va},RealtimeChannel:Ao,RealtimeClient:C5,RealtimePresence:pc,SIGN_OUT_SCOPES:X0,SupabaseClient:Y5,WebSocketFactory:j5,createClient:PG,isAuthApiError:L5,isAuthError:ke,isAuthImplicitGrantRedirectError:B5,isAuthPKCECodeVerifierMissingError:RK,isAuthRetryableFetchError:G0,isAuthSessionMissingError:F5,isAuthWeakPasswordError:IK,lockInternals:mo,navigatorLock:V5,processLock:cG},Symbol.toStringTag,{value:"Module"})),{createClient:Q5}=IG,DG="https://kzslhhctjfxsdvcrqvvs.supabase.co",J5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",_e=Q5(DG,J5,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),jn=()=>!!J5,Gc=[{value:"conductor",label:"Conductor"},{value:"inspector_patio",label:"Inspector Patio"},{value:"cleaner",label:"Cleaner"},{value:"planillero",label:"Planillero"},{value:"supervisor",label:"Supervisor"}],MG=[{value:"todos",label:"Todos"},{value:"ACTIVO",label:"Activo"},{value:"DESVINCULADO",label:"Desvinculado"}],Z5=async(e,t)=>{if(!jn())return console.warn("Supabase not configured, returning empty array"),[];const r=Xi(e);let n=_e.from("staff").select(`
      *,
      staff_admonitions(count)
    `).in("terminal_code",r).order("nombre",{ascending:!0});if(t!=null&&t.status&&t.status!=="todos"&&(n=n.eq("status",t.status)),t!=null&&t.cargo&&t.cargo!=="todos"&&(n=n.eq("cargo",t.cargo)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw console.error("Error fetching staff:",i),i;return(a||[]).map(s=>{var o,l;return{...s,admonition_count:((l=(o=s.staff_admonitions)==null?void 0:o[0])==null?void 0:l.count)??0}})},$G=async e=>{const t=bl(e),{data:r,error:n}=await _e.from("staff").select("*").eq("rut",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},LG=async e=>{const{data:t,error:r}=await _e.from("staff").insert({rut:bl(e.rut),nombre:e.nombre.trim(),cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno.trim(),horario:e.horario.trim(),contacto:e.contacto.trim()}).select().single();if(r)throw r.code==="23505"?new Error("Ya existe un trabajador con ese RUT"):r;return t},FG=async(e,t)=>{const r={};t.rut!==void 0&&(r.rut=bl(t.rut)),t.nombre!==void 0&&(r.nombre=t.nombre.trim()),t.cargo!==void 0&&(r.cargo=t.cargo),t.terminal_code!==void 0&&(r.terminal_code=t.terminal_code),t.turno!==void 0&&(r.turno=t.turno.trim()),t.horario!==void 0&&(r.horario=t.horario.trim()),t.contacto!==void 0&&(r.contacto=t.contacto.trim());const{data:n,error:a}=await _e.from("staff").update(r).eq("id",e).select().single();if(a)throw a;return n},BG=async(e,t)=>{const{data:r,error:n}=await _e.from("staff").update({status:"DESVINCULADO",terminated_at:new Date().toISOString(),termination_comment:t.trim()}).eq("id",e).select().single();if(n)throw n;return r},UG=async e=>{const t=Xi(e),{data:r,error:n}=await _e.from("staff").select("cargo, terminal_code").eq("status","ACTIVO").in("terminal_code",t);if(n)throw n;const{data:a}=await _e.from("staff_caps").select("*").eq("scope_code","ER_LR"),i=new Map;(a||[]).forEach(d=>{i.set(d.cargo,d.max_q)});const s=new Map;Gc.forEach(d=>s.set(d.value,0)),(r||[]).forEach(d=>{const f=s.get(d.cargo)||0;s.set(d.cargo,f+1)});const o=Gc.map(d=>({cargo:d.value,count:s.get(d.value)||0,max_q:i.get(d.value)??null})),l=new Map;t.forEach(d=>l.set(d,0)),(r||[]).forEach(d=>{const f=l.get(d.terminal_code)||0;l.set(d.terminal_code,f+1)});const c=t.map(d=>({terminal_code:d,count:l.get(d)||0}));return{byCargo:o,byTerminal:c,total:(r==null?void 0:r.length)||0}},zG=async(e,t,r,n)=>{const a=n.name.split(".").pop(),i=`staff/${e}/admonitions/${Date.now()}.${a}`,{error:s}=await _e.storage.from("staff-docs").upload(i,n);if(s)throw console.error("Upload error:",s),new Error("Error al subir el documento");const{data:o,error:l}=await _e.from("staff_admonitions").insert({staff_id:e,reason:t.trim(),admonition_date:r,document_path:i}).select().single();if(l)throw l;return o},WG=(e,t)=>{const r=_e.channel("staff-changes").on("postgres_changes",{event:"*",schema:"public",table:"staff"},n=>{e({eventType:n.eventType,new:n.new,old:n.old})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"staff_admonitions"},n=>{t({eventType:n.eventType,new:n.new})}).subscribe();return()=>{_e.removeChannel(r)}},St={all:["staff"],lists:()=>[...St.all,"list"],list:(e,t)=>[...St.lists(),e,t],details:()=>[...St.all,"detail"],detail:e=>[...St.details(),e],counts:e=>[...St.all,"counts",e],caps:()=>[...St.all,"caps"],admonitions:e=>[...St.all,"admonitions",e]},HG=(e,t)=>Tt({queryKey:St.list(e,t),queryFn:()=>Z5(e,t)}),qG=e=>Tt({queryKey:St.counts(e),queryFn:()=>UG(e)}),VG=()=>{const e=qt();return Qt({mutationFn:t=>LG(t),onSuccess:()=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.counts({})})}})},KG=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>FG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},GG=()=>{const e=qt();return Qt({mutationFn:({id:t,comment:r})=>BG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},XG=()=>{const e=qt();return Qt({mutationFn:({staffId:t,reason:r,admonitionDate:n,file:a})=>zG(t,r,n,a),onSuccess:t=>{e.invalidateQueries({queryKey:St.admonitions(t.staff_id)}),e.invalidateQueries({queryKey:St.lists()})}})},YG=e=>{const t=qt();A.useEffect(()=>WG(n=>{console.log("Staff change:",n.eventType),t.invalidateQueries({queryKey:St.lists()}),t.invalidateQueries({queryKey:St.counts(e)}),n.new&&t.invalidateQueries({queryKey:St.detail(n.new.id)})},n=>{console.log("Admonition change:",n.eventType),n.new&&(t.invalidateQueries({queryKey:St.admonitions(n.new.staff_id)}),t.invalidateQueries({queryKey:St.lists()}))}),[t,e])},QG=e=>({conductor:"calendar",inspector_patio:"clipboard",cleaner:"check-circle",planillero:"layers",supervisor:"users"})[e]||"users",JG=e=>{var t;return((t=Gc.find(r=>r.value===e))==null?void 0:t.label)||e},ZG=({terminalContext:e})=>{const{data:t,isLoading:r}=qG(e);if(r)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[...Array(5)].map((a,i)=>u.jsxs("div",{className:"card p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});if(!t)return null;const n=e.mode==="ALL"||e.mode==="TERMINAL"&&(e.value==="EL_ROBLE"||e.value==="LA_REINA");return u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:["Personal por Cargo ",n&&"(ER-LR)"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:t.byCargo.map(a=>{const i=a.max_q?a.count/a.max_q*100:0,s=a.max_q&&a.count>a.max_q,o=a.max_q&&i>=80&&!s;return u.jsxs("div",{className:`card p-4 transition-all ${s?"border-danger-300 bg-danger-50":o?"border-warning-300 bg-warning-50":""}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100",children:u.jsx(de,{name:QG(a.cargo),size:18,className:"text-slate-600"})}),u.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:JG(a.cargo)})]}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:`text-2xl font-bold ${s?"text-danger-600":o?"text-warning-600":"text-slate-900"}`,children:a.count}),a.max_q&&u.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",a.max_q]})]}),a.max_q&&u.jsx("div",{className:"mt-2 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all ${s?"bg-danger-500":o?"bg-warning-500":"bg-brand-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},a.cargo)})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"Personal por Terminal"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.byTerminal.map(a=>u.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3",children:[u.jsx(de,{name:"building",size:18,className:"text-slate-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:Ge(a.terminal_code)}),u.jsx("p",{className:"text-lg font-bold text-slate-900",children:a.count})]})]},a.terminal_code)),u.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3 bg-brand-50 border-brand-200",children:[u.jsx(de,{name:"users",size:18,className:"text-brand-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-brand-600 font-semibold",children:"Total"}),u.jsx("p",{className:"text-lg font-bold text-brand-700",children:t.total})]})]})]})]})]})},eX=e=>{var t;return((t=Gc.find(r=>r.value===e))==null?void 0:t.label)||e},tX=({staff:e,onEdit:t,onOffboard:r,onAdmonish:n})=>e.length?u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"table-header-cell",children:"RUT"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Nombre"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Cargo"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Terminal"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Turno"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Horario"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Contacto"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Estado"}),u.jsx("th",{scope:"col",className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:e.map(a=>{const i=a.status==="DESVINCULADO";return u.jsxs("tr",{className:`table-row ${i?"bg-danger-50 hover:bg-danger-100":""}`,children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:En(a.rut)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-slate-900",children:a.nombre}),a.admonition_count>0&&u.jsxs("span",{className:"badge badge-warning text-xs",title:`${a.admonition_count} amonestacin(es)`,children:[" ",a.admonition_count]})]})}),u.jsx("td",{className:"table-cell",children:eX(a.cargo)}),u.jsx("td",{className:"table-cell",children:Ge(a.terminal_code)}),u.jsx("td",{className:"table-cell",children:a.turno}),u.jsx("td",{className:"table-cell font-mono text-xs",children:a.horario}),u.jsx("td",{className:"table-cell text-sm",children:a.contacto}),u.jsx("td",{className:"table-cell",children:u.jsx("span",{className:`badge ${i?"badge-danger":"badge-success"}`,children:a.status})}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[!i&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>t(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-brand-600",title:"Modificar",children:u.jsx(de,{name:"clipboard",size:16})}),u.jsx("button",{onClick:()=>n(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-warning-600",title:"Amonestar",children:u.jsx(de,{name:"megaphone",size:16})}),u.jsx("button",{onClick:()=>r(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-danger-600",title:"Desvincular",children:u.jsx(de,{name:"logout",size:16})})]}),i&&u.jsx("span",{className:"text-xs text-danger-600",children:a.terminated_at?new Date(a.terminated_at).toLocaleDateString("es-CL"):"Desvinculado"})]})})]},a.id)})})]})}):u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:u.jsx(de,{name:"users",size:28,className:"text-slate-400"})}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"No hay personal registrado"}),u.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:'Comienza agregando trabajadores con el botn "Nuevo Trabajador"'})]}),rX=["Maana","Tarde","Noche","Rotativo"],nX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"conductor",terminal_code:"EL_ROBLE",turno:"Maana",horario:"08:00-18:00",contacto:""}),[s,o]=A.useState(null),[l,c]=A.useState("");A.useEffect(()=>{e&&(i({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,horario:e.horario,contacto:e.contacto}),c(En(e.rut)))},[e]);const d=g=>{c(g);const v=y1(g);v.valid?(o(null),i(x=>({...x,rut:bl(g)}))):o(v.error||null)},f=()=>{a.rut&&c(En(a.rut))},h=g=>{g.preventDefault();const v=y1(a.rut);if(!v.valid){o(v.error||"RUT invlido");return}t(a)},p=!!e;return u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input ${s?"border-danger-500 focus:ring-danger-500":""}`,value:l,onChange:g=>d(g.target.value),onBlur:f,placeholder:"12.345.678-9",disabled:p,required:!0}),p&&u.jsx(de,{name:"key",size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),s&&u.jsx("p",{className:"mt-1 text-xs text-danger-600",children:s}),p&&u.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"El RUT no puede modificarse"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre Completo"}),u.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:g=>i(v=>({...v,nombre:g.target.value})),placeholder:"Juan Prez Gonzlez",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("select",{className:"input",value:a.cargo,onChange:g=>i(v=>({...v,cargo:g.target.value})),required:!0,children:Gc.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:a.terminal_code,onChange:g=>i(v=>({...v,terminal_code:g.target.value})),required:!0,children:Ma.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Turno"}),u.jsx("select",{className:"input",value:a.turno,onChange:g=>i(v=>({...v,turno:g.target.value})),required:!0,children:rX.map(g=>u.jsx("option",{value:g,children:g},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:a.horario,onChange:g=>i(v=>({...v,horario:g.target.value})),placeholder:"08:00-18:00",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contacto"}),u.jsx("input",{type:"text",className:"input",value:a.contacto,onChange:g=>i(v=>({...v,contacto:g.target.value})),placeholder:"Telfono o email",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!!s,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):p?"Guardar Cambios":"Crear Trabajador"})]})]})},aX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),s=o=>{o.preventDefault(),a.trim()&&t(a.trim())};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),u.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-danger-100",children:u.jsx(de,{name:"logout",size:24,className:"text-danger-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Desvincular Trabajador"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Ests seguro que deseas desvincular a ",u.jsx("strong",{children:e}),"?"]})]})]}),u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-warning-50 border border-warning-200",children:u.jsxs("p",{className:"text-sm text-warning-800",children:[u.jsx("strong",{children:" Esta accin es irreversible."})," El trabajador quedar marcado como desvinculado y no podr ser eliminado del sistema."]})}),u.jsxs("form",{onSubmit:s,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"label",children:"Motivo de Desvinculacin *"}),u.jsx("textarea",{className:"input min-h-[100px]",value:a,onChange:o=>i(o.target.value),placeholder:"Describe el motivo de la desvinculacin...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-danger",disabled:n||!a.trim(),children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):"Confirmar Desvinculacin"})]})]})]})]})},iX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(new Date().toISOString().split("T")[0]),[l,c]=A.useState(null),[d,f]=A.useState(!1),h=A.useRef(null),p=m=>{m.preventDefault(),a.trim()&&s&&l&&t(a.trim(),s,l)},g=m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?f(!0):m.type==="dragleave"&&f(!1)},v=m=>{m.preventDefault(),m.stopPropagation(),f(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&c(m.dataTransfer.files[0])},x=m=>{m.target.files&&m.target.files[0]&&c(m.target.files[0])},b=()=>{c(null),h.current&&(h.current.value="")};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),u.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-warning-100",children:u.jsx(de,{name:"megaphone",size:24,className:"text-warning-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Registrar Amonestacin"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Amonestacin para ",u.jsx("strong",{children:e})]})]})]}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Motivo de la Amonestacin *"}),u.jsx("textarea",{className:"input min-h-[80px]",value:a,onChange:m=>i(m.target.value),placeholder:"Describe el motivo de la amonestacin...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha de Amonestacin *"}),u.jsx("input",{type:"date",className:"input",value:s,onChange:m=>o(m.target.value),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Documento Adjunto *"}),u.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${d?"border-brand-500 bg-brand-50":l?"border-success-300 bg-success-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:[u.jsx("input",{ref:h,type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:x,className:"hidden",id:"admonition-file"}),l?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx(de,{name:"check-circle",size:24,className:"text-success-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:l.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[(l.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{type:"button",onClick:b,className:"ml-4 text-danger-600 hover:text-danger-700",children:u.jsx(de,{name:"x",size:20})})]}):u.jsxs("label",{htmlFor:"admonition-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[u.jsx(de,{name:"image",size:32,className:"text-slate-400"}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-semibold text-brand-600",children:"Haz clic para subir"})," ","o arrastra el archivo aqu"]}),u.jsx("p",{className:"text-xs text-slate-400",children:"PDF, JPG, PNG (mx. 10MB)"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!a.trim()||!s||!l,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):"Registrar Amonestacin"})]})]})]})]})},sX=()=>{const e=qe(y=>y.context),t=qe(y=>y.setContext),[r,n]=A.useState({status:"todos",cargo:"todos"}),[a,i]=A.useState({type:"none"}),s=HG(e,r),o=VG(),l=KG(),c=GG(),d=XG();YG(e);const f=[{key:"rut",header:"RUT",value:y=>En(y.rut)},{key:"nombre",header:"Nombre",value:y=>y.nombre},{key:"cargo",header:"Cargo",value:y=>y.cargo},{key:"terminal_code",header:"Terminal",value:y=>Ge(y.terminal_code)},{key:"turno",header:"Turno",value:y=>y.turno},{key:"horario",header:"Horario",value:y=>y.horario},{key:"contacto",header:"Contacto",value:y=>y.contacto},{key:"status",header:"Estado",value:y=>y.status}],h=()=>{s.data&&dt({filename:"personal_vista",sheetName:"Personal",rows:s.data,columns:f})},p=()=>{s.data&&dt({filename:"personal_completo",sheetName:"Personal",rows:s.data,columns:f})},g=async y=>{try{await o.mutateAsync(y),i({type:"none"})}catch(_){console.error("Error creating staff:",_),alert(_ instanceof Error?_.message:"Error al crear trabajador")}},v=async y=>{if(a.type==="edit")try{await l.mutateAsync({id:a.staff.id,values:y}),i({type:"none"})}catch(_){console.error("Error updating staff:",_),alert(_ instanceof Error?_.message:"Error al actualizar trabajador")}},x=async y=>{if(a.type==="offboard")try{await c.mutateAsync({id:a.staff.id,comment:y}),i({type:"none"})}catch(_){console.error("Error offboarding staff:",_),alert(_ instanceof Error?_.message:"Error al desvincular trabajador")}},b=async(y,_,w)=>{if(a.type==="admonish")try{await d.mutateAsync({staffId:a.staff.id,reason:y,admonitionDate:_,file:w}),i({type:"none"})}catch(S){console.error("Error creating admonition:",S),alert(S instanceof Error?S.message:"Error al registrar amonestacin")}},m=()=>i({type:"none"});return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Personal",description:"Gestin del equipo operativo por terminal.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>i({type:"create"}),children:[u.jsx(de,{name:"users",size:18}),"Nuevo Trabajador"]}),u.jsx(qr,{onExportView:h,onExportAll:p})]})}),u.jsx(ZG,{terminalContext:e}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:r.status,onChange:y=>n(_=>({..._,status:y.target.value})),children:MG.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsxs("select",{className:"input",value:r.cargo||"todos",onChange:y=>n(_=>({..._,cargo:y.target.value})),children:[u.jsx("option",{value:"todos",children:"Todos"}),Gc.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))]})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:r.search??"",onChange:y=>n(_=>({..._,search:y.target.value}))})]})]}),s.isLoading&&u.jsx(xr,{label:"Cargando personal..."}),s.isError&&u.jsx(Rr,{onRetry:()=>s.refetch()}),!s.isLoading&&!s.isError&&u.jsx(tX,{staff:s.data||[],onEdit:y=>i({type:"edit",staff:y}),onOffboard:y=>i({type:"offboard",staff:y}),onAdmonish:y=>i({type:"admonish",staff:y})}),(a.type==="create"||a.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:m}),u.jsxs("div",{className:"relative w-full max-w-2xl card p-6 animate-scale-in max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.type==="create"?"Nuevo Trabajador":"Editar Trabajador"}),u.jsx("button",{onClick:m,className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),u.jsx(nX,{initialData:a.type==="edit"?a.staff:null,onSubmit:a.type==="create"?g:v,onCancel:m,isLoading:o.isPending||l.isPending})]})]}),a.type==="offboard"&&u.jsx(aX,{staffName:a.staff.nombre,onConfirm:x,onCancel:m,isLoading:c.isPending}),a.type==="admonish"&&u.jsx(iX,{staffName:a.staff.nombre,onConfirm:b,onCancel:m,isLoading:d.isPending})]})},$a=({columns:e,rows:t,emptyMessage:r="Sin resultados"})=>t.length?u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsx("tr",{children:e.map(n=>u.jsx("th",{scope:"col",className:"table-header-cell",children:n.header},n.key))})}),u.jsx("tbody",{className:"table-body",children:t.map((n,a)=>u.jsx("tr",{className:"table-row",children:e.map(i=>u.jsx("td",{className:"table-cell",children:i.render?i.render(n):n[i.key]},i.key))},a))})]})}):u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 mb-3",children:u.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-sm font-medium text-slate-600",children:r}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"No hay datos para mostrar en este momento"})]}),La=({label:e="Sin datos",description:t})=>u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:u.jsx("svg",{className:"h-7 w-7 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),t&&u.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:t})]}),Iu=(e,t)=>({list:async({terminalContext:r,filters:n,scope:a})=>{const i=p7(e,r);return a==="all"?i:t?i.filter(s=>t(s,n)):i}}),oX=[{id:"r-1",tema:"Coordinacin semanal",fecha:"2023-12-04T09:00:00Z",responsable:"Ana Prez",participantes:8,estado:"agendada",terminal:"EL_ROBLE"},{id:"r-2",tema:"Operacin nocturna",fecha:"2023-12-03T18:00:00Z",responsable:"Carlos Vega",participantes:6,estado:"en_curso",terminal:"LA_REINA"},{id:"r-3",tema:"Revisin de seguridad",fecha:"2023-12-01T15:30:00Z",responsable:"Laura Soto",participantes:5,estado:"cerrada",terminal:"EL_SALTO"}],Qj=Iu(oX,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),lX=()=>{var c;const e=qe(d=>d.context),t=qe(d=>d.setContext),[r,n]=A.useState({estado:"todas"}),a=Tt({queryKey:["reuniones",e,r],queryFn:()=>Qj.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"tema",header:"Tema"},{key:"fecha",header:"Fecha",render:d=>Ut(d.fecha),value:d=>Ut(d.fecha)},{key:"responsable",header:"Responsable"},{key:"participantes",header:"Asistentes"},{key:"estado",header:"Estado",render:d=>u.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"terminal",header:"Terminal",render:d=>Ge(d.terminal),value:d=>Ge(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&dt({filename:"reuniones_vista",sheetName:"Reuniones",rows:a.data,columns:s})},l=async()=>{const d=await Qj.list({terminalContext:e,scope:"all"});dt({filename:"reuniones_completo",sheetName:"Reuniones",rows:d,columns:s})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Reuniones",description:"Agenda y seguimiento de reuniones.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nueva reunin"}),u.jsx(qr,{onExportView:o,onExportAll:l})]})}),u.jsx(ua,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:d=>n({estado:d.target.value}),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"agendada",children:"Agendada"}),u.jsx("option",{value:"en_curso",children:"En curso"}),u.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),a.isLoading&&u.jsx(xr,{}),a.isError&&u.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&u.jsxs(u.Fragment,{children:[!((c=a.data)!=null&&c.length)&&u.jsx(La,{description:"No hay reuniones con estos filtros."}),a.data&&a.data.length>0&&u.jsx($a,{columns:i,rows:a.data})]})]})},cX=[{id:"t-1",titulo:"Inventario patio",responsable:"Ana Prez",prioridad:"alta",estado:"pendiente",vencimiento:"2023-12-06",terminal:"EL_ROBLE"},{id:"t-2",titulo:"Actualizar checklists",responsable:"Carlos Vega",prioridad:"media",estado:"en_progreso",vencimiento:"2023-12-07",terminal:"EL_SALTO"},{id:"t-3",titulo:"Control de EPIs",responsable:"Laura Soto",prioridad:"baja",estado:"completada",vencimiento:"2023-11-30",terminal:"COLO_COLO"}],Jj=Iu(cX,(e,t)=>{const r=t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0,n=t!=null&&t.prioridad&&t.prioridad!=="todas"?e.prioridad===t.prioridad:!0;return r&&n}),uX=()=>{var c;const e=qe(d=>d.context),t=qe(d=>d.setContext),[r,n]=A.useState({estado:"todas",prioridad:"todas"}),a=Tt({queryKey:["tareas",e,r],queryFn:()=>Jj.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"titulo",header:"Tarea"},{key:"responsable",header:"Responsable"},{key:"prioridad",header:"Prioridad",render:d=>u.jsx("span",{className:"badge capitalize",children:d.prioridad}),value:d=>d.prioridad},{key:"estado",header:"Estado",render:d=>u.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"vencimiento",header:"Vencimiento",render:d=>Ut(d.vencimiento),value:d=>Ut(d.vencimiento)},{key:"terminal",header:"Terminal",render:d=>Ge(d.terminal),value:d=>Ge(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&dt({filename:"tareas_vista",sheetName:"Tareas",rows:a.data,columns:s})},l=async()=>{const d=await Jj.list({terminalContext:e,scope:"all"});dt({filename:"tareas_completo",sheetName:"Tareas",rows:d,columns:s})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Tareas",description:"Seguimiento de pendientes y compromisos.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nueva tarea"}),u.jsx(qr,{onExportView:o,onExportAll:l})]})}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:d=>n(f=>({...f,estado:d.target.value})),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"pendiente",children:"Pendiente"}),u.jsx("option",{value:"en_progreso",children:"En progreso"}),u.jsx("option",{value:"completada",children:"Completada"})]})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Prioridad"}),u.jsxs("select",{className:"input",value:r.prioridad,onChange:d=>n(f=>({...f,prioridad:d.target.value})),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"alta",children:"Alta"}),u.jsx("option",{value:"media",children:"Media"}),u.jsx("option",{value:"baja",children:"Baja"})]})]})]}),a.isLoading&&u.jsx(xr,{}),a.isError&&u.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&u.jsxs(u.Fragment,{children:[!((c=a.data)!=null&&c.length)&&u.jsx(La,{description:"No hay tareas para mostrar."}),a.data&&a.data.length>0&&u.jsx($a,{columns:i,rows:a.data})]})]})},dX=[{id:"i-1",titulo:"Actualizacin de protocolos",fecha:"2023-12-02",enviadoPor:"Equipo Seguridad",alcance:"todos",terminal:"EL_ROBLE"},{id:"i-2",titulo:"Corte programado",fecha:"2023-12-03",enviadoPor:"Operaciones",alcance:"terminal",terminal:"LA_REINA"},{id:"i-3",titulo:"Campaa de seguridad",fecha:"2023-12-01",enviadoPor:"Prevencin",alcance:"segmentado",terminal:"EL_SALTO"}],Zj=Iu(dX,(e,t)=>t!=null&&t.alcance&&t.alcance!=="todos"?e.alcance===t.alcance:!0),fX="https://kzslhhctjfxsdvcrqvvs.supabase.co/functions/v1/send-email",eT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",Xc={sendEmail:async e=>{const t=await fetch(fX,{method:"POST",headers:{"Content-Type":"application/json",apikey:eT,Authorization:`Bearer ${eT}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Email send failed: ${t.status} ${n}`)}const r=await t.json();return{accepted:r.accepted??!0,messageId:r.messageId??"pending"}}},hX=()=>{var C;const e=qe(N=>N.context),t=qe(N=>N.setContext),[r,n]=A.useState({alcance:"todos"}),[a,i]=A.useState("todos"),[s,o]=A.useState("EL_ROBLE"),[l,c]=A.useState(""),[d,f]=A.useState(""),[h,p]=A.useState(""),[g,v]=A.useState(!1),[x,b]=A.useState(""),[m,y]=A.useState(""),_=Tt({queryKey:["informativos",e,r],queryFn:()=>Zj.list({terminalContext:e,filters:r,scope:"view"})}),w=A.useMemo(()=>[{key:"titulo",header:"Ttulo"},{key:"enviadoPor",header:"Enviado por"},{key:"alcance",header:"Alcance",render:N=>u.jsx("span",{className:"badge",children:N.alcance}),value:N=>N.alcance},{key:"fecha",header:"Fecha",render:N=>Ut(N.fecha),value:N=>Ut(N.fecha)},{key:"terminal",header:"Terminal",render:N=>Ge(N.terminal),value:N=>Ge(N.terminal)}],[]),S=w.map(N=>({key:N.key,header:N.header,value:L=>N.value?N.value(L):L[N.key]})),E=()=>{_.data&&dt({filename:"informativos_vista",sheetName:"Informativos",rows:_.data,columns:S})},j=async()=>{const N=await Zj.list({terminalContext:e,scope:"all"});dt({filename:"informativos_completo",sheetName:"Informativos",rows:N,columns:S})},T=async()=>{y(""),v(!0);try{const N=await Xc.sendEmail({audience:a,terminalCodes:a==="por_terminal"?[s]:void 0,manualRecipients:a==="manual"?l.split(",").map(L=>L.trim()).filter(Boolean):void 0,subject:d,body:h});b(`Correo enviado (${N.messageId})`),f(""),p(""),c("")}catch(N){y(N.message)}finally{v(!1)}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Informativos",description:"Comunicaciones internas con opciones de envo por terminal.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nuevo informativo"}),u.jsx(qr,{onExportView:E,onExportAll:j})]})}),u.jsx(ua,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Alcance"}),u.jsxs("select",{className:"input",value:r.alcance,onChange:N=>n({alcance:N.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"terminal",children:"Por terminal"}),u.jsx("option",{value:"segmentado",children:"Segmentado"})]})]})}),_.isLoading&&u.jsx(xr,{}),_.isError&&u.jsx(Rr,{onRetry:_.refetch}),!_.isLoading&&!_.isError&&u.jsxs(u.Fragment,{children:[!((C=_.data)!=null&&C.length)&&u.jsx(La,{description:"No hay informativos con los filtros actuales."}),_.data&&_.data.length>0&&u.jsx($a,{columns:w,rows:_.data})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Enviar correo interno"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Mdulo preparado para conectar a Edge Function."})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[x&&u.jsx("span",{className:"badge",children:x}),m&&u.jsx("span",{className:"text-xs font-semibold text-red-600",children:m})]})]}),u.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Destinatarios"}),u.jsxs("select",{className:"input",value:a,onChange:N=>i(N.target.value),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"por_terminal",children:"Por terminal"}),u.jsx("option",{value:"manual",children:"Lista manual"})]})]}),a==="por_terminal"&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Terminal objetivo"}),u.jsx("select",{className:"input",value:s,onChange:N=>o(N.target.value),children:Ma.map(N=>u.jsx("option",{value:N.value,children:N.label},N.value))})]}),a==="manual"&&u.jsxs("div",{className:"space-y-1 md:col-span-2",children:[u.jsx("label",{className:"label",children:"Correos (separados por coma)"}),u.jsx("input",{className:"input",value:l,onChange:N=>c(N.target.value),placeholder:"correo1@dominio.com, correo2@dominio.com"})]}),u.jsxs("div",{className:"md:col-span-3 grid gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Asunto"}),u.jsx("input",{className:"input",value:d,onChange:N=>f(N.target.value)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Mensaje"}),u.jsx("textarea",{className:"input min-h-[120px]",value:h,onChange:N=>p(N.target.value),placeholder:"Contenido del correo"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{className:"btn btn-primary",onClick:T,disabled:g||!d||!h,children:g?"Enviando...":"Enviar (mock)"})})]})]})]})]})},pX=["ISAAC AVILA","CLAUDIO ARRIAGADA","CRISTIAN LURASCHI"],mX={EL_ROBLE:"CRISTIAN LURASCHI",LA_REINA:"CRISTIAN LURASCHI"},wl=e=>e.trim().replace(/\s+/g," ").toUpperCase(),Nv=e=>{const t=wl(e);return pX.includes(t)},vX=e=>mX[e]??"",Cv=({data:e,isLoading:t})=>{if(t)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((n,a)=>u.jsxs("div",{className:"card p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},a))});if(!e)return null;const r=[{label:"Pendientes Hoy",value:e.pendingToday,icon:"clock",bgClass:"bg-warning-50 border-warning-200",textClass:"text-warning-700",iconClass:"text-warning-500"},{label:"Pendientes Total",value:e.pendingTotal,icon:"inbox",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",iconClass:"text-orange-500"},{label:"Autorizados (30d)",value:e.authorizedRange,icon:"check-circle",bgClass:"bg-success-50 border-success-200",textClass:"text-success-700",iconClass:"text-success-500"},{label:"Rechazados (30d)",value:e.rejectedRange,icon:"x",bgClass:"bg-danger-50 border-danger-200",textClass:"text-danger-700",iconClass:"text-danger-500"}];return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map(n=>u.jsxs("div",{className:`card p-4 ${n.bgClass}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(de,{name:n.icon,size:18,className:n.iconClass}),u.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:n.label})]}),u.jsx("p",{className:`text-2xl font-bold ${n.textClass}`,children:n.value})]},n.label))})},qs=({mode:e,itemName:t,onConfirm:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState(""),o=c=>{c.preventDefault(),!(e==="reject"&&!i.trim())&&r(i.trim()||void 0)},l=e==="authorize";return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),u.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${l?"bg-success-100":"bg-danger-100"}`,children:u.jsx(de,{name:l?"check-circle":"x",size:24,className:l?"text-success-600":"text-danger-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:l?"Autorizar Registro":"Rechazar Registro"}),u.jsx("p",{className:"text-sm text-slate-600",children:l?`Confirmas la autorizacin de "${t}"?`:`Confirmas el rechazo de "${t}"?`})]})]}),u.jsxs("form",{onSubmit:o,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"label",children:l?"Comentario (opcional)":"Motivo del rechazo *"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i,onChange:c=>s(c.target.value),placeholder:l?"Agregar comentario...":"Describe el motivo del rechazo...",required:!l})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:`btn ${l?"btn-success":"btn-danger"}`,disabled:a||!l&&!i.trim(),children:a?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):l?"Autorizar":"Rechazar"})]})]})]})]})},kv=({value:e,onChange:t,onStaffFound:r,disabled:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(!1),[l,c]=A.useState(null),[d,f]=A.useState(!1);A.useEffect(()=>{e&&i(En(e))},[e]);const h=v=>{if(i(v),c(null),f(!1),y1(v).valid){const b=bl(v);t(b),p(b)}else t(""),r(null)},p=async v=>{o(!0);try{const x=await $G(v);x?(f(!0),r(x)):(c("RUT no encontrado en Personal"),r(null))}catch{c("Error al buscar RUT"),r(null)}finally{o(!1)}},g=()=>{e&&i(En(e))};return u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input pr-10 ${l?"border-danger-500":d?"border-success-500":""}`,value:a,onChange:v=>h(v.target.value),onBlur:g,placeholder:"12.345.678-9",disabled:n}),u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s?u.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-400",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d?u.jsx(de,{name:"check-circle",size:18,className:"text-success-500"}):l?u.jsx(de,{name:"x",size:18,className:"text-danger-500"}):u.jsx(de,{name:"search",size:18,className:"text-slate-400"})})]}),l&&u.jsx("p",{className:"mt-1 text-xs text-danger-600",children:l}),d&&u.jsx("p",{className:"mt-1 text-xs text-success-600",children:"Datos cargados desde Personal"})]})},gX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",area:"Logstica",cargo:"",jefe_terminal:"",terminal_code:"EL_ROBLE",cabezal:"",incident_state:"",schedule_in_out:"",date:new Date().toISOString().split("T")[0],time_range:"",observations:"",informed_by:t,...e});A.useEffect(()=>{const c=vX(i.terminal_code);c&&s(d=>({...d,jefe_terminal:c}))},[i.terminal_code]);const o=c=>{c&&s(d=>({...d,nombre:c.nombre,cargo:c.cargo,terminal_code:c.terminal_code}))},l=c=>{c.preventDefault(),r(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(kv,{value:i.rut,onChange:c=>s(d=>({...d,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(d=>({...d,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"rea"}),u.jsx("input",{type:"text",className:"input",value:i.area,onChange:c=>s(d=>({...d,area:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:c=>s(d=>({...d,cargo:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(d=>({...d,terminal_code:c.target.value})),required:!0,children:Ma.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Jefe de Terminal"}),u.jsx("input",{type:"text",className:"input",value:i.jefe_terminal,onChange:c=>s(d=>({...d,jefe_terminal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(d=>({...d,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Estado (Incidente)"}),u.jsx("input",{type:"text",className:"input",value:i.incident_state,onChange:c=>s(d=>({...d,incident_state:c.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario Entrada/Salida"}),u.jsx("input",{type:"text",className:"input",value:i.schedule_in_out,onChange:c=>s(d=>({...d,schedule_in_out:c.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(d=>({...d,date:c.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario (Rango)"}),u.jsx("input",{type:"text",className:"input",value:i.time_range,onChange:c=>s(d=>({...d,time_range:c.target.value})),placeholder:"10:00-14:00"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Observaciones"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i.observations,onChange:c=>s(d=>({...d,observations:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Informado Por"}),u.jsx("input",{type:"text",className:"input",value:i.informed_by,onChange:c=>s(d=>({...d,informed_by:c.target.value}))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},W_=async e=>{const{data:t,error:r}=await _e.from("app_configuration").select("value").eq("key",e).single();return r?(r.code==="PGRST116"||console.error(`Error fetching config ${e}:`,r),null):t.value},xX=async(e,t,r)=>{const{error:n}=await _e.from("app_configuration").upsert({key:e,value:t,description:r},{onConflict:"key"});if(n)throw console.error(`Error updating config ${e}:`,n),n},yX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=_e.from("attendance_no_marcaciones").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}t!=null&&t.date_from&&(n=n.gte("date",t.date_from)),t!=null&&t.date_to&&(n=n.lte("date",t.date_to));const{data:a,error:i}=await n;if(i)throw i;return a||[]},bX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_no_marcaciones").insert({...e,created_by_supervisor:wl(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar el registro de No Marcacin"),n;try{await Pv("No Marcaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{rea:e.area||"",Cargo:e.cargo||"","Jefe Terminal":e.jefe_terminal||"",Observaciones:e.observations||""}}),ni("Registro creado exitosamente",`No Marcacin para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`No Marcacin para ${e.nombre} guardado (correo no enviado)`,t)}return r},wX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_no_marcaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},_X=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=_e.from("attendance_sin_credenciales").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},SX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_sin_credenciales").insert({...e,created_by_supervisor:wl(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar el registro de Sin Credenciales"),n;try{await Pv("Sin Credenciales",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{Cabezal:e.cabezal||"",Horario:`${e.start_time||""} - ${e.end_time||""}`,Cargo:e.cargo||"","Supervisor Autoriza":e.supervisor_autoriza||""}}),ni("Registro creado exitosamente",`Sin Credenciales para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`Sin Credenciales para ${e.nombre} guardado (correo no enviado)`,t)}return r},EX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_sin_credenciales").update(t).eq("id",e).select().single();if(n)throw n;return r},jX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=_e.from("attendance_cambios_dia").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},TX=async(e,t)=>{let r=null;if(e.document){const c=e.document.name.split(".").pop(),d=`cambios-dia/${Date.now()}.${c}`,{error:f}=await _e.storage.from("attendance-docs").upload(d,e.document);if(f)throw console.error("Storage Upload Error Detail:",f),Qa("Error al subir documento","Verifica que el archivo sea imagen o PDF y menor a 5MB"),new Error(`Error al subir documento: ${f.message}`);r=d}const{document:n,...a}=e,i={...a,document_path:r,created_by_supervisor:wl(t)};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(c=>{i[c]===""&&(i[c]=null)});const{data:o,error:l}=await _e.from("attendance_cambios_dia").insert(i).select().single();if(l)throw Qa("Error al crear registro","No se pudo guardar el registro de Cambio de Da"),l;try{let c="No adjunto";if(r){const{data:d}=_e.storage.from("attendance-docs").getPublicUrl(r);c=`<a href="${d.publicUrl}" target="_blank" style="color: #2563eb; text-decoration: underline; font-weight: 700;">Ver Documento Adjunto</a>`}await Pv("Cambios de Da",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{"Jornada Programada":`${e.prog_start||""} - ${e.prog_end||""}`,"Da No Trabaja":e.day_off_date||"","Da Trabaja":e.day_on_date||"",Documento:c}}),ni("Registro creado exitosamente",`Cambio de Da para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`Cambio de Da para ${e.nombre} guardado (correo no enviado)`,t)}return o},AX=async(e,t)=>{const{document:r,...n}=t,a={...n};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(l=>{a[l]===""&&(a[l]=null)});const{data:s,error:o}=await _e.from("attendance_cambios_dia").update(a).eq("id",e).select().single();if(o)throw o;return s},OX=async e=>{const{data:t,error:r}=await _e.storage.from("attendance-docs").createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},NX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=_e.from("attendance_autorizaciones").select("*").in("terminal_code",r).order("authorization_date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},CX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_autorizaciones").insert({...e,created_by_supervisor:wl(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar la autorizacin"),n;try{await Pv("Autorizaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.authorization_date,createdBy:t,details:{Tipo:e.entry_or_exit==="ENTRADA"?"Llegada Tarda":"Retiro Anticipado",Horario:e.horario||"",Turno:e.turno||"",Motivo:e.motivo||""}}),ni("Registro creado exitosamente",`Autorizacin para ${e.nombre} guardada y correo enviado`,t)}catch{ni("Registro creado",`Autorizacin para ${e.nombre} guardada (correo no enviado)`,t)}return r},kX=async(e,t)=>{const{data:r,error:n}=await _e.from("attendance_autorizaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},PX=async(e,t,r)=>{const{error:n}=await _e.from(e).update({auth_status:"AUTORIZADO",authorized_by:wl(r),authorized_at:new Date().toISOString()}).eq("id",t);if(n)throw n},RX=async(e,t,r,n)=>{const{error:a}=await _e.from(e).update({auth_status:"RECHAZADO",authorized_by:wl(r),authorized_at:new Date().toISOString(),rejection_reason:n}).eq("id",t);if(a)throw a},IX=async(e,t,r="date")=>{if(!jn())return{pendingToday:0,pendingTotal:0,authorizedRange:0,rejectedRange:0};const n=Xi(t),a=new Date().toISOString().split("T")[0],{count:i}=await _e.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE").eq(r,a),{count:s}=await _e.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE"),o=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],{count:l}=await _e.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","AUTORIZADO").gte(r,o),{count:c}=await _e.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","RECHAZADO").gte(r,o);return{pendingToday:i??0,pendingTotal:s??0,authorizedRange:l??0,rejectedRange:c??0}},DX=(e,t)=>{const r=_e.channel("attendance-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_no_marcaciones"},()=>e("attendance_no_marcaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_no_marcaciones"},()=>t("attendance_no_marcaciones")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_sin_credenciales"},()=>e("attendance_sin_credenciales")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_sin_credenciales"},()=>t("attendance_sin_credenciales")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_cambios_dia"},()=>e("attendance_cambios_dia")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_cambios_dia"},()=>t("attendance_cambios_dia")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_autorizaciones"},()=>e("attendance_autorizaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_autorizaciones"},()=>t("attendance_autorizaciones")).subscribe();return()=>{_e.removeChannel(r)}},eR="isaac.avila@transdev.cl",hn={check:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
        <path d="M18 28L24 34L38 20" stroke="#16a34a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,x:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fee2e2" stroke="#ef4444" stroke-width="3"/>
        <path d="M20 20L36 36M36 20L20 36" stroke="#dc2626" stroke-width="4" stroke-linecap="round"/>
    </svg>`,clock:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <circle cx="28" cy="28" r="3" fill="#d97706"/>
        <path d="M28 16V28L36 33" stroke="#d97706" stroke-width="3" stroke-linecap="round"/>
    </svg>`,user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`},tR=e=>new Date(e+"T12:00:00").toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Aa=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,rR=async(e,t,r,n,a,i,s)=>{const o=e==="AUTORIZADO",l=o?"#16a34a":"#dc2626",c=o?"#f0fdf4":"#fef2f2",d=o?"#bbf7d0":"#fecaca",f=o?hn.check:hn.x,h=`${t} ${e} - ${n}`,p=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: ${c}; border: 1px solid ${d}; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${f}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 20px; font-weight: 800; color: ${l}; letter-spacing: -0.5px;">${e}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Aa(hn.id,"Subseccin",t,!0)}
            ${Aa(hn.id,"RUT",r)}
            ${Aa(hn.user,"Trabajador",n)}
            ${Aa(hn.building,"Terminal",Ge(a))}
            ${Aa(hn.calendar,"Fecha",tR(i))}
            ${s?Aa(hn.id,"Motivo",s,!0):""}
        </table>
    `.trim(),g=await W_("email_notifications"),v=g!=null&&g.to&&g.to.length>0?g.to:[eR],x=(g==null?void 0:g.cc)||[];try{await Xc.sendEmail({audience:"manual",manualRecipients:v,cc:x,subject:h,body:p})}catch(b){console.error("Error sending authorization email:",b)}},Pv=async(e,t)=>{const r=t.details?Object.entries(t.details).filter(([l,c])=>c&&c.trim()).map(([l,c])=>Aa(hn.id,l,c)).join(""):"",n=`Nuevo Registro: ${e} - ${t.nombre}`,a=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: #fffbeb; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${hn.clock}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">PENDIENTE DE AUTORIZACIN</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Subsection Badge -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td align="center">
                    <span style="display: inline-block; padding: 8px 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 100px; color: #2563eb; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${e}</span>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Aa(hn.id,"RUT",t.rut)}
            ${Aa(hn.user,"Trabajador",t.nombre,!0)}
            ${Aa(hn.building,"Terminal",Ge(t.terminal))}
            ${Aa(hn.calendar,"Fecha",tR(t.date))}
            ${r}
        </table>
        
        <!-- Registered By -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top: 24px;">
            <tr>
                <td style="padding: 16px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                        <tr>
                            <td width="40" style="padding-right: 12px; vertical-align: middle;">
                                <div style="width: 40px; height: 40px; background: #2563eb; border-radius: 50%; text-align: center; line-height: 40px; color: white; font-weight: 700; font-size: 16px;">${t.createdBy.charAt(0)}</div>
                            </td>
                            <td style="vertical-align: middle;">
                                <span style="display: block; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;">Registrado por</span>
                                <span style="display: block; font-size: 14px; font-weight: 700; color: #0f172a;">${t.createdBy}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    `.trim(),i=await W_("email_notifications"),s=i!=null&&i.to&&i.to.length>0?i.to:[eR],o=(i==null?void 0:i.cc)||[];try{await Xc.sendEmail({audience:"manual",manualRecipients:s,cc:o,subject:n,body:a})}catch(l){console.error("Error sending record created email:",l)}},Rv=[{value:"todos",label:"Todos"},{value:"PENDIENTE",label:"Pendiente"},{value:"AUTORIZADO",label:"Autorizado"},{value:"RECHAZADO",label:"Rechazado"}],nR=[{value:"ENTRADA",label:"Llegada Tarda"},{value:"SALIDA",label:"Retiro Anticipado"}],aR={"no-marcaciones":"No Marcaciones","sin-credenciales":"Sin Credenciales","cambios-dia":"Cambios de Da",autorizaciones:"Autorizaciones"},Bt={all:["attendance"],noMarcaciones:(e,t)=>[...Bt.all,"no-marcaciones",e,t],sinCredenciales:(e,t)=>[...Bt.all,"sin-credenciales",e,t],cambiosDia:(e,t)=>[...Bt.all,"cambios-dia",e,t],autorizaciones:(e,t)=>[...Bt.all,"autorizaciones",e,t],kpis:(e,t)=>[...Bt.all,"kpis",e,t]},MX=(e,t)=>Tt({queryKey:Bt.noMarcaciones(e,t),queryFn:()=>yX(e,t)}),$X=(e,t)=>Tt({queryKey:Bt.sinCredenciales(e,t),queryFn:()=>_X(e,t)}),LX=(e,t)=>Tt({queryKey:Bt.cambiosDia(e,t),queryFn:()=>jX(e,t)}),FX=(e,t)=>Tt({queryKey:Bt.autorizaciones(e,t),queryFn:()=>NX(e,t)}),H_={"no-marcaciones":"attendance_no_marcaciones","sin-credenciales":"attendance_sin_credenciales","cambios-dia":"attendance_cambios_dia",autorizaciones:"attendance_autorizaciones"},BX={"no-marcaciones":"date","sin-credenciales":"date","cambios-dia":"date",autorizaciones:"authorization_date"},Iv=(e,t)=>Tt({queryKey:Bt.kpis(e,t),queryFn:()=>IX(H_[e],t,BX[e])}),UX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>bX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},zX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>SX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},WX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>TX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},HX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>CX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},qX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>wX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},VX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>EX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},KX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>AX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},GX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>kX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},Dv=()=>{const e=qt();return Qt({mutationFn:async({subsection:t,id:r,authorizedBy:n,rut:a,nombre:i,terminal:s,date:o})=>{await PX(H_[t],r,n),await rR("AUTORIZADO",aR[t],a,i,s,o)},onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},Mv=()=>{const e=qt();return Qt({mutationFn:async({subsection:t,id:r,authorizedBy:n,reason:a,rut:i,nombre:s,terminal:o,date:l})=>{await RX(H_[t],r,n,a),await rR("RECHAZADO",aR[t],i,s,o,l,a)},onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},$v=()=>{const e=qt();A.useEffect(()=>{const t=DX(()=>e.invalidateQueries({queryKey:Bt.all}),()=>e.invalidateQueries({queryKey:Bt.all}));return()=>{t()}},[e])},XX=()=>{const e=qe(w=>w.context),t=qe(w=>w.setContext),r=zn(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Nv(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),c=MX(e,i),d=Iv("no-marcaciones",e),f=UX(),h=qX(),p=Dv(),g=Mv();$v();const v=[{key:"rut",header:"RUT",value:w=>En(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"area",header:"rea",value:w=>w.area},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"jefe_terminal",header:"Jefe Terminal",value:w=>w.jefe_terminal},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"incident_state",header:"Estado",value:w=>w.incident_state},{key:"date",header:"Fecha",value:w=>w.date},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"no-marcaciones",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"no-marcaciones",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:w});default:return u.jsx("span",{className:"badge badge-warning",children:w})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"No Marcaciones",description:"Registros de no marcacin de personal",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(de,{name:"clipboard",size:18})," Nuevo Registro"]}),u.jsx(qr,{onExportView:()=>dt({filename:"no_marcaciones",sheetName:"Datos",rows:c.data||[],columns:v}),onExportAll:()=>dt({filename:"no_marcaciones_all",sheetName:"Datos",rows:c.data||[],columns:v})})]})}),u.jsx(Cv,{data:d.data,isLoading:d.isLoading}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Rv.map(w=>u.jsx("option",{value:w.value,children:w.label},w.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),c.isLoading&&u.jsx(xr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Estado"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(w=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:En(w.rut)}),u.jsx("td",{className:"table-cell font-medium",children:w.nombre}),u.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),u.jsx("td",{className:"table-cell",children:w.date}),u.jsx("td",{className:"table-cell",children:w.incident_state||"-"}),u.jsx("td",{className:"table-cell",children:_(w.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(de,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(de,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(de,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),u.jsx(gX,{initialData:o.type==="edit"?{...o.record,area:o.record.area??"Logstica",cargo:o.record.cargo??"",jefe_terminal:o.record.jefe_terminal??"",cabezal:o.record.cabezal??"",incident_state:o.record.incident_state??"",schedule_in_out:o.record.schedule_in_out??"",time_range:o.record.time_range??"",observations:o.record.observations??"",informed_by:o.record.informed_by??n}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},YX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",cargo:"",supervisor_autoriza:t,area:"Logstica",responsable:"",observacion:"",...e}),o=c=>{if(c){const[d,f]=(c.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:c.nombre,cargo:c.cargo,terminal_code:c.terminal_code,start_time:h,end_time:p}))}},l=c=>{c.preventDefault(),r(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(kv,{value:i.rut,onChange:c=>s(d=>({...d,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(d=>({...d,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(d=>({...d,terminal_code:c.target.value})),required:!0,children:Ma.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(d=>({...d,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(d=>({...d,date:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Hora Inicio"}),u.jsx("input",{type:"time",className:"input",value:i.start_time,onChange:c=>s(d=>({...d,start_time:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Hora Fin"}),u.jsx("input",{type:"time",className:"input",value:i.end_time,onChange:c=>s(d=>({...d,end_time:c.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:c=>s(d=>({...d,cargo:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Supervisor Autoriza"}),u.jsx("input",{type:"text",className:"input",value:i.supervisor_autoriza,onChange:c=>s(d=>({...d,supervisor_autoriza:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"rea"}),u.jsx("input",{type:"text",className:"input",value:i.area,onChange:c=>s(d=>({...d,area:c.target.value}))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Responsable"}),u.jsx("input",{type:"text",className:"input",value:i.responsable,onChange:c=>s(d=>({...d,responsable:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Observacin"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i.observacion,onChange:c=>s(d=>({...d,observacion:c.target.value}))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},QX=()=>{const e=qe(w=>w.context),t=qe(w=>w.setContext),r=zn(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Nv(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),c=$X(e,i),d=Iv("sin-credenciales",e),f=zX(),h=VX(),p=Dv(),g=Mv();$v();const v=[{key:"rut",header:"RUT",value:w=>En(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"date",header:"Fecha",value:w=>w.date},{key:"start_time",header:"Hora Inicio",value:w=>w.start_time},{key:"end_time",header:"Hora Fin",value:w=>w.end_time},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"supervisor_autoriza",header:"Supervisor Autoriza",value:w=>w.supervisor_autoriza},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"sin-credenciales",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"sin-credenciales",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:w});default:return u.jsx("span",{className:"badge badge-warning",children:w})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Sin Credenciales",description:"Registros de personal sin credencial",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(de,{name:"key",size:18})," Nuevo Registro"]}),u.jsx(qr,{onExportView:()=>dt({filename:"sin_credenciales",sheetName:"Datos",rows:c.data||[],columns:v}),onExportAll:()=>dt({filename:"sin_credenciales_all",sheetName:"Datos",rows:c.data||[],columns:v})})]})}),u.jsx(Cv,{data:d.data,isLoading:d.isLoading}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Rv.map(w=>u.jsx("option",{value:w.value,children:w.label},w.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),c.isLoading&&u.jsx(xr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Cabezal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Hora"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(w=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:En(w.rut)}),u.jsx("td",{className:"table-cell font-medium",children:w.nombre}),u.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),u.jsx("td",{className:"table-cell",children:w.cabezal||"-"}),u.jsx("td",{className:"table-cell",children:w.date}),u.jsxs("td",{className:"table-cell",children:[w.start_time," - ",w.end_time]}),u.jsx("td",{className:"table-cell",children:_(w.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(de,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(de,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(de,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),u.jsx(YX,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",start_time:o.record.start_time??"",end_time:o.record.end_time??"",cargo:o.record.cargo??"",supervisor_autoriza:o.record.supervisor_autoriza??"",area:o.record.area??"",responsable:o.record.responsable??"",observacion:o.record.observacion??""}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},JX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const a=A.useRef(null),[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],prog_start:"",prog_end:"",reprogram_start:"",reprogram_end:"",day_off_date:"",day_off_start:"",day_off_end:"",day_on_date:"",day_on_start:"",day_on_end:"",document:null,...e}),o=c=>{if(c){const[d,f]=(c.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:c.nombre,terminal_code:c.terminal_code,prog_start:h,prog_end:p,day_off_start:h,day_off_end:p,day_on_start:h,day_on_end:p}))}},l=c=>{c.preventDefault(),t(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(kv,{value:i.rut,onChange:c=>s(d=>({...d,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(d=>({...d,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(d=>({...d,terminal_code:c.target.value})),required:!0,children:Ma.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(d=>({...d,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha Registro"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(d=>({...d,date:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"card p-4 bg-brand-50 border-brand-200",children:[u.jsx("h4",{className:"font-semibold text-brand-800 mb-3",children:"Jornada Programada (desde Personal)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Entrada"}),u.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_start,onChange:c=>s(d=>({...d,prog_start:c.target.value})),placeholder:"--:--",readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Salida"}),u.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_end,onChange:c=>s(d=>({...d,prog_end:c.target.value})),placeholder:"--:--",readOnly:!0})]})]})]}),u.jsxs("div",{className:"card p-4 bg-slate-50",children:[u.jsx("h4",{className:"font-semibold text-slate-700 mb-3",children:"Da Programado (No Trabaja)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.day_off_date,onChange:c=>s(d=>({...d,day_off_date:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inicio"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_start,onChange:c=>s(d=>({...d,day_off_start:c.target.value})),placeholder:"--:--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Trmino"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_end,onChange:c=>s(d=>({...d,day_off_end:c.target.value})),placeholder:"--:--"})]})]})]}),u.jsxs("div",{className:"card p-4 bg-success-50 border-success-200",children:[u.jsx("h4",{className:"font-semibold text-success-800 mb-3",children:"Da ReProgramado (Trabaja)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.day_on_date,onChange:c=>s(d=>({...d,day_on_date:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inicio"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_start,onChange:c=>s(d=>({...d,day_on_start:c.target.value})),placeholder:"--:--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Trmino"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_end,onChange:c=>s(d=>({...d,day_on_end:c.target.value})),placeholder:"--:--"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Documento Adjunto (opcional)"}),u.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-center",children:[u.jsx("input",{ref:a,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:c=>s(d=>{var f;return{...d,document:((f=c.target.files)==null?void 0:f[0])||null}})}),i.document?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx(de,{name:"check-circle",size:20,className:"text-success-600"}),u.jsx("span",{className:"text-sm",children:i.document.name}),u.jsx("button",{type:"button",onClick:()=>{s(c=>({...c,document:null})),a.current&&(a.current.value="")},className:"text-danger-600",children:u.jsx(de,{name:"x",size:18})})]}):u.jsxs("button",{type:"button",onClick:()=>{var c;return(c=a.current)==null?void 0:c.click()},className:"btn btn-secondary",children:[u.jsx(de,{name:"image",size:18})," Seleccionar Archivo"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},ZX=()=>{const e=qe(S=>S.context),t=qe(S=>S.setContext),r=zn(S=>S.session),n=(r==null?void 0:r.supervisorName)??"",a=Nv(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),c=LX(e,i),d=Iv("cambios-dia",e),f=WX(),h=KX(),p=Dv(),g=Mv();$v();const v=[{key:"rut",header:"RUT",value:S=>En(S.rut)},{key:"nombre",header:"Nombre",value:S=>S.nombre},{key:"terminal",header:"Terminal",value:S=>Ge(S.terminal_code)},{key:"cabezal",header:"Cabezal",value:S=>S.cabezal},{key:"date",header:"Fecha",value:S=>S.date},{key:"prog_start",header:"Prog. Inicio",value:S=>S.prog_start},{key:"prog_end",header:"Prog. Fin",value:S=>S.prog_end},{key:"reprogram_start",header:"Reprog. Inicio",value:S=>S.reprogram_start},{key:"reprogram_end",header:"Reprog. Fin",value:S=>S.reprogram_end},{key:"auth_status",header:"Autorizacin",value:S=>S.auth_status}],x=async S=>{await f.mutateAsync({values:S,createdBy:n}),l({type:"none"})},b=async S=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:S}),l({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const S=o.record;await p.mutateAsync({subsection:"cambios-dia",id:S.id,authorizedBy:n,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},y=async S=>{if(o.type!=="reject"||!S)return;const E=o.record;await g.mutateAsync({subsection:"cambios-dia",id:E.id,authorizedBy:n,reason:S,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.date}),l({type:"none"})},_=async S=>{try{const E=await OX(S);window.open(E,"_blank")}catch(E){console.error("Error getting document URL:",E)}},w=S=>{switch(S){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:S});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:S});default:return u.jsx("span",{className:"badge badge-warning",children:S})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Cambios de Da",description:"Reprogramaciones de jornada laboral",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(de,{name:"calendar",size:18})," Nuevo Registro"]}),u.jsx(qr,{onExportView:()=>dt({filename:"cambios_dia",sheetName:"Datos",rows:c.data||[],columns:v}),onExportAll:()=>dt({filename:"cambios_dia_all",sheetName:"Datos",rows:c.data||[],columns:v})})]})}),u.jsx(Cv,{data:d.data,isLoading:d.isLoading}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:S=>s(E=>({...E,auth_status:S.target.value})),children:Rv.map(S=>u.jsx("option",{value:S.value,children:S.label},S.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:S=>s(E=>({...E,search:S.target.value}))})]})]}),c.isLoading&&u.jsx(xr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Jornada Prog."}),u.jsx("th",{className:"table-header-cell",children:"Jornada Reprog."}),u.jsx("th",{className:"table-header-cell",children:"Doc"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(S=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:En(S.rut)}),u.jsx("td",{className:"table-cell font-medium",children:S.nombre}),u.jsx("td",{className:"table-cell",children:Ge(S.terminal_code)}),u.jsx("td",{className:"table-cell",children:S.date}),u.jsxs("td",{className:"table-cell text-xs",children:[S.prog_start," - ",S.prog_end]}),u.jsxs("td",{className:"table-cell text-xs",children:[S.reprogram_start," - ",S.reprogram_end]}),u.jsx("td",{className:"table-cell",children:S.document_path?u.jsx("button",{onClick:()=>_(S.document_path),className:"text-brand-600 hover:underline",children:u.jsx(de,{name:"image",size:16})}):"-"}),u.jsx("td",{className:"table-cell",children:w(S.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:S}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(de,{name:"clipboard",size:16})}),a&&S.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:S}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(de,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:S}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(de,{name:"x",size:16})})]})]})})]},S.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-4xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),u.jsx(JX,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",prog_start:o.record.prog_start??"",prog_end:o.record.prog_end??"",reprogram_start:o.record.reprogram_start??"",reprogram_end:o.record.reprogram_end??"",day_off_date:o.record.day_off_date??"",day_off_start:o.record.day_off_start??"",day_off_end:o.record.day_off_end??"",day_on_date:o.record.day_on_date??"",day_on_start:o.record.day_on_start??"",day_on_end:o.record.day_on_end??"",document:null}:void 0,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},eY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"",terminal_code:"EL_ROBLE",turno:"",horario:"",authorization_date:new Date().toISOString().split("T")[0],entry_or_exit:"ENTRADA",motivo:"",...e}),s=l=>{l&&i(c=>({...c,nombre:l.nombre,cargo:l.cargo,terminal_code:l.terminal_code,turno:l.turno,horario:l.horario}))},o=l=>{l.preventDefault(),t(a)};return u.jsxs("form",{onSubmit:o,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(kv,{value:a.rut,onChange:l=>i(c=>({...c,rut:l})),onStaffFound:s,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:l=>i(c=>({...c,nombre:l.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:a.cargo,onChange:l=>i(c=>({...c,cargo:l.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:a.terminal_code,onChange:l=>i(c=>({...c,terminal_code:l.target.value})),required:!0,children:Ma.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Turno"}),u.jsx("input",{type:"text",className:"input",value:a.turno,onChange:l=>i(c=>({...c,turno:l.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:a.horario,onChange:l=>i(c=>({...c,horario:l.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha de Autorizacin"}),u.jsx("input",{type:"date",className:"input",value:a.authorization_date,onChange:l=>i(c=>({...c,authorization_date:l.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Tipo"}),u.jsx("select",{className:"input",value:a.entry_or_exit,onChange:l=>i(c=>({...c,entry_or_exit:l.target.value})),required:!0,children:nR.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Motivo"}),u.jsx("textarea",{className:"input min-h-[80px]",value:a.motivo,onChange:l=>i(c=>({...c,motivo:l.target.value})),placeholder:"Describe el motivo de la autorizacin...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},tY=()=>{const e=qe(E=>E.context),t=qe(E=>E.setContext),r=zn(E=>E.session),n=(r==null?void 0:r.supervisorName)??"",a=Nv(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),c=FX(e,i),d=Iv("autorizaciones",e),f=HX(),h=GX(),p=Dv(),g=Mv();$v();const v=E=>{var j;return((j=nR.find(T=>T.value===E))==null?void 0:j.label)||E},x=[{key:"rut",header:"RUT",value:E=>En(E.rut)},{key:"nombre",header:"Nombre",value:E=>E.nombre},{key:"cargo",header:"Cargo",value:E=>E.cargo},{key:"terminal",header:"Terminal",value:E=>Ge(E.terminal_code)},{key:"turno",header:"Turno",value:E=>E.turno},{key:"horario",header:"Horario",value:E=>E.horario},{key:"authorization_date",header:"Fecha",value:E=>E.authorization_date},{key:"entry_or_exit",header:"Tipo",value:E=>v(E.entry_or_exit)},{key:"motivo",header:"Motivo",value:E=>E.motivo},{key:"auth_status",header:"Autorizacin",value:E=>E.auth_status}],b=async E=>{await f.mutateAsync({values:E,createdBy:n}),l({type:"none"})},m=async E=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:E}),l({type:"none"}))},y=async()=>{if(o.type!=="authorize")return;const E=o.record;await p.mutateAsync({subsection:"autorizaciones",id:E.id,authorizedBy:n,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.authorization_date}),l({type:"none"})},_=async E=>{if(o.type!=="reject"||!E)return;const j=o.record;await g.mutateAsync({subsection:"autorizaciones",id:j.id,authorizedBy:n,reason:E,rut:j.rut,nombre:j.nombre,terminal:j.terminal_code,date:j.authorization_date}),l({type:"none"})},w=E=>{switch(E){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:E});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:E});default:return u.jsx("span",{className:"badge badge-warning",children:E})}},S=E=>E==="ENTRADA"?u.jsx("span",{className:"badge bg-blue-100 text-blue-700",children:"Llegada Tarda"}):u.jsx("span",{className:"badge bg-purple-100 text-purple-700",children:"Retiro Anticipado"});return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Autorizaciones",description:"Retiros anticipados y llegadas tardas",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(de,{name:"check-circle",size:18})," Nueva Solicitud"]}),u.jsx(qr,{onExportView:()=>dt({filename:"autorizaciones",sheetName:"Datos",rows:c.data||[],columns:x}),onExportAll:()=>dt({filename:"autorizaciones_all",sheetName:"Datos",rows:c.data||[],columns:x})})]})}),u.jsx(Cv,{data:d.data,isLoading:d.isLoading}),u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:E=>s(j=>({...j,auth_status:E.target.value})),children:Rv.map(E=>u.jsx("option",{value:E.value,children:E.label},E.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:E=>s(j=>({...j,search:E.target.value}))})]})]}),c.isLoading&&u.jsx(xr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Tipo"}),u.jsx("th",{className:"table-header-cell",children:"Motivo"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(E=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:En(E.rut)}),u.jsx("td",{className:"table-cell font-medium",children:E.nombre}),u.jsx("td",{className:"table-cell",children:Ge(E.terminal_code)}),u.jsx("td",{className:"table-cell",children:E.authorization_date}),u.jsx("td",{className:"table-cell",children:S(E.entry_or_exit)}),u.jsx("td",{className:"table-cell max-w-[200px] truncate",title:E.motivo,children:E.motivo}),u.jsx("td",{className:"table-cell",children:w(E.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[E.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:E}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(de,{name:"clipboard",size:16})}),a&&E.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:E}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(de,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:E}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(de,{name:"x",size:16})})]})]})})]},E.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nueva Solicitud":"Editar Solicitud"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),u.jsx(eY,{initialData:o.type==="edit"?{...o.record,cargo:o.record.cargo??"",turno:o.record.turno??"",horario:o.record.horario??""}:void 0,onSubmit:o.type==="create"?b:m,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:_,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},tT="email_notifications",rY=({isOpen:e,onClose:t})=>{const[r,n]=A.useState({to:[],cc:[]}),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[l,c]=A.useState(""),[d,f]=A.useState("");A.useEffect(()=>{e&&h()},[e]);const h=async()=>{i(!0);try{const m=await W_(tT);n(m||{to:["isaac.avila@transdev.cl"],cc:[]})}catch(m){console.error("Error loading config:",m),Qa("Error","No se pudo cargar la configuracin")}finally{i(!1)}},p=async()=>{o(!0);try{await xX(tT,r,"Configuracin de destinatarios para notificaciones"),ni("Configuracin guardada","Los correos se enviarn a los nuevos destinatarios"),t()}catch(m){console.error("Error saving config:",m),Qa("Error","No se pudo guardar la configuracin")}finally{o(!1)}},g=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),v=m=>{const y=m==="to"?l:d,_=m==="to"?c:f,w=y.trim();if(w){if(!g(w)){Qa("Email invlido","Por favor ingresa un correo electrnico vlido");return}if(r[m].includes(w)){Qa("Email duplicado","Este correo ya est en la lista");return}n(S=>({...S,[m]:[...S[m],w]})),_("")}},x=(m,y)=>{n(_=>({..._,[m]:_[m].filter(w=>w!==y)}))},b=(m,y)=>{m.key==="Enter"&&(m.preventDefault(),v(y))};return e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-brand-100 p-2 rounded-lg text-brand-600",children:u.jsx(de,{name:"settings",size:24})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Configuracin de Correos"})]}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:u.jsx(de,{name:"x",size:24})})]}),a?u.jsx("div",{className:"py-12 flex justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"label mb-2 flex justify-between",children:[u.jsx("span",{children:"Destinatarios Principales (Para)"}),u.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben el correo directamente"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"email",className:"input flex-1",placeholder:"ejemplo@transdev.cl",value:l,onChange:m=>c(m.target.value),onKeyDown:m=>b(m,"to")}),u.jsx("button",{type:"button",onClick:()=>v("to"),className:"btn btn-secondary px-3",disabled:!l.trim(),children:u.jsx(de,{name:"plus",size:18})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.to.length===0&&u.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin destinatarios"}),r.to.map(m=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[m,u.jsx("button",{onClick:()=>x("to",m),className:"text-slate-400 hover:text-danger-500 ml-1",children:u.jsx(de,{name:"x",size:14})})]},m))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label mb-2 flex justify-between",children:[u.jsx("span",{children:"En Copia (CC)"}),u.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben una copia"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"email",className:"input flex-1",placeholder:"jefe@transdev.cl",value:d,onChange:m=>f(m.target.value),onKeyDown:m=>b(m,"cc")}),u.jsx("button",{type:"button",onClick:()=>v("cc"),className:"btn btn-secondary px-3",disabled:!d.trim(),children:u.jsx(de,{name:"plus",size:18})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.cc.length===0&&u.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin copias"}),r.cc.map(m=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[m,u.jsx("button",{onClick:()=>x("cc",m),className:"text-slate-400 hover:text-danger-500 ml-1",children:u.jsx(de,{name:"x",size:14})})]},m))]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),u.jsx("button",{onClick:p,className:"btn btn-primary min-w-[120px]",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]}):null},nY=[{id:"no-marcaciones",label:"No Marcaciones",icon:"clock"},{id:"sin-credenciales",label:"Sin Credenciales",icon:"key"},{id:"cambios-dia",label:"Cambios de Da",icon:"calendar"},{id:"autorizaciones",label:"Autorizaciones",icon:"check-circle"}],aY=()=>{const[e,t]=A.useState("no-marcaciones"),[r,n]=A.useState(!1),a=()=>{switch(e){case"no-marcaciones":return u.jsx(XX,{});case"sin-credenciales":return u.jsx(QX,{});case"cambios-dia":return u.jsx(ZX,{});case"autorizaciones":return u.jsx(tY,{});default:return null}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 border-b border-slate-200 pb-4",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:nY.map(i=>u.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===i.id?"bg-brand-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(de,{name:i.icon,size:18}),u.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.id))}),u.jsxs("button",{onClick:()=>n(!0),className:"btn btn-secondary text-sm flex items-center gap-2 shrink-0",children:[u.jsx(de,{name:"settings",size:16}),u.jsx("span",{children:"Configurar Correos"})]})]}),a(),u.jsx(rY,{isOpen:r,onClose:()=>n(!1)})]})},iY=[{id:"ai-1",area:"interior",responsable:"Equipo Aseo 1",fecha:"2023-12-04T08:00:00Z",estado:"pendiente",observaciones:"Pendiente zona comedor",terminal:"EL_ROBLE"},{id:"ae-1",area:"exterior",responsable:"Equipo Aseo 2",fecha:"2023-12-03T15:00:00Z",estado:"completado",observaciones:"Patio listo",terminal:"LA_REINA"},{id:"ar-1",area:"rodillo",responsable:"Equipo Rodillo",fecha:"2023-12-02T17:00:00Z",estado:"pendiente",terminal:"EL_SALTO"}],sY=e=>Iu(iY.filter(t=>t.area===e),(t,r)=>r!=null&&r.estado&&r.estado!=="todos"?t.estado===r.estado:!0),q_=({area:e,title:t})=>{var h;const r=qe(p=>p.context),n=qe(p=>p.setContext),[a,i]=A.useState({estado:"todos"}),s=A.useMemo(()=>sY(e),[e]),o=Tt({queryKey:["aseo",e,r,a],queryFn:()=>s.list({terminalContext:r,filters:a,scope:"view"})}),l=A.useMemo(()=>[{key:"responsable",header:"Responsable"},{key:"fecha",header:"Fecha",render:p=>Ut(p.fecha),value:p=>Ut(p.fecha)},{key:"estado",header:"Estado",render:p=>u.jsx("span",{className:"badge capitalize",children:p.estado}),value:p=>p.estado},{key:"observaciones",header:"Observaciones",render:p=>p.observaciones??"",value:p=>p.observaciones??""},{key:"terminal",header:"Terminal",render:p=>Ge(p.terminal),value:p=>Ge(p.terminal)}],[]),c=l.map(p=>({key:p.key,header:p.header,value:g=>p.value?p.value(g):g[p.key]})),d=()=>{o.data&&dt({filename:`aseo_${e}_vista`,sheetName:`Aseo ${e}`,rows:o.data,columns:c})},f=async()=>{const p=await s.list({terminalContext:r,scope:"all"});dt({filename:`aseo_${e}_completo`,sheetName:`Aseo ${e}`,rows:p,columns:c})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:`Aseo - ${t}`,description:"Control de aseo por rea",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nuevo registro"}),u.jsx(qr,{onExportView:d,onExportAll:f})]})}),u.jsx(ua,{terminalContext:r,onTerminalChange:n,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:a.estado,onChange:p=>i({estado:p.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"pendiente",children:"Pendiente"}),u.jsx("option",{value:"completado",children:"Completado"})]})]})}),o.isLoading&&u.jsx(xr,{}),o.isError&&u.jsx(Rr,{onRetry:o.refetch}),!o.isLoading&&!o.isError&&u.jsxs(u.Fragment,{children:[!((h=o.data)!=null&&h.length)&&u.jsx(La,{description:"Sin registros"}),o.data&&o.data.length>0&&u.jsx($a,{columns:l,rows:o.data})]})]})},oY=()=>u.jsx(q_,{area:"interior",title:"Interior"}),lY=()=>u.jsx(q_,{area:"exterior",title:"Exterior"}),cY=()=>u.jsx(q_,{area:"rodillo",title:"Rodillo"});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),rT=e=>{const t=dY(e);return t.charAt(0).toUpperCase()+t.slice(1)},iR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),fY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>A.createElement("svg",{ref:l,...hY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iR("lucide",a),...!i&&!fY(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,d])=>A.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=A.forwardRef(({className:n,...a},i)=>A.createElement(pY,{ref:i,iconNode:t,className:iR(`lucide-${uY(rT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=rT(e),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vY=At("calendar",mY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xY=At("circle-alert",gY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sR=At("clock",yY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jf=At("credit-card",bY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],oR=At("dollar-sign",wY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SY=At("download",_Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jY=At("eye",EY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AY=At("file-text",TY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],NY=At("funnel",OY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lR=At("mail",CY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cR=At("plus",kY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],RY=At("printer",PY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],uR=At("rotate-ccw",IY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],MY=At("save",DY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LY=At("search",$Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BY=At("send",FY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zY=At("settings",UY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],HY=At("square-pen",WY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VY=At("trash-2",qY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],GY=At("trending-up",KY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lv=At("triangle-alert",XY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QY=At("upload",YY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZY=At("user",JY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fi=At("x",eQ),Vs=["El Roble","La Reina","Maria Angelica"],dR=[{value:"PERDIDA",label:"Perdida"},{value:"DETERIORO",label:"Deterioro"}],tQ=[{value:"ASIGNADA",label:"Asignada"},{value:"RECUPERADA",label:"Recuperada"},{value:"CERRADA",label:"Cerrada"},{value:"CANCELADA",label:"Cancelada"}],rQ=[{value:"LIBRE",label:"Libre"},{value:"ASIGNADA",label:"Asignada"},{value:"INACTIVA",label:"Inactiva"}],sd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-slate-50 text-slate-600"})=>u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:e}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:t}),r&&u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]}),u.jsx("div",{className:`p-2 rounded-lg ${a}`,children:n})]})}),nQ=({kpis:e,isLoading:t})=>{if(t)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Array.from({length:5}).map((a,i)=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});const r=Vs.reduce((a,i)=>a+(e.availableByTerminal[i]||0),0),n=Vs.map(a=>`${a.split(" ")[0]}: ${e.availableByTerminal[a]||0}`).join(" | ");return u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[u.jsx(sd,{title:"Disponibles",value:r,subtitle:n,icon:u.jsx(jf,{className:"w-5 h-5"}),colorClass:"bg-emerald-50 text-emerald-600"}),u.jsx(sd,{title:"Prestamos Activos",value:e.activeLoans,icon:u.jsx(sR,{className:"w-5 h-5"}),colorClass:"bg-blue-50 text-blue-600"}),u.jsx(sd,{title:"Atrasados (+7d)",value:e.overdueLoans,icon:u.jsx(Lv,{className:"w-5 h-5"}),colorClass:e.overdueLoans>0?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}),u.jsx(sd,{title:"Tiempo Promedio",value:`${e.avgReturnDays} dias`,subtitle:"Ultimos 30 dias",icon:u.jsx(GY,{className:"w-5 h-5"}),colorClass:"bg-indigo-50 text-indigo-600"}),u.jsx(sd,{title:"Descuentos",value:`$${e.totalDiscounts.toLocaleString("es-CL")}`,icon:u.jsx(oR,{className:"w-5 h-5"}),colorClass:"bg-violet-50 text-violet-600"})]})};function fR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fR(e))&&(n&&(n+=" "),n+=t);return n}var aQ=Array.isArray,Tn=aQ,iQ=typeof Lh=="object"&&Lh&&Lh.Object===Object&&Lh,hR=iQ,sQ=hR,oQ=typeof self=="object"&&self&&self.Object===Object&&self,lQ=sQ||oQ||Function("return this")(),oi=lQ,cQ=oi,uQ=cQ.Symbol,jh=uQ,nT=jh,pR=Object.prototype,dQ=pR.hasOwnProperty,fQ=pR.toString,od=nT?nT.toStringTag:void 0;function hQ(e){var t=dQ.call(e,od),r=e[od];try{e[od]=void 0;var n=!0}catch{}var a=fQ.call(e);return n&&(t?e[od]=r:delete e[od]),a}var pQ=hQ,mQ=Object.prototype,vQ=mQ.toString;function gQ(e){return vQ.call(e)}var xQ=gQ,aT=jh,yQ=pQ,bQ=xQ,wQ="[object Null]",_Q="[object Undefined]",iT=aT?aT.toStringTag:void 0;function SQ(e){return e==null?e===void 0?_Q:wQ:iT&&iT in Object(e)?yQ(e):bQ(e)}var Qi=SQ;function EQ(e){return e!=null&&typeof e=="object"}var Ji=EQ,jQ=Qi,TQ=Ji,AQ="[object Symbol]";function OQ(e){return typeof e=="symbol"||TQ(e)&&jQ(e)==AQ}var Du=OQ,NQ=Tn,CQ=Du,kQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PQ=/^\w*$/;function RQ(e,t){if(NQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||CQ(e)?!0:PQ.test(e)||!kQ.test(e)||t!=null&&e in Object(t)}var V_=RQ;function IQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qs=IQ;const Mu=et(Qs);var DQ=Qi,MQ=Qs,$Q="[object AsyncFunction]",LQ="[object Function]",FQ="[object GeneratorFunction]",BQ="[object Proxy]";function UQ(e){if(!MQ(e))return!1;var t=DQ(e);return t==LQ||t==FQ||t==$Q||t==BQ}var K_=UQ;const Me=et(K_);var zQ=oi,WQ=zQ["__core-js_shared__"],HQ=WQ,Nx=HQ,sT=function(){var e=/[^.]+$/.exec(Nx&&Nx.keys&&Nx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qQ(e){return!!sT&&sT in e}var VQ=qQ,KQ=Function.prototype,GQ=KQ.toString;function XQ(e){if(e!=null){try{return GQ.call(e)}catch{}try{return e+""}catch{}}return""}var mR=XQ,YQ=K_,QQ=VQ,JQ=Qs,ZQ=mR,eJ=/[\\^$.*+?()[\]{}|]/g,tJ=/^\[object .+?Constructor\]$/,rJ=Function.prototype,nJ=Object.prototype,aJ=rJ.toString,iJ=nJ.hasOwnProperty,sJ=RegExp("^"+aJ.call(iJ).replace(eJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oJ(e){if(!JQ(e)||QQ(e))return!1;var t=YQ(e)?sJ:tJ;return t.test(ZQ(e))}var lJ=oJ;function cJ(e,t){return e==null?void 0:e[t]}var uJ=cJ,dJ=lJ,fJ=uJ;function hJ(e,t){var r=fJ(e,t);return dJ(r)?r:void 0}var _l=hJ,pJ=_l,mJ=pJ(Object,"create"),Fv=mJ,oT=Fv;function vJ(){this.__data__=oT?oT(null):{},this.size=0}var gJ=vJ;function xJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yJ=xJ,bJ=Fv,wJ="__lodash_hash_undefined__",_J=Object.prototype,SJ=_J.hasOwnProperty;function EJ(e){var t=this.__data__;if(bJ){var r=t[e];return r===wJ?void 0:r}return SJ.call(t,e)?t[e]:void 0}var jJ=EJ,TJ=Fv,AJ=Object.prototype,OJ=AJ.hasOwnProperty;function NJ(e){var t=this.__data__;return TJ?t[e]!==void 0:OJ.call(t,e)}var CJ=NJ,kJ=Fv,PJ="__lodash_hash_undefined__";function RJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kJ&&t===void 0?PJ:t,this}var IJ=RJ,DJ=gJ,MJ=yJ,$J=jJ,LJ=CJ,FJ=IJ;function $u(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$u.prototype.clear=DJ;$u.prototype.delete=MJ;$u.prototype.get=$J;$u.prototype.has=LJ;$u.prototype.set=FJ;var BJ=$u;function UJ(){this.__data__=[],this.size=0}var zJ=UJ;function WJ(e,t){return e===t||e!==e&&t!==t}var G_=WJ,HJ=G_;function qJ(e,t){for(var r=e.length;r--;)if(HJ(e[r][0],t))return r;return-1}var Bv=qJ,VJ=Bv,KJ=Array.prototype,GJ=KJ.splice;function XJ(e){var t=this.__data__,r=VJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():GJ.call(t,r,1),--this.size,!0}var YJ=XJ,QJ=Bv;function JJ(e){var t=this.__data__,r=QJ(t,e);return r<0?void 0:t[r][1]}var ZJ=JJ,eZ=Bv;function tZ(e){return eZ(this.__data__,e)>-1}var rZ=tZ,nZ=Bv;function aZ(e,t){var r=this.__data__,n=nZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var iZ=aZ,sZ=zJ,oZ=YJ,lZ=ZJ,cZ=rZ,uZ=iZ;function Lu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lu.prototype.clear=sZ;Lu.prototype.delete=oZ;Lu.prototype.get=lZ;Lu.prototype.has=cZ;Lu.prototype.set=uZ;var Uv=Lu,dZ=_l,fZ=oi,hZ=dZ(fZ,"Map"),X_=hZ,lT=BJ,pZ=Uv,mZ=X_;function vZ(){this.size=0,this.__data__={hash:new lT,map:new(mZ||pZ),string:new lT}}var gZ=vZ;function xZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yZ=xZ,bZ=yZ;function wZ(e,t){var r=e.__data__;return bZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var zv=wZ,_Z=zv;function SZ(e){var t=_Z(this,e).delete(e);return this.size-=t?1:0,t}var EZ=SZ,jZ=zv;function TZ(e){return jZ(this,e).get(e)}var AZ=TZ,OZ=zv;function NZ(e){return OZ(this,e).has(e)}var CZ=NZ,kZ=zv;function PZ(e,t){var r=kZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var RZ=PZ,IZ=gZ,DZ=EZ,MZ=AZ,$Z=CZ,LZ=RZ;function Fu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fu.prototype.clear=IZ;Fu.prototype.delete=DZ;Fu.prototype.get=MZ;Fu.prototype.has=$Z;Fu.prototype.set=LZ;var Y_=Fu,vR=Y_,FZ="Expected a function";function Q_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FZ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Q_.Cache||vR),r}Q_.Cache=vR;var gR=Q_;const BZ=et(gR);var UZ=gR,zZ=500;function WZ(e){var t=UZ(e,function(n){return r.size===zZ&&r.clear(),n}),r=t.cache;return t}var HZ=WZ,qZ=HZ,VZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KZ=/\\(\\)?/g,GZ=qZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(VZ,function(r,n,a,i){t.push(a?i.replace(KZ,"$1"):n||r)}),t}),XZ=GZ;function YZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var J_=YZ,cT=jh,QZ=J_,JZ=Tn,ZZ=Du,uT=cT?cT.prototype:void 0,dT=uT?uT.toString:void 0;function xR(e){if(typeof e=="string")return e;if(JZ(e))return QZ(e,xR)+"";if(ZZ(e))return dT?dT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var eee=xR,tee=eee;function ree(e){return e==null?"":tee(e)}var yR=ree,nee=Tn,aee=V_,iee=XZ,see=yR;function oee(e,t){return nee(e)?e:aee(e,t)?[e]:iee(see(e))}var bR=oee,lee=Du;function cee(e){if(typeof e=="string"||lee(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wv=cee,uee=bR,dee=Wv;function fee(e,t){t=uee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[dee(t[r++])];return r&&r==n?e:void 0}var Z_=fee,hee=Z_;function pee(e,t,r){var n=e==null?void 0:hee(e,t);return n===void 0?r:n}var wR=pee;const Bn=et(wR);function mee(e){return e==null}var vee=mee;const We=et(vee);var gee=Qi,xee=Tn,yee=Ji,bee="[object String]";function wee(e){return typeof e=="string"||!xee(e)&&yee(e)&&gee(e)==bee}var _ee=wee;const nl=et(_ee);var _R={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=Symbol.for("react.element"),t2=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),See=Symbol.for("react.server_context"),Xv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Qv=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),Eee=Symbol.for("react.offscreen"),SR;SR=Symbol.for("react.module.reference");function fa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case e2:switch(e=e.type,e){case Hv:case Vv:case qv:case Yv:case Qv:return e;default:switch(e=e&&e.$$typeof,e){case See:case Gv:case Xv:case Zv:case Jv:case Kv:return e;default:return t}}case t2:return t}}}lt.ContextConsumer=Gv;lt.ContextProvider=Kv;lt.Element=e2;lt.ForwardRef=Xv;lt.Fragment=Hv;lt.Lazy=Zv;lt.Memo=Jv;lt.Portal=t2;lt.Profiler=Vv;lt.StrictMode=qv;lt.Suspense=Yv;lt.SuspenseList=Qv;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return fa(e)===Gv};lt.isContextProvider=function(e){return fa(e)===Kv};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===e2};lt.isForwardRef=function(e){return fa(e)===Xv};lt.isFragment=function(e){return fa(e)===Hv};lt.isLazy=function(e){return fa(e)===Zv};lt.isMemo=function(e){return fa(e)===Jv};lt.isPortal=function(e){return fa(e)===t2};lt.isProfiler=function(e){return fa(e)===Vv};lt.isStrictMode=function(e){return fa(e)===qv};lt.isSuspense=function(e){return fa(e)===Yv};lt.isSuspenseList=function(e){return fa(e)===Qv};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hv||e===Vv||e===qv||e===Yv||e===Qv||e===Eee||typeof e=="object"&&e!==null&&(e.$$typeof===Zv||e.$$typeof===Jv||e.$$typeof===Kv||e.$$typeof===Gv||e.$$typeof===Xv||e.$$typeof===SR||e.getModuleId!==void 0)};lt.typeOf=fa;_R.exports=lt;var jee=_R.exports,Tee=Qi,Aee=Ji,Oee="[object Number]";function Nee(e){return typeof e=="number"||Aee(e)&&Tee(e)==Oee}var ER=Nee;const Cee=et(ER);var kee=ER;function Pee(e){return kee(e)&&e!=+e}var Ree=Pee;const Th=et(Ree);var tn=function(t){return t===0?0:t>0?1:-1},No=function(t){return nl(t)&&t.indexOf("%")===t.length-1},ve=function(t){return Cee(t)&&!Th(t)},Iee=function(t){return We(t)},or=function(t){return ve(t)||nl(t)},Dee=0,Ah=function(t){var r=++Dee;return"".concat(t||"").concat(r)},rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!nl(t))return n;var i;if(No(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Th(i)&&(i=n),a&&i>r&&(i=r),i},fs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Mee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ss=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function M1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var $ee=function(t,r){return ve(t)&&ve(r)?t-r:nl(t)&&nl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function gc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}var Lee=["viewBox","children"],Fee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fT=["points","pathLength"],Cx={svg:Lee,polygon:fT,polyline:fT},r2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!Mu(n))return null;var a={};return Object.keys(n).forEach(function(i){r2.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Bee=function(t,r,n){return function(a){return t(r,n,a),null}},al=function(t,r,n){if(!Mu(t)||$1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];r2.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Bee(s,r,n))}),a},Uee=["children"],zee=["children"];function hT(e,t){if(e==null)return{};var r=Wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},mT=null,kx=null,n2=function e(t){if(t===mT&&Array.isArray(kx))return kx;var r=[];return A.Children.forEach(t,function(n){We(n)||(jee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kx=r,mT=t,r};function sa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Oi(a)}):n=[Oi(t)],n2(e).forEach(function(a){var i=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function kn(e,t){var r=sa(e,t);return r&&r[0]}var vT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},Hee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qee=function(t){return t&&t.type&&nl(t.type)&&Hee.indexOf(t.type)>=0},Vee=function(t,r,n,a){var i,s=(i=Cx==null?void 0:Cx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Me(t)&&(a&&s.includes(r)||Fee.includes(r))||n&&r2.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!Mu(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Vee((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},L1=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!gT(i,s))return!1}return!0},gT=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,i=hT(n,Uee),s=r.props||{},o=s.children,l=hT(s,zee);return a&&o?gc(i,l)&&L1(a,o):!a&&!o?gc(i,l):!1}return!1},xT=function(t,r){var n=[],a={};return n2(t).forEach(function(i,s){if(qee(i))n.push(i);else if(i){var o=Oi(i.type),l=r[o]||{},c=l.handler,d=l.once;if(c&&(!d||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},Kee=function(t){var r=t&&t.type;return r&&pT[r]?pT[r]:null},Gee=function(t,r){return n2(r).indexOf(t)},Xee=["children","width","height","viewBox","className","style","title","desc"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function Yee(e,t){if(e==null)return{};var r=Qee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Yee(e,Xee),d=a||{width:r,height:n,x:0,y:0},f=ze("recharts-surface",i);return U.createElement("svg",F1({},De(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,o),U.createElement("desc",null,l),t)}var Jee=["children","className"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function Zee(e,t){if(e==null)return{};var r=ete(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var at=U.forwardRef(function(e,t){var r=e.children,n=e.className,a=Zee(e,Jee),i=ze("recharts-layer",n);return U.createElement("g",U1({className:i},De(a,!0),{ref:t}),r)}),Ia=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function tte(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var rte=tte,nte=rte;function ate(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:nte(e,t,r)}var ite=ate,ste="\\ud800-\\udfff",ote="\\u0300-\\u036f",lte="\\ufe20-\\ufe2f",cte="\\u20d0-\\u20ff",ute=ote+lte+cte,dte="\\ufe0e\\ufe0f",fte="\\u200d",hte=RegExp("["+fte+ste+ute+dte+"]");function pte(e){return hte.test(e)}var jR=pte;function mte(e){return e.split("")}var vte=mte,TR="\\ud800-\\udfff",gte="\\u0300-\\u036f",xte="\\ufe20-\\ufe2f",yte="\\u20d0-\\u20ff",bte=gte+xte+yte,wte="\\ufe0e\\ufe0f",_te="["+TR+"]",z1="["+bte+"]",W1="\\ud83c[\\udffb-\\udfff]",Ste="(?:"+z1+"|"+W1+")",AR="[^"+TR+"]",OR="(?:\\ud83c[\\udde6-\\uddff]){2}",NR="[\\ud800-\\udbff][\\udc00-\\udfff]",Ete="\\u200d",CR=Ste+"?",kR="["+wte+"]?",jte="(?:"+Ete+"(?:"+[AR,OR,NR].join("|")+")"+kR+CR+")*",Tte=kR+CR+jte,Ate="(?:"+[AR+z1+"?",z1,OR,NR,_te].join("|")+")",Ote=RegExp(W1+"(?="+W1+")|"+Ate+Tte,"g");function Nte(e){return e.match(Ote)||[]}var Cte=Nte,kte=vte,Pte=jR,Rte=Cte;function Ite(e){return Pte(e)?Rte(e):kte(e)}var Dte=Ite,Mte=ite,$te=jR,Lte=Dte,Fte=yR;function Bte(e){return function(t){t=Fte(t);var r=$te(t)?Lte(t):void 0,n=r?r[0]:t.charAt(0),a=r?Mte(r,1).join(""):t.slice(1);return n[e]()+a}}var Ute=Bte,zte=Ute,Wte=zte("toUpperCase"),Hte=Wte;const eg=et(Hte);function mt(e){return function(){return e}}const PR=Math.cos,Yp=Math.sin,Fa=Math.sqrt,Qp=Math.PI,tg=2*Qp,H1=Math.PI,q1=2*H1,vo=1e-6,qte=q1-vo;function RR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RR;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Kte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RR:Vte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vo)if(!(Math.abs(f*l-c*d)>vo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,v=l*l+c*c,x=p*p+g*g,b=Math.sqrt(v),m=Math.sqrt(h),y=i*Math.tan((H1-Math.acos((v+h-x)/(2*b*m)))/2),_=y/m,w=y/b;Math.abs(_-1)>vo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,d=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>vo||Math.abs(this._y1-d)>vo)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%q1+q1),h>qte?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>vo&&this._append`A${n},${n},0,${+(h>=H1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function a2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Kte(t)}function i2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IR(e){this._context=e}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rg(e){return new IR(e)}function DR(e){return e[0]}function MR(e){return e[1]}function $R(e,t){var r=mt(!0),n=null,a=rg,i=null,s=a2(o);e=typeof e=="function"?e:e===void 0?DR:mt(e),t=typeof t=="function"?t:t===void 0?MR:mt(t);function o(l){var c,d=(l=i2(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:mt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:mt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:mt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function w0(e,t,r){var n=null,a=mt(!0),i=null,s=rg,o=null,l=a2(c);e=typeof e=="function"?e:e===void 0?DR:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MR:mt(+r);function c(f){var h,p,g,v=(f=i2(f)).length,x,b=!1,m,y=new Array(v),_=new Array(v);for(i==null&&(o=s(m=l())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(y[g],_[g]);o.lineEnd(),o.areaEnd()}b&&(y[h]=+e(x,h,f),_[h]=+t(x,h,f),o.point(n?+n(x,h,f):y[h],r?+r(x,h,f):_[h]))}if(m)return o=null,m+""||null}function d(){return $R().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mt(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class LR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Gte(e){return new LR(e,!0)}function Xte(e){return new LR(e,!1)}const s2={draw(e,t){const r=Fa(t/Qp);e.moveTo(r,0),e.arc(0,0,r,0,tg)}},Yte={draw(e,t){const r=Fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FR=Fa(1/3),Qte=FR*2,Jte={draw(e,t){const r=Fa(t/Qte),n=r*FR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Zte={draw(e,t){const r=Fa(t),n=-r/2;e.rect(n,n,r,r)}},ere=.8908130915292852,BR=Yp(Qp/10)/Yp(7*Qp/10),tre=Yp(tg/10)*BR,rre=-PR(tg/10)*BR,nre={draw(e,t){const r=Fa(t*ere),n=tre*r,a=rre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=tg*i/5,o=PR(s),l=Yp(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Px=Fa(3),are={draw(e,t){const r=-Fa(t/(Px*3));e.moveTo(0,r*2),e.lineTo(-Px*r,-r),e.lineTo(Px*r,-r),e.closePath()}},Kn=-.5,Gn=Fa(3)/2,V1=1/Fa(12),ire=(V1/2+1)*3,sre={draw(e,t){const r=Fa(t/ire),n=r/2,a=r*V1,i=n,s=r*V1+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Kn*n-Gn*a,Gn*n+Kn*a),e.lineTo(Kn*i-Gn*s,Gn*i+Kn*s),e.lineTo(Kn*o-Gn*l,Gn*o+Kn*l),e.lineTo(Kn*n+Gn*a,Kn*a-Gn*n),e.lineTo(Kn*i+Gn*s,Kn*s-Gn*i),e.lineTo(Kn*o+Gn*l,Kn*l-Gn*o),e.closePath()}};function ore(e,t){let r=null,n=a2(a);e=typeof e=="function"?e:mt(e||s2),t=typeof t=="function"?t:mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jp(){}function Zp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UR(e){this._context=e}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lre(e){return new UR(e)}function zR(e){this._context=e}zR.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cre(e){return new zR(e)}function WR(e){this._context=e}WR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ure(e){return new WR(e)}function HR(e){this._context=e}HR.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dre(e){return new HR(e)}function yT(e){return e<0?-1:1}function bT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(yT(i)+yT(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function wT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function em(e){this._context=e}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rx(this,this._t0,wT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rx(this,wT(this,r=bT(this,e,t)),r);break;default:Rx(this,this._t0,r=bT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qR(e){this._context=new VR(e)}(qR.prototype=Object.create(em.prototype)).point=function(e,t){em.prototype.point.call(this,t,e)};function VR(e){this._context=e}VR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function fre(e){return new em(e)}function hre(e){return new qR(e)}function KR(e){this._context=e}KR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_T(e),a=_T(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _T(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function pre(e){return new KR(e)}function ng(e,t){this._context=e,this._t=t}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mre(e){return new ng(e,.5)}function vre(e){return new ng(e,0)}function gre(e){return new ng(e,1)}function Yc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xre(e,t){return e[t]}function yre(e){const t=[];return t.key=e,t}function bre(){var e=mt([]),t=K1,r=Yc,n=xre;function a(i){var s=Array.from(e.apply(this,arguments),yre),o,l=s.length,c=-1,d;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,d=i2(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K1:typeof i=="function"?i:mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Yc,a):r},a}function wre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Yc(e,t)}}function _re(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Yc(e,t)}}function Sre(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var v=e[t[g]],x=v[n][1]||0,b=v[n-1][1]||0;p+=x-b}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Yc(e,t)}}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var Ere=["type","size","sizeType"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(this,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return t=Tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=Are(e,"string");return Tf(t)=="symbol"?t:t+""}function Are(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e,t){if(e==null)return{};var r=Nre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GR={symbolCircle:s2,symbolCross:Yte,symbolDiamond:Jte,symbolSquare:Zte,symbolStar:nre,symbolTriangle:are,symbolWye:sre},Cre=Math.PI/180,kre=function(t){var r="symbol".concat(eg(t));return GR[r]||s2},Pre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Cre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Rre=function(t,r){GR["symbol".concat(eg(t))]=r},o2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=Ore(t,Ere),c=ET(ET({},l),{},{type:n,size:i,sizeType:o}),d=function(){var x=kre(n),b=ore().type(x).size(Pre(i,o,n));return b()},f=c.className,h=c.cx,p=c.cy,g=De(c,!0);return h===+h&&p===+p&&i===+i?U.createElement("path",G1({},g,{className:ze("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};o2.registerSymbol=Rre;function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ire(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YR(n.key),n)}}function $re(e,t,r){return t&&Mre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lre(e,t,r){return t=tm(t),Fre(e,XR()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function Fre(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bre(e)}function Bre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function Ure(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(e,t)}function Af(e,t,r){return t=YR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=zre(e,"string");return Qc(t)=="symbol"?t:t+""}function zre(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=32,l2=function(e){function t(){return Dre(this,t),Lre(this,t,arguments)}return Ure(t,e),$re(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Xn/2,s=Xn/6,o=Xn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Xn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Xn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var c=Ire({},n);return delete c.legendIcon,U.cloneElement(n.legendIcon,c)}return U.createElement(o2,{fill:l,cx:i,cy:i,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var v=p.formatter||l,x=ze(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Me(p.value)?null:p.value;Ia(!Me(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var m=p.inactive?c:p.color;return U.createElement("li",X1({className:x,style:f,key:"legend-item-".concat(g)},al(n.props,p,g)),U.createElement(B1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v?v(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(A.PureComponent);Af(l2,"displayName","Legend");Af(l2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wre=Uv;function Hre(){this.__data__=new Wre,this.size=0}var qre=Hre;function Vre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Kre=Vre;function Gre(e){return this.__data__.get(e)}var Xre=Gre;function Yre(e){return this.__data__.has(e)}var Qre=Yre,Jre=Uv,Zre=X_,ene=Y_,tne=200;function rne(e,t){var r=this.__data__;if(r instanceof Jre){var n=r.__data__;if(!Zre||n.length<tne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ene(n)}return r.set(e,t),this.size=r.size,this}var nne=rne,ane=Uv,ine=qre,sne=Kre,one=Xre,lne=Qre,cne=nne;function Bu(e){var t=this.__data__=new ane(e);this.size=t.size}Bu.prototype.clear=ine;Bu.prototype.delete=sne;Bu.prototype.get=one;Bu.prototype.has=lne;Bu.prototype.set=cne;var QR=Bu,une="__lodash_hash_undefined__";function dne(e){return this.__data__.set(e,une),this}var fne=dne;function hne(e){return this.__data__.has(e)}var pne=hne,mne=Y_,vne=fne,gne=pne;function rm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new mne;++t<r;)this.add(e[t])}rm.prototype.add=rm.prototype.push=vne;rm.prototype.has=gne;var JR=rm;function xne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ZR=xne;function yne(e,t){return e.has(t)}var eI=yne,bne=JR,wne=ZR,_ne=eI,Sne=1,Ene=2;function jne(e,t,r,n,a,i){var s=r&Sne,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&Ene?new bne:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],v=t[f];if(n)var x=s?n(v,g,f,t,e,i):n(g,v,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!wne(t,function(b,m){if(!_ne(p,m)&&(g===b||a(g,b,r,n,i)))return p.push(m)})){h=!1;break}}else if(!(g===v||a(g,v,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var tI=jne,Tne=oi,Ane=Tne.Uint8Array,One=Ane;function Nne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Cne=Nne;function kne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var c2=kne,TT=jh,AT=One,Pne=G_,Rne=tI,Ine=Cne,Dne=c2,Mne=1,$ne=2,Lne="[object Boolean]",Fne="[object Date]",Bne="[object Error]",Une="[object Map]",zne="[object Number]",Wne="[object RegExp]",Hne="[object Set]",qne="[object String]",Vne="[object Symbol]",Kne="[object ArrayBuffer]",Gne="[object DataView]",OT=TT?TT.prototype:void 0,Ix=OT?OT.valueOf:void 0;function Xne(e,t,r,n,a,i,s){switch(r){case Gne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kne:return!(e.byteLength!=t.byteLength||!i(new AT(e),new AT(t)));case Lne:case Fne:case zne:return Pne(+e,+t);case Bne:return e.name==t.name&&e.message==t.message;case Wne:case qne:return e==t+"";case Une:var o=Ine;case Hne:var l=n&Mne;if(o||(o=Dne),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=$ne,s.set(e,t);var d=Rne(o(e),o(t),n,a,i,s);return s.delete(e),d;case Vne:if(Ix)return Ix.call(e)==Ix.call(t)}return!1}var Yne=Xne;function Qne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rI=Qne,Jne=rI,Zne=Tn;function eae(e,t,r){var n=t(e);return Zne(e)?n:Jne(n,r(e))}var tae=eae;function rae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var nae=rae;function aae(){return[]}var iae=aae,sae=nae,oae=iae,lae=Object.prototype,cae=lae.propertyIsEnumerable,NT=Object.getOwnPropertySymbols,uae=NT?function(e){return e==null?[]:(e=Object(e),sae(NT(e),function(t){return cae.call(e,t)}))}:oae,dae=uae;function fae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var hae=fae,pae=Qi,mae=Ji,vae="[object Arguments]";function gae(e){return mae(e)&&pae(e)==vae}var xae=gae,CT=xae,yae=Ji,nI=Object.prototype,bae=nI.hasOwnProperty,wae=nI.propertyIsEnumerable,_ae=CT(function(){return arguments}())?CT:function(e){return yae(e)&&bae.call(e,"callee")&&!wae.call(e,"callee")},u2=_ae,nm={exports:{}};function Sae(){return!1}var Eae=Sae;nm.exports;(function(e,t){var r=oi,n=Eae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(nm,nm.exports);var aI=nm.exports,jae=9007199254740991,Tae=/^(?:0|[1-9]\d*)$/;function Aae(e,t){var r=typeof e;return t=t??jae,!!t&&(r=="number"||r!="symbol"&&Tae.test(e))&&e>-1&&e%1==0&&e<t}var d2=Aae,Oae=9007199254740991;function Nae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Oae}var f2=Nae,Cae=Qi,kae=f2,Pae=Ji,Rae="[object Arguments]",Iae="[object Array]",Dae="[object Boolean]",Mae="[object Date]",$ae="[object Error]",Lae="[object Function]",Fae="[object Map]",Bae="[object Number]",Uae="[object Object]",zae="[object RegExp]",Wae="[object Set]",Hae="[object String]",qae="[object WeakMap]",Vae="[object ArrayBuffer]",Kae="[object DataView]",Gae="[object Float32Array]",Xae="[object Float64Array]",Yae="[object Int8Array]",Qae="[object Int16Array]",Jae="[object Int32Array]",Zae="[object Uint8Array]",eie="[object Uint8ClampedArray]",tie="[object Uint16Array]",rie="[object Uint32Array]",yt={};yt[Gae]=yt[Xae]=yt[Yae]=yt[Qae]=yt[Jae]=yt[Zae]=yt[eie]=yt[tie]=yt[rie]=!0;yt[Rae]=yt[Iae]=yt[Vae]=yt[Dae]=yt[Kae]=yt[Mae]=yt[$ae]=yt[Lae]=yt[Fae]=yt[Bae]=yt[Uae]=yt[zae]=yt[Wae]=yt[Hae]=yt[qae]=!1;function nie(e){return Pae(e)&&kae(e.length)&&!!yt[Cae(e)]}var aie=nie;function iie(e){return function(t){return e(t)}}var iI=iie,am={exports:{}};am.exports;(function(e,t){var r=hR,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(am,am.exports);var sie=am.exports,oie=aie,lie=iI,kT=sie,PT=kT&&kT.isTypedArray,cie=PT?lie(PT):oie,sI=cie,uie=hae,die=u2,fie=Tn,hie=aI,pie=d2,mie=sI,vie=Object.prototype,gie=vie.hasOwnProperty;function xie(e,t){var r=fie(e),n=!r&&die(e),a=!r&&!n&&hie(e),i=!r&&!n&&!a&&mie(e),s=r||n||a||i,o=s?uie(e.length,String):[],l=o.length;for(var c in e)(t||gie.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pie(c,l)))&&o.push(c);return o}var yie=xie,bie=Object.prototype;function wie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||bie;return e===r}var _ie=wie;function Sie(e,t){return function(r){return e(t(r))}}var oI=Sie,Eie=oI,jie=Eie(Object.keys,Object),Tie=jie,Aie=_ie,Oie=Tie,Nie=Object.prototype,Cie=Nie.hasOwnProperty;function kie(e){if(!Aie(e))return Oie(e);var t=[];for(var r in Object(e))Cie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Pie=kie,Rie=K_,Iie=f2;function Die(e){return e!=null&&Iie(e.length)&&!Rie(e)}var Oh=Die,Mie=yie,$ie=Pie,Lie=Oh;function Fie(e){return Lie(e)?Mie(e):$ie(e)}var ag=Fie,Bie=tae,Uie=dae,zie=ag;function Wie(e){return Bie(e,zie,Uie)}var Hie=Wie,RT=Hie,qie=1,Vie=Object.prototype,Kie=Vie.hasOwnProperty;function Gie(e,t,r,n,a,i){var s=r&qie,o=RT(e),l=o.length,c=RT(t),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:Kie.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<l;){h=o[f];var b=e[h],m=t[h];if(n)var y=s?n(m,b,h,t,e,i):n(b,m,h,e,t,i);if(!(y===void 0?b===m||a(b,m,r,n,i):y)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(e),i.delete(t),v}var Xie=Gie,Yie=_l,Qie=oi,Jie=Yie(Qie,"DataView"),Zie=Jie,ese=_l,tse=oi,rse=ese(tse,"Promise"),nse=rse,ase=_l,ise=oi,sse=ase(ise,"Set"),lI=sse,ose=_l,lse=oi,cse=ose(lse,"WeakMap"),use=cse,Q1=Zie,J1=X_,Z1=nse,eb=lI,tb=use,cI=Qi,Uu=mR,IT="[object Map]",dse="[object Object]",DT="[object Promise]",MT="[object Set]",$T="[object WeakMap]",LT="[object DataView]",fse=Uu(Q1),hse=Uu(J1),pse=Uu(Z1),mse=Uu(eb),vse=Uu(tb),go=cI;(Q1&&go(new Q1(new ArrayBuffer(1)))!=LT||J1&&go(new J1)!=IT||Z1&&go(Z1.resolve())!=DT||eb&&go(new eb)!=MT||tb&&go(new tb)!=$T)&&(go=function(e){var t=cI(e),r=t==dse?e.constructor:void 0,n=r?Uu(r):"";if(n)switch(n){case fse:return LT;case hse:return IT;case pse:return DT;case mse:return MT;case vse:return $T}return t});var gse=go,Dx=QR,xse=tI,yse=Yne,bse=Xie,FT=gse,BT=Tn,UT=aI,wse=sI,_se=1,zT="[object Arguments]",WT="[object Array]",_0="[object Object]",Sse=Object.prototype,HT=Sse.hasOwnProperty;function Ese(e,t,r,n,a,i){var s=BT(e),o=BT(t),l=s?WT:FT(e),c=o?WT:FT(t);l=l==zT?_0:l,c=c==zT?_0:c;var d=l==_0,f=c==_0,h=l==c;if(h&&UT(e)){if(!UT(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Dx),s||wse(e)?xse(e,t,r,n,a,i):yse(e,t,l,r,n,a,i);if(!(r&_se)){var p=d&&HT.call(e,"__wrapped__"),g=f&&HT.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,x=g?t.value():t;return i||(i=new Dx),a(v,x,r,n,i)}}return h?(i||(i=new Dx),bse(e,t,r,n,a,i)):!1}var jse=Ese,Tse=jse,qT=Ji;function uI(e,t,r,n,a){return e===t?!0:e==null||t==null||!qT(e)&&!qT(t)?e!==e&&t!==t:Tse(e,t,r,n,uI,a)}var h2=uI,Ase=QR,Ose=h2,Nse=1,Cse=2;function kse(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new Ase;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?Ose(d,c,Nse|Cse,n,f):h))return!1}}return!0}var Pse=kse,Rse=Qs;function Ise(e){return e===e&&!Rse(e)}var dI=Ise,Dse=dI,Mse=ag;function $se(e){for(var t=Mse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Dse(a)]}return t}var Lse=$se;function Fse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fI=Fse,Bse=Pse,Use=Lse,zse=fI;function Wse(e){var t=Use(e);return t.length==1&&t[0][2]?zse(t[0][0],t[0][1]):function(r){return r===e||Bse(r,e,t)}}var Hse=Wse;function qse(e,t){return e!=null&&t in Object(e)}var Vse=qse,Kse=bR,Gse=u2,Xse=Tn,Yse=d2,Qse=f2,Jse=Wv;function Zse(e,t,r){t=Kse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=Jse(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Qse(a)&&Yse(s,a)&&(Xse(e)||Gse(e)))}var eoe=Zse,toe=Vse,roe=eoe;function noe(e,t){return e!=null&&roe(e,t,toe)}var aoe=noe,ioe=h2,soe=wR,ooe=aoe,loe=V_,coe=dI,uoe=fI,doe=Wv,foe=1,hoe=2;function poe(e,t){return loe(e)&&coe(t)?uoe(doe(e),t):function(r){var n=soe(r,e);return n===void 0&&n===t?ooe(r,e):ioe(t,n,foe|hoe)}}var moe=poe;function voe(e){return e}var zu=voe;function goe(e){return function(t){return t==null?void 0:t[e]}}var xoe=goe,yoe=Z_;function boe(e){return function(t){return yoe(t,e)}}var woe=boe,_oe=xoe,Soe=woe,Eoe=V_,joe=Wv;function Toe(e){return Eoe(e)?_oe(joe(e)):Soe(e)}var Aoe=Toe,Ooe=Hse,Noe=moe,Coe=zu,koe=Tn,Poe=Aoe;function Roe(e){return typeof e=="function"?e:e==null?Coe:typeof e=="object"?koe(e)?Noe(e[0],e[1]):Ooe(e):Poe(e)}var li=Roe;function Ioe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var hI=Ioe;function Doe(e){return e!==e}var Moe=Doe;function $oe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Loe=$oe,Foe=hI,Boe=Moe,Uoe=Loe;function zoe(e,t,r){return t===t?Uoe(e,t,r):Foe(e,Boe,r)}var Woe=zoe,Hoe=Woe;function qoe(e,t){var r=e==null?0:e.length;return!!r&&Hoe(e,t,0)>-1}var Voe=qoe;function Koe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Goe=Koe;function Xoe(){}var Yoe=Xoe,Mx=lI,Qoe=Yoe,Joe=c2,Zoe=1/0,ele=Mx&&1/Joe(new Mx([,-0]))[1]==Zoe?function(e){return new Mx(e)}:Qoe,tle=ele,rle=JR,nle=Voe,ale=Goe,ile=eI,sle=tle,ole=c2,lle=200;function cle(e,t,r){var n=-1,a=nle,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=ale;else if(i>=lle){var c=t?null:sle(e);if(c)return ole(c);s=!1,a=ile,l=new rle}else l=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(d)}else a(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var ule=cle,dle=li,fle=ule;function hle(e,t){return e&&e.length?fle(e,dle(t)):[]}var ple=hle;const VT=et(ple);function pI(e,t,r){return t===!0?VT(e,r):Me(t)?VT(e,t):e}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var mle=["ref"];function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vI(n.key),n)}}function gle(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xle(e,t,r){return t=im(t),yle(e,mI()?Reflect.construct(t,r||[],im(e).constructor):t.apply(e,r))}function yle(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!e})()}function im(e){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(e)}function wle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rb(e,t)}function ig(e,t,r){return t=vI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=_le(e,"string");return Jc(t)=="symbol"?t:t+""}function _le(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sle(e,t){if(e==null)return{};var r=Ele(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ele(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jle(e){return e.value}function Tle(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var r=Sle(t,mle);return U.createElement(l2,r)}var XT=1,Ni=function(e){function t(){var r;vle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xle(this,t,[].concat(a)),ig(r,"lastBoundingBox",{width:-1,height:-1}),r}return wle(t,e),gle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XT||Math.abs(a.height-this.lastBoundingBox.height)>XT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ui(ui({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=ui(ui({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Tle(i,ui(ui({},this.props),{},{payload:pI(d,c,jle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ui(ui({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);ig(Ni,"displayName","Legend");ig(Ni,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YT=jh,Ale=u2,Ole=Tn,QT=YT?YT.isConcatSpreadable:void 0;function Nle(e){return Ole(e)||Ale(e)||!!(QT&&e&&e[QT])}var Cle=Nle,kle=rI,Ple=Cle;function gI(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Ple),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?gI(o,t-1,r,n,a):kle(a,o):n||(a[a.length]=o)}return a}var xI=gI;function Rle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var Ile=Rle,Dle=Ile,Mle=Dle(),$le=Mle,Lle=$le,Fle=ag;function Ble(e,t){return e&&Lle(e,t,Fle)}var yI=Ble,Ule=Oh;function zle(e,t){return function(r,n){if(r==null)return r;if(!Ule(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var Wle=zle,Hle=yI,qle=Wle,Vle=qle(Hle),p2=Vle,Kle=p2,Gle=Oh;function Xle(e,t){var r=-1,n=Gle(e)?Array(e.length):[];return Kle(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var bI=Xle;function Yle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Qle=Yle,JT=Du;function Jle(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=JT(e),s=t!==void 0,o=t===null,l=t===t,c=JT(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var Zle=Jle,ece=Zle;function tce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=ece(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var rce=tce,$x=J_,nce=Z_,ace=li,ice=bI,sce=Qle,oce=iI,lce=rce,cce=zu,uce=Tn;function dce(e,t,r){t.length?t=$x(t,function(i){return uce(i)?function(s){return nce(s,i.length===1?i[0]:i)}:i}):t=[cce];var n=-1;t=$x(t,oce(ace));var a=ice(e,function(i,s,o){var l=$x(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return sce(a,function(i,s){return lce(i,s,r)})}var fce=dce;function hce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var pce=hce,mce=pce,ZT=Math.max;function vce(e,t,r){return t=ZT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=ZT(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),mce(e,this,o)}}var gce=vce;function xce(e){return function(){return e}}var yce=xce,bce=_l,wce=function(){try{var e=bce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wI=wce,_ce=yce,eA=wI,Sce=zu,Ece=eA?function(e,t){return eA(e,"toString",{configurable:!0,enumerable:!1,value:_ce(t),writable:!0})}:Sce,jce=Ece,Tce=800,Ace=16,Oce=Date.now;function Nce(e){var t=0,r=0;return function(){var n=Oce(),a=Ace-(n-r);if(r=n,a>0){if(++t>=Tce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Cce=Nce,kce=jce,Pce=Cce,Rce=Pce(kce),Ice=Rce,Dce=zu,Mce=gce,$ce=Ice;function Lce(e,t){return $ce(Mce(e,t,Dce),e+"")}var Fce=Lce,Bce=G_,Uce=Oh,zce=d2,Wce=Qs;function Hce(e,t,r){if(!Wce(r))return!1;var n=typeof t;return(n=="number"?Uce(r)&&zce(t,r.length):n=="string"&&t in r)?Bce(r[t],e):!1}var sg=Hce,qce=xI,Vce=fce,Kce=Fce,tA=sg,Gce=Kce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&tA(e,t[0],t[1])?t=[]:r>2&&tA(t[0],t[1],t[2])&&(t=[t[0]]),Vce(e,qce(t,1),[])}),Xce=Gce;const m2=et(Xce);function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(this,arguments)}function Yce(e,t){return eue(e)||Zce(e,t)||Jce(e,t)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(e,t){if(e){if(typeof e=="string")return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function eue(e){if(Array.isArray(e))return e}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return Of(t)=="symbol"?t:t+""}function nue(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aue(e){return Array.isArray(e)&&or(e[0])&&or(e[1])?e.join(" ~ "):e}var iue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,v=t.label,x=t.labelFormatter,b=t.accessibilityLayer,m=b===void 0?!1:b,y=function(){if(d&&d.length){var L={padding:0,margin:0},W=(h?m2(d,h):d).map(function(Z,V){if(Z.type==="none")return null;var ne=Lx({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},o),se=Z.formatter||f||aue,K=Z.value,te=Z.name,ce=K,pe=te;if(se&&ce!=null&&pe!=null){var P=se(K,te,Z,V,d);if(Array.isArray(P)){var H=Yce(P,2);ce=H[0],pe=H[1]}else ce=P}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ne},or(pe)?U.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,or(pe)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ce),U.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:L},W)}return null},_=Lx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Lx({margin:0},c),S=!We(v),E=S?v:"",j=ze("recharts-default-tooltip",p),T=ze("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(E=x(v,d));var C=m?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",nb({className:j,style:_},C),U.createElement("p",{className:T,style:w},U.isValidElement(E)?E:"".concat(E)),y())};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function S0(e,t,r){return t=sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return Nf(t)=="symbol"?t:t+""}function oue(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld="recharts-tooltip-wrapper",lue={visibility:"hidden"};function cue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ze(ld,S0(S0(S0(S0({},"".concat(ld,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(ld,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(ld,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(ld,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function aA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+o,v=l[n]+c;return g>v?Math.max(d,l[n]):Math.max(f,l[n])}function uue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function due(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,d,f;return s.height>0&&s.width>0&&r?(d=aA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=aA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=uue({translateX:d,translateY:f,useTranslate3d:o})):c=lue,{cssProperties:c,cssClasses:cue({translateX:d,translateY:f,coordinate:r})}}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function pue(e,t,r){return t&&hue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mue(e,t,r){return t=sm(t),vue(e,_I()?Reflect.construct(t,r||[],sm(e).constructor):t.apply(e,r))}function vue(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(e)}function gue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!e})()}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(e)}function xue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ab(e,t)}function ib(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=yue(e,"string");return Zc(t)=="symbol"?t:t+""}function yue(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oA=1,bue=function(e){function t(){var r;fue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mue(this,t,[].concat(a)),ib(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ib(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return xue(t,e),pue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>oA||Math.abs(n.height-this.state.lastBoundingBox.height)>oA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,m=a.wrapperStyle,y=due({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=y.cssClasses,w=y.cssProperties,S=sA(sA({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},m);return U.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(j){n.wrapperNode=j}},c)}}])}(A.PureComponent),wue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wu={isSsr:wue()};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){v2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jI(n.key),n)}}function Eue(e,t,r){return t&&Sue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jue(e,t,r){return t=om(t),Tue(e,EI()?Reflect.construct(t,r||[],om(e).constructor):t.apply(e,r))}function Tue(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aue(e)}function Aue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!e})()}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(e)}function Oue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sb(e,t)}function v2(e,t,r){return t=jI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=Nue(e,"string");return eu(t)=="symbol"?t:t+""}function Nue(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cue(e){return e.dataKey}function kue(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(iue,t)}var fr=function(e){function t(){return _ue(this,t),jue(this,t,arguments)}return Oue(t,e),Eue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,v=a.payloadUniqBy,x=a.position,b=a.reverseDirection,m=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,w=g??[];f&&w.length&&(w=pI(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),v,Cue));var S=w.length>0;return U.createElement(bue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:x,reverseDirection:b,useTranslate3d:m,viewBox:y,wrapperStyle:_},kue(c,cA(cA({},this.props),{},{payload:w})))}}])}(A.PureComponent);v2(fr,"displayName","Tooltip");v2(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pue=oi,Rue=function(){return Pue.Date.now()},Iue=Rue,Due=/\s/;function Mue(e){for(var t=e.length;t--&&Due.test(e.charAt(t)););return t}var $ue=Mue,Lue=$ue,Fue=/^\s+/;function Bue(e){return e&&e.slice(0,Lue(e)+1).replace(Fue,"")}var Uue=Bue,zue=Uue,uA=Qs,Wue=Du,dA=NaN,Hue=/^[-+]0x[0-9a-f]+$/i,que=/^0b[01]+$/i,Vue=/^0o[0-7]+$/i,Kue=parseInt;function Gue(e){if(typeof e=="number")return e;if(Wue(e))return dA;if(uA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zue(e);var r=que.test(e);return r||Vue.test(e)?Kue(e.slice(2),r?2:8):Hue.test(e)?dA:+e}var TI=Gue,Xue=Qs,Fx=Iue,fA=TI,Yue="Expected a function",Que=Math.max,Jue=Math.min;function Zue(e,t,r){var n,a,i,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Yue);t=fA(t)||0,Xue(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Que(fA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var E=n,j=a;return n=a=void 0,c=S,s=e.apply(j,E),s}function g(S){return c=S,o=setTimeout(b,t),d?p(S):s}function v(S){var E=S-l,j=S-c,T=t-E;return f?Jue(T,i-j):T}function x(S){var E=S-l,j=S-c;return l===void 0||E>=t||E<0||f&&j>=i}function b(){var S=Fx();if(x(S))return m(S);o=setTimeout(b,v(S))}function m(S){return o=void 0,h&&n?p(S):(n=a=void 0,s)}function y(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function _(){return o===void 0?s:m(Fx())}function w(){var S=Fx(),E=x(S);if(n=arguments,a=this,l=S,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(b,t),p(l)}return o===void 0&&(o=setTimeout(b,t)),s}return w.cancel=y,w.flush=_,w}var ede=Zue,tde=ede,rde=Qs,nde="Expected a function";function ade(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(nde);return rde(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),tde(e,t,{leading:n,maxWait:t,trailing:a})}var ide=ade;const AI=et(ide);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){sde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sde(e,t,r){return t=ode(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ode(e){var t=lde(e,"string");return Cf(t)=="symbol"?t:t+""}function lde(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cde(e,t){return hde(e)||fde(e,t)||dde(e,t)||ude()}function ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dde(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hde(e){if(Array.isArray(e))return e}var Ci=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,v=g===void 0?0:g,x=e.id,b=e.className,m=e.onResize,y=e.style,_=y===void 0?{}:y,w=A.useRef(null),S=A.useRef();S.current=m,A.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=A.useState({containerWidth:a.width,containerHeight:a.height}),j=cde(E,2),T=j[0],C=j[1],N=A.useCallback(function(W,Z){C(function(V){var ne=Math.round(W),se=Math.round(Z);return V.containerWidth===ne&&V.containerHeight===se?V:{containerWidth:ne,containerHeight:se}})},[]);A.useEffect(function(){var W=function(te){var ce,pe=te[0].contentRect,P=pe.width,H=pe.height;N(P,H),(ce=S.current)===null||ce===void 0||ce.call(S,P,H)};v>0&&(W=AI(W,v,{trailing:!0,leading:!1}));var Z=new ResizeObserver(W),V=w.current.getBoundingClientRect(),ne=V.width,se=V.height;return N(ne,se),Z.observe(w.current),function(){Z.disconnect()}},[N,v]);var L=A.useMemo(function(){var W=T.containerWidth,Z=T.containerHeight;if(W<0||Z<0)return null;Ia(No(s)||No(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ia(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=No(s)?W:s,ne=No(l)?Z:l;r&&r>0&&(V?ne=V/r:ne&&(V=ne*r),h&&ne>h&&(ne=h)),Ia(V>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,ne,s,l,d,f,r);var se=!Array.isArray(p)&&Oi(p.type).endsWith("Chart");return U.Children.map(p,function(K){return U.isValidElement(K)?A.cloneElement(K,E0({width:V,height:ne},se?{style:E0({height:"100%",width:"100%",maxHeight:ne,maxWidth:V},K.props.style)}:{})):K})},[r,p,l,h,f,d,T,s]);return U.createElement("div",{id:x?"".concat(x):void 0,className:ze("recharts-responsive-container",b),style:E0(E0({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},L)}),Zi=function(t){return null};Zi.displayName="Cell";function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pde(e,t,r){return t=mde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=vde(e,"string");return kf(t)=="symbol"?t:t+""}function vde(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Il={widthCache:{},cacheCount:0},gde=2e3,xde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vA="recharts_measurement_span";function yde(e){var t=ob({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wu.isSsr)return{width:0,height:0};var n=yde(r),a=JSON.stringify({text:t,copyStyle:n});if(Il.widthCache[a])return Il.widthCache[a];try{var i=document.getElementById(vA);i||(i=document.createElement("span"),i.setAttribute("id",vA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=ob(ob({},xde),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Il.widthCache[a]=l,++Il.cacheCount>gde&&(Il.cacheCount=0,Il.widthCache={}),l}catch{return{width:0,height:0}}},bde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function lm(e,t){return Ede(e)||Sde(e,t)||_de(e,t)||wde()}function wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Ede(e){if(Array.isArray(e))return e}function jde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ade(n.key),n)}}function Tde(e,t,r){return t&&xA(e.prototype,t),r&&xA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ade(e){var t=Ode(e,"string");return Pf(t)=="symbol"?t:t+""}function Ode(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kde=Object.keys(OI),Zl="NaN";function Pde(e,t){return e*OI[t]}var j0=function(){function e(t,r){jde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Nde.test(r)&&(this.num=NaN,this.unit=""),kde.includes(r)&&(this.num=Pde(t,r),this.unit="px")}return Tde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Cde.exec(r))!==null&&n!==void 0?n:[],i=lm(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function NI(e){if(e.includes(Zl))return Zl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yA.exec(t))!==null&&r!==void 0?r:[],a=lm(n,4),i=a[1],s=a[2],o=a[3],l=j0.parse(i??""),c=j0.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Zl;t=t.replace(yA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=bA.exec(t))!==null&&f!==void 0?f:[],p=lm(h,4),g=p[1],v=p[2],x=p[3],b=j0.parse(g??""),m=j0.parse(x??""),y=v==="+"?b.add(m):b.subtract(m);if(y.isNaN())return Zl;t=t.replace(bA,y.toString())}return t}var wA=/\(([^()]*)\)/;function Rde(e){for(var t=e;t.includes("(");){var r=wA.exec(t),n=lm(r,2),a=n[1];t=t.replace(wA,NI(a))}return t}function Ide(e){var t=e.replace(/\s+/g,"");return t=Rde(t),t=NI(t),t}function Dde(e){try{return Ide(e)}catch{return Zl}}function Bx(e){var t=Dde(e.slice(5,-1));return t===Zl?"":t}var Mde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$de=["dx","dy","angle","className","breakAll"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(this,arguments)}function _A(e,t){if(e==null)return{};var r=Lde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SA(e,t){return zde(e)||Ude(e,t)||Bde(e,t)||Fde()}function Fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bde(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ude(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function zde(e){if(Array.isArray(e))return e}var CI=/[ \f\n\r\t\v\u2028\u2029]+/,kI=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];We(r)||(n?i=r.toString().split(""):i=r.toString().split(CI));var s=i.map(function(l){return{word:l,width:Wd(l,a).width}}),o=n?0:Wd("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Wde=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,d=ve(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(ne,se){var K=se.word,te=se.width,ce=ne[ne.length-1];if(ce&&(a==null||i||ce.width+te+n<Number(a)))ce.words.push(K),ce.width+=te+n;else{var pe={words:[K],width:te};ne.push(pe)}return ne},[])},p=h(r),g=function(V){return V.reduce(function(ne,se){return ne.width>se.width?ne:se})};if(!d)return p;for(var v="",x=function(V){var ne=f.slice(0,V),se=kI({breakAll:c,style:l,children:ne+v}).wordsWithComputedWidth,K=h(se),te=K.length>s||g(K).width>Number(a);return[te,K]},b=0,m=f.length-1,y=0,_;b<=m&&y<=f.length-1;){var w=Math.floor((b+m)/2),S=w-1,E=x(S),j=SA(E,2),T=j[0],C=j[1],N=x(w),L=SA(N,1),W=L[0];if(!T&&!W&&(b=w+1),T&&W&&(m=w-1),!T&&W){_=C;break}y++}return _||p},jA=function(t){var r=We(t)?[]:t.toString().split(CI);return[{words:r}]},Hde=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Wu.isSsr){var l,c,d=kI({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return jA(a);return Wde({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return jA(a)},TA="#808080",il=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,v=g===void 0?"end":g,x=t.fill,b=x===void 0?TA:x,m=_A(t,Mde),y=A.useMemo(function(){return Hde({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width})},[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),_=m.dx,w=m.dy,S=m.angle,E=m.className,j=m.breakAll,T=_A(m,$de);if(!or(n)||!or(i))return null;var C=n+(ve(_)?_:0),N=i+(ve(w)?w:0),L;switch(v){case"start":L=Bx("calc(".concat(c,")"));break;case"middle":L=Bx("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:L=Bx("calc(".concat(y.length-1," * -").concat(o,")"));break}var W=[];if(f){var Z=y[0].width,V=m.width;W.push("scale(".concat((ve(V)?V/Z:1)/Z,")"))}return S&&W.push("rotate(".concat(S,", ").concat(C,", ").concat(N,")")),W.length&&(T.transform=W.join(" ")),U.createElement("text",lb({},De(T,!0),{x:C,y:N,className:ze("recharts-text",E),textAnchor:p,fill:b.includes("url")?TA:b}),y.map(function(ne,se){var K=ne.words.join(j?"":" ");return U.createElement("tspan",{x:C,dy:se===0?L:o,key:"".concat(K,"-").concat(se)},K)}))};function Ls(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g2(e){let t,r,n;e.length!==2?(t=Ls,r=(o,l)=>Ls(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ls||e===qde?e:Vde,r=e,n=e);function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=a(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function Vde(){return 0}function PI(e){return e===null?NaN:+e}function*Kde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gde=g2(Ls),Nh=Gde.right;g2(PI).center;class AA extends Map{constructor(t,r=Qde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(OA(this,t))}has(t){return super.has(OA(this,t))}set(t,r){return super.set(Xde(this,t),r)}delete(t){return super.delete(Yde(this,t))}}function OA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Xde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Yde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jde(e=Ls){if(e===Ls)return RI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zde=Math.sqrt(50),efe=Math.sqrt(10),tfe=Math.sqrt(2);function cm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Zde?10:i>=efe?5:i>=tfe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?cm(e,t,r*2):[o,l,c]}function cb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?cm(t,e,r):cm(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function ub(e,t,r){return t=+t,e=+e,r=+r,cm(e,t,r)[2]}function db(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ub(t,e,r):ub(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function NA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function II(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?RI:Jde(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));II(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(cd(e,r,t),a(e[n],i)>0&&cd(e,r,n);s<o;){for(cd(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?cd(e,r,o):(++o,cd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function cd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rfe(e,t,r){if(e=Float64Array.from(Kde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CA(e);if(t>=1)return NA(e);var n,a=(n-1)*t,i=Math.floor(a),s=NA(II(e,i).subarray(0,i+1)),o=CA(e.subarray(i+1));return s+(o-s)*(a-i)}}function nfe(e,t,r=PI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function afe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fb=Symbol("implicit");function x2(){var e=new AA,t=[],r=[],n=fb;function a(i){let s=e.get(i);if(s===void 0){if(n!==fb)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new AA;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return x2(t,r).unknown(n)},ha.apply(a,arguments),a}function Rf(){var e=x2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,v=p?n:a;i=(v-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(v-g-i*(h-l))*d,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=afe(h).map(function(b){return g+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rf(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(d)},ha.apply(f(),arguments)}function DI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DI(t())},e}function Hd(){return DI(Rf.apply(null,arguments).paddingInner(1))}function y2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ch(){}var If=.7,um=1/If,xc="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ife=/^#([0-9a-f]{3,8})$/,sfe=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),ofe=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),lfe=new RegExp(`^rgba\\(${xc},${xc},${xc},${Df}\\)$`),cfe=new RegExp(`^rgba\\(${ti},${ti},${ti},${Df}\\)$`),ufe=new RegExp(`^hsl\\(${Df},${ti},${ti}\\)$`),dfe=new RegExp(`^hsla\\(${Df},${ti},${ti},${Df}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y2(Ch,Mf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PA,formatHex:PA,formatHex8:ffe,formatHsl:hfe,formatRgb:RA,toString:RA});function PA(){return this.rgb().formatHex()}function ffe(){return this.rgb().formatHex8()}function hfe(){return $I(this).formatHsl()}function RA(){return this.rgb().formatRgb()}function Mf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ife.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IA(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?T0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?T0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sfe.exec(e))?new vn(t[1],t[2],t[3],1):(t=ofe.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lfe.exec(e))?T0(t[1],t[2],t[3],t[4]):(t=cfe.exec(e))?T0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ufe.exec(e))?$A(t[1],t[2]/100,t[3]/100,1):(t=dfe.exec(e))?$A(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?IA(kA[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function IA(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function T0(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function pfe(e){return e instanceof Ch||(e=Mf(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function hb(e,t,r,n){return arguments.length===1?pfe(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}y2(vn,hb,MI(Ch,{brighter(e){return e=e==null?um:Math.pow(um,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(qo(this.r),qo(this.g),qo(this.b),dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DA,formatHex:DA,formatHex8:mfe,formatRgb:MA,toString:MA}));function DA(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function mfe(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function MA(){const e=dm(this.opacity);return`${e===1?"rgb(":"rgba("}${qo(this.r)}, ${qo(this.g)}, ${qo(this.b)}${e===1?")":`, ${e})`}`}function dm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=qo(e),(e<16?"0":"")+e.toString(16)}function $A(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,r,n)}function $I(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof Ch||(e=Mf(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Na(s,o,l,e.opacity)}function vfe(e,t,r,n){return arguments.length===1?$I(e):new Na(e,t,r,n??1)}function Na(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}y2(Na,vfe,MI(Ch,{brighter(e){return e=e==null?um:Math.pow(um,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vn(Ux(e>=240?e-240:e+120,a,n),Ux(e,a,n),Ux(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Na(LA(this.h),A0(this.s),A0(this.l),dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dm(this.opacity);return`${e===1?"hsl(":"hsla("}${LA(this.h)}, ${A0(this.s)*100}%, ${A0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LA(e){return e=(e||0)%360,e<0?e+360:e}function A0(e){return Math.max(0,Math.min(1,e||0))}function Ux(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b2=e=>()=>e;function gfe(e,t){return function(r){return e+r*t}}function xfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yfe(e){return(e=+e)==1?LI:function(t,r){return r-t?xfe(t,r,e):b2(isNaN(t)?r:t)}}function LI(e,t){var r=t-e;return r?gfe(e,r):b2(isNaN(e)?t:e)}const FA=function e(t){var r=yfe(t);function n(a,i){var s=r((a=hb(a)).r,(i=hb(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=LI(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function bfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function wfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _fe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Sfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Efe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zx=new RegExp(pb.source,"g");function jfe(e){return function(){return e}}function Tfe(e){return function(t){return e(t)+""}}function Afe(e,t){var r=pb.lastIndex=zx.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=pb.exec(e))&&(a=zx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:fm(n,a)})),r=zx.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Tfe(l[0].x):jfe(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Hu(e,t){var r=typeof t,n;return t==null||r==="boolean"?b2(t):(r==="number"?fm:r==="string"?(n=Mf(t))?(t=n,FA):Afe:t instanceof Mf?FA:t instanceof Date?Sfe:wfe(t)?bfe:Array.isArray(t)?_fe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Efe:fm)(e,t)}function w2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ofe(e,t){t===void 0&&(t=e,e=Hu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Nfe(e){return function(){return e}}function hm(e){return+e}var BA=[0,1];function nn(e){return e}function mb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Nfe(isNaN(t)?NaN:.5)}function Cfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kfe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=mb(a,n),i=r(s,i)):(n=mb(n,a),i=r(i,s)),function(o){return i(n(o))}}function Pfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=mb(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Nh(e,o,1,n)-1;return i[l](a[l](o))}}function kh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function og(){var e=BA,t=BA,r=Hu,n,a,i,s=nn,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==nn&&(s=Cfe(e[0],e[h-1])),o=h>2?Pfe:kfe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),fm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=w2,d()},f.clamp=function(h){return arguments.length?(s=h?!0:nn,d()):s!==nn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function _2(){return og()(nn,nn)}function Rfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tu(e){return e=pm(Math.abs(e)),e?e[1]:NaN}function Ife(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Dfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Mfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=Mfe.exec(e)))throw new Error("invalid format: "+e);var t;return new S2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=S2.prototype;function S2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $fe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var FI;function Lfe(e,t){var r=pm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(FI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pm(e,Math.max(0,t+i-1))[0]}function UA(e,t){var r=pm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const zA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UA(e*100,t),r:UA,s:Lfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WA(e){return e}var HA=Array.prototype.map,qA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ffe(e){var t=e.grouping===void 0||e.thousands===void 0?WA:Ife(HA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WA:Dfe(HA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=$f(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,x=f.zero,b=f.width,m=f.comma,y=f.precision,_=f.trim,w=f.type;w==="n"?(m=!0,w="g"):zA[w]||(y===void 0&&(y=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=v==="$"?n:/[%p]/.test(w)?s:"",j=zA[w],T=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(N){var L=S,W=E,Z,V,ne;if(w==="c")W=j(N)+W,N="";else{N=+N;var se=N<0||1/N<0;if(N=isNaN(N)?l:j(Math.abs(N),y),_&&(N=$fe(N)),se&&+N==0&&g!=="+"&&(se=!1),L=(se?g==="("?g:o:g==="-"||g==="("?"":g)+L,W=(w==="s"?qA[8+FI/3]:"")+W+(se&&g==="("?")":""),T){for(Z=-1,V=N.length;++Z<V;)if(ne=N.charCodeAt(Z),48>ne||ne>57){W=(ne===46?a+N.slice(Z+1):N.slice(Z))+W,N=N.slice(0,Z);break}}}m&&!x&&(N=t(N,1/0));var K=L.length+N.length+W.length,te=K<b?new Array(b-K+1).join(h):"";switch(m&&x&&(N=t(te+N,te.length?b-W.length:1/0),te=""),p){case"<":N=L+N+W+te;break;case"=":N=L+te+N+W;break;case"^":N=te.slice(0,K=te.length>>1)+L+N+W+te.slice(K);break;default:N=te+L+N+W;break}return i(N)}return C.toString=function(){return f+""},C}function d(f,h){var p=c((f=$f(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(tu(h)/3)))*3,v=Math.pow(10,-g),x=qA[8+g/3];return function(b){return p(v*b)+x}}return{format:c,formatPrefix:d}}var O0,E2,BI;Bfe({thousands:",",grouping:[3],currency:["$",""]});function Bfe(e){return O0=Ffe(e),E2=O0.format,BI=O0.formatPrefix,O0}function Ufe(e){return Math.max(0,-tu(Math.abs(e)))}function zfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tu(t)/3)))*3-tu(Math.abs(e)))}function Wfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tu(t)-tu(e))+1}function UI(e,t,r,n){var a=db(e,t,r),i;switch(n=$f(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=zfe(a,s))&&(n.precision=i),BI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Wfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ufe(a))&&(n.precision=i-(n.type==="%")*2);break}}return E2(n)}function Js(e){var t=e.domain;return e.ticks=function(r){var n=t();return cb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return UI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);d-- >0;){if(c=ub(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function mm(){var e=_2();return e.copy=function(){return kh(e,mm())},ha.apply(e,arguments),Js(e)}function zI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zI(e).unknown(t)},e=arguments.length?Array.from(e,hm):[0,1],Js(r)}function WI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function VA(e){return Math.log(e)}function KA(e){return Math.exp(e)}function Hfe(e){return-Math.log(-e)}function qfe(e){return-Math.exp(-e)}function Vfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kfe(e){return e===10?Vfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GA(e){return(t,r)=>-e(-t,r)}function j2(e){const t=e(VA,KA),r=t.domain;let n=10,a,i;function s(){return a=Gfe(n),i=Kfe(n),r()[0]<0?(a=GA(a),i=GA(i),e(Hfe,qfe)):e(VA,KA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),g,v;const x=o==null?10:+o;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(v=h<0?g/i(-h):g*i(h),!(v<c)){if(v>d)break;b.push(v)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/i(-h):g*i(h),!(v<c)){if(v>d)break;b.push(v)}b.length*2<x&&(b=cb(c,d,x))}else b=cb(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=E2(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(WI(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function HI(){const e=j2(og()).domain([1,10]);return e.copy=()=>kh(e,HI()).base(e.base()),ha.apply(e,arguments),e}function XA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T2(e){var t=1,r=e(XA(t),YA(t));return r.constant=function(n){return arguments.length?e(XA(t=+n),YA(t)):t},Js(r)}function qI(){var e=T2(og());return e.copy=function(){return kh(e,qI()).constant(e.constant())},ha.apply(e,arguments)}function QA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Yfe(e){return e<0?-e*e:e*e}function A2(e){var t=e(nn,nn),r=1;function n(){return r===1?e(nn,nn):r===.5?e(Xfe,Yfe):e(QA(r),QA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Js(t)}function O2(){var e=A2(og());return e.copy=function(){return kh(e,O2()).exponent(e.exponent())},ha.apply(e,arguments),e}function Qfe(){return O2.apply(null,arguments).exponent(.5)}function JA(e){return Math.sign(e)*e*e}function Jfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VI(){var e=_2(),t=[0,1],r=!1,n;function a(i){var s=Jfe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(JA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hm)).map(JA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return VI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ha.apply(a,arguments),Js(a)}function KI(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=nfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Nh(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ls),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KI().domain(e).range(t).unknown(n)},ha.apply(i,arguments)}function GI(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Nh(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return GI().domain([e,t]).range(a).unknown(i)},ha.apply(Js(s),arguments)}function XI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Nh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return XI().domain(e).range(t).unknown(r)},ha.apply(a,arguments)}const Wx=new Date,Hx=new Date;function lr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>lr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Wx.setTime(+i),Hx.setTime(+s),e(Wx),e(Hx),Math.floor(r(Wx,Hx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const vm=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vm);vm.range;const wi=1e3,aa=wi*60,_i=aa*60,Bi=_i*24,N2=Bi*7,ZA=Bi*30,qx=Bi*365,ko=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());ko.range;const C2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());C2.range;const k2=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());k2.range;const P2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours());P2.range;const R2=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours());R2.range;const Ph=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Bi,e=>e.getDate()-1);Ph.range;const lg=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);lg.range;const YI=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));YI.range;function Sl(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/N2)}const cg=Sl(0),gm=Sl(1),Zfe=Sl(2),ehe=Sl(3),ru=Sl(4),the=Sl(5),rhe=Sl(6);cg.range;gm.range;Zfe.range;ehe.range;ru.range;the.range;rhe.range;function El(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/N2)}const ug=El(0),xm=El(1),nhe=El(2),ahe=El(3),nu=El(4),ihe=El(5),she=El(6);ug.range;xm.range;nhe.range;ahe.range;nu.range;ihe.range;she.range;const I2=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());I2.range;const D2=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D2.range;const Ui=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ui.range;const zi=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function QI(e,t,r,n,a,i){const s=[[ko,1,wi],[ko,5,5*wi],[ko,15,15*wi],[ko,30,30*wi],[i,1,aa],[i,5,5*aa],[i,15,15*aa],[i,30,30*aa],[a,1,_i],[a,3,3*_i],[a,6,6*_i],[a,12,12*_i],[n,1,Bi],[n,2,2*Bi],[r,1,N2],[t,1,ZA],[t,3,3*ZA],[e,1,qx]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),g=p?p.range(c,+d+1):[];return h?g.reverse():g}function l(c,d,f){const h=Math.abs(d-c)/f,p=g2(([,,x])=>x).right(s,h);if(p===s.length)return e.every(db(c/qx,d/qx,f));if(p===0)return vm.every(Math.max(db(c,d,f),1));const[g,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(v)}return[o,l]}const[ohe,lhe]=QI(zi,D2,ug,YI,R2,k2),[che,uhe]=QI(Ui,I2,cg,Ph,P2,C2);function Vx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ud(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dhe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=dd(a),d=fd(a),f=dd(i),h=fd(i),p=dd(s),g=fd(s),v=dd(o),x=fd(o),b=dd(l),m=fd(l),y={a:se,A:K,b:te,B:ce,c:null,d:iO,e:iO,f:Ihe,g:Hhe,G:Vhe,H:khe,I:Phe,j:Rhe,L:JI,m:Dhe,M:Mhe,p:pe,q:P,Q:lO,s:cO,S:$he,u:Lhe,U:Fhe,V:Bhe,w:Uhe,W:zhe,x:null,X:null,y:Whe,Y:qhe,Z:Khe,"%":oO},_={a:H,A:B,b:z,B:ae,c:null,d:sO,e:sO,f:Qhe,g:o0e,G:c0e,H:Ghe,I:Xhe,j:Yhe,L:e6,m:Jhe,M:Zhe,p:Se,q:Q,Q:lO,s:cO,S:e0e,u:t0e,U:r0e,V:n0e,w:a0e,W:i0e,x:null,X:null,y:s0e,Y:l0e,Z:u0e,"%":oO},w={a:C,A:N,b:L,B:W,c:Z,d:nO,e:nO,f:Ahe,g:rO,G:tO,H:aO,I:aO,j:She,L:The,m:_he,M:Ehe,p:T,q:whe,Q:Nhe,s:Che,S:jhe,u:vhe,U:ghe,V:xhe,w:mhe,W:yhe,x:V,X:ne,y:rO,Y:tO,Z:bhe,"%":Ohe};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(q,ee){return function(ye){var re=[],Le=-1,Ce=0,tt=q.length,Fe,be,Wt;for(ye instanceof Date||(ye=new Date(+ye));++Le<tt;)q.charCodeAt(Le)===37&&(re.push(q.slice(Ce,Le)),(be=eO[Fe=q.charAt(++Le)])!=null?Fe=q.charAt(++Le):be=Fe==="e"?" ":"0",(Wt=ee[Fe])&&(Fe=Wt(ye,be)),re.push(Fe),Ce=Le+1);return re.push(q.slice(Ce,Le)),re.join("")}}function E(q,ee){return function(ye){var re=ud(1900,void 0,1),Le=j(re,q,ye+="",0),Ce,tt;if(Le!=ye.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ce=Kx(ud(re.y,0,1)),tt=Ce.getUTCDay(),Ce=tt>4||tt===0?xm.ceil(Ce):xm(Ce),Ce=lg.offset(Ce,(re.V-1)*7),re.y=Ce.getUTCFullYear(),re.m=Ce.getUTCMonth(),re.d=Ce.getUTCDate()+(re.w+6)%7):(Ce=Vx(ud(re.y,0,1)),tt=Ce.getDay(),Ce=tt>4||tt===0?gm.ceil(Ce):gm(Ce),Ce=Ph.offset(Ce,(re.V-1)*7),re.y=Ce.getFullYear(),re.m=Ce.getMonth(),re.d=Ce.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),tt="Z"in re?Kx(ud(re.y,0,1)).getUTCDay():Vx(ud(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(tt+5)%7:re.w+re.U*7-(tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Kx(re)):Vx(re)}}function j(q,ee,ye,re){for(var Le=0,Ce=ee.length,tt=ye.length,Fe,be;Le<Ce;){if(re>=tt)return-1;if(Fe=ee.charCodeAt(Le++),Fe===37){if(Fe=ee.charAt(Le++),be=w[Fe in eO?ee.charAt(Le++):Fe],!be||(re=be(q,ye,re))<0)return-1}else if(Fe!=ye.charCodeAt(re++))return-1}return re}function T(q,ee,ye){var re=c.exec(ee.slice(ye));return re?(q.p=d.get(re[0].toLowerCase()),ye+re[0].length):-1}function C(q,ee,ye){var re=p.exec(ee.slice(ye));return re?(q.w=g.get(re[0].toLowerCase()),ye+re[0].length):-1}function N(q,ee,ye){var re=f.exec(ee.slice(ye));return re?(q.w=h.get(re[0].toLowerCase()),ye+re[0].length):-1}function L(q,ee,ye){var re=b.exec(ee.slice(ye));return re?(q.m=m.get(re[0].toLowerCase()),ye+re[0].length):-1}function W(q,ee,ye){var re=v.exec(ee.slice(ye));return re?(q.m=x.get(re[0].toLowerCase()),ye+re[0].length):-1}function Z(q,ee,ye){return j(q,t,ee,ye)}function V(q,ee,ye){return j(q,r,ee,ye)}function ne(q,ee,ye){return j(q,n,ee,ye)}function se(q){return s[q.getDay()]}function K(q){return i[q.getDay()]}function te(q){return l[q.getMonth()]}function ce(q){return o[q.getMonth()]}function pe(q){return a[+(q.getHours()>=12)]}function P(q){return 1+~~(q.getMonth()/3)}function H(q){return s[q.getUTCDay()]}function B(q){return i[q.getUTCDay()]}function z(q){return l[q.getUTCMonth()]}function ae(q){return o[q.getUTCMonth()]}function Se(q){return a[+(q.getUTCHours()>=12)]}function Q(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ee=S(q+="",y);return ee.toString=function(){return q},ee},parse:function(q){var ee=E(q+="",!1);return ee.toString=function(){return q},ee},utcFormat:function(q){var ee=S(q+="",_);return ee.toString=function(){return q},ee},utcParse:function(q){var ee=E(q+="",!0);return ee.toString=function(){return q},ee}}}var eO={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,fhe=/^%/,hhe=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function phe(e){return e.replace(hhe,"\\$&")}function dd(e){return new RegExp("^(?:"+e.map(phe).join("|")+")","i")}function fd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mhe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vhe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ghe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tO(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rO(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function whe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _he(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nO(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function She(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aO(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ehe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function jhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function The(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ahe(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ohe(e,t,r){var n=fhe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nhe(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Che(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iO(e,t){return Ye(e.getDate(),t,2)}function khe(e,t){return Ye(e.getHours(),t,2)}function Phe(e,t){return Ye(e.getHours()%12||12,t,2)}function Rhe(e,t){return Ye(1+Ph.count(Ui(e),e),t,3)}function JI(e,t){return Ye(e.getMilliseconds(),t,3)}function Ihe(e,t){return JI(e,t)+"000"}function Dhe(e,t){return Ye(e.getMonth()+1,t,2)}function Mhe(e,t){return Ye(e.getMinutes(),t,2)}function $he(e,t){return Ye(e.getSeconds(),t,2)}function Lhe(e){var t=e.getDay();return t===0?7:t}function Fhe(e,t){return Ye(cg.count(Ui(e)-1,e),t,2)}function ZI(e){var t=e.getDay();return t>=4||t===0?ru(e):ru.ceil(e)}function Bhe(e,t){return e=ZI(e),Ye(ru.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function Uhe(e){return e.getDay()}function zhe(e,t){return Ye(gm.count(Ui(e)-1,e),t,2)}function Whe(e,t){return Ye(e.getFullYear()%100,t,2)}function Hhe(e,t){return e=ZI(e),Ye(e.getFullYear()%100,t,2)}function qhe(e,t){return Ye(e.getFullYear()%1e4,t,4)}function Vhe(e,t){var r=e.getDay();return e=r>=4||r===0?ru(e):ru.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function Khe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function sO(e,t){return Ye(e.getUTCDate(),t,2)}function Ghe(e,t){return Ye(e.getUTCHours(),t,2)}function Xhe(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function Yhe(e,t){return Ye(1+lg.count(zi(e),e),t,3)}function e6(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function Qhe(e,t){return e6(e,t)+"000"}function Jhe(e,t){return Ye(e.getUTCMonth()+1,t,2)}function Zhe(e,t){return Ye(e.getUTCMinutes(),t,2)}function e0e(e,t){return Ye(e.getUTCSeconds(),t,2)}function t0e(e){var t=e.getUTCDay();return t===0?7:t}function r0e(e,t){return Ye(ug.count(zi(e)-1,e),t,2)}function t6(e){var t=e.getUTCDay();return t>=4||t===0?nu(e):nu.ceil(e)}function n0e(e,t){return e=t6(e),Ye(nu.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function a0e(e){return e.getUTCDay()}function i0e(e,t){return Ye(xm.count(zi(e)-1,e),t,2)}function s0e(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function o0e(e,t){return e=t6(e),Ye(e.getUTCFullYear()%100,t,2)}function l0e(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function c0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nu(e):nu.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function u0e(){return"+0000"}function oO(){return"%"}function lO(e){return+e}function cO(e){return Math.floor(+e/1e3)}var Dl,r6,n6;d0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d0e(e){return Dl=dhe(e),r6=Dl.format,Dl.parse,n6=Dl.utcFormat,Dl.utcParse,Dl}function f0e(e){return new Date(e)}function h0e(e){return e instanceof Date?+e:+new Date(+e)}function M2(e,t,r,n,a,i,s,o,l,c){var d=_2(),f=d.invert,h=d.domain,p=c(".%L"),g=c(":%S"),v=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),m=c("%b %d"),y=c("%B"),_=c("%Y");function w(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?v:i(S)<S?x:n(S)<S?a(S)<S?b:m:r(S)<S?y:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,h0e)):h().map(f0e)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?w:c(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(WI(E,S)):d},d.copy=function(){return kh(d,M2(e,t,r,n,a,i,s,o,l,c))},d}function p0e(){return ha.apply(M2(che,uhe,Ui,I2,cg,Ph,P2,C2,ko,r6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m0e(){return ha.apply(M2(ohe,lhe,zi,D2,ug,lg,R2,k2,ko,n6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dg(){var e=0,t=1,r,n,a,i,s=nn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=d(Hu),c.rangeRound=d(w2),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a6(){var e=Js(dg()(nn));return e.copy=function(){return Zs(e,a6())},es.apply(e,arguments)}function i6(){var e=j2(dg()).domain([1,10]);return e.copy=function(){return Zs(e,i6()).base(e.base())},es.apply(e,arguments)}function s6(){var e=T2(dg());return e.copy=function(){return Zs(e,s6()).constant(e.constant())},es.apply(e,arguments)}function $2(){var e=A2(dg());return e.copy=function(){return Zs(e,$2()).exponent(e.exponent())},es.apply(e,arguments)}function v0e(){return $2.apply(null,arguments).exponent(.5)}function o6(){var e=[],t=nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ls),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>rfe(e,i/n))},r.copy=function(){return o6(t).domain(e)},es.apply(r,arguments)}function fg(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=nn,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?o:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function g(v){return function(x){var b,m,y;return arguments.length?([b,m,y]=x,c=Ofe(v,[b,m,y]),p):[c(0),c(.5),c(1)]}}return p.range=g(Hu),p.rangeRound=g(w2),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),i=v(t),s=v(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function l6(){var e=Js(fg()(nn));return e.copy=function(){return Zs(e,l6())},es.apply(e,arguments)}function c6(){var e=j2(fg()).domain([.1,1,10]);return e.copy=function(){return Zs(e,c6()).base(e.base())},es.apply(e,arguments)}function u6(){var e=T2(fg());return e.copy=function(){return Zs(e,u6()).constant(e.constant())},es.apply(e,arguments)}function L2(){var e=A2(fg());return e.copy=function(){return Zs(e,L2()).exponent(e.exponent())},es.apply(e,arguments)}function g0e(){return L2.apply(null,arguments).exponent(.5)}const uO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rf,scaleDiverging:l6,scaleDivergingLog:c6,scaleDivergingPow:L2,scaleDivergingSqrt:g0e,scaleDivergingSymlog:u6,scaleIdentity:zI,scaleImplicit:fb,scaleLinear:mm,scaleLog:HI,scaleOrdinal:x2,scalePoint:Hd,scalePow:O2,scaleQuantile:KI,scaleQuantize:GI,scaleRadial:VI,scaleSequential:a6,scaleSequentialLog:i6,scaleSequentialPow:$2,scaleSequentialQuantile:o6,scaleSequentialSqrt:v0e,scaleSequentialSymlog:s6,scaleSqrt:Qfe,scaleSymlog:qI,scaleThreshold:XI,scaleTime:p0e,scaleUtc:m0e,tickFormat:UI},Symbol.toStringTag,{value:"Module"}));var x0e=Du;function y0e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!x0e(s):r(s,o)))var o=s,l=i}return l}var hg=y0e;function b0e(e,t){return e>t}var d6=b0e,w0e=hg,_0e=d6,S0e=zu;function E0e(e){return e&&e.length?w0e(e,S0e,_0e):void 0}var j0e=E0e;const pg=et(j0e);function T0e(e,t){return e<t}var f6=T0e,A0e=hg,O0e=f6,N0e=zu;function C0e(e){return e&&e.length?A0e(e,N0e,O0e):void 0}var k0e=C0e;const mg=et(k0e);var P0e=J_,R0e=li,I0e=bI,D0e=Tn;function M0e(e,t){var r=D0e(e)?P0e:I0e;return r(e,R0e(t))}var $0e=M0e,L0e=xI,F0e=$0e;function B0e(e,t){return L0e(F0e(e,t),1)}var U0e=B0e;const z0e=et(U0e);var W0e=h2;function H0e(e,t){return W0e(e,t)}var q0e=H0e;const vg=et(q0e);var qu=1e9,V0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B2,jt=!0,ca="[DecimalError] ",Vo=ca+"Invalid argument: ",F2=ca+"Exponent out of range: ",Vu=Math.floor,xo=Math.pow,K0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,ur=1e7,bt=7,h6=9007199254740991,ym=Vu(h6/bt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return ki(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return ft(ki(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Zt(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($n))throw Error(ca+"NaN");if(r.s<1)throw Error(ca+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(jt=!1,t=ki(Lf(r,i),Lf(e,i),i),jt=!0,ft(t,a))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v6(t,e):p6(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ca+"NaN");return r.s?(jt=!1,t=ki(r,e,0,1).times(e),jt=!0,r.minus(t)):ft(new n(r),a)};Ne.naturalExponential=Ne.exp=function(){return m6(this)};Ne.naturalLogarithm=Ne.ln=function(){return Lf(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p6(t,e):v6(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vo+e);if(t=Zt(a)+1,n=a.d.length-1,r=n*bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ca+"NaN")}for(e=Zt(o),jt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ja(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ki(o,i,s+2)).times(.5),Ja(i.d).slice(0,s)===(t=Ja(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(ft(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return jt=!0,ft(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,a,i,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ur|0,t=o/ur|0;i[a]=(i[a]+t)%ur|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jt?ft(e,f.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ii(e,0,qu),t===void 0?t=n.rounding:ii(t,0,8),ft(r,e+Zt(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sl(n,!0):(ii(e,0,qu),t===void 0?t=a.rounding:ii(t,0,8),n=ft(new a(n),e+1,t),r=sl(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?sl(a):(ii(e,0,qu),t===void 0?t=i.rounding:ii(t,0,8),n=ft(new i(a),e+Zt(a)+1,t),r=sl(n.abs(),!1,e+Zt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return ft(new t(e),Zt(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l($n);if(o=new l(o),!o.s){if(e.s<1)throw Error(ca+"Infinity");return o}if(o.eq($n))return o;if(n=l.precision,e.eq($n))return ft(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=h6){for(a=new l($n),t=Math.ceil(n/bt+4),jt=!1;r%2&&(a=a.times(o),fO(a.d,t)),r=Vu(r/2),r!==0;)o=o.times(o),fO(o.d,t);return jt=!0,e.s<0?new l($n).div(a):ft(a,n)}}else if(i<0)throw Error(ca+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,jt=!1,a=e.times(Lf(o,n+c)),jt=!0,a=m6(a),a.s=i,a};Ne.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Zt(a),n=sl(a,r<=i.toExpNeg||r>=i.toExpPos)):(ii(e,1,qu),t===void 0?t=i.rounding:ii(t,0,8),a=ft(new i(a),e,t),r=Zt(a),n=sl(a,e<=r||r<=i.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ii(e,1,qu),t===void 0?t=n.rounding:ii(t,0,8)),ft(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return sl(e,t<=r.toExpNeg||t>=r.toExpPos)};function p6(e,t){var r,n,a,i,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jt?ft(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/bt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ur|0,l[i]%=ur;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,jt?ft(t,f):t}function ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vo+e)}function Ja(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=bt-n.length,r&&(i+=os(r)),i+=n;s=e[t],n=s+"",r=bt-n.length,r&&(i+=os(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ki=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ur|0,s=i/ur|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ur+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,d,f,h,p,g,v,x,b,m,y,_,w,S,E,j,T=n.constructor,C=n.s==a.s?1:-1,N=n.d,L=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ca+"Division by zero");for(l=n.e-a.e,E=L.length,w=N.length,p=new T(C),g=p.d=[],c=0;L[c]==(N[c]||0);)++c;if(L[c]>(N[c]||0)&&--l,i==null?m=i=T.precision:s?m=i+(Zt(n)-Zt(a))+1:m=i,m<0)return new T(0);if(m=m/bt+2|0,c=0,E==1)for(d=0,L=L[0],m++;(c<w||d)&&m--;c++)y=d*ur+(N[c]||0),g[c]=y/L|0,d=y%L|0;else{for(d=ur/(L[0]+1)|0,d>1&&(L=e(L,d),N=e(N,d),E=L.length,w=N.length),_=E,v=N.slice(0,E),x=v.length;x<E;)v[x++]=0;j=L.slice(),j.unshift(0),S=L[0],L[1]>=ur/2&&++S;do d=0,o=t(L,v,E,x),o<0?(b=v[0],E!=x&&(b=b*ur+(v[1]||0)),d=b/S|0,d>1?(d>=ur&&(d=ur-1),f=e(L,d),h=f.length,x=v.length,o=t(f,v,h,x),o==1&&(d--,r(f,E<h?j:L,h))):(d==0&&(o=d=1),f=L.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),o==-1&&(x=v.length,o=t(L,v,E,x),o<1&&(d++,r(v,E<x?j:L,x))),x=v.length):o===0&&(d++,v=[0]),g[c++]=d,o&&v[0]?v[x++]=N[_]||0:(v=[N[_]],x=1);while((_++<w||v[0]!==void 0)&&m--)}return g[0]||g.shift(),p.e=l,ft(p,s?i+Zt(p)+1:i)}}();function m6(e,t){var r,n,a,i,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Zt(e)>16)throw Error(F2+Zt(e));if(!e.s)return new d($n);for(jt=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(xo(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new d($n),d.precision=o;;){if(a=ft(a.times(e),o),r=r.times(++l),s=i.plus(ki(a,r,o)),Ja(s.d).slice(0,o)===Ja(i.d).slice(0,o)){for(;c--;)i=ft(i.times(i),o);return d.precision=f,t==null?(jt=!0,ft(i,f)):i}i=s}}function Zt(e){for(var t=e.e*bt,r=e.d[0];r>=10;r/=10)t++;return t}function Gx(e,t,r){if(t>e.LN10.sd())throw jt=!0,r&&(e.precision=r),Error(ca+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function os(e){for(var t="";e--;)t+="0";return t}function Lf(e,t){var r,n,a,i,s,o,l,c,d,f=1,h=10,p=e,g=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(ca+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new v(0);if(t==null?(jt=!1,c=x):c=t,p.eq(10))return t==null&&(jt=!0),Gx(v,c);if(c+=h,v.precision=c,r=Ja(g),n=r.charAt(0),i=Zt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ja(p.d),n=r.charAt(0),f++;i=Zt(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return l=Gx(v,c+2,x).times(i+""),p=Lf(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(jt=!0,ft(p,x)):p;for(o=s=p=ki(p.minus($n),p.plus($n),c),d=ft(p.times(p),c),a=3;;){if(s=ft(s.times(d),c),l=o.plus(ki(s,new v(a),c)),Ja(l.d).slice(0,c)===Ja(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Gx(v,c+2,x).times(i+""))),o=ki(o,new v(f),c),v.precision=x,t==null?(jt=!0,ft(o,x)):o;o=l,a+=2}}function dO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vu(r/bt),e.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=bt;n<a;)e.d.push(+t.slice(n,n+=bt));t=t.slice(n),n=bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jt&&(e.e>ym||e.e<-ym))throw Error(F2+r)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,r){var n,a,i,s,o,l,c,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=bt,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/bt),i=f.length,d>=i)return e;for(c=i=f[d],s=1;i>=10;i/=10)s++;n%=bt,a=n-bt+s}if(r!==void 0&&(i=xo(10,s-a-1),o=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/xo(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Zt(e),f.length=1,t=t-i-1,f[0]=xo(10,(bt-t%bt)%bt),e.e=Vu(-t/bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xo(10,bt-n),f[d]=a>0?(c/xo(10,s-a)%xo(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jt&&(e.e>ym||e.e<-ym))throw Error(F2+Zt(e));return e}function v6(e,t){var r,n,a,i,s,o,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jt?ft(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/bt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ur-1;--l[i],l[a]+=ur}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,jt?ft(t,p):t):new h(0)}function sl(e,t,r){var n,a=Zt(e),i=Ja(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+os(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+os(-a-1)+i,r&&(n=r-s)>0&&(i+=os(n))):a>=s?(i+=os(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+os(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=os(n))),e.s<0?"-"+i:i}function fO(e,t){if(e.length>t)return e.length=t,!0}function g6(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return dO(s,i.toString())}else if(typeof i!="string")throw Error(Vo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,K0e.test(i))dO(s,i);else throw Error(Vo+i)}if(a.prototype=Ne,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=g6,a.config=a.set=G0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function G0e(e){if(!e||typeof e!="object")throw Error(ca+"Object expected");var t,r,n,a=["precision",1,qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vo+r+": "+n);return this}var B2=g6(V0e);$n=new B2(1);const ut=B2;function X0e(e){return Z0e(e)||J0e(e)||Q0e(e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function J0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Z0e(e){if(Array.isArray(e))return vb(e)}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var epe=function(t){return t},x6={},y6=function(t){return t===x6},hO=function(t){return function r(){return arguments.length===0||arguments.length===1&&y6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},tpe=function e(t,r){return t===1?r:hO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==x6}).length;return s>=t?r.apply(void 0,a):e(t-s,hO(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=a.map(function(f){return y6(f)?l.shift():f});return r.apply(void 0,X0e(d).concat(l))}))})},gg=function(t){return tpe(t.length,t)},gb=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},rpe=gg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),npe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return epe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},xb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},b6=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function ape(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function ipe(e,t,r){for(var n=new ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var spe=gg(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),ope=gg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),lpe=gg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const xg={rangeStep:ipe,getDigitCount:ape,interpolateNumber:spe,uninterpolateNumber:ope,uninterpolateTruncation:lpe};function yb(e){return dpe(e)||upe(e)||w6(e)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dpe(e){if(Array.isArray(e))return bb(e)}function Ff(e,t){return ppe(e)||hpe(e,t)||w6(e,t)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(e,t){if(e){if(typeof e=="string")return bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bb(e,t)}}function bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function ppe(e){if(Array.isArray(e))return e}function _6(e){var t=Ff(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function S6(e,t,r){if(e.lte(0))return new ut(0);var n=xg.getDigitCount(e.toNumber()),a=new ut(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new ut(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new ut(Math.ceil(l))}function mpe(e,t,r){var n=1,a=new ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ut(10).pow(xg.getDigitCount(e)-1),a=new ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ut(Math.floor(e)))}else e===0?a=new ut(Math.floor((t-1)/2)):r||(a=new ut(Math.floor(e)));var s=Math.floor((t-1)/2),o=npe(rpe(function(l){return a.add(new ut(l-s).mul(n)).toNumber()}),gb);return o(0,t)}function E6(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var i=S6(new ut(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new ut(0):(s=new ut(e).add(t).div(2),s=s.sub(new ut(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new ut(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?E6(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new ut(o).mul(i)),tickMax:s.add(new ut(l).mul(i))})}function vpe(e){var t=Ff(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=_6([r,n]),l=Ff(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(yb(gb(0,a-1).map(function(){return 1/0}))):[].concat(yb(gb(0,a-1).map(function(){return-1/0})),[d]);return r>n?xb(f):f}if(c===d)return mpe(c,a,i);var h=E6(c,d,s,i),p=h.step,g=h.tickMin,v=h.tickMax,x=xg.rangeStep(g,v.add(new ut(.1).mul(p)),p);return r>n?xb(x):x}function gpe(e,t){var r=Ff(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_6([n,a]),o=Ff(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=S6(new ut(c).sub(l).div(d-1),i,0),h=[].concat(yb(xg.rangeStep(new ut(l),new ut(c).sub(new ut(.99).mul(f)),f)),[c]);return n>a?xb(h):h}var xpe=b6(vpe),ype=b6(gpe),bpe="Invariant failed";function ol(e,t){throw new Error(bpe)}var wpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function _pe(e,t){return Tpe(e)||jpe(e,t)||Epe(e,t)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return pO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(e,t)}}function pO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Tpe(e){if(Array.isArray(e))return e}function Ape(e,t){if(e==null)return{};var r=Ope(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ope(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Npe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A6(n.key),n)}}function kpe(e,t,r){return t&&Cpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppe(e,t,r){return t=wm(t),Rpe(e,j6()?Reflect.construct(t,r||[],wm(e).constructor):t.apply(e,r))}function Rpe(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ipe(e)}function Ipe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}function Dpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wb(e,t)}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wb(e,t)}function T6(e,t,r){return t=A6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A6(e){var t=Mpe(e,"string");return au(t)=="symbol"?t:t+""}function Mpe(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yg=function(e){function t(){return Npe(this,t),Ppe(this,t,arguments)}return Dpe(t,e),kpe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Ape(n,wpe),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&ol();var g=l.map(function(v){var x=c(v,o),b=x.x,m=x.y,y=x.value,_=x.errorVal;if(!_)return null;var w=[],S,E;if(Array.isArray(_)){var j=_pe(_,2);S=j[0],E=j[1]}else S=E=_;if(i==="vertical"){var T=d.scale,C=m+a,N=C+s,L=C-s,W=T(y-S),Z=T(y+E);w.push({x1:Z,y1:N,x2:Z,y2:L}),w.push({x1:W,y1:C,x2:Z,y2:C}),w.push({x1:W,y1:N,x2:W,y2:L})}else if(i==="horizontal"){var V=f.scale,ne=b+a,se=ne-s,K=ne+s,te=V(y-S),ce=V(y+E);w.push({x1:se,y1:ce,x2:K,y2:ce}),w.push({x1:ne,y1:te,x2:ne,y2:ce}),w.push({x1:se,y1:te,x2:K,y2:te})}return U.createElement(at,bm({className:"recharts-errorBar",key:"bar-".concat(w.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},p),w.map(function(pe){return U.createElement("line",bm({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return U.createElement(at,{className:"recharts-errorBars"},g)}}])}(U.Component);T6(yg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T6(yg,"displayName","ErrorBar");function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){$pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $pe(e,t,r){return t=Lpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lpe(e){var t=Fpe(e,"string");return Bf(t)=="symbol"?t:t+""}function Fpe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=kn(r,Ni);if(!s)return null;var o=Ni.defaultProps,l=o!==void 0?oo(oo({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?oo(oo({},h),f.props):{},g=p.dataKey,v=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||x||"square",color:U2(f),value:v||g,payload:p}}),oo(oo(oo({},l),Ni.getWithHeight(s,a)),{},{payload:c,item:s})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function vO(e){return Wpe(e)||zpe(e)||Upe(e)||Bpe()}function Bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(e,t){if(e){if(typeof e=="string")return _b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(e,t)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wpe(e){if(Array.isArray(e))return _b(e)}function _b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yc(e,t,r){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=qpe(e,"string");return Uf(t)=="symbol"?t:t+""}function qpe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t,r){return We(e)||We(t)?r:or(t)?Bn(e,t,r):Me(t)?t(e):r}function qd(e,t,r,n){var a=z0e(e,function(o){return Ur(o,t)});if(r==="number"){var i=a.filter(function(o){return ve(o)||parseFloat(o)});return i.length?[mg(i),pg(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!We(o)}):a;return s.map(function(o){return or(o)||o instanceof Date?o:""})}var Vpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(tn(f-d)!==tn(h-f)){var g=[];if(tn(h-f)===tn(l[1]-l[0])){p=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{p=d;var x=h+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var m=Math.min(d,h),y=Math.max(d,h);if(t>(m+f)/2&&t<=(y+f)/2){s=a[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},U2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Kpe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],v=g.items,x=g.cateAxisId,b=v.filter(function(E){return Oi(E.type).indexOf("Bar")>=0});if(b&&b.length){var m=b[0].type.defaultProps,y=m!==void 0?Ft(Ft({},m),b[0].props):b[0].props,_=y.barSize,w=y[x];s[w]||(s[w]=[]);var S=We(_)?r:_;s[w].push({item:b[0],stackList:b.slice(1),barSize:We(S)?void 0:rn(S,n,0)})}}return s},Gpe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=rn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(_,w){return _+w.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var v=(a-g)/2>>0,x={offset:v-c,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},E=[].concat(vO(_),[S]);return x=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:x})}),E},f)}else{var b=rn(n,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var m=(a-2*b-(l-1)*c)/l;m>1&&(m>>=0);var y=o===+o?Math.min(m,o):m;d=s.reduce(function(_,w,S){var E=[].concat(vO(_),[{item:w.item,position:{offset:b+(m+c)*S+(m-y)/2,size:y}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},Xpe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=O6({children:i,legendWidth:l});if(c){var d=a||{},f=d.width,h=d.height,p=c.align,g=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&ve(t[p]))return Ft(Ft({},t),{},yc({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&ve(t[g]))return Ft(Ft({},t),{},yc({},g,t[g]+(h||0)))}return t},Ype=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},N6=function(t,r,n,a,i){var s=r.props.children,o=sa(s,yg).filter(function(c){return Ype(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=Ur(d,n);if(We(f))return c;var h=Array.isArray(f)?[mg(f),pg(f)]:[f,f],p=l.reduce(function(g,v){var x=Ur(d,v,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),m=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(m,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Qpe=function(t,r,n,a,i){var s=r.map(function(o){return N6(t,o,n,i,a)}).filter(function(o){return!We(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},C6=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&N6(t,l,c,a)||qd(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},k6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},P6=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Si=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?tn(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return d.filter(function(f){return!Th(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},Xx=new WeakMap,N0=function(t,r){if(typeof r!="function")return t;Xx.has(t)||Xx.set(t,new WeakMap);var n=Xx.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},R6=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Rf(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:mm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hd(),realScaleType:"point"}:i==="category"?{scale:Rf(),realScaleType:"band"}:{scale:mm(),realScaleType:"linear"};if(nl(a)){var l="scale".concat(eg(a));return{scale:(uO[l]||Hd)(),realScaleType:uO[l]?l:"point"}}return Me(a)?{scale:a}:{scale:Hd(),realScaleType:"point"}},xO=1e-4,I6=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-xO,s=Math.max(a[0],a[1])+xO,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},Jpe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Zpe=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},eme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Th(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},tme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Th(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},rme={sign:eme,expand:wre,none:Yc,silhouette:_re,wiggle:Sre,positive:tme},nme=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=rme[n],s=bre().keys(a).value(function(o,l){return+Ur(o,l,0)}).order(K1).offset(i);return s(t)},ame=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ft(Ft({},h.type.defaultProps),h.props):h.props,v=g.stackId,x=g.hide;if(x)return f;var b=g[n],m=f[b]||{hasStack:!1,stackGroups:{}};if(or(v)){var y=m.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),m.hasStack=!0,m.stackGroups[v]=y}else m.stackGroups[Ah("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ft(Ft({},f),{},yc({},b,m))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var b=p.stackGroups[x];return Ft(Ft({},v),{},yc({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:nme(t,b.items,i)}))},g)}return Ft(Ft({},f),{},yc({},h,p))},d)},D6=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=xpe(c,i,o);return t.domain([mg(d),pg(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=ype(f,i,o);return{niceTicks:h}}return null},yO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Ur(s,r.dataKey,r.domain[o]);return We(l)?null:r.scale(l)-i/2+a},ime=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},sme=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(or(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},ome=function(t){return t.reduce(function(r,n){return[mg(n.concat([r[0]]).filter(ve)),pg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},M6=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,d){var f=ome(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},bO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sb=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ve(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(bO.test(t[0])){var i=+bO.exec(t[0])[1];a[0]=r[0]-i}else Me(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ve(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(wO.test(t[1])){var s=+wO.exec(t[1])[1];a[1]=r[1]+s}else Me(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},_m=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=m2(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],d=i[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},_O=function(t,r,n){return!t||!t.length||vg(t,Bn(n,"type.defaultProps.domain"))?r:t},$6=function(t,r){var n=t.type.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return Ft(Ft({},De(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:U2(t),value:Ur(r,a),type:l,payload:r,chartType:c,hide:d})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){L6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6(e,t,r){return t=lme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e){var t=cme(e,"string");return zf(t)=="symbol"?t:t+""}function cme(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e,t){return pme(e)||hme(e,t)||fme(e,t)||dme()}function dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fme(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pme(e){if(Array.isArray(e))return e}var Sm=Math.PI/180,mme=function(t){return t*180/Math.PI},gt=function(t,r,n,a){return{x:t+Math.cos(-Sm*a)*n,y:r+Math.sin(-Sm*a)*n}},F6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vme=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.startAngle,c=t.endAngle,d=rn(t.cx,s,s/2),f=rn(t.cy,o,o/2),h=F6(s,o,n),p=rn(t.innerRadius,h,0),g=rn(t.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(x,b){var m=r[b],y=m.domain,_=m.reversed,w;if(We(m.range))a==="angleAxis"?w=[l,c]:a==="radiusAxis"&&(w=[p,g]),_&&(w=[w[1],w[0]]);else{w=m.range;var S=w,E=ume(S,2);l=E[0],c=E[1]}var j=R6(m,i),T=j.realScaleType,C=j.scale;C.domain(y).range(w),I6(C);var N=D6(C,hi(hi({},m),{},{realScaleType:T})),L=hi(hi(hi({},m),N),{},{range:w,radius:g,realScaleType:T,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return hi(hi({},x),{},L6({},b,L))},{})},gme=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},xme=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=gme({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:mme(c),angleInRadian:c}},yme=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},bme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},jO=function(t,r){var n=t.x,a=t.y,i=xme({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=yme(r),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?hi(hi({},r),{},{radius:s,angle:bme(p,r)}):null},B6=function(t){return!A.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var wme=["offset"];function _me(e){return Tme(e)||jme(e)||Eme(e)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eme(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function jme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tme(e){if(Array.isArray(e))return Eb(e)}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ame(e,t){if(e==null)return{};var r=Ome(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ome(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t,r){return t=Cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=kme(e,"string");return Wf(t)=="symbol"?t:t+""}function kme(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}var Pme=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Me(n)?n(a):a},Rme=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Ime=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,v=l.clockWise,x=(f+h)/2,b=Rme(p,g),m=b>=0?1:-1,y,_;a==="insideStart"?(y=p+m*s,_=v):a==="insideEnd"?(y=g-m*s,_=!v):a==="end"&&(y=g+m*s,_=v),_=b<=0?_:!_;var w=gt(c,d,x,y),S=gt(c,d,x,y+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),j=We(t.id)?Ah("recharts-radial-line-"):t.id;return U.createElement("text",Hf({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",o)}),U.createElement("defs",null,U.createElement("path",{id:j,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Dme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=gt(s,o,c+n,h),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,b=gt(s,o,x,h),m=b.x,y=b.y;return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Mme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",v=c>=0?1:-1,x=v*a,b=v>0?"end":"start",m=v>0?"start":"end";if(i==="top"){var y={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return rr(rr({},y),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var _={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return rr(rr({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(i==="left"){var w={x:o-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return rr(rr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:o+c+x,y:l+d/2,textAnchor:m,verticalAnchor:"middle"};return rr(rr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var E=n?{width:c,height:d}:{};return i==="insideLeft"?rr({x:o+x,y:l+d/2,textAnchor:m,verticalAnchor:"middle"},E):i==="insideRight"?rr({x:o+c-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?rr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?rr({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?rr({x:o+x,y:l+h,textAnchor:m,verticalAnchor:g},E):i==="insideTopRight"?rr({x:o+c-x,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideBottomLeft"?rr({x:o+x,y:l+d-h,textAnchor:m,verticalAnchor:p},E):i==="insideBottomRight"?rr({x:o+c-x,y:l+d-h,textAnchor:b,verticalAnchor:p},E):Mu(i)&&(ve(i.x)||No(i.x))&&(ve(i.y)||No(i.y))?rr({x:o+rn(i.x,c),y:l+rn(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):rr({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},$me=function(t){return"cx"in t&&ve(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=Ame(e,wme),a=rr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||We(o)&&We(l)&&!A.isValidElement(c)&&!Me(c))return null;if(A.isValidElement(c))return A.cloneElement(c,a);var p;if(Me(c)){if(p=A.createElement(c,a),A.isValidElement(p))return p}else p=Pme(a);var g=$me(i),v=De(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ime(a,p,v);var x=g?Dme(a):Mme(a);return U.createElement(il,Hf({className:ze("recharts-label",f)},v,x,{breakAll:h}),p)}hr.displayName="Label";var U6=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,v=t.width,x=t.height,b=t.clockWise,m=t.labelViewBox;if(m)return m;if(ve(v)&&ve(x)){if(ve(f)&&ve(h))return{x:f,y:h,width:v,height:x};if(ve(p)&&ve(g))return{x:p,y:g,width:v,height:x}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},Lme=function(t,r){return t?t===!0?U.createElement(hr,{key:"label-implicit",viewBox:r}):or(t)?U.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===hr?A.cloneElement(t,{key:"label-implicit",viewBox:r}):U.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Me(t)?U.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Mu(t)?U.createElement(hr,Hf({viewBox:r},t,{key:"label-implicit"})):null:null},Fme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=U6(t),s=sa(a,hr).map(function(l,c){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=Lme(t.label,r||i);return[o].concat(_me(s))};hr.parseViewBox=U6;hr.renderCallByParent=Fme;function Bme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ume=Bme;const zme=et(Ume);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}var Wme=["valueAccessor"],Hme=["data","dataKey","clockWise","id","textBreakAll"];function qme(e){return Xme(e)||Gme(e)||Kme(e)||Vme()}function Vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(e,t){if(e){if(typeof e=="string")return jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jb(e,t)}}function Gme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xme(e){if(Array.isArray(e))return jb(e)}function jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Yme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yme(e,t,r){return t=Qme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qme(e){var t=Jme(e,"string");return qf(t)=="symbol"?t:t+""}function Jme(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NO(e,t){if(e==null)return{};var r=Zme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eve=function(t){return Array.isArray(t.value)?zme(t.value):t.value};function Fs(e){var t=e.valueAccessor,r=t===void 0?eve:t,n=NO(e,Wme),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=NO(n,Hme);return!a||!a.length?null:U.createElement(at,{className:"recharts-label-list"},a.map(function(d,f){var h=We(i)?r(d,f):Ur(d&&d.payload,i),p=We(o)?{}:{id:"".concat(o,"-").concat(f)};return U.createElement(hr,Em({},De(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:hr.parseViewBox(We(s)?d:OO(OO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Fs.displayName="LabelList";function tve(e,t){return e?e===!0?U.createElement(Fs,{key:"labelList-implicit",data:t}):U.isValidElement(e)||Me(e)?U.createElement(Fs,{key:"labelList-implicit",data:t,content:e}):Mu(e)?U.createElement(Fs,Em({data:t},e,{key:"labelList-implicit"})):null:null}function rve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=sa(n,Fs).map(function(s,o){return A.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=tve(e.label,t);return[i].concat(qme(a))}Fs.renderCallByParent=rve;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return t=ave(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=ive(e,"string");return Vf(t)=="symbol"?t:t+""}function ive(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sve=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},C0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(o?1:-1)+a,f=Math.asin(l/d)/Sm,h=c?i:i+s*f,p=gt(r,n,d,h),g=gt(r,n,a,h),v=c?i-s*f:i,x=gt(r,n,d*Math.cos(f*Sm),v);return{center:p,circleTangency:g,lineTangency:x,theta:f}},z6=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=sve(s,o),c=s+l,d=gt(r,n,i,s),f=gt(r,n,i,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=gt(r,n,a,s),g=gt(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ove=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=tn(d-c),h=C0({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,v=h.theta,x=C0({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=x.circleTangency,m=x.lineTangency,y=x.theta,_=l?Math.abs(c-d):Math.abs(c-d)-v-y;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):z6({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
  `);if(a>0){var S=C0({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=S.circleTangency,j=S.lineTangency,T=S.theta,C=C0({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=C.circleTangency,L=C.lineTangency,W=C.theta,Z=l?Math.abs(c-d):Math.abs(c-d)-T-W;if(Z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},lve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W6=function(t){var r=kO(kO({},lve),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=ze("recharts-sector",h),g=s-i,v=rn(o,g,0,!0),x;return v>0&&Math.abs(d-f)<360?x=ove({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):x=z6({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),U.createElement("path",Tb({},De(r,!0),{className:p,d:x,role:"img"}))};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cve(e,t,r){return t=uve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uve(e){var t=dve(e,"string");return Kf(t)=="symbol"?t:t+""}function dve(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IO={curveBasisClosed:cre,curveBasisOpen:ure,curveBasis:lre,curveBumpX:Gte,curveBumpY:Xte,curveLinearClosed:dre,curveLinear:rg,curveMonotoneX:fre,curveMonotoneY:hre,curveNatural:pre,curveStep:mre,curveStepAfter:gre,curveStepBefore:vre},k0=function(t){return t.x===+t.x&&t.y===+t.y},hd=function(t){return t.x},pd=function(t){return t.y},fve=function(t,r){if(Me(t))return t;var n="curve".concat(eg(t));return(n==="curveMonotone"||n==="curveBump")&&r?IO["".concat(n).concat(r==="vertical"?"Y":"X")]:IO[n]||rg},hve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=fve(n,o),f=c?i.filter(function(v){return k0(v)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(v){return k0(v)}):s,g=f.map(function(v,x){return RO(RO({},v),{},{base:p[x]})});return o==="vertical"?h=w0().y(pd).x1(hd).x0(function(v){return v.base.x}):h=w0().x(hd).y1(pd).y0(function(v){return v.base.y}),h.defined(k0).curve(d),h(g)}return o==="vertical"&&ve(s)?h=w0().y(pd).x1(hd).x0(s):ve(s)?h=w0().x(hd).y1(pd).y0(s):h=$R().x(hd).y(pd),h.defined(k0).curve(d),h(f)},Ob=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?hve(t):a;return A.createElement("path",Ab({},De(t,!1),Xp(t),{className:ze("recharts-curve",r),d:s,ref:i}))},H6={exports:{}},pve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mve=pve,vve=mve;function q6(){}function V6(){}V6.resetWarningCache=q6;var gve=function(){function e(n,a,i,s,o,l){if(l!==vve){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V6,resetWarningCache:q6};return r.PropTypes=r,r};H6.exports=gve();var xve=H6.exports;const Je=et(xve),{getOwnPropertyNames:yve,getOwnPropertySymbols:bve}=Object,{hasOwnProperty:wve}=Object.prototype;function Yx(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function P0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);const l=e(r,n,a);return i.delete(r),i.delete(n),l}}function _ve(e){return e!=null?e[Symbol.toStringTag]:void 0}function DO(e){return yve(e).concat(bve(e))}const Sve=Object.hasOwn||((e,t)=>wve.call(e,t));function jl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Eve="__v",jve="__o",Tve="_owner",{getOwnPropertyDescriptor:MO,keys:$O}=Object;function Ave(e,t){return e.byteLength===t.byteLength&&jm(new Uint8Array(e),new Uint8Array(t))}function Ove(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Nve(e,t){return e.byteLength===t.byteLength&&jm(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Cve(e,t){return jl(e.getTime(),t.getTime())}function kve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Pve(e,t){return e===t}function LO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,o,l=0;for(;(s=i.next())&&!s.done;){const c=t.entries();let d=!1,f=0;for(;(o=c.next())&&!o.done;){if(a[f]){f++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const Rve=jl;function Ive(e,t,r){const n=$O(e);let a=n.length;if($O(t).length!==a)return!1;for(;a-- >0;)if(!K6(e,t,r,n[a]))return!1;return!0}function md(e,t,r){const n=DO(e);let a=n.length;if(DO(t).length!==a)return!1;let i,s,o;for(;a-- >0;)if(i=n[a],!K6(e,t,r,i)||(s=MO(e,i),o=MO(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Dve(e,t){return jl(e.valueOf(),t.valueOf())}function Mve(e,t){return e.source===t.source&&e.flags===t.flags}function FO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const l=t.values();let c=!1,d=0;for(;(o=l.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function jm(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function $ve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function K6(e,t,r,n){return(n===Tve||n===jve||n===Eve)&&(e.$$typeof||t.$$typeof)?!0:Sve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Lve="[object ArrayBuffer]",Fve="[object Arguments]",Bve="[object Boolean]",Uve="[object DataView]",zve="[object Date]",Wve="[object Error]",Hve="[object Map]",qve="[object Number]",Vve="[object Object]",Kve="[object RegExp]",Gve="[object Set]",Xve="[object String]",Yve={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Qve="[object URL]",Jve=Object.prototype.toString;function Zve({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(x,b,m){if(x===b)return!0;if(x==null||b==null)return!1;const y=typeof x;if(y!==typeof b)return!1;if(y!=="object")return y==="number"?o(x,b,m):y==="function"?i(x,b,m):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return l(x,b,m);if(Array.isArray(x))return t(x,b,m);if(_===Date)return n(x,b,m);if(_===RegExp)return d(x,b,m);if(_===Map)return s(x,b,m);if(_===Set)return f(x,b,m);const w=Jve.call(x);if(w===zve)return n(x,b,m);if(w===Kve)return d(x,b,m);if(w===Hve)return s(x,b,m);if(w===Gve)return f(x,b,m);if(w===Vve)return typeof x.then!="function"&&typeof b.then!="function"&&l(x,b,m);if(w===Qve)return p(x,b,m);if(w===Wve)return a(x,b,m);if(w===Fve)return l(x,b,m);if(Yve[w])return h(x,b,m);if(w===Lve)return e(x,b,m);if(w===Uve)return r(x,b,m);if(w===Bve||w===qve||w===Xve)return c(x,b,m);if(g){let S=g[w];if(!S){const E=_ve(x);E&&(S=g[E])}if(S)return S(x,b,m)}return!1}}function ege({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Ave,areArraysEqual:r?md:Ove,areDataViewsEqual:Nve,areDatesEqual:Cve,areErrorsEqual:kve,areFunctionsEqual:Pve,areMapsEqual:r?Yx(LO,md):LO,areNumbersEqual:Rve,areObjectsEqual:r?md:Ive,arePrimitiveWrappersEqual:Dve,areRegExpsEqual:Mve,areSetsEqual:r?Yx(FO,md):FO,areTypedArraysEqual:r?Yx(jm,md):jm,areUrlsEqual:$ve,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=P0(n.areArraysEqual),i=P0(n.areMapsEqual),s=P0(n.areObjectsEqual),o=P0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:o})}return n}function tge(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function rge({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(o,l){const{cache:c=e?new WeakMap:void 0,meta:d}=r();return t(o,l,{cache:c,equals:n,meta:d,strict:a})};if(e)return function(o,l){return t(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(o,l){return t(o,l,i)}}const nge=eo();eo({strict:!0});eo({circular:!0});eo({circular:!0,strict:!0});eo({createInternalComparator:()=>jl});eo({strict:!0,createInternalComparator:()=>jl});eo({circular:!0,createInternalComparator:()=>jl});eo({circular:!0,createInternalComparator:()=>jl,strict:!0});function eo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=ege(e),s=Zve(i),o=r?r(s):tge(s);return rge({circular:t,comparator:s,createState:n,equals:o,strict:a})}function age(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function BO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):age(a)};requestAnimationFrame(n)}function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}function ige(e){return cge(e)||lge(e)||oge(e)||sge()}function sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oge(e,t){if(e){if(typeof e=="string")return UO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(e,t)}}function UO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cge(e){if(Array.isArray(e))return e}function uge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ige(s),l=o[0],c=o.slice(1);if(typeof l=="number"){BO(a.bind(null,c),l);return}a(l),BO(a.bind(null,c));return}Nb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){G6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6(e,t,r){return t=dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return Gf(t)==="symbol"?t:String(t)}function fge(e,t){if(Gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},pge=function(t){return t},mge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vd=function(t,r){return Object.keys(r).reduce(function(n,a){return WO(WO({},n),{},G6({},a,t(a,r[a])))},{})},HO=function(t,r,n){return t.map(function(a){return"".concat(mge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function vge(e,t){return yge(e)||xge(e,t)||X6(e,t)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function yge(e){if(Array.isArray(e))return e}function bge(e){return Sge(e)||_ge(e)||X6(e)||wge()}function wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(e,t){if(e){if(typeof e=="string")return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cb(e,t)}}function _ge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sge(e){if(Array.isArray(e))return Cb(e)}function Cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tm=1e-4,Y6=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Q6=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},qO=function(t,r){return function(n){var a=Y6(t,r);return Q6(a,n)}},Ege=function(t,r){return function(n){var a=Y6(t,r),i=[].concat(bge(a.map(function(s,o){return s*o}).slice(1)),[0]);return Q6(i,n)}},VO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=vge(c,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=qO(a,s),h=qO(i,o),p=Ege(a,s),g=function(b){return b>1?1:b<0?0:b},v=function(b){for(var m=b>1?1:b,y=m,_=0;_<8;++_){var w=f(y)-m,S=p(y);if(Math.abs(w-m)<Tm||S<Tm)return h(y);y=g(y-w/S)}return h(y)};return v.isStepper=!1,v},jge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,g=h*i,v=h+(p-g)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<Tm&&Math.abs(v)<Tm?[f,0]:[x,v]};return l.isStepper=!0,l.dt=o,l},Tge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VO(a);case"spring":return jge();default:if(a.split("(")[0]==="cubic-bezier")return VO(a)}return typeof a=="function"?a:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function KO(e){return Nge(e)||Oge(e)||J6(e)||Age()}function Age(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nge(e){if(Array.isArray(e))return Pb(e)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kb(e,t,r){return t=Cge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cge(e){var t=kge(e,"string");return Xf(t)==="symbol"?t:String(t)}function kge(e,t){if(Xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pge(e,t){return Dge(e)||Ige(e,t)||J6(e,t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ige(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Dge(e){if(Array.isArray(e))return e}var Am=function(t,r,n){return t+(r-t)*n},Rb=function(t){var r=t.from,n=t.to;return r!==n},Mge=function e(t,r,n){var a=Vd(function(i,s){if(Rb(s)){var o=t(s.from,s.to,s.velocity),l=Pge(o,2),c=l[0],d=l[1];return Sr(Sr({},s),{},{from:c,velocity:d})}return s},r);return n<1?Vd(function(i,s){return Rb(s)?Sr(Sr({},s),{},{velocity:Am(s.velocity,a[i].velocity,n),from:Am(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const $ge=function(e,t,r,n,a){var i=hge(e,t),s=i.reduce(function(x,b){return Sr(Sr({},x),{},kb({},b,[e[b],t[b]]))},{}),o=i.reduce(function(x,b){return Sr(Sr({},x),{},kb({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Vd(function(b,m){return m.from},o)},p=function(){return!Object.values(o).filter(Rb).length},g=function(b){c||(c=b);var m=b-c,y=m/r.dt;o=Mge(r,o,y),a(Sr(Sr(Sr({},e),t),h())),c=b,p()||(l=requestAnimationFrame(f))},v=function(b){d||(d=b);var m=(b-d)/n,y=Vd(function(w,S){return Am.apply(void 0,KO(S).concat([r(m)]))},s);if(a(Sr(Sr(Sr({},e),t),y)),m<1)l=requestAnimationFrame(f);else{var _=Vd(function(w,S){return Am.apply(void 0,KO(S).concat([r(1)]))},s);a(Sr(Sr(Sr({},e),t),_))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var Lge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fge(e,t){if(e==null)return{};var r=Bge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bge(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qx(e){return Hge(e)||Wge(e)||zge(e)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zge(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Wge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hge(e){if(Array.isArray(e))return Ib(e)}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ad(e,t,r){return t=Z6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z6(n.key),n)}}function Kge(e,t,r){return t&&Vge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z6(e){var t=Gge(e,"string");return iu(t)==="symbol"?t:String(t)}function Gge(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Db(e,t)}function Yge(e){var t=Qge();return function(){var n=Om(e),a;if(t){var i=Om(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Mb(this,a)}}function Mb(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $b(e)}function $b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Om(e){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(e)}var Wi=function(e){Xge(r,e);var t=Yge(r);function r(n,a){var i;qge(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind($b(i)),i.changeStyle=i.changeStyle.bind($b(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Mb(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},Mb(i);i.state={style:l?Ad({},l,c):c}}else i.state={style:{}};return i}return Kge(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Ad({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(nge(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||c?f:a.to;if(this.state&&h){var x={style:l?Ad({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ga(ga({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=$ge(s,o,Tge(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,x,b){if(b===0)return v;var m=x.duration,y=x.easing,_=y===void 0?"ease":y,w=x.style,S=x.properties,E=x.onAnimationEnd,j=b>0?s[b-1]:x,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Qx(v),[i.runJSAnimation.bind(i,{from:j.style,to:w,duration:m,easing:_}),m]);var C=HO(T,m,_),N=ga(ga(ga({},j.style),w),{},{transition:C});return[].concat(Qx(v),[N,m,E]).filter(pge)};return this.manager.start([l].concat(Qx(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=uge());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=o?Ad({},o,l):l,x=HO(Object.keys(v),s,c);g.start([d,i,ga(ga({},v),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Fge(a,Lge),c=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,v=g.style,x=v===void 0?{}:v,b=g.className,m=A.cloneElement(p,ga(ga({},l),{},{style:ga(ga({},x),d),className:b}));return m};return c===1?f(A.Children.only(i)):U.createElement("div",null,A.Children.map(i,function(h){return f(h)}))}}]),r}(A.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nm.apply(this,arguments)}function Jge(e,t){return rxe(e)||txe(e,t)||exe(e,t)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function txe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function rxe(e){if(Array.isArray(e))return e}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){nxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nxe(e,t,r){return t=axe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function axe(e){var t=ixe(e,"string");return Yf(t)=="symbol"?t:t+""}function ixe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZO=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},sxe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=d&&a>=f&&a<=h}return!1},oxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z2=function(t){var r=JO(JO({},oxe),t),n=A.useRef(),a=A.useState(-1),i=Jge(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,m=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var y=ze("recharts-rectangle",p);return m?U.createElement(Wi,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:v,animationEasing:g,isActive:m},function(_){var w=_.width,S=_.height,E=_.x,j=_.y;return U.createElement(Wi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:b,easing:g},U.createElement("path",Nm({},De(r,!0),{className:y,d:ZO(E,j,w,S,h),ref:n})))}):U.createElement("path",Nm({},De(r,!0),{className:y,d:ZO(l,c,d,f,h)}))},lxe=["points","className","baseLinePoints","connectNulls"];function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function cxe(e,t){if(e==null)return{};var r=uxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eN(e){return pxe(e)||hxe(e)||fxe(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e,t){if(e){if(typeof e=="string")return Lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(e,t)}}function hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pxe(e){if(Array.isArray(e))return Lb(e)}function Lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tN=function(t){return t&&t.x===+t.x&&t.y===+t.y},mxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){tN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kd=function(t,r){var n=mxe(t);r&&(n=[n.reduce(function(i,s){return[].concat(eN(i),eN(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},vxe=function(t,r,n){var a=Kd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Kd(r.reverse(),n).slice(1))},gxe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=cxe(t,lxe);if(!r||!r.length)return null;var o=ze("recharts-polygon",n);if(a&&a.length){var l=s.stroke&&s.stroke!=="none",c=vxe(r,a,i);return U.createElement("g",{className:o},U.createElement("path",ec({},De(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?U.createElement("path",ec({},De(s,!0),{fill:"none",d:Kd(r,i)})):null,l?U.createElement("path",ec({},De(s,!0),{fill:"none",d:Kd(a,i)})):null)}var d=Kd(r,i);return U.createElement("path",ec({},De(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}var W2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=ze("recharts-dot",i);return r===+r&&n===+n&&a===+a?A.createElement("circle",Fb({},De(t,!1),Xp(t),{className:s,cx:r,cy:n,r:a})):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var xxe=["x","y","top","left","width","height","className"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){bxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bxe(e,t,r){return t=wxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wxe(e){var t=_xe(e,"string");return Qf(t)=="symbol"?t:t+""}function _xe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sxe(e,t){if(e==null)return{};var r=Exe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Exe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jxe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Txe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,v=Sxe(t,xxe),x=yxe({x:n,y:i,top:o,left:c,width:f,height:p},v);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(o)||!ve(c)?null:U.createElement("path",Bb({},De(x,!0),{className:ze("recharts-cross",g),d:jxe(n,i,f,p,o,c)}))},Axe=hg,Oxe=d6,Nxe=li;function Cxe(e,t){return e&&e.length?Axe(e,Nxe(t),Oxe):void 0}var kxe=Cxe;const Pxe=et(kxe);var Rxe=hg,Ixe=li,Dxe=f6;function Mxe(e,t){return e&&e.length?Rxe(e,Ixe(t),Dxe):void 0}var $xe=Mxe;const Lxe=et($xe);var Fxe=["cx","cy","angle","ticks","axisLine"],Bxe=["ticks","tick","angle","tickFormatter","stroke"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aN(e,t){if(e==null)return{};var r=Uxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tD(n.key),n)}}function Wxe(e,t,r){return t&&iN(e.prototype,t),r&&iN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hxe(e,t,r){return t=Cm(t),qxe(e,eD()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function qxe(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vxe(e)}function Vxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function Kxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ub(e,t)}function bg(e,t,r){return t=tD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=Gxe(e,"string");return su(t)=="symbol"?t:t+""}function Gxe(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wg=function(e){function t(){return zxe(this,t),Hxe(this,t,arguments)}return Kxe(t,e),Wxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,l=i.cy;return gt(o,l,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=Pxe(o,function(d){return d.coordinate||0}),c=Lxe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=aN(n,Fxe),d=o.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=gt(a,i,d[0],s),h=gt(a,i,d[1],s),p=lo(lo(lo({},De(c,!1)),{},{fill:"none"},De(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",Gd({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,l=a.tickFormatter,c=a.stroke,d=aN(a,Bxe),f=this.getTickTextAnchor(),h=De(d,!1),p=De(s,!1),g=i.map(function(v,x){var b=n.getTickValueCoord(v),m=lo(lo(lo(lo({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:x},b),{},{payload:v});return U.createElement(at,Gd({className:ze("recharts-polar-radius-axis-tick",B6(s)),key:"tick-".concat(v.coordinate)},al(n.props,v,x)),t.renderTickItem(s,m,l?l(v.value,x):v.value))});return U.createElement(at,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:U.createElement(at,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return U.isValidElement(n)?s=U.cloneElement(n,a):Me(n)?s=n(a):s=U.createElement(il,Gd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(A.PureComponent);bg(wg,"displayName","PolarRadiusAxis");bg(wg,"axisType","radiusAxis");bg(wg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(this,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){_g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nD(n.key),n)}}function Yxe(e,t,r){return t&&oN(e.prototype,t),r&&oN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qxe(e,t,r){return t=km(t),Jxe(e,rD()?Reflect.construct(t,r||[],km(e).constructor):t.apply(e,r))}function Jxe(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(e)}function Zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!e})()}function km(e){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(e)}function eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zb(e,t)}function _g(e,t,r){return t=nD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nD(e){var t=tye(e,"string");return ou(t)=="symbol"?t:t+""}function tye(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rye=Math.PI/180,lN=1e-5,Sg=function(e){function t(){return Xxe(this,t),Qxe(this,t,arguments)}return eye(t,e),Yxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,l=a.orientation,c=a.tickSize,d=c||8,f=gt(i,s,o,n.coordinate),h=gt(i,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*rye),s;return i>lN?s=a==="outer"?"start":"end":i<-lN?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=co(co({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(l==="circle")return U.createElement(W2,_o({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return gt(a,i,s,h.coordinate)});return U.createElement(gxe,_o({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,l=a.tickFormatter,c=a.stroke,d=De(this.props,!1),f=De(s,!1),h=co(co({},d),{},{fill:"none"},De(o,!1)),p=i.map(function(g,v){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),m=co(co(co({textAnchor:b},d),{},{stroke:"none",fill:c},f),{},{index:v,payload:g,x:x.x2,y:x.y2});return U.createElement(at,_o({className:ze("recharts-polar-angle-axis-tick",B6(s)),key:"tick-".concat(g.coordinate)},al(n.props,g,v)),o&&U.createElement("line",_o({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,m,l?l(g.value,v):g.value))});return U.createElement(at,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:U.createElement(at,{className:ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return U.isValidElement(n)?s=U.cloneElement(n,a):Me(n)?s=n(a):s=U.createElement(il,_o({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(A.PureComponent);_g(Sg,"displayName","PolarAngleAxis");_g(Sg,"axisType","angleAxis");_g(Sg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nye=oI,aye=nye(Object.getPrototypeOf,Object),iye=aye,sye=Qi,oye=iye,lye=Ji,cye="[object Object]",uye=Function.prototype,dye=Object.prototype,aD=uye.toString,fye=dye.hasOwnProperty,hye=aD.call(Object);function pye(e){if(!lye(e)||sye(e)!=cye)return!1;var t=oye(e);if(t===null)return!0;var r=fye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&aD.call(r)==hye}var mye=pye;const vye=et(mye);var gye=Qi,xye=Ji,yye="[object Boolean]";function bye(e){return e===!0||e===!1||xye(e)&&gye(e)==yye}var wye=bye;const _ye=et(wye);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function Sye(e,t){return Aye(e)||Tye(e,t)||jye(e,t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Aye(e){if(Array.isArray(e))return e}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){Oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t,r){return t=Nye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Cye(e,"string");return Jf(t)=="symbol"?t:t+""}function Cye(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fN=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},kye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pye=function(t){var r=dN(dN({},kye),t),n=A.useRef(),a=A.useState(-1),i=Sye(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&o(y)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var m=ze("recharts-trapezoid",p);return b?U.createElement(Wi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:g,isActive:b},function(y){var _=y.upperWidth,w=y.lowerWidth,S=y.height,E=y.x,j=y.y;return U.createElement(Wi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:g},U.createElement("path",Pm({},De(r,!0),{className:m,d:fN(E,j,_,w,S),ref:n})))}):U.createElement("g",null,U.createElement("path",Pm({},De(r,!0),{className:m,d:fN(l,c,d,f,h)})))},Rye=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function Iye(e,t){if(e==null)return{};var r=Dye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return t=$ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ye(e){var t=Lye(e,"string");return Zf(t)=="symbol"?t:t+""}function Lye(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e,t){return Rm(Rm({},t),e)}function Bye(e,t){return e==="symbols"}function pN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return U.createElement(z2,r);case"trapezoid":return U.createElement(Pye,r);case"sector":return U.createElement(W6,r);case"symbols":if(Bye(t))return U.createElement(o2,r);break;default:return null}}function Uye(e){return A.isValidElement(e)?e.props:e}function iD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Fye:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=Iye(e,Rye),c;if(A.isValidElement(t))c=A.cloneElement(t,Rm(Rm({},l),Uye(t)));else if(Me(t))c=t(l);else if(vye(t)&&!_ye(t)){var d=a(t,l);c=U.createElement(pN,{shapeType:r,elementProps:d})}else{var f=l;c=U.createElement(pN,{shapeType:r,elementProps:f})}return o?U.createElement(at,{className:s},c):c}function Eg(e,t){return t!=null&&"trapezoids"in e.props}function jg(e,t){return t!=null&&"sectors"in e.props}function eh(e,t){return t!=null&&"points"in e.props}function zye(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Wye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Hye(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function qye(e,t){var r;return Eg(e,t)?r=zye:jg(e,t)?r=Wye:eh(e,t)&&(r=Hye),r}function Vye(e,t){var r;return Eg(e,t)?r="trapezoids":jg(e,t)?r="sectors":eh(e,t)&&(r="points"),r}function Kye(e,t){if(Eg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eh(e,t)?t.payload:{}}function Gye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Vye(r,t),i=Kye(r,t),s=n.filter(function(l,c){var d=vg(i,l),f=r.props[a].filter(function(g){var v=qye(r,t);return v(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Y0;function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){ra(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oD(n.key),n)}}function Yye(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qye(e,t,r){return t=Im(t),Jye(e,sD()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function Jye(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zye(e)}function Zye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function e1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wb(e,t)}function ra(e,t,r){return t=oD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oD(e){var t=t1e(e,"string");return lu(t)=="symbol"?t:t+""}function t1e(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ba=function(e){function t(r){var n;return Xye(this,t),n=Qye(this,t,[r]),ra(n,"pieRef",null),ra(n,"sectorRefs",[]),ra(n,"id",Ah("recharts-pie-")),ra(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(a)&&a()}),ra(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return e1e(t,e),Yye(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,l=i.dataKey,c=i.valueKey,d=De(this.props,!1),f=De(s,!1),h=De(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(v,x){var b=(v.startAngle+v.endAngle)/2,m=gt(v.cx,v.cy,v.outerRadius+p,b),y=pt(pt(pt(pt({},d),v),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(m.x,v.cx)},m),_=pt(pt(pt(pt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:x,points:[gt(v.cx,v.cy,v.outerRadius,b),m]}),w=l;return We(l)&&We(c)?w="value":We(l)&&(w=c),U.createElement(at,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,y,Ur(v,w)))});return U.createElement(at,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,l=i.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?s:h,g=pt(pt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return U.createElement(at,tc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},al(a.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),U.createElement(iD,tc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return U.createElement(Wi,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,x=[],b=i&&i[0],m=b.startAngle;return i.forEach(function(y,_){var w=h&&h[_],S=_>0?Bn(y,"paddingAngle",0):0;if(w){var E=ss(w.endAngle-w.startAngle,y.endAngle-y.startAngle),j=pt(pt({},y),{},{startAngle:m+S,endAngle:m+E(v)+S});x.push(j),m=j.endAngle}else{var T=y.endAngle,C=y.startAngle,N=ss(0,T-C),L=N(v),W=pt(pt({},y),{},{startAngle:m+S,endAngle:m+L+S});x.push(W),m=W.endAngle}}),U.createElement(at,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!vg(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,l=a.label,c=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!ve(c)||!ve(d)||!ve(f)||!ve(h))return null;var v=ze("recharts-pie",o);return U.createElement(at,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),hr.renderCallByParent(this.props,null,!1),(!p||g)&&Fs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);if(Me(n))return n(a);var s=ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Ob,tc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(U.isValidElement(n))return U.cloneElement(n,a);var s=i;if(Me(n)&&(s=n(a),U.isValidElement(s)))return s;var o=ze("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return U.createElement(il,tc({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(A.PureComponent);Y0=Ba;ra(Ba,"displayName","Pie");ra(Ba,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ra(Ba,"parseDeltaAngle",function(e,t){var r=tn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ra(Ba,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=sa(r,Zi);return t&&t.length?t.map(function(i,s){return pt(pt(pt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return pt(pt({},n),i.props)}):[]});ra(Ba,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=F6(a,i),o=n+rn(e.cx,a,a/2),l=r+rn(e.cy,i,i/2),c=rn(e.innerRadius,s,0),d=rn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ra(Ba,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?pt(pt({},t.type.defaultProps),t.props):t.props,a=Y0.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Y0.parseCoordinateOfPie(n,r),v=Y0.parseDeltaAngle(s,o),x=Math.abs(v),b=c;We(c)&&We(f)?(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):We(c)&&(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var m=a.filter(function(j){return Ur(j,b,0)!==0}).length,y=(x>=360?m:m-1)*l,_=x-m*p-y,w=a.reduce(function(j,T){var C=Ur(T,b,0);return j+(ve(C)?C:0)},0),S;if(w>0){var E;S=a.map(function(j,T){var C=Ur(j,b,0),N=Ur(j,d,T),L=(ve(C)?C:0)/w,W;T?W=E.endAngle+tn(v)*l*(C!==0?1:0):W=s;var Z=W+tn(v)*((C!==0?p:0)+L*_),V=(W+Z)/2,ne=(g.innerRadius+g.outerRadius)/2,se=[{name:N,value:C,payload:j,dataKey:b,type:h}],K=gt(g.cx,g.cy,ne,V);return E=pt(pt(pt({percent:L,cornerRadius:i,name:N,tooltipPayload:se,midAngle:V,middleRadius:ne,tooltipPosition:K},j),g),{},{value:Ur(j,b),startAngle:W,endAngle:Z,payload:j,paddingAngle:tn(v)*l}),E})}return pt(pt({},g),{},{sectors:S,data:a})});var r1e=Math.ceil,n1e=Math.max;function a1e(e,t,r,n){for(var a=-1,i=n1e(r1e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var i1e=a1e,s1e=TI,gN=1/0,o1e=17976931348623157e292;function l1e(e){if(!e)return e===0?e:0;if(e=s1e(e),e===gN||e===-gN){var t=e<0?-1:1;return t*o1e}return e===e?e:0}var lD=l1e,c1e=i1e,u1e=sg,Jx=lD;function d1e(e){return function(t,r,n){return n&&typeof n!="number"&&u1e(t,r,n)&&(r=n=void 0),t=Jx(t),r===void 0?(r=t,t=0):r=Jx(r),n=n===void 0?t<r?1:-1:Jx(n),c1e(t,r,n,e)}}var f1e=d1e,h1e=f1e,p1e=h1e(),m1e=p1e;const Dm=et(m1e);function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){cD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cD(e,t,r){return t=v1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v1e(e){var t=g1e(e,"string");return th(t)=="symbol"?t:t+""}function g1e(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x1e=["Webkit","Moz","O","ms"],y1e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=x1e.reduce(function(i,s){return yN(yN({},i),{},cD({},s+n,r))},{});return a[t]=r,a};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dD(n.key),n)}}function w1e(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _1e(e,t,r){return t=$m(t),S1e(e,uD()?Reflect.construct(t,r||[],$m(e).constructor):t.apply(e,r))}function S1e(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1e(e)}function E1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!e})()}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}function j1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hb(e,t)}function On(e,t,r){return t=dD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dD(e){var t=T1e(e,"string");return cu(t)=="symbol"?t:t+""}function T1e(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Hd().domain(Dm(0,l)).range([i,i+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},_N=function(t){return t.changedTouches&&!!t.changedTouches.length},uu=function(e){function t(r){var n;return b1e(this,t),n=_1e(this,t,[r]),On(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),On(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),On(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),On(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),On(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),On(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),On(n,"handleSlideDragStart",function(a){var i=_N(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return j1e(t,e),w1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Ur(i[n],o,n);return Me(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,v=n.pageX-i;v>0?v=Math.min(v,c+d-f-o,c+d-f-s):v<0&&(v=Math.max(v,c-s,c-o));var x=this.getIndex({startX:s+v,endX:o+v});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_N(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,v=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},m=n.pageX-i;m>0?m=Math.min(m,f+h-p-c):m<0&&(m=Math.max(m,f-c)),b[s]=c+m;var y=this.getIndex(b),_=y.startIndex,w=y.endIndex,S=function(){var j=x.length-1;return s==="startX"&&(o>l?_%v===0:w%v===0)||o<l&&w===j||s==="endX"&&(o>l?w%v===0:_%v===0)||o>l&&w===j};this.setState(On(On({},s,c+m),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(On({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return U.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,d=n.padding,f=A.Children.only(c);return f?U.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,v=l.startIndex,x=l.endIndex,b=Math.max(n,this.props.x),m=Zx(Zx({},De(this.props,!1)),{},{x:b,y:c,width:d,height:f}),y=p||"Min value: ".concat((i=g[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[x])===null||s===void 0?void 0:s.name);return U.createElement(at,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,m))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:c};return U.createElement(at,{className:"recharts-brush-texts"},U.createElement(il,Mm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),U.createElement(il,Mm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,v=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,m=h.isTravellerFocused;if(!a||!a.length||!ve(o)||!ve(l)||!ve(c)||!ve(d)||c<=0||d<=0)return null;var y=ze("recharts-brush",i),_=U.Children.count(s)===1,w=y1e("userSelect","none");return U.createElement(at,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||x||b||m||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),U.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return U.isValidElement(n)?i=U.cloneElement(n,a):Me(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return Zx({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?A1e({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(A.PureComponent);On(uu,"displayName","Brush");On(uu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var O1e=p2;function N1e(e,t){var r;return O1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var C1e=N1e,k1e=ZR,P1e=li,R1e=C1e,I1e=Tn,D1e=sg;function M1e(e,t,r){var n=I1e(e)?k1e:R1e;return r&&D1e(e,t,r)&&(t=void 0),n(e,P1e(t))}var $1e=M1e;const L1e=et($1e);var ri=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},SN=wI;function F1e(e,t,r){t=="__proto__"&&SN?SN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var B1e=F1e,U1e=B1e,z1e=yI,W1e=li;function H1e(e,t){var r={};return t=W1e(t),z1e(e,function(n,a,i){U1e(r,a,t(n,a,i))}),r}var q1e=H1e;const V1e=et(q1e);function K1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var G1e=K1e,X1e=p2;function Y1e(e,t){var r=!0;return X1e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Q1e=Y1e,J1e=G1e,Z1e=Q1e,ebe=li,tbe=Tn,rbe=sg;function nbe(e,t,r){var n=tbe(e)?J1e:Z1e;return r&&rbe(e,t,r)&&(t=void 0),n(e,ebe(t))}var abe=nbe;const fD=et(abe);var ibe=["x","y"];function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){sbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sbe(e,t,r){return t=obe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function obe(e){var t=lbe(e,"string");return rh(t)=="symbol"?t:t+""}function lbe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cbe(e,t){if(e==null)return{};var r=ube(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dbe(e,t){var r=e.x,n=e.y,a=cbe(e,ibe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return vd(vd(vd(vd(vd({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function jN(e){return U.createElement(iD,qb({shapeType:"rectangle",propTransformer:dbe,activeClassName:"recharts-active-bar"},e))}var fbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ve(n)||Iee(n);return i?t(n,a):(i||ol(),r)}},hbe=["value","background"],hD;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function pbe(e,t){if(e==null)return{};var r=mbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){As(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mD(n.key),n)}}function gbe(e,t,r){return t&&AN(e.prototype,t),r&&AN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xbe(e,t,r){return t=Fm(t),ybe(e,pD()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function ybe(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bbe(e)}function bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vb(e,t)}function As(e,t,r){return t=mD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mD(e){var t=_be(e,"string");return du(t)=="symbol"?t:t+""}function _be(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gn=function(e){function t(){var r;vbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xbe(this,t,[].concat(a)),As(r,"state",{isAnimationFinished:!1}),As(r,"id",Ah("recharts-bar-")),As(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),As(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return wbe(t,e),gbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,d=De(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,v=Gt(Gt(Gt({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement(at,Lm({className:"recharts-bar-rectangle"},al(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(jN,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return U.createElement(Wi,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=i.map(function(x,b){var m=h&&h[b];if(m){var y=ss(m.x,x.x),_=ss(m.y,x.y),w=ss(m.width,x.width),S=ss(m.height,x.height);return Gt(Gt({},x),{},{x:y(g),y:_(g),width:w(g),height:S(g)})}if(s==="horizontal"){var E=ss(0,x.height),j=E(g);return Gt(Gt({},x),{},{y:x.y+x.height-j,height:j})}var T=ss(0,x.width),C=T(g);return Gt(Gt({},x),{},{width:C})});return U.createElement(at,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!vg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=De(this.props.background,!1);return i.map(function(c,d){c.value;var f=c.background,h=pbe(c,hbe);if(!f)return null;var p=Gt(Gt(Gt(Gt(Gt({},h),{},{fill:"#eee"},f),l),al(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(jN,Lm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=sa(d,yg);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(x,b){var m=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:m,errorVal:Ur(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(at,g,f.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,v=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=ze("recharts-bar",s),m=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,_=m||y,w=We(v)?this.id:v;return U.createElement(at,{className:b},m||y?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:m?c:c-f/2,y:y?d:d-h/2,width:m?f:f*2,height:y?h:h*2}))):null,U.createElement(at,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&Fs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);hD=gn;As(gn,"displayName","Bar");As(gn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});As(gn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Jpe(n,r);if(!p)return null;var g=t.layout,v=r.type.defaultProps,x=v!==void 0?Gt(Gt({},v),r.props):r.props,b=x.dataKey,m=x.children,y=x.minPointSize,_=g==="horizontal"?s:i,w=c?_.scale.domain():null,S=ime({numericAxis:_}),E=sa(m,Zi),j=f.map(function(T,C){var N,L,W,Z,V,ne;c?N=Zpe(c[d+C],w):(N=Ur(T,b),Array.isArray(N)||(N=[S,N]));var se=fbe(y,hD.defaultProps.minPointSize)(N[1],C);if(g==="horizontal"){var K,te=[s.scale(N[0]),s.scale(N[1])],ce=te[0],pe=te[1];L=yO({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:T,index:C}),W=(K=pe??ce)!==null&&K!==void 0?K:void 0,Z=p.size;var P=ce-pe;if(V=Number.isNaN(P)?0:P,ne={x:L,y:s.y,width:Z,height:s.height},Math.abs(se)>0&&Math.abs(V)<Math.abs(se)){var H=tn(V||se)*(Math.abs(se)-Math.abs(V));W-=H,V+=H}}else{var B=[i.scale(N[0]),i.scale(N[1])],z=B[0],ae=B[1];if(L=z,W=yO({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:T,index:C}),Z=ae-z,V=p.size,ne={x:i.x,y:W,width:i.width,height:V},Math.abs(se)>0&&Math.abs(Z)<Math.abs(se)){var Se=tn(Z||se)*(Math.abs(se)-Math.abs(Z));Z+=Se}}return Gt(Gt(Gt({},T),{},{x:L,y:W,width:Z,height:V,value:c?N:N[1],payload:T,background:ne},E&&E[C]&&E[C].props),{},{tooltipPayload:[$6(r,T)],tooltipPosition:{x:L+Z/2,y:W+V/2}})});return Gt({data:j,layout:g},h)});function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function Sbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vD(n.key),n)}}function Ebe(e,t,r){return t&&ON(e.prototype,t),r&&ON(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=vD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=jbe(e,"string");return nh(t)=="symbol"?t:t+""}function jbe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tbe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!kn(c,gn);return d.reduce(function(p,g){var v=r[g],x=v.orientation,b=v.domain,m=v.padding,y=m===void 0?{}:m,_=v.mirror,w=v.reversed,S="".concat(x).concat(_?"Mirror":""),E,j,T,C,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=b[1]-b[0],W=1/0,Z=v.categoricalDomain.sort($ee);if(Z.forEach(function(B,z){z>0&&(W=Math.min((B||0)-(Z[z-1]||0),W))}),Number.isFinite(W)){var V=W/L,ne=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(E=V*ne/2),v.padding==="no-gap"){var se=rn(t.barCategoryGap,V*ne),K=V*ne/2;E=K-se-(K-se)/ne*se}}}a==="xAxis"?j=[n.left+(y.left||0)+(E||0),n.left+n.width-(y.right||0)-(E||0)]:a==="yAxis"?j=l==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(E||0),n.top+n.height-(y.bottom||0)-(E||0)]:j=v.range,w&&(j=[j[1],j[0]]);var te=R6(v,i,h),ce=te.scale,pe=te.realScaleType;ce.domain(b).range(j),I6(ce);var P=D6(ce,ja(ja({},v),{},{realScaleType:pe}));a==="xAxis"?(N=x==="top"&&!_||x==="bottom"&&_,T=n.left,C=f[S]-N*v.height):a==="yAxis"&&(N=x==="left"&&!_||x==="right"&&_,T=f[S]-N*v.width,C=n.top);var H=ja(ja(ja({},v),P),{},{realScaleType:pe,x:T,y:C,scale:ce,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return H.bandSize=_m(H,P),!v.hide&&a==="xAxis"?f[S]+=(N?-1:1)*H.height:v.hide||(f[S]+=(N?-1:1)*H.width),ja(ja({},p),{},Tg({},g,H))},{})},gD=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Abe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return gD({x:r,y:n},{x:a,y:i})},xD=function(){function e(t){Sbe(this,e),this.scale=t}return Ebe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Tg(xD,"EPS",1e-4);var H2=function(t){var r=Object.keys(t).reduce(function(n,a){return ja(ja({},n),{},Tg({},a,xD.create(t[a])))},{});return ja(ja({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return V1e(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return fD(a,function(i,s){return r[s].isInRange(i)})}})};function Obe(e){return(e%180+180)%180}var Nbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Obe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Cbe=li,kbe=Oh,Pbe=ag;function Rbe(e){return function(t,r,n){var a=Object(t);if(!kbe(t)){var i=Cbe(r);t=Pbe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var Ibe=Rbe,Dbe=lD;function Mbe(e){var t=Dbe(e),r=t%1;return t===t?r?t-r:t:0}var $be=Mbe,Lbe=hI,Fbe=li,Bbe=$be,Ube=Math.max;function zbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Bbe(r);return a<0&&(a=Ube(n+a,0)),Lbe(e,Fbe(t),a)}var Wbe=zbe,Hbe=Ibe,qbe=Wbe,Vbe=Hbe(qbe),Kbe=Vbe;const Gbe=et(Kbe);var Xbe=BZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q2=A.createContext(void 0),V2=A.createContext(void 0),yD=A.createContext(void 0),bD=A.createContext({}),wD=A.createContext(void 0),_D=A.createContext(0),SD=A.createContext(0),CN=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,d=Xbe(i);return U.createElement(q2.Provider,{value:n},U.createElement(V2.Provider,{value:a},U.createElement(bD.Provider,{value:i},U.createElement(yD.Provider,{value:d},U.createElement(wD.Provider,{value:s},U.createElement(_D.Provider,{value:c},U.createElement(SD.Provider,{value:l},o)))))))},Ybe=function(){return A.useContext(wD)},ED=function(t){var r=A.useContext(q2);r==null&&ol();var n=r[t];return n==null&&ol(),n},Qbe=function(){var t=A.useContext(q2);return fs(t)},Jbe=function(){var t=A.useContext(V2),r=Gbe(t,function(n){return fD(n.domain,Number.isFinite)});return r||fs(t)},jD=function(t){var r=A.useContext(V2);r==null&&ol();var n=r[t];return n==null&&ol(),n},Zbe=function(){var t=A.useContext(yD);return t},ewe=function(){return A.useContext(bD)},K2=function(){return A.useContext(SD)},G2=function(){return A.useContext(_D)};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AD(n.key),n)}}function nwe(e,t,r){return t&&rwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function awe(e,t,r){return t=Bm(t),iwe(e,TD()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function iwe(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(e)}function swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function owe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kb(e,t)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=AD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(e){var t=lwe(e,"string");return fu(t)=="symbol"?t:t+""}function lwe(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cwe(e,t){return hwe(e)||fwe(e,t)||dwe(e,t)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(e,t){if(e){if(typeof e=="string")return RN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RN(e,t)}}function RN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hwe(e){if(Array.isArray(e))return e}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}var pwe=function(t,r){var n;return U.isValidElement(t)?n=U.cloneElement(t,r):Me(t)?n=t(r):n=U.createElement("line",Gb({},r,{className:"recharts-reference-line-line"})),n},mwe=function(t,r,n,a,i,s,o,l,c){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,v=t.y.apply(g,{position:s});if(ri(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?x.reverse():x}if(r){var b=c.x,m=t.x.apply(b,{position:s});if(ri(c,"discard")&&!t.x.isInRange(m))return null;var y=[{x:m,y:f+p},{x:m,y:f}];return o==="top"?y.reverse():y}if(a){var _=c.segment,w=_.map(function(S){return t.apply(S,{position:s})});return ri(c,"discard")&&L1e(w,function(S){return!t.isInRange(S)})?null:w}return null};function vwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=Ybe(),d=ED(a),f=jD(i),h=Zbe();if(!c||!h)return null;Ia(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=H2({x:d.scale,y:f.scale}),g=or(t),v=or(r),x=n&&n.length===2,b=mwe(p,g,v,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var m=cwe(b,2),y=m[0],_=y.x,w=y.y,S=m[1],E=S.x,j=S.y,T=ri(e,"hidden")?"url(#".concat(c,")"):void 0,C=PN(PN({clipPath:T},De(e,!0)),{},{x1:_,y1:w,x2:E,y2:j});return U.createElement(at,{className:ze("recharts-reference-line",o)},pwe(s,C),hr.renderCallByParent(e,Abe({x1:_,y1:w,x2:E,y2:j})))}var Y2=function(e){function t(){return twe(this,t),awe(this,t,arguments)}return owe(t,e),nwe(t,[{key:"render",value:function(){return U.createElement(vwe,this.props)}}])}(U.Component);X2(Y2,"displayName","ReferenceLine");X2(Y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ND(n.key),n)}}function ywe(e,t,r){return t&&xwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=Um(t),wwe(e,OD()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _we(e)}function _we(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function Swe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}function Yb(e,t){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yb(e,t)}function Ag(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=Ewe(e,"string");return hu(t)=="symbol"?t:t+""}function Ewe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=H2({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ri(t,"discard")&&!s.isInRange(o)?null:o},Og=function(e){function t(){return gwe(this,t),bwe(this,t,arguments)}return Swe(t,e),ywe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=or(a),d=or(i);if(Ia(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=jwe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,v=g.shape,x=g.className,b=ri(this.props,"hidden")?"url(#".concat(l,")"):void 0,m=DN(DN({clipPath:b},De(this.props,!0)),{},{cx:h,cy:p});return U.createElement(at,{className:ze("recharts-reference-dot",x)},t.renderDot(v,m),hr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(U.Component);Ag(Og,"displayName","ReferenceDot");Ag(Og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ag(Og,"renderDot",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):Me(e)?r=e(t):r=U.createElement(W2,Xb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Awe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kD(n.key),n)}}function Owe(e,t,r){return t&&Awe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nwe(e,t,r){return t=zm(t),Cwe(e,CD()?Reflect.construct(t,r||[],zm(e).constructor):t.apply(e,r))}function Cwe(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwe(e)}function kwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!e})()}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(e)}function Pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jb(e,t)}function Jb(e,t){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jb(e,t)}function Ng(e,t,r){return t=kD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kD(e){var t=Rwe(e,"string");return pu(t)=="symbol"?t:t+""}function Rwe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iwe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=H2({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ri(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:gD(p,g)},Cg=function(e){function t(){return Twe(this,t),Nwe(this,t,arguments)}return Pwe(t,e),Owe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;Ia(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=or(a),h=or(i),p=or(s),g=or(o),v=this.props.shape;if(!f&&!h&&!p&&!g&&!v)return null;var x=Iwe(f,h,p,g,this.props);if(!x&&!v)return null;var b=ri(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(at,{className:ze("recharts-reference-area",l)},t.renderRect(v,$N($N({clipPath:b},De(this.props,!0)),x)),hr.renderCallByParent(this.props,x))}}])}(U.Component);Ng(Cg,"displayName","ReferenceArea");Ng(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ng(Cg,"renderRect",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):Me(e)?r=e(t):r=U.createElement(z2,Qb({},t,{className:"recharts-reference-area-rect"})),r});function PD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Dwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Nbe(n,r)}function Mwe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Wm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function $we(e,t){return PD(e,t+1)}function Lwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,d=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:PD(n,c)};var v=l,x,b=function(){return x===void 0&&(x=r(g,v)),x},m=g.coordinate,y=l===0||Wm(e,m,b,d,o);y||(l=0,d=s,c+=1),y&&(d=m+e*(b()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){Fwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fwe(e,t,r){return t=Bwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bwe(e){var t=Uwe(e,"string");return ah(t)=="symbol"?t:t+""}function Uwe(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,v=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var x=e*(p.coordinate+e*v()/2-l);i[h]=p=Lr(Lr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Lr(Lr({},p),{},{tickCoord:p.coordinate});var b=Wm(e,p.tickCoord,v,o,l);b&&(l=p.tickCoord-e*(v()/2+a),i[h]=Lr(Lr({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}function Wwe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-c);s[o-1]=d=Lr(Lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Wm(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+a),s[o-1]=Lr(Lr({},d),{},{isShow:!0}))}for(var g=i?o-1:o,v=function(m){var y=s[m],_,w=function(){return _===void 0&&(_=r(y,m)),_};if(m===0){var S=e*(y.coordinate-e*w()/2-l);s[m]=y=Lr(Lr({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[m]=y=Lr(Lr({},y),{},{tickCoord:y.coordinate});var E=Wm(e,y.tickCoord,w,l,c);E&&(l=y.tickCoord+e*(w()/2+a),s[m]=Lr(Lr({},y),{},{isShow:!0}))},x=0;x<g;x++)v(x);return s}function Q2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ve(l)||Wu.isSsr)return $we(a,typeof l=="number"&&ve(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Wd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(y,_){var w=Me(c)?c(y.value,_):y.value;return p==="width"?Dwe(Wd(w,{fontSize:t,letterSpacing:r}),g,f):Wd(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?tn(a[1].coordinate-a[0].coordinate):1,b=Mwe(i,x,p);return l==="equidistantPreserveStart"?Lwe(x,b,v,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Wwe(x,b,v,a,s,l==="preserveStartEnd"):h=zwe(x,b,v,a,s),h.filter(function(m){return m.isShow}))}var Hwe=["viewBox"],qwe=["viewBox"],Vwe=["ticks"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){J2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ey(e,t){if(e==null)return{};var r=Kwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ID(n.key),n)}}function Xwe(e,t,r){return t&&BN(e.prototype,t),r&&BN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ywe(e,t,r){return t=Hm(t),Qwe(e,RD()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function Qwe(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(e)}function Jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function Zwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zb(e,t)}function J2(e,t,r){return t=ID(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=e_e(e,"string");return mu(t)=="symbol"?t:t+""}function e_e(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ku=function(e){function t(r){var n;return Gwe(this,t),n=Ywe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Zwe(t,e),Xwe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=ey(n,Hwe),o=this.props,l=o.viewBox,c=ey(o,qwe);return!gc(i,l)||!gc(s,c)||!gc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,v,x,b,m,y=f?-1:1,_=n.tickSize||d,w=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,x=s+ +!f*l,v=x-y*_,m=v-y*h,b=w;break;case"left":v=x=n.coordinate,g=i+ +!f*o,p=g-y*_,b=p-y*h,m=w;break;case"right":v=x=n.coordinate,g=i+ +f*o,p=g+y*_,b=p+y*h,m=w;break;default:p=g=n.coordinate,x=s+ +f*l,v=x+y*_,m=v+y*h,b=w;break}return{line:{x1:p,y1:v,x2:g,y2:x},tick:{x:b,y:m}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=tr(tr(tr({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=tr(tr({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=tr(tr({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return U.createElement("line",rc({},f,{className:ze("recharts-cartesian-axis-line",Bn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=Q2(tr(tr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=De(this.props,!1),b=De(d,!1),m=tr(tr({},x),{},{fill:"none"},De(l,!1)),y=p.map(function(_,w){var S=s.getTickLineCoord(_),E=S.line,j=S.tick,T=tr(tr(tr(tr({textAnchor:g,verticalAnchor:v},x),{},{stroke:"none",fill:c},b),j),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return U.createElement(at,rc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},al(s.props,_,w)),l&&U.createElement("line",rc({},m,E,{className:ze("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),d&&t.renderTickItem(d,T,"".concat(Me(f)?f(_.value,w):_.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=ey(f,Vwe),g=h;return Me(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:U.createElement(at,{className:ze("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=ze(a.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(n)?s=U.cloneElement(n,tr(tr({},a),{},{className:o})):Me(n)?s=n(tr(tr({},a),{},{className:o})):s=U.createElement(il,rc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(A.Component);J2(Ku,"displayName","CartesianAxis");J2(Ku,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var t_e=["x1","y1","x2","y2","key"],r_e=["offset"];function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){n_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n_e(e,t,r){return t=a_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_e(e){var t=i_e(e,"string");return ll(t)=="symbol"?t:t+""}function i_e(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function zN(e,t){if(e==null)return{};var r=s_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o_e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return U.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DD(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=zN(t,t_e),c=De(l,!1);c.offset;var d=zN(c,r_e);r=U.createElement("line",Po({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function l_e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Br(Br({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return DD(a,c)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function c_e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Br(Br({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return DD(a,c)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function u_e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?a+s-h:d[p+1]-h;if(v<=0)return null;var x=p%t.length;return U.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function d_e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?i+o-h:d[p+1]-h;if(v<=0)return null;var x=p%n.length;return U.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var f_e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return P6(Q2(Br(Br(Br({},Ku.defaultProps),n),{},{ticks:Si(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},h_e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return P6(Q2(Br(Br(Br({},Ku.defaultProps),n),{},{ticks:Si(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Ml={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cl(e){var t,r,n,a,i,s,o=K2(),l=G2(),c=ewe(),d=Br(Br({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ml.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ml.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ml.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ml.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ml.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Ml.verticalFill,x:ve(e.x)?e.x:c.left,y:ve(e.y)?e.y:c.top,width:ve(e.width)?e.width:c.width,height:ve(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,g=d.height,v=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,m=Qbe(),y=Jbe();if(!ve(p)||p<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||f_e,w=d.horizontalCoordinatesGenerator||h_e,S=d.horizontalPoints,E=d.verticalPoints;if((!S||!S.length)&&Me(w)){var j=x&&x.length,T=w({yAxis:y?Br(Br({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:l,offset:c},j?!0:v);Ia(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ll(T),"]")),Array.isArray(T)&&(S=T)}if((!E||!E.length)&&Me(_)){var C=b&&b.length,N=_({xAxis:m?Br(Br({},m),{},{ticks:C?b:m.ticks}):void 0,width:o,height:l,offset:c},C?!0:v);Ia(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ll(N),"]")),Array.isArray(N)&&(E=N)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(o_e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(l_e,Po({},d,{offset:c,horizontalPoints:S,xAxis:m,yAxis:y})),U.createElement(c_e,Po({},d,{offset:c,verticalPoints:E,xAxis:m,yAxis:y})),U.createElement(u_e,Po({},d,{horizontalPoints:S})),U.createElement(d_e,Po({},d,{verticalPoints:E})))}cl.displayName="CartesianGrid";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function p_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LD(n.key),n)}}function v_e(e,t,r){return t&&m_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g_e(e,t,r){return t=qm(t),x_e(e,MD()?Reflect.construct(t,r||[],qm(e).constructor):t.apply(e,r))}function x_e(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y_e(e)}function y_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(e)}function b_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ew(e,t)}function $D(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=w_e(e,"string");return vu(t)=="symbol"?t:t+""}function w_e(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function __e(e){var t=e.xAxisId,r=K2(),n=G2(),a=ED(t);return a==null?null:A.createElement(Ku,tw({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Si(s,!0)}}))}var Hi=function(e){function t(){return p_e(this,t),g_e(this,t,arguments)}return b_e(t,e),v_e(t,[{key:"render",value:function(){return A.createElement(__e,this.props)}}])}(A.Component);$D(Hi,"displayName","XAxis");$D(Hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function S_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function j_e(e,t,r){return t&&E_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T_e(e,t,r){return t=Vm(t),A_e(e,FD()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function A_e(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O_e(e)}function O_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function N_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rw(e,t)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rw(e,t)}function BD(e,t,r){return t=UD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e){var t=C_e(e,"string");return gu(t)=="symbol"?t:t+""}function C_e(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}var k_e=function(t){var r=t.yAxisId,n=K2(),a=G2(),i=jD(r);return i==null?null:A.createElement(Ku,nw({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Si(o,!0)}}))},qi=function(e){function t(){return S_e(this,t),T_e(this,t,arguments)}return N_e(t,e),j_e(t,[{key:"render",value:function(){return A.createElement(k_e,this.props)}}])}(A.Component);BD(qi,"displayName","YAxis");BD(qi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WN(e){return D_e(e)||I_e(e)||R_e(e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R_e(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function I_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D_e(e){if(Array.isArray(e))return aw(e)}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=function(t,r,n,a,i){var s=sa(t,Y2),o=sa(t,Og),l=[].concat(WN(s),WN(o)),c=sa(t,Cg),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[d]===n&&ri(x.props,"extendDomain")&&ve(x.props[f])){var b=x.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(v,x){if(x.props[d]===n&&ri(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[g])){var b=x.props[p],m=x.props[g];return[Math.min(v[0],b,m),Math.max(v[1],b,m)]}return v},h)}return i&&i.length&&(h=i.reduce(function(v,x){return ve(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},zD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,g){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,m,y;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(y=1,m=new Array(b-1);y<b;y++)m[y-1]=arguments[y];x.fn.apply(x.context,m)}else{var _=x.length,w;for(y=0;y<_;y++)switch(x[y].once&&this.removeListener(c,x[y].fn,void 0,!0),b){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!m)for(w=1,m=new Array(b-1);w<b;w++)m[w-1]=arguments[w];x[y].fn.apply(x[y].context,m)}}return!0},o.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var v=0,x=[],b=g.length;v<b;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(zD);var M_e=zD.exports;const $_e=et(M_e);var ty=new $_e,ry="recharts.syncMouseEvents";function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function L_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WD(n.key),n)}}function B_e(e,t,r){return t&&F_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ny(e,t,r){return t=WD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WD(e){var t=U_e(e,"string");return ih(t)=="symbol"?t:t+""}function U_e(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z_e=function(){function e(){L_e(this,e),ny(this,"activeIndex",0),ny(this,"coordinateList",[]),ny(this,"layout","horizontal")}return B_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function W_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function H_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function HD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=gt(t,r,n,a),o=gt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function q_e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=gt(o,l,c,f),p=gt(o,l,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return HD(t);return[{x:n,y:a},{x:i,y:s}]}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){V_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V_e(e,t,r){return t=K_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_e(e){var t=G_e(e,"string");return sh(t)=="symbol"?t:t+""}function G_e(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,v=Ob;if(h==="ScatterChart")g=s,v=Txe;else if(h==="BarChart")g=H_e(f,s,l,d),v=z2;else if(f==="radial"){var x=HD(s),b=x.cx,m=x.cy,y=x.radius,_=x.startAngle,w=x.endAngle;g={cx:b,cy:m,startAngle:_,endAngle:w,innerRadius:y,outerRadius:y},v=W6}else g={points:q_e(f,s,l)},v=Ob;var S=R0(R0(R0(R0({stroke:"#ccc",pointerEvents:"none"},l),g),De(p,!1)),{},{payload:o,payloadIndex:c,className:ze("recharts-tooltip-cursor",p.className)});return A.isValidElement(p)?A.cloneElement(p,S):A.createElement(v,S)}var Y_e=["item"],Q_e=["children","className","width","height","style","compact","title","desc"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function qN(e,t){return e2e(e)||Z_e(e,t)||VD(e,t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function e2e(e){if(Array.isArray(e))return e}function VN(e,t){if(e==null)return{};var r=t2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KD(n.key),n)}}function a2e(e,t,r){return t&&n2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i2e(e,t,r){return t=Km(t),s2e(e,qD()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function s2e(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o2e(e)}function o2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function l2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sw(e,t)}function sw(e,t){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sw(e,t)}function yu(e){return d2e(e)||u2e(e)||VD(e)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VD(e,t){if(e){if(typeof e=="string")return ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(e,t)}}function u2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d2e(e){if(Array.isArray(e))return ow(e)}function ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=KD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KD(e){var t=f2e(e,"string");return xu(t)=="symbol"?t:t+""}function f2e(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2e={xAxis:["bottom","top"],yAxis:["left","right"]},p2e={width:"100%",height:"100%"},GD={x:0,y:0};function I0(e){return e}var m2e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},v2e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return oe(oe(oe({},a),gt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return oe(oe(oe({},a),gt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return GD},kg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(yu(o),yu(c)):o},[]);return s.length>0?s:t&&t.length&&ve(a)&&ve(i)?t.slice(a,i+1):[]};function XD(e){return e==="number"?[0,"auto"]:void 0}var lw=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=kg(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=M1(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(yu(l),[$6(c,h)]):l},[])},GN=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=m2e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=Vpe(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=lw(t,r,d,f),p=v2e(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},g2e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=k6(d,i);return n.reduce(function(g,v){var x,b=v.type.defaultProps!==void 0?oe(oe({},v.type.defaultProps),v.props):v.props,m=b.type,y=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,j=b.includeHidden,T=b[s];if(g[T])return g;var C=kg(t.data,{graphicalItems:a.filter(function(P){var H,B=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s];return B===T}),dataStartIndex:l,dataEndIndex:c}),N=C.length,L,W,Z;W_e(b.domain,_,m)&&(L=Sb(b.domain,null,_),p&&(m==="number"||S!=="auto")&&(Z=qd(C,y,"category")));var V=XD(m);if(!L||L.length===0){var ne,se=(ne=b.domain)!==null&&ne!==void 0?ne:V;if(y){if(L=qd(C,y,m),m==="category"&&p){var K=Mee(L);w&&K?(W=L,L=Dm(0,N)):w||(L=_O(se,L,v).reduce(function(P,H){return P.indexOf(H)>=0?P:[].concat(yu(P),[H])},[]))}else if(m==="category")w?L=L.filter(function(P){return P!==""&&!We(P)}):L=_O(se,L,v).reduce(function(P,H){return P.indexOf(H)>=0||H===""||We(H)?P:[].concat(yu(P),[H])},[]);else if(m==="number"){var te=Qpe(C,a.filter(function(P){var H,B,z=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s],ae="hide"in P.props?P.props.hide:(B=P.type.defaultProps)===null||B===void 0?void 0:B.hide;return z===T&&(j||!ae)}),y,i,d);te&&(L=te)}p&&(m==="number"||S!=="auto")&&(Z=qd(C,y,"category"))}else p?L=Dm(0,N):o&&o[T]&&o[T].hasStack&&m==="number"?L=h==="expand"?[0,1]:M6(o[T].stackGroups,l,c):L=C6(C,a.filter(function(P){var H=s in P.props?P.props[s]:P.type.defaultProps[s],B="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return H===T&&(j||!B)}),m,d,!0);if(m==="number")L=iw(f,L,T,i,E),se&&(L=Sb(se,L,_));else if(m==="category"&&se){var ce=se,pe=L.every(function(P){return ce.indexOf(P)>=0});pe&&(L=ce)}}return oe(oe({},g),{},Re({},T,oe(oe({},b),{},{axisType:i,domain:L,categoricalDomain:Z,duplicateDomain:W,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:p,layout:d})))},{})},x2e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=kg(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=k6(d,i),v=-1;return n.reduce(function(x,b){var m=b.type.defaultProps!==void 0?oe(oe({},b.type.defaultProps),b.props):b.props,y=m[s],_=XD("number");if(!x[y]){v++;var w;return g?w=Dm(0,p):o&&o[y]&&o[y].hasStack?(w=M6(o[y].stackGroups,l,c),w=iw(f,w,y,i)):(w=Sb(_,C6(h,n.filter(function(S){var E,j,T=s in S.props?S.props[s]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[s],C="hide"in S.props?S.props.hide:(j=S.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!C}),"number",d),a.defaultProps.allowDataOverflow),w=iw(f,w,y,i)),oe(oe({},x),{},Re({},y,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bn(h2e,"".concat(i,".").concat(v%2),null),domain:w,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},y2e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=sa(d,i),p={};return h&&h.length?p=g2e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=x2e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},b2e=function(t){var r=fs(t),n=Si(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:m2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_m(r,n)}},XN=function(t){var r=t.children,n=t.defaultShowTooltip,a=kn(r,uu),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},w2e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Oi(r&&r.type);return n&&n.indexOf("Bar")>=0})},YN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_2e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=kn(f,uu),g=kn(f,Ni),v=Object.keys(l).reduce(function(w,S){var E=l[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,S){var E=s[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,Bn(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=oe(oe({},x),v),m=b.bottom;p&&(b.bottom+=p.props.height||uu.defaultProps.height),g&&r&&(b=Xpe(b,a,n,r));var y=c-b.left-b.right,_=d-b.top-b.bottom;return oe(oe({brushBottom:m},b),{},{width:Math.max(y,0),height:Math.max(_,0)})},S2e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},YD=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,m){var y=m.graphicalItems,_=m.stackGroups,w=m.offset,S=m.updateId,E=m.dataStartIndex,j=m.dataEndIndex,T=b.barSize,C=b.layout,N=b.barGap,L=b.barCategoryGap,W=b.maxBarSize,Z=YN(C),V=Z.numericAxisName,ne=Z.cateAxisName,se=w2e(y),K=[];return y.forEach(function(te,ce){var pe=kg(b.data,{graphicalItems:[te],dataStartIndex:E,dataEndIndex:j}),P=te.type.defaultProps!==void 0?oe(oe({},te.type.defaultProps),te.props):te.props,H=P.dataKey,B=P.maxBarSize,z=P["".concat(V,"Id")],ae=P["".concat(ne,"Id")],Se={},Q=l.reduce(function(cn,Ua){var to=m["".concat(Ua.axisType,"Map")],An=P["".concat(Ua.axisType,"Id")];to&&to[An]||Ua.axisType==="zAxis"||ol();var ro=to[An];return oe(oe({},cn),{},Re(Re({},Ua.axisType,ro),"".concat(Ua.axisType,"Ticks"),Si(ro)))},Se),q=Q[ne],ee=Q["".concat(ne,"Ticks")],ye=_&&_[z]&&_[z].hasStack&&sme(te,_[z].stackGroups),re=Oi(te.type).indexOf("Bar")>=0,Le=_m(q,ee),Ce=[],tt=se&&Kpe({barSize:T,stackGroups:_,totalSize:S2e(Q,ne)});if(re){var Fe,be,Wt=We(B)?W:B,Ir=(Fe=(be=_m(q,ee,!0))!==null&&be!==void 0?be:Wt)!==null&&Fe!==void 0?Fe:0;Ce=Gpe({barGap:N,barCategoryGap:L,bandSize:Ir!==Le?Ir:Le,sizeList:tt[ae],maxBarSize:Wt}),Ir!==Le&&(Ce=Ce.map(function(cn){return oe(oe({},cn),{},{position:oe(oe({},cn.position),{},{offset:cn.position.offset-Ir/2})})}))}var Vn=te&&te.type&&te.type.getComposedData;Vn&&K.push({props:oe(oe({},Vn(oe(oe({},Q),{},{displayedData:pe,props:b,dataKey:H,item:te,bandSize:Le,barPosition:Ce,offset:w,stackedData:ye,layout:C,dataStartIndex:E,dataEndIndex:j}))),{},Re(Re(Re({key:te.key||"item-".concat(ce)},V,Q[V]),ne,Q[ne]),"animationId",S)),childIndex:Gee(te,b.children),item:te})}),K},p=function(b,m){var y=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!vT({props:y}))return null;var E=y.children,j=y.layout,T=y.stackOffset,C=y.data,N=y.reverseStackOrder,L=YN(j),W=L.numericAxisName,Z=L.cateAxisName,V=sa(E,n),ne=ame(C,V,"".concat(W,"Id"),"".concat(Z,"Id"),T,N),se=l.reduce(function(P,H){var B="".concat(H.axisType,"Map");return oe(oe({},P),{},Re({},B,y2e(y,oe(oe({},H),{},{graphicalItems:V,stackGroups:H.axisType===W&&ne,dataStartIndex:_,dataEndIndex:w}))))},{}),K=_2e(oe(oe({},se),{},{props:y,graphicalItems:V}),m==null?void 0:m.legendBBox);Object.keys(se).forEach(function(P){se[P]=d(y,se[P],K,P.replace("Map",""),r)});var te=se["".concat(Z,"Map")],ce=b2e(te),pe=h(y,oe(oe({},se),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:V,stackGroups:ne,offset:K}));return oe(oe({formattedGraphicalItems:pe,graphicalItems:V,offset:K,stackGroups:ne},ce),se)},g=function(x){function b(m){var y,_,w;return r2e(this,b),w=i2e(this,b,[m]),Re(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(w,"accessibilityManager",new z_e),Re(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,j=E.dataStartIndex,T=E.dataEndIndex,C=E.updateId;w.setState(oe({legendBBox:S},p({props:w.props,dataStartIndex:j,dataEndIndex:T,updateId:C},oe(oe({},w.state),{},{legendBBox:S}))))}}),Re(w,"handleReceiveSyncEvent",function(S,E,j){if(w.props.syncId===S){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Re(w,"handleBrushChange",function(S){var E=S.startIndex,j=S.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return oe({dataStartIndex:E,dataEndIndex:j},p({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Re(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseEnter;Me(T)&&T(j,S)}}),Re(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),j=E?oe(oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseMove;Me(T)&&T(j,S)}),Re(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Re(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Re(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Re(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Me(j)&&j(E,S)}),Re(w,"handleOuterEvent",function(S){var E=Kee(S),j=Bn(w.props,"".concat(E));if(E&&Me(j)){var T,C;/.*touch.*/i.test(E)?C=w.getMouseInfo(S.changedTouches[0]):C=w.getMouseInfo(S),j((T=C)!==null&&T!==void 0?T:{},S)}}),Re(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onClick;Me(T)&&T(j,S)}}),Re(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Re(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Re(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Re(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&ty.emit(ry,w.props.syncId,S,w.eventEmitterSymbol)}),Re(w,"applySyncEvent",function(S){var E=w.props,j=E.layout,T=E.syncMethod,C=w.state.updateId,N=S.dataStartIndex,L=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:N,dataEndIndex:L},p({props:w.props,dataStartIndex:N,dataEndIndex:L,updateId:C},w.state)));else if(S.activeTooltipIndex!==void 0){var W=S.chartX,Z=S.chartY,V=S.activeTooltipIndex,ne=w.state,se=ne.offset,K=ne.tooltipTicks;if(!se)return;if(typeof T=="function")V=T(K,S);else if(T==="value"){V=-1;for(var te=0;te<K.length;te++)if(K[te].value===S.activeLabel){V=te;break}}var ce=oe(oe({},se),{},{x:se.left,y:se.top}),pe=Math.min(W,ce.x+ce.width),P=Math.min(Z,ce.y+ce.height),H=K[V]&&K[V].value,B=lw(w.state,w.props.data,V),z=K[V]?{x:j==="horizontal"?K[V].coordinate:pe,y:j==="horizontal"?P:K[V].coordinate}:GD;w.setState(oe(oe({},S),{},{activeLabel:H,activeCoordinate:z,activePayload:B,activeTooltipIndex:V}))}else w.setState(S)}),Re(w,"renderCursor",function(S){var E,j=w.state,T=j.isTooltipActive,C=j.activeCoordinate,N=j.activePayload,L=j.offset,W=j.activeTooltipIndex,Z=j.tooltipAxisBandSize,V=w.getTooltipEventType(),ne=(E=S.props.active)!==null&&E!==void 0?E:T,se=w.props.layout,K=S.key||"_recharts-cursor";return U.createElement(X_e,{key:K,activeCoordinate:C,activePayload:N,activeTooltipIndex:W,chartName:r,element:S,isActive:ne,layout:se,offset:L,tooltipAxisBandSize:Z,tooltipEventType:V})}),Re(w,"renderPolarAxis",function(S,E,j){var T=Bn(S,"type.axisType"),C=Bn(w.state,"".concat(T,"Map")),N=S.type.defaultProps,L=N!==void 0?oe(oe({},N),S.props):S.props,W=C&&C[L["".concat(T,"Id")]];return A.cloneElement(S,oe(oe({},W),{},{className:ze(T,W.className),key:S.key||"".concat(E,"-").concat(j),ticks:Si(W,!0)}))}),Re(w,"renderPolarGrid",function(S){var E=S.props,j=E.radialLines,T=E.polarAngles,C=E.polarRadius,N=w.state,L=N.radiusAxisMap,W=N.angleAxisMap,Z=fs(L),V=fs(W),ne=V.cx,se=V.cy,K=V.innerRadius,te=V.outerRadius;return A.cloneElement(S,{polarAngles:Array.isArray(T)?T:Si(V,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(C)?C:Si(Z,!0).map(function(ce){return ce.coordinate}),cx:ne,cy:se,innerRadius:K,outerRadius:te,key:S.key||"polar-grid",radialLines:j})}),Re(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,j=E.children,T=E.width,C=E.height,N=w.props.margin||{},L=T-(N.left||0)-(N.right||0),W=O6({children:j,formattedGraphicalItems:S,legendWidth:L,legendContent:c});if(!W)return null;var Z=W.item,V=VN(W,Y_e);return A.cloneElement(Z,oe(oe({},V),{},{chartWidth:T,chartHeight:C,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Re(w,"renderTooltip",function(){var S,E=w.props,j=E.children,T=E.accessibilityLayer,C=kn(j,fr);if(!C)return null;var N=w.state,L=N.isTooltipActive,W=N.activeCoordinate,Z=N.activePayload,V=N.activeLabel,ne=N.offset,se=(S=C.props.active)!==null&&S!==void 0?S:L;return A.cloneElement(C,{viewBox:oe(oe({},ne),{},{x:ne.left,y:ne.top}),active:se,label:V,payload:se?Z:[],coordinate:W,accessibilityLayer:T})}),Re(w,"renderBrush",function(S){var E=w.props,j=E.margin,T=E.data,C=w.state,N=C.offset,L=C.dataStartIndex,W=C.dataEndIndex,Z=C.updateId;return A.cloneElement(S,{key:S.key||"_recharts-brush",onChange:N0(w.handleBrushChange,S.props.onChange),data:T,x:ve(S.props.x)?S.props.x:N.left,y:ve(S.props.y)?S.props.y:N.top+N.height+N.brushBottom-(j.bottom||0),width:ve(S.props.width)?S.props.width:N.width,startIndex:L,endIndex:W,updateId:"brush-".concat(Z)})}),Re(w,"renderReferenceElement",function(S,E,j){if(!S)return null;var T=w,C=T.clipPathId,N=w.state,L=N.xAxisMap,W=N.yAxisMap,Z=N.offset,V=S.type.defaultProps||{},ne=S.props,se=ne.xAxisId,K=se===void 0?V.xAxisId:se,te=ne.yAxisId,ce=te===void 0?V.yAxisId:te;return A.cloneElement(S,{key:S.key||"".concat(E,"-").concat(j),xAxis:L[K],yAxis:W[ce],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:C})}),Re(w,"renderActivePoints",function(S){var E=S.item,j=S.activePoint,T=S.basePoint,C=S.childIndex,N=S.isRange,L=[],W=E.props.key,Z=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,V=Z.activeDot,ne=Z.dataKey,se=oe(oe({index:C,dataKey:ne,cx:j.x,cy:j.y,r:4,fill:U2(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},De(V,!1)),Xp(V));return L.push(b.renderActiveDot(V,se,"".concat(W,"-activePoint-").concat(C))),T?L.push(b.renderActiveDot(V,oe(oe({},se),{},{cx:T.x,cy:T.y}),"".concat(W,"-basePoint-").concat(C))):N&&L.push(null),L}),Re(w,"renderGraphicChild",function(S,E,j){var T=w.filterFormatItem(S,E,j);if(!T)return null;var C=w.getTooltipEventType(),N=w.state,L=N.isTooltipActive,W=N.tooltipAxis,Z=N.activeTooltipIndex,V=N.activeLabel,ne=w.props.children,se=kn(ne,fr),K=T.props,te=K.points,ce=K.isRange,pe=K.baseLine,P=T.item.type.defaultProps!==void 0?oe(oe({},T.item.type.defaultProps),T.item.props):T.item.props,H=P.activeDot,B=P.hide,z=P.activeBar,ae=P.activeShape,Se=!!(!B&&L&&se&&(H||z||ae)),Q={};C!=="axis"&&se&&se.props.trigger==="click"?Q={onClick:N0(w.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(Q={onMouseLeave:N0(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:N0(w.handleItemMouseEnter,S.props.onMouseEnter)});var q=A.cloneElement(S,oe(oe({},T.props),Q));function ee(Ua){return typeof W.dataKey=="function"?W.dataKey(Ua.payload):null}if(Se)if(Z>=0){var ye,re;if(W.dataKey&&!W.allowDuplicatedCategory){var Le=typeof W.dataKey=="function"?ee:"payload.".concat(W.dataKey.toString());ye=M1(te,Le,V),re=ce&&pe&&M1(pe,Le,V)}else ye=te==null?void 0:te[Z],re=ce&&pe&&pe[Z];if(ae||z){var Ce=S.props.activeIndex!==void 0?S.props.activeIndex:Z;return[A.cloneElement(S,oe(oe(oe({},T.props),Q),{},{activeIndex:Ce})),null,null]}if(!We(ye))return[q].concat(yu(w.renderActivePoints({item:T,activePoint:ye,basePoint:re,childIndex:Z,isRange:ce})))}else{var tt,Fe=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:q},be=Fe.graphicalItem,Wt=be.item,Ir=Wt===void 0?S:Wt,Vn=be.childIndex,cn=oe(oe(oe({},T.props),Q),{},{activeIndex:Vn});return[A.cloneElement(Ir,cn),null,null]}return ce?[q,null,null]:[q,null]}),Re(w,"renderCustomized",function(S,E,j){return A.cloneElement(S,oe(oe({key:"recharts-customized-".concat(j)},w.props),w.state))}),Re(w,"renderMap",{CartesianGrid:{handler:I0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:I0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:I0},YAxis:{handler:I0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=m.id)!==null&&y!==void 0?y:Ah("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=AI(w.triggeredAfterMouseMove,(_=m.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return l2e(b,x),a2e(b,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,w=y.data,S=y.height,E=y.layout,j=kn(_,fr);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,N=lw(this.state,w,T,C),L=this.state.tooltipTicks[T].coordinate,W=(this.state.offset.top+S)/2,Z=E==="horizontal",V=Z?{x:L,y:W}:{y:L,x:W},ne=this.state.formattedGraphicalItems.find(function(K){var te=K.item;return te.type.name==="Scatter"});ne&&(V=oe(oe({},V),ne.props.points[T].tooltipPosition),N=ne.props.points[T].tooltipPayload);var se={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:C,activePayload:N,activeCoordinate:V};this.setState(se),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){L1([kn(y.children,fr)],[kn(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=kn(this.props.children,fr);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=bde(w),E={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},j=w.width/_.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,j);if(!T)return null;var C=this.state,N=C.xAxisMap,L=C.yAxisMap,W=this.getTooltipEventType(),Z=GN(this.state,this.props.data,this.props.layout,T);if(W!=="axis"&&N&&L){var V=fs(N).scale,ne=fs(L).scale,se=V&&V.invert?V.invert(E.chartX):null,K=ne&&ne.invert?ne.invert(E.chartY):null;return oe(oe({},E),{},{xValue:se,yValue:K},Z)}return Z?oe(oe({},E),Z):null}},{key:"inRange",value:function(y,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=y/w,j=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,C=E>=T.left&&E<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return C?{x:E,y:j}:null}var N=this.state,L=N.angleAxisMap,W=N.radiusAxisMap;if(L&&W){var Z=fs(L);return jO({x:E,y:j},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),w=kn(y,fr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Xp(this.props,this.handleOuterEvent);return oe(oe({},E),S)}},{key:"addListener",value:function(){ty.on(ry,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ty.removeListener(ry,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,w){for(var S=this.state.formattedGraphicalItems,E=0,j=S.length;E<j;E++){var T=S[E];if(T.item===y||T.props.key===y.key||_===Oi(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,E=_.height,j=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:y},U.createElement("rect",{x:w,y:S,height:E,width:j})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=qN(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=qN(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var T=w[E],C=T.props,N=T.item,L=N.type.defaultProps!==void 0?oe(oe({},N.type.defaultProps),N.props):N.props,W=Oi(N.type);if(W==="Bar"){var Z=(C.data||[]).find(function(K){return sxe(y,K)});if(Z)return{graphicalItem:T,payload:Z}}else if(W==="RadialBar"){var V=(C.data||[]).find(function(K){return jO(y,K)});if(V)return{graphicalItem:T,payload:V}}else if(Eg(T,S)||jg(T,S)||eh(T,S)){var ne=Gye({graphicalItem:T,activeTooltipItem:S,itemData:L.data}),se=L.activeIndex===void 0?ne:L.activeIndex;return{graphicalItem:oe(oe({},T),{},{childIndex:se}),payload:eh(T,S)?L.data[ne]:T.props.data[ne]}}}return null}},{key:"render",value:function(){var y=this;if(!vT(this))return null;var _=this.props,w=_.children,S=_.className,E=_.width,j=_.height,T=_.style,C=_.compact,N=_.title,L=_.desc,W=VN(_,Q_e),Z=De(W,!1);if(C)return U.createElement(CN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(B1,nc({},Z,{width:E,height:j,title:N,desc:L}),this.renderClipPath(),xT(w,this.renderMap)));if(this.props.accessibilityLayer){var V,ne;Z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,Z.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",Z.onKeyDown=function(K){y.accessibilityManager.keyboardEvent(K)},Z.onFocus=function(){y.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return U.createElement(CN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",nc({className:ze("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:E,height:j},T)},se,{ref:function(te){y.container=te}}),U.createElement(B1,nc({},Z,{width:E,height:j,title:N,desc:L,style:p2e}),this.renderClipPath(),xT(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Re(g,"displayName",r),Re(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(g,"getDerivedStateFromProps",function(x,b){var m=x.dataKey,y=x.data,_=x.children,w=x.width,S=x.height,E=x.layout,j=x.stackOffset,T=x.margin,C=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var L=XN(x);return oe(oe(oe({},L),{},{updateId:0},p(oe(oe({props:x},L),{},{updateId:0}),b)),{},{prevDataKey:m,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(m!==b.prevDataKey||y!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||j!==b.prevStackOffset||!gc(T,b.prevMargin)){var W=XN(x),Z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=oe(oe({},GN(b,y,E)),{},{updateId:b.updateId+1}),ne=oe(oe(oe({},W),Z),V);return oe(oe(oe({},ne),p(oe({props:x},ne),b)),{},{prevDataKey:m,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(!L1(_,b.prevChildren)){var se,K,te,ce,pe=kn(_,uu),P=pe&&(se=(K=pe.props)===null||K===void 0?void 0:K.startIndex)!==null&&se!==void 0?se:C,H=pe&&(te=(ce=pe.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&te!==void 0?te:N,B=P!==C||H!==N,z=!We(y),ae=z&&!B?b.updateId:b.updateId+1;return oe(oe({updateId:ae},p(oe(oe({props:x},b),{},{updateId:ae,dataStartIndex:P,dataEndIndex:H}),b)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:H})}return null}),Re(g,"renderActiveDot",function(x,b,m){var y;return A.isValidElement(x)?y=A.cloneElement(x,b):Me(x)?y=x(b):y=U.createElement(W2,b),U.createElement(at,{className:"recharts-active-dot",key:m},y)});var v=A.forwardRef(function(b,m){return U.createElement(g,nc({},b,{ref:m}))});return v.displayName=g.displayName,v},bu=YD({chartName:"BarChart",GraphicalChild:gn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hi},{axisType:"yAxis",AxisComp:qi}],formatAxisMap:Tbe}),Z2=YD({chartName:"PieChart",GraphicalChild:Ba,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sg},{axisType:"radiusAxis",AxisComp:wg}],formatAxisMap:vme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const gd={ASIGNADA:"#3b82f6",RECUPERADA:"#8b5cf6",CERRADA:"#6b7280",PERDIDA:"#ef4444",DETERIORO:"#f97316"},E2e=({loans:e})=>{const t=A.useMemo(()=>{const a={},i=new Date;for(let s=7;s>=0;s--){const o=new Date(i);o.setDate(o.getDate()-s*7);const l=`S${8-s}`;a[l]=0}return e.forEach(s=>{const o=new Date(s.issued_at),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24*7));if(l>=0&&l<8){const c=`S${8-l}`;a[c]!==void 0&&a[c]++}}),Object.entries(a).map(([s,o])=>({week:s,count:o}))},[e]),r=A.useMemo(()=>{const a=e.filter(s=>s.reason==="PERDIDA").length,i=e.filter(s=>s.reason==="DETERIORO").length;return[{name:"Perdida",value:a,color:gd.PERDIDA},{name:"Deterioro",value:i,color:gd.DETERIORO}].filter(s=>s.value>0)},[e]),n=A.useMemo(()=>Vs.map(a=>{const i=e.filter(s=>{var o;return((o=s.backup_cards)==null?void 0:o.inventory_terminal)===a});return{terminal:a.split(" ")[0],ASIGNADA:i.filter(s=>s.status==="ASIGNADA").length,RECUPERADA:i.filter(s=>s.status==="RECUPERADA").length,CERRADA:i.filter(s=>s.status==="CERRADA").length}}),[e]);return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Prestamos por Semana"}),u.jsx("div",{className:"h-48",children:u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:t,children:[u.jsx(cl,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Hi,{dataKey:"week",tick:{fontSize:11}}),u.jsx(qi,{tick:{fontSize:11},allowDecimals:!1}),u.jsx(fr,{}),u.jsx(gn,{dataKey:"count",name:"Prestamos",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Motivo de Solicitud"}),u.jsx("div",{className:"h-48",children:r.length>0?u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(Z2,{children:[u.jsx(Ba,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,labelLine:!1,children:r.map((a,i)=>u.jsx(Zi,{fill:a.color},`cell-${i}`))}),u.jsx(fr,{})]})}):u.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos"})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Estado por Terminal"}),u.jsx("div",{className:"h-48",children:u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:n,layout:"vertical",children:[u.jsx(cl,{strokeDasharray:"3 3",horizontal:!1}),u.jsx(Hi,{type:"number",tick:{fontSize:11},allowDecimals:!1}),u.jsx(qi,{type:"category",dataKey:"terminal",tick:{fontSize:11},width:60}),u.jsx(fr,{}),u.jsx(Ni,{wrapperStyle:{fontSize:10}}),u.jsx(gn,{dataKey:"ASIGNADA",name:"Asignada",stackId:"a",fill:gd.ASIGNADA}),u.jsx(gn,{dataKey:"RECUPERADA",name:"Recuperada",stackId:"a",fill:gd.RECUPERADA}),u.jsx(gn,{dataKey:"CERRADA",name:"Cerrada",stackId:"a",fill:gd.CERRADA})]})})})]})]})},Gm=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),ul=e=>{const t=Gm(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},QN=e=>{const t=Gm(e);if(t.length<8||t.length>9)return!1;const r=t.slice(0,-1),n=t.slice(-1);if(!/^\d+$/.test(r))return!1;let a=0,i=2;for(let l=r.length-1;l>=0;l--)a+=parseInt(r[l])*i,i=i===7?2:i+1;const s=a%11,o=s===0?"0":s===1?"K":String(11-s);return n===o},j2e=({status:e,isOverdue:t})=>{const r="inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full";if(t&&e==="ASIGNADA")return u.jsxs("span",{className:`${r} bg-amber-100 text-amber-800`,children:[u.jsx(Lv,{className:"w-3 h-3"}),"ATRASADA"]});const n={ASIGNADA:"bg-blue-100 text-blue-800",RECUPERADA:"bg-emerald-100 text-emerald-800",CERRADA:"bg-slate-100 text-slate-700",CANCELADA:"bg-red-100 text-red-800"};return u.jsx("span",{className:`${r} ${n[e]||"bg-slate-100 text-slate-700"}`,children:e})},T2e=({reason:e})=>{const t={PERDIDA:"bg-red-50 text-red-700",DETERIORO:"bg-orange-50 text-orange-700"};return u.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${t[e]||""}`,children:e==="PERDIDA"?"Perdida":"Deterioro"})},A2e=({loans:e,onView:t,onEdit:r,onRecover:n,onCancel:a,onResendEmails:i})=>{const s=A.useMemo(()=>{const o=new Date;return e.map(l=>{const c=new Date(l.issued_at),d=Math.floor((o.getTime()-c.getTime())/(1e3*60*60*24));return{...l,daysPassed:d,isOverdue:l.status==="ASIGNADA"&&d>l.alert_after_days}})},[e]);return e.length===0?u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:u.jsx("p",{className:"text-slate-500",children:"No se encontraron prestamos con los filtros seleccionados."})}):u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Trabajador"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"RUT"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Terminal"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Tarjeta"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Motivo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Entrega"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Dias"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Acciones"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>{var l,c;return u.jsxs("tr",{className:`hover:bg-slate-50 ${o.isOverdue?"bg-amber-50/50":""}`,children:[u.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:o.person_name}),u.jsx("p",{className:"text-xs text-slate-500",children:o.person_cargo||"-"})]}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:ul(o.person_rut)}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:o.person_terminal}),u.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[u.jsx("p",{className:"text-sm font-mono text-slate-900",children:((l=o.backup_cards)==null?void 0:l.card_number)||"-"}),u.jsx("p",{className:"text-xs text-slate-500",children:(c=o.backup_cards)==null?void 0:c.inventory_terminal})]}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsx(T2e,{reason:o.reason})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(o.issued_at).toLocaleDateString("es-CL")}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsxs("span",{className:`text-sm font-medium ${o.isOverdue?"text-amber-600":"text-slate-700"}`,children:[o.daysPassed,"d"]})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsx(j2e,{status:o.status,isOverdue:o.isOverdue})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[u.jsx("button",{onClick:()=>t(o),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded",title:"Ver detalle",children:u.jsx(jY,{className:"w-4 h-4"})}),o.status==="ASIGNADA"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>r(o),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:u.jsx(HY,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>n(o),className:"p-1.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded",title:"Marcar recuperada",children:u.jsx(uR,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>a(o),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Cancelar",children:u.jsx(Fi,{className:"w-4 h-4"})})]}),u.jsx("button",{onClick:()=>i(o),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Reenviar correos",children:u.jsx(lR,{className:"w-4 h-4"})})]})})]},o.id)})})]})})})},O2e=async(e,t)=>{let r=_e.from("backup_cards").select("*").order("card_number",{ascending:!0});e&&e!=="TODAS"&&(r=r.eq("status",e)),t&&(r=r.eq("inventory_terminal",t));const{data:n,error:a}=await r;if(a)throw a;return n},N2e=async e=>{let t=_e.from("backup_cards").select("*").eq("status","LIBRE").order("card_number");e&&(t=t.eq("inventory_terminal",e));const{data:r,error:n}=await t;if(n)throw n;return r},C2e=async e=>{const{data:t,error:r}=await _e.from("backup_cards").insert({card_number:e.card_number,inventory_terminal:e.inventory_terminal,notes:e.notes||null,status:"LIBRE"}).select().single();if(r)throw r;return t},k2e=async e=>{const{error:t}=await _e.from("backup_cards").update({status:"INACTIVA"}).eq("id",e);if(t)throw t},P2e=async e=>{let t=_e.from("backup_loans").select("*, backup_cards(*)").order("issued_at",{ascending:!1});e&&(e.search&&(t=t.or(`person_rut.ilike.%${e.search}%,person_name.ilike.%${e.search}%`)),e.terminal&&(t=t.eq("person_terminal",e.terminal)),e.status&&e.status!=="TODAS"&&(t=t.eq("status",e.status)),e.reason&&e.reason!=="TODAS"&&(t=t.eq("reason",e.reason)),e.dateFrom&&(t=t.gte("issued_at",e.dateFrom)),e.dateTo&&(t=t.lte("issued_at",e.dateTo+"T23:59:59")));const{data:r,error:n}=await t;if(n)throw n;return r},R2e=async e=>{const{data:t,error:r}=await _e.from("backup_loans").insert({card_id:e.card_id,person_rut:e.person_rut,person_name:e.person_name,person_cargo:e.person_cargo||null,person_terminal:e.person_terminal,person_turno:e.person_turno||null,person_horario:e.person_horario||null,person_contacto:e.person_contacto||null,boss_email:e.worker_email||null,reason:e.reason,requested_at:e.requested_at,discount_amount:e.discount_amount,discount_applied:e.discount_applied,created_by_supervisor:e.created_by_supervisor,status:"ASIGNADA"}).select("*, backup_cards(*)").single();if(r)throw r;const{error:n}=await _e.from("backup_cards").update({status:"ASIGNADA"}).eq("id",e.card_id);if(n)throw n;return t},I2e=async(e,t,r)=>{const{data:n,error:a}=await _e.from("backup_loans").select("card_id").eq("id",e).single();if(a)throw a;const{error:i}=await _e.from("backup_loans").update({status:"CERRADA",recovered_at:t,closed_at:new Date().toISOString()}).eq("id",e);if(i)throw i;const{error:s}=await _e.from("backup_cards").update({status:"LIBRE"}).eq("id",n.card_id);if(s)throw s},D2e=async(e,t)=>{const{data:r,error:n}=await _e.from("backup_loans").select("card_id").eq("id",e).single();if(n)throw n;const{error:a}=await _e.from("backup_loans").update({status:"CANCELADA",cancel_reason:t,closed_at:new Date().toISOString()}).eq("id",e);if(a)throw a;const{error:i}=await _e.from("backup_cards").update({status:"LIBRE"}).eq("id",r.card_id);if(i)throw i},M2e=async e=>{const{error:t}=await _e.from("backup_loans").update({emails_sent_at:new Date().toISOString()}).eq("id",e);if(t)throw t},QD=async()=>{const{data:e,error:t}=await _e.from("backup_email_settings").select("*").order("scope_type",{ascending:!1});if(t)throw t;return e},$2e=async e=>{const{data:t,error:r}=await _e.from("backup_email_settings").upsert(e,{onConflict:"scope_type,scope_code"}).select().single();if(r)throw r;return t},L2e=async()=>{const{data:e,error:t}=await _e.from("backup_cards").select("inventory_terminal, status");if(t)throw t;const r={"El Roble":0,"La Reina":0,"Maria Angelica":0};e==null||e.forEach(p=>{if(p.status==="LIBRE"){const g=p.inventory_terminal;Vs.includes(g)&&r[g]++}});const{data:n,error:a}=await _e.from("backup_loans").select("id, issued_at, alert_after_days, discount_amount, discount_applied").eq("status","ASIGNADA");if(a)throw a;const i=new Date;let s=0,o=0;n==null||n.forEach(p=>{const g=new Date(p.issued_at);Math.floor((i.getTime()-g.getTime())/(1e3*60*60*24))>p.alert_after_days&&s++,p.discount_applied&&(o+=p.discount_amount)});const l=new Date;l.setDate(l.getDate()-30);const{data:c,error:d}=await _e.from("backup_loans").select("issued_at, recovered_at, discount_amount, discount_applied").in("status",["RECUPERADA","CERRADA"]).gte("closed_at",l.toISOString());if(d)throw d;let f=0,h=0;return c==null||c.forEach(p=>{if(p.recovered_at){const g=new Date(p.issued_at),v=new Date(p.recovered_at),x=Math.floor((v.getTime()-g.getTime())/(1e3*60*60*24));f+=x,h++}p.discount_applied&&(o+=p.discount_amount)}),{availableByTerminal:r,activeLoans:(n==null?void 0:n.length)||0,overdueLoans:s,avgReturnDays:h>0?Math.round(f/h):0,totalDiscounts:o}},Vr={user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,card:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1" y="3" width="16" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M1 7H17" stroke="#64748b" stroke-width="1.5"/>
        <path d="M4 11H8" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,warning:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 6V10M9 12.5V13" stroke="#f59e0b" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M3 15L9 3L15 15H3Z" stroke="#f59e0b" stroke-width="1.5" stroke-linejoin="round"/>
    </svg>`,money:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="9" r="7" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 5V13M11 7H7.5C6.67157 7 6 7.67157 6 8.5C6 9.32843 6.67157 10 7.5 10H10.5C11.3284 10 12 10.6716 12 11.5C12 12.3284 11.3284 13 10.5 13H6" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,supervisor:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="6" r="3" stroke="#64748b" stroke-width="1.5"/>
        <path d="M3 16C3 13.2386 5.68629 11 9 11C12.3137 11 15 13.2386 15 16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 3L10 1.5L11 3" stroke="#f59e0b" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`},Kr=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,F2e=e=>new Date(e).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B2e=async(e,t,r,n)=>{var f;const a=((f=e.backup_cards)==null?void 0:f.card_number)||"N/A",i=e.person_terminal,s=e.reason==="PERDIDA"?"Prdida de Credencial":"Deterioro de Credencial",o=F2e(e.issued_at),l=n?[n]:void 0,c=e.reason==="PERDIDA"?"#ef4444":"#f59e0b",d=e.reason==="PERDIDA"?"#fef2f2":"#fffbeb";try{const h=`Solicitud Nueva Credencial - ${e.person_name}`,p=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#dbeafe" stroke="#3b82f6" stroke-width="3"/>
                                        <rect x="18" y="20" width="20" height="16" rx="2" stroke="#2563eb" stroke-width="2.5"/>
                                        <circle cx="24" cy="27" r="3" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M20 33C20 31 21.5 29 24 29C26.5 29 28 31 28 33" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M31 25H35M31 29H34" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #1e40af; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Accin Requerida</span>
                                    <span style="font-size: 20px; font-weight: 800; color: #1d4ed8; letter-spacing: -0.5px;">SOLICITUD DE NUEVA CREDENCIAL</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Reason Badge -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td align="center">
                        <span style="display: inline-block; padding: 8px 20px; background: ${d}; border: 1px solid ${c}; border-radius: 100px; color: ${c}; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${s}</span>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.user,"Nombre",e.person_name,!0)}
                ${Kr(Vr.id,"RUT",e.person_rut)}
                ${Kr(Vr.building,"Terminal",i)}
                ${Kr(Vr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Kr(Vr.calendar,"Fecha Solicitud",e.requested_at)}
                ${Kr(Vr.supervisor,"Supervisor Entrega",e.created_by_supervisor)}
            </table>
            
            <!-- Action Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #166534; font-weight: 600; text-align: center;">
                             Por favor proceder con la emisin de una nueva credencial para este trabajador.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
        `.trim();await Xc.sendEmail({audience:"manual",manualRecipients:[t],cc:r?r.split(",").map(x=>x.trim()).filter(Boolean):void 0,subject:h,body:p,attachments:l,module:"credenciales"});const g=`Notificacin Credencial Respaldo - ${e.person_name}`,v=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #fef3c7; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#fef9c3" stroke="#eab308" stroke-width="3"/>
                                        <path d="M28 18V32M28 36V38" stroke="#ca8a04" stroke-width="4" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Notificacin Importante</span>
                                    <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">CREDENCIAL DE RESPALDO ASIGNADA</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Intro Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 16px 20px; background: #f8fafc; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #475569; line-height: 1.6;">
                            Se le informa que el trabajador a su cargo <strong style="color: #0f172a;">${e.person_name}</strong> utilizar una tarjeta de respaldo mientras se gestiona una nueva credencial.
                        </p>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.user,"Nombre",e.person_name,!0)}
                ${Kr(Vr.id,"RUT",e.person_rut)}
                ${Kr(Vr.building,"Terminal",i)}
                ${Kr(Vr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Kr(Vr.warning,"Motivo",s)}
                ${Kr(Vr.calendar,"Fecha de Entrega",o)}
                ${e.discount_applied?Kr(Vr.money,"Descuento Aplicado",`$${e.discount_amount.toLocaleString("es-CL")} (1 cuota)`,!0):""}
            </table>
            
            <!-- Important Notice -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #1e40af; font-weight: 500; text-align: center;">
                             Una vez que el trabajador reciba su nueva credencial, deber devolver la tarjeta de respaldo.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
            
            <!-- Signature -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-top: 16px; border-top: 1px solid #e2e8f0;">
                        <p style="margin: 0; font-size: 14px; color: #64748b;">Saludos cordiales,</p>
                        <p style="margin: 4px 0 0 0; font-size: 14px; font-weight: 700; color: #0f172a;">Gestin de Personal</p>
                    </td>
                </tr>
            </table>
        `.trim();return e.boss_email&&await Xc.sendEmail({audience:"manual",manualRecipients:[e.boss_email],subject:g,body:v,module:"credenciales"}),await M2e(e.id),{success:!0}}catch(h){return console.error("Error sending backup emails:",h),{success:!1,error:h instanceof Error?h.message:"Error desconocido al enviar correos"}}},U2e=({isOpen:e,onClose:t,onSubmit:r,isLoading:n,supervisorName:a})=>{const i=A.useRef(null),[s,o]=A.useState({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),[l,c]=A.useState(""),[d,f]=A.useState(""),{data:h=[]}=Tt({queryKey:["backup-cards-available",l],queryFn:()=>N2e(l||void 0),enabled:e}),p=async()=>{const x=Gm(s.person_rut);if(!x)return;if(!QN(x)){f("RUT invalido");return}f("");const{data:b}=await _e.from("staff").select("nombre, cargo, terminal_code, turno, horario, contacto").eq("rut",x).single();o(b?m=>({...m,person_rut:ul(x),person_name:b.nombre,person_cargo:b.cargo||"",person_terminal:b.terminal_code||"EL_ROBLE",person_turno:b.turno||"",person_horario:b.horario||"",person_contacto:b.contacto||""}):m=>({...m,person_rut:ul(x)}))},g=async x=>{if(x.preventDefault(),!QN(Gm(s.person_rut))){f("RUT invalido");return}await r(s,v)},v=()=>{const x=window.open("","_blank");if(x){const b=new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"});x.document.write(`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autorizacin de Descuento - ${s.person_name||"RBU"}</title>
    <style>
        @page { size: letter; margin: 15mm 20mm; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: white;
            padding: 0;
            color: #000;
            font-size: 12px;
            line-height: 1.4;
        }

        .page {
            width: 100%;
            max-width: 210mm;
            margin: 0 auto;
        }

        /* Header Styles */
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 5px;
            padding-bottom: 5px;
            border-bottom: 3px solid black;
        }

        /* Logo RBU con camion CSS */
        .logo-container {
            position: relative;
            width: 150px;
            height: 50px;
        }
        .truck-body {
            border: 4px solid #003399;
            border-radius: 8px;
            width: 120px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
            background: white;
            z-index: 2;
        }
        .truck-cab {
            position: absolute;
            top: 5px;
            right: 15px;
            width: 25px;
            height: 35px;
            border-top: 4px solid #003399;
            border-right: 4px solid #003399;
            border-radius: 0 5px 0 0;
        }
        .logo-text {
            color: #cc0000;
            font-weight: 900;
            font-size: 32px;
            font-family: 'Arial Black', Arial, sans-serif;
            letter-spacing: -2px;
        }
        .wheel {
            width: 12px;
            height: 12px;
            border: 4px solid #003399;
            border-radius: 50%;
            position: absolute;
            bottom: -5px;
            background: white;
            z-index: 3;
        }
        .w1 { left: 20px; }
        .w2 { left: 90px; }

        .rbu-santiago {
            color: #cc0000;
            font-weight: bold;
            font-size: 14px;
        }

        .title-bar {
            background-color: black;
            color: white;
            text-align: center;
            padding: 8px 0;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 25px;
        }

        /* Form Fields */
        .field-row {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-end;
        }
        
        .field-label {
            font-weight: bold;
            font-size: 11px;
            white-space: nowrap;
            margin-right: 10px;
        }

        .field-line {
            border-bottom: 2px solid black;
            flex-grow: 1;
            min-height: 18px;
            padding-left: 5px;
            font-size: 12px;
        }

        .rut-row {
            display: flex;
            justify-content: space-between;
        }
        
        .rut-container {
            display: flex;
            width: 38%;
            align-items: flex-end;
        }
        
        .cargo-container {
            display: flex;
            width: 55%;
            align-items: flex-end;
        }

        /* Authorization Text */
        .auth-text {
            text-align: center;
            font-weight: bold;
            margin: 25px 0;
            font-size: 13px;
            letter-spacing: 0.5px;
        }

        .amount-row {
            display: flex;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 12px;
            gap: 20px;
        }

        .concept-row {
            margin-left: 30px;
            margin-bottom: 5px;
            font-size: 13px;
        }
        .desc-small {
            font-size: 10px;
            margin-left: 30px;
            margin-bottom: 18px;
            color: #555;
        }

        /* Right aligned details */
        .details-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            margin-right: 20px;
        }
        
        .detail-item {
            display: flex;
            align-items: flex-end;
            margin-bottom: 8px;
            width: 280px;
            justify-content: flex-end;
        }
        
        .detail-item label {
            font-size: 11px;
            margin-right: 10px;
        }
        
        .detail-value {
            border-bottom: 2px solid black;
            width: 110px;
            text-align: right;
            font-weight: bold;
            font-size: 14px;
            padding-bottom: 2px;
            padding-right: 5px;
        }

        /* Signature & Date */
        .sig-date-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-top: 30px;
            margin-bottom: 10px;
            font-style: italic;
            font-size: 11px;
            font-weight: bold;
        }
        .date-val {
            font-size: 12px;
            font-style: normal;
        }

        .signature-line {
            border-bottom: 2px solid black;
            width: 200px;
            margin-top: 40px;
        }

        .legal-text {
            font-size: 9px;
            text-align: justify;
            line-height: 1.3;
            margin: 15px 0;
            padding-top: 10px;
            border-top: 1px solid #ccc;
        }

        /* Observations Box */
        .obs-header {
            background-color: #333;
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 11px;
            padding: 4px;
            border: 2px solid black;
            border-bottom: none;
        }
        .obs-box {
            border: 2px solid black;
            height: 50px;
            margin-bottom: 30px;
        }

        /* Footer */
        .footer-line {
            border-top: 3px solid black;
            padding-top: 8px;
            text-align: center;
            font-size: 10px;
            font-weight: bold;
            margin-top: 20px;
        }
        .company-name {
            text-align: right;
            font-weight: bold;
            margin-top: 15px;
            font-size: 11px;
            border-bottom: 2px solid black;
            display: inline-block;
            float: right;
            padding-bottom: 2px;
            text-decoration: underline;
        }

        /* Bottom Detail Section */
        .bottom-detail-title {
            text-align: center;
            font-style: italic;
            font-weight: bold;
            font-size: 14px;
            margin-top: 30px;
            margin-bottom: 10px;
            clear: both;
        }
        
        .bottom-table {
            width: 100%;
            font-size: 11px;
            overflow: hidden;
        }
        .bt-left { 
            float: left; 
            font-weight: bold;
        }
        .bt-right { 
            float: right; 
            text-align: center;
        }
        .costo-header {
            font-weight: bold;
            font-size: 10px;
            margin-bottom: 3px;
            color: #555;
        }

        @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
    </style>
</head>
<body>

    <div class="page">
        <div class="header-top">
            <div class="logo-container">
                <div class="truck-cab"></div>
                <div class="truck-body">
                    <span class="logo-text">RBU</span>
                </div>
                <div class="wheel w1"></div>
                <div class="wheel w2"></div>
            </div>
            <div class="rbu-santiago">RBU Santiago.</div>
        </div>

        <div class="title-bar">
            Autorizacin de Descuento
        </div>

        <div class="field-row">
            <span class="field-label">NOMBRE DEL<br>TRABAJADOR:</span>
            <div class="field-line">${s.person_name||""}</div>
        </div>

        <div class="field-row rut-row">
            <div class="rut-container">
                <span class="field-label">RUT :</span>
                <div class="field-line">${s.person_rut||""}</div>
            </div>
            <div class="cargo-container">
                <span class="field-label">Cargo desempeado:</span>
                <div class="field-line">${s.person_cargo||""}</div>
            </div>
        </div>

        <div class="auth-text">
            EL TRABAJADOR INDIVIDUALIZADO AUTORIZA EN ESTE ACTO
        </div>

        <div class="amount-row">
            <span>EL DESCUENTO DE:</span>
            <span>$</span>
            <span>${s.discount_amount.toLocaleString("es-CL")}</span>
        </div>

        <div class="concept-row">
            <strong>POR CONCEPTO DE:</strong> &nbsp; ${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}
        </div>
        <div class="desc-small">Descripcin : Tarjeta de acceso vehicular</div>

        <div class="details-right">
            <div class="detail-item">
                <label>A descontar en:</label>
                <div class="detail-value">1 Cuota</div>
            </div>
            <div class="detail-item">
                <label>A contar de:</label>
                <div class="detail-value" style="font-style: italic; font-size: 12px;">Mes en curso</div>
            </div>
            <div class="detail-item">
                <label>Valor de cada cuota:</label>
                <div class="detail-value">$ ${s.discount_amount.toLocaleString("es-CL")}</div>
            </div>
        </div>

        <div class="sig-date-row">
            <div>
                <span>Firma y Rut del trabajador</span>
                <div class="signature-line"></div>
            </div>
            <span>Fecha : &nbsp; <span class="date-val"><strong>${b}</strong></span></span>
        </div>

        <div class="legal-text">
            El trabajador, mediante el presente instrumento, otorga mandato expreso a REDBUS URBANO S.A. para que descuente de sus remuneraciones en las cuotas y plazos indicados la suma indicada en este acto. Asimismo faculta expresamente a REDBUS URBANO S.A., para que en el evento de que por cualquier causa se pusiese trmino al contrato de trabajo, descuente el total del saldo adeudado de las indemnizaciones a que tenga derecho y/o otros emolumentos que pudiere tener derecho al trmino de la relacin laboral.
        </div>

        <div class="obs-header">Observaciones</div>
        <div class="obs-box"></div>

        <div class="footer-line">
            Av. El Salto 4651, Huechuraba, Santiago.<br>
            Fono: (56 2) 4881800 &nbsp;&nbsp; Fax: (56 2) 4881818
        </div>

        <div style="overflow: hidden; margin-top: 15px;">
            <div class="company-name">REDBUS URBANO S.A.</div>
        </div>

        <div class="bottom-detail-title">Detalle Descuento</div>
        
        <div class="bottom-table">
            <span class="bt-left">${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}</span>
            <div class="bt-right">
                <div class="costo-header">COSTO</div>
                <div><strong>$${s.discount_amount.toLocaleString("es-CL")}</strong></div>
            </div>
        </div>

    </div>

</body>
</html>
            `),x.document.close(),setTimeout(()=>x.print(),300)}};return A.useEffect(()=>{e&&(o({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),f(""),c(""))},[e,a]),e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nuevo Prestamo de Respaldo"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Datos del Trabajador"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input pr-10 ${d?"border-red-500":""}`,value:s.person_rut,onChange:x=>o(b=>({...b,person_rut:x.target.value})),onBlur:p,placeholder:"12.345.678-9",required:!0}),u.jsx(LY,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),d&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:s.person_name,onChange:x=>o(b=>({...b,person_name:x.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:s.person_cargo,onChange:x=>o(b=>({...b,person_cargo:x.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal"}),u.jsx("select",{className:"input",value:s.person_terminal,onChange:x=>o(b=>({...b,person_terminal:x.target.value})),required:!0,children:Ma.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Turno"}),u.jsx("input",{type:"text",className:"input",value:s.person_turno,onChange:x=>o(b=>({...b,person_turno:x.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:s.person_horario,onChange:x=>o(b=>({...b,person_horario:x.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contacto"}),u.jsx("input",{type:"text",className:"input",value:s.person_contacto,onChange:x=>o(b=>({...b,person_contacto:x.target.value}))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:["Correo ",u.jsx("span",{className:"text-slate-400 font-normal",children:"(opcional)"})]}),u.jsx("input",{type:"email",className:"input",value:s.worker_email,onChange:x=>o(b=>({...b,worker_email:x.target.value})),placeholder:"Para notificar cuando llegue su credencial"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Solicitud"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo"}),u.jsx("select",{className:"input",value:s.reason,onChange:x=>o(b=>({...b,reason:x.target.value})),required:!0,children:dR.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha Solicitud"}),u.jsx("input",{type:"date",className:"input",value:s.requested_at,onChange:x=>o(b=>({...b,requested_at:x.target.value})),required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Tarjeta de Respaldo"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal de Inventario"}),u.jsxs("select",{className:"input",value:l,onChange:x=>{c(x.target.value),o(b=>({...b,card_id:""}))},children:[u.jsx("option",{value:"",children:"Todos"}),Vs.map(x=>u.jsx("option",{value:x,children:x},x))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Tarjeta Disponible"}),u.jsxs("select",{className:"input",value:s.card_id,onChange:x=>o(b=>({...b,card_id:x.target.value})),required:!0,children:[u.jsx("option",{value:"",children:"Seleccionar tarjeta..."}),h.map(x=>u.jsxs("option",{value:x.id,children:[x.card_number," (",x.inventory_terminal,")"]},x.id))]}),h.length===0&&u.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No hay tarjetas disponibles"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Descuento"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:s.discount_applied,onChange:x=>o(b=>({...b,discount_applied:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsxs("span",{className:"text-sm text-slate-700",children:["Aplicar descuento de $",s.discount_amount.toLocaleString("es-CL")," (1 cuota)"]})]}),s.discount_applied&&u.jsxs("span",{className:"text-xs text-slate-500 italic flex items-center gap-1",children:[u.jsx(RY,{className:"w-3 h-3"}),"Se imprimir automticamente al crear"]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Notificaciones"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:s.send_emails,onChange:x=>o(b=>({...b,send_emails:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Enviar correos al crear"})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!s.card_id,children:n?"Guardando...":"Crear Prestamo"})]})]}),u.jsx("div",{ref:i,className:"hidden"})]})})]}):null},z2e=({isOpen:e,loan:t,onClose:r})=>{var i,s;if(!e||!t)return null;const n=o=>o?new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=Math.floor((new Date().getTime()-new Date(t.issued_at).getTime())/(1e3*60*60*24));return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detalle del Prestamo"}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(ZY,{className:"w-4 h-4"}),"Trabajador"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Nombre:"}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.person_name})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"RUT:"}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:ul(t.person_rut)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Cargo:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_cargo||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Terminal:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_terminal})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Turno:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_turno||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Horario:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_horario||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Contacto:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_contacto||"-"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(jf,{className:"w-4 h-4"}),"Tarjeta de Respaldo"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Numero:"}),u.jsx("span",{className:"text-sm font-mono font-medium text-slate-900",children:((i=t.backup_cards)==null?void 0:i.card_number)||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Terminal Inventario:"}),u.jsx("span",{className:"text-sm text-slate-900",children:((s=t.backup_cards)==null?void 0:s.inventory_terminal)||"-"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(vY,{className:"w-4 h-4"}),"Solicitud"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Motivo:"}),u.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.reason==="PERDIDA"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t.reason==="PERDIDA"?"Perdida":"Deterioro"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Solicitud:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.requested_at})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Entrega:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.issued_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Dias Transcurridos:"}),u.jsxs("span",{className:`text-sm font-medium ${a>t.alert_after_days?"text-amber-600":"text-slate-900"}`,children:[a," dias"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Estado:"}),u.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.status==="ASIGNADA"?"bg-blue-100 text-blue-700":t.status==="CERRADA"?"bg-slate-100 text-slate-700":t.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:t.status})]}),t.recovered_at&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Recuperada:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.recovered_at)})]}),t.cancel_reason&&u.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Motivo Cancelacion:"}),u.jsx("p",{className:"text-sm text-slate-900 mt-1",children:t.cancel_reason})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(oR,{className:"w-4 h-4"}),"Descuento"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Aplicado:"}),u.jsx("span",{className:`text-sm font-medium ${t.discount_applied?"text-emerald-600":"text-slate-500"}`,children:t.discount_applied?"Si":"No"})]}),t.discount_applied&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Monto:"}),u.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["$",t.discount_amount.toLocaleString("es-CL")]})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(sR,{className:"w-4 h-4"}),"Auditoria"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Creado por:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.created_by_supervisor})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Creado:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Correo Trabajador:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.boss_email||"-"})]}),t.emails_sent_at&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Emails Enviados:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.emails_sent_at)})]})]})]})]}),u.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},W2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var d;const[i,s]=A.useState(new Date().toISOString().split("T")[0]),[o,l]=A.useState(""),c=async f=>{f.preventDefault(),t&&(await n(t.id,i,o),l(""))};return!e||!t?null:u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uR,{className:"w-5 h-5 text-emerald-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Marcar como Recuperada"})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"Trabajador:"})," ",t.person_name]}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"RUT:"})," ",ul(t.person_rut)]}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"Tarjeta:"})," ",(d=t.backup_cards)==null?void 0:d.card_number]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha de Devolucion"}),u.jsx("input",{type:"date",className:"input",value:i,onChange:f=>s(f.target.value),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Observacion (opcional)"}),u.jsx("textarea",{className:"input min-h-[80px]",value:o,onChange:f=>l(f.target.value),placeholder:"Notas adicionales..."})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Al confirmar, la tarjeta sera liberada y quedara disponible para nuevos prestamos."}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary bg-emerald-600 hover:bg-emerald-700",disabled:a,children:a?"Procesando...":"Confirmar Devolucion"})]})]})]})})]})},H2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var l;const[i,s]=A.useState(""),o=async c=>{c.preventDefault(),!(!t||!i.trim())&&(await n(t.id,i.trim()),s(""))};return!e||!t?null:u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Lv,{className:"w-5 h-5 text-red-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cancelar Prestamo"})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[u.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Esta accion no se puede deshacer."}),u.jsxs("p",{className:"text-sm text-red-700",children:["El prestamo a ",t.person_name," (tarjeta ",(l=t.backup_cards)==null?void 0:l.card_number,") sera cancelado y la tarjeta sera liberada."]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo de cancelacion (obligatorio)"}),u.jsx("textarea",{className:"input min-h-[100px]",value:i,onChange:c=>s(c.target.value),placeholder:"Explique por que se cancela este prestamo...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Volver"}),u.jsx("button",{type:"submit",className:"btn btn-primary bg-red-600 hover:bg-red-700",disabled:a||!i.trim(),children:a?"Cancelando...":"Confirmar Cancelacion"})]})]})]})})]})},q2e=({isOpen:e,onClose:t})=>{const r=qt(),[n,a]=A.useState(!1),[i,s]=A.useState(""),[o,l]=A.useState(""),[c,d]=A.useState({card_number:"",inventory_terminal:"El Roble",notes:""}),{data:f=[],isLoading:h}=Tt({queryKey:["backup-cards",i,o],queryFn:()=>O2e(o||void 0,i||void 0),enabled:e}),p=Qt({mutationFn:C2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]}),a(!1),d({card_number:"",inventory_terminal:"El Roble",notes:""})}}),g=Qt({mutationFn:k2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]})}}),v=m=>{m.preventDefault(),p.mutate(c)},x=m=>{confirm(`Desactivar tarjeta ${m.card_number}?`)&&g.mutate(m.id)};if(!e)return null;const b={LIBRE:"bg-emerald-100 text-emerald-800",ASIGNADA:"bg-blue-100 text-blue-800",INACTIVA:"bg-slate-100 text-slate-600"};return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jf,{className:"w-5 h-5 text-slate-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventario de Tarjetas"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-wrap items-center gap-3",children:[u.jsxs("select",{className:"input w-auto",value:i,onChange:m=>s(m.target.value),children:[u.jsx("option",{value:"",children:"Todos los terminales"}),Vs.map(m=>u.jsx("option",{value:m,children:m},m))]}),u.jsxs("select",{className:"input w-auto",value:o,onChange:m=>l(m.target.value),children:[u.jsx("option",{value:"",children:"Todos los estados"}),rQ.map(m=>u.jsx("option",{value:m.value,children:m.label},m.value))]}),u.jsx("div",{className:"flex-1"}),u.jsxs("button",{onClick:()=>a(!n),className:"btn btn-primary flex items-center gap-2",children:[u.jsx(cR,{className:"w-4 h-4"}),"Agregar Tarjeta"]})]}),n&&u.jsxs("form",{onSubmit:v,className:"p-4 bg-slate-50 border-b border-slate-100",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Numero de Tarjeta"}),u.jsx("input",{type:"text",className:"input",value:c.card_number,onChange:m=>d(y=>({...y,card_number:m.target.value})),placeholder:"Ej: TR-001",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Terminal"}),u.jsx("select",{className:"input",value:c.inventory_terminal,onChange:m=>d(y=>({...y,inventory_terminal:m.target.value})),children:Vs.map(m=>u.jsx("option",{value:m,children:m},m))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notas (opcional)"}),u.jsx("input",{type:"text",className:"input",value:c.notes,onChange:m=>d(y=>({...y,notes:m.target.value}))})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary text-sm",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary text-sm",disabled:p.isPending,children:p.isPending?"Guardando...":"Guardar"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"No hay tarjetas registradas"}):u.jsx("div",{className:"space-y-2",children:f.map(m=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(jf,{className:"w-5 h-5 text-slate-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.card_number}),u.jsx("p",{className:"text-xs text-slate-500",children:m.inventory_terminal})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b[m.status]||""}`,children:m.status}),m.status!=="INACTIVA"&&m.status!=="ASIGNADA"&&u.jsx("button",{onClick:()=>x(m),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Desactivar",children:u.jsx(VY,{className:"w-4 h-4"})})]})]},m.id))})}),u.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:u.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},V2e=({isOpen:e,onClose:t})=>{const r=qt(),[n,a]=A.useState("GLOBAL"),[i,s]=A.useState({manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0}),{data:o=[],isLoading:l}=Tt({queryKey:["backup-email-settings"],queryFn:QD,enabled:e}),c=Qt({mutationFn:$2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-email-settings"]})}});A.useEffect(()=>{const f=o.find(h=>n==="GLOBAL"?h.scope_type==="GLOBAL":h.scope_code===n);s(f?{manager_email:f.manager_email,cc_emails:f.cc_emails||"",subject_manager:f.subject_manager,subject_boss:f.subject_boss,enabled:f.enabled}:{manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0})},[n,o]);const d=f=>{f.preventDefault(),c.mutate({scope_type:n==="GLOBAL"?"GLOBAL":"TERMINAL",scope_code:n,...i})};return e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lR,{className:"w-5 h-5 text-slate-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Configuracion de Correos"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Configurar para:"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",onClick:()=>a("GLOBAL"),className:`px-3 py-1.5 text-sm rounded-lg border ${n==="GLOBAL"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Global"}),Vs.map(f=>u.jsx("button",{type:"button",onClick:()=>a(f),className:`px-3 py-1.5 text-sm rounded-lg border ${n===f?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:f},f))]})]}),l?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email del Gestor (crear credencial)"}),u.jsx("input",{type:"email",className:"input",value:i.manager_email,onChange:f=>s(h=>({...h,manager_email:f.target.value})),placeholder:"gestor@empresa.cl",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"CC (opcional, separar por coma)"}),u.jsx("input",{type:"text",className:"input",value:i.cc_emails,onChange:f=>s(h=>({...h,cc_emails:f.target.value})),placeholder:"copia1@empresa.cl, copia2@empresa.cl"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Gestor"}),u.jsx("input",{type:"text",className:"input",value:i.subject_manager,onChange:f=>s(h=>({...h,subject_manager:f.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Jefatura"}),u.jsx("input",{type:"text",className:"input",value:i.subject_boss,onChange:f=>s(h=>({...h,subject_boss:f.target.value})),required:!0})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:i.enabled,onChange:f=>s(h=>({...h,enabled:f.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Envio habilitado"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cerrar"}),u.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:c.isPending,children:[u.jsx(MY,{className:"w-4 h-4"}),c.isPending?"Guardando...":"Guardar"]})]}),c.isSuccess&&u.jsx("p",{className:"text-sm text-emerald-600 text-center",children:"Configuracion guardada correctamente"})]})]})]})})]}):null},K2e=({isOpen:e,loan:t,managerEmail:r,workerEmail:n,cc:a,onClose:i,onSubmit:s,isLoading:o})=>{const l=A.useRef(null),[c,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(""),v=_=>{var E;const w=(E=_.target.files)==null?void 0:E[0];if(!w)return;if(!["application/pdf","image/png","image/jpeg"].includes(w.type)){g("Solo se permiten archivos PDF, PNG o JPG");return}if(w.size>5*1024*1024){g("El archivo no puede superar 5MB");return}if(g(""),d(w),w.type.startsWith("image/")){const j=new FileReader;j.onload=T=>{var C;return h((C=T.target)==null?void 0:C.result)},j.readAsDataURL(w)}else h(null)},x=async()=>{if(!c){g("Debe adjuntar el documento firmado");return}const _=new FileReader;_.onload=async w=>{var E;const S=((E=w.target)==null?void 0:E.result).split(",")[1];await s({filename:`autorizacion_descuento_${(t==null?void 0:t.person_rut)||"firmado"}.${c.name.split(".").pop()}`,content:S})},_.readAsDataURL(c)},b=async()=>{await s(null)},m=()=>{d(null),h(null),g("")},y=()=>{m(),i()};return!e||!t?null:u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:y}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Adjuntar Documento Firmado"}),u.jsx("button",{onClick:y,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Trabajador:"})," ",t.person_name," (",ul(t.person_rut),")"]}),u.jsx("p",{className:"text-sm text-blue-800 mt-1",children:u.jsx("strong",{children:"Se enviar correo a:"})}),u.jsxs("ul",{className:"text-xs text-blue-700 mt-1 list-disc list-inside",children:[u.jsxs("li",{children:["Gestor de credenciales: ",r," ",u.jsx("span",{className:"text-blue-500",children:"(con adjunto)"})]}),n&&u.jsxs("li",{children:["Notificacin trabajador: ",n]}),a&&u.jsxs("li",{children:["CC: ",a]})]})]}),u.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[u.jsx(xY,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Importante"}),u.jsx("p",{className:"text-xs text-amber-700",children:"Adjunte el documento de autorizacin de descuento firmado por el trabajador. Este se enviar SOLO al gestor de credenciales."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Documento Firmado (PDF, PNG, JPG)"}),u.jsx("input",{type:"file",ref:l,onChange:v,accept:".pdf,.png,.jpg,.jpeg",className:"hidden"}),c?u.jsx("div",{className:"border border-slate-200 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[f?u.jsx("img",{src:f,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):u.jsx("div",{className:"w-16 h-16 bg-red-50 rounded flex items-center justify-center",children:u.jsx(AY,{className:"w-8 h-8 text-red-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:c.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[(c.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{type:"button",onClick:()=>{d(null),h(null)},className:"p-1 hover:bg-slate-100 rounded",children:u.jsx(Fi,{className:"w-4 h-4 text-slate-500"})})]})}):u.jsxs("button",{type:"button",onClick:()=>{var _;return(_=l.current)==null?void 0:_.click()},className:"w-full border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-400 hover:bg-blue-50/50 transition-colors",children:[u.jsx(QY,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Haga clic para seleccionar archivo"}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Max 5MB"})]}),p&&u.jsx("p",{className:"text-xs text-red-500 mt-2",children:p})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:[u.jsx("button",{type:"button",onClick:b,className:"text-sm text-slate-500 hover:text-slate-700",disabled:o,children:"Enviar sin adjunto"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:y,className:"btn btn-secondary",disabled:o,children:"Cancelar"}),u.jsx("button",{type:"button",onClick:x,className:"btn btn-primary flex items-center gap-2",disabled:o||!c,children:o?"Enviando...":u.jsxs(u.Fragment,{children:[u.jsx(BY,{className:"w-4 h-4"}),"Enviar Correos"]})})]})]})]})})]})},G2e=()=>{var B,z,ae,Se;const e=qt(),t=qe(Q=>Q.context),r=qe(Q=>Q.setContext),n=zn(Q=>Q.session),[a,i]=A.useState({status:"TODAS",reason:"TODAS",alertsOnly:!1}),[s,o]=A.useState(!1),[l,c]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,v]=A.useState(!1),[x,b]=A.useState(!1),[m,y]=A.useState(!1),[_,w]=A.useState(!1),[S,E]=A.useState(null),[j,T]=A.useState(!1),C=Tt({queryKey:["backup-loans",a],queryFn:()=>P2e(a)}),N=Tt({queryKey:["backup-kpis"],queryFn:L2e}),L=Tt({queryKey:["backup-email-settings"],queryFn:QD}),W=Qt({mutationFn:async Q=>({loan:await R2e(Q),sendEmails:Q.send_emails}),onSuccess:({loan:Q,sendEmails:q})=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),o(!1),q&&(E(Q),w(!0))}}),Z=Qt({mutationFn:({id:Q,recoveredAt:q,observation:ee})=>I2e(Q,q),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),b(!1),p(null)}}),V=Qt({mutationFn:({id:Q,reason:q})=>D2e(Q,q),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),y(!1),p(null)}}),ne=A.useMemo(()=>{var q;let Q=C.data||[];if(t.mode!=="ALL"&&t.value){const ee=(q=Ma.find(ye=>ye.value===t.value))==null?void 0:q.label;ee&&(Q=Q.filter(ye=>ye.person_terminal===t.value||ye.person_terminal===ee))}if(a.alertsOnly){const ee=new Date;Q=Q.filter(ye=>{if(ye.status!=="ASIGNADA")return!1;const re=new Date(ye.issued_at);return Math.floor((ee.getTime()-re.getTime())/(1e3*60*60*24))>ye.alert_after_days})}return Q},[C.data,t,a.alertsOnly]),se=Q=>{p(Q),v(!0)},K=Q=>{se(Q)},te=Q=>{p(Q),b(!0)},ce=Q=>{p(Q),y(!0)},pe=Q=>{E(Q),w(!0)},P=async Q=>{var ye;if(!S)return;const q=(ye=L.data)==null?void 0:ye.find(re=>re.scope_code===S.person_terminal||re.scope_type==="GLOBAL");if(!q){eF("Configuracin requerida",'Configure los correos primero en el botn "Correos"'),w(!1),E(null);return}T(!0);const ee=await B2e(S,q.manager_email,q.cc_emails||void 0,Q);T(!1),ee.success?(ni("Correos enviados","Los correos de notificacin fueron enviados correctamente",S.person_name),e.invalidateQueries({queryKey:["backup-loans"]})):Qa("Error al enviar correos",ee.error||"Error desconocido"),w(!1),E(null)},H=()=>{if(!ne.length)return;const Q=new Date,q=ne.map(ee=>{var Le;const ye=new Date(ee.issued_at),re=Math.floor((Q.getTime()-ye.getTime())/(1e3*60*60*24));return{rut:ul(ee.person_rut),nombre:ee.person_name,cargo:ee.person_cargo||"",terminal:ee.person_terminal,tarjeta:((Le=ee.backup_cards)==null?void 0:Le.card_number)||"",motivo:ee.reason==="PERDIDA"?"Perdida":"Deterioro",fecha_entrega:new Date(ee.issued_at).toLocaleDateString("es-CL"),dias:re,estado:ee.status,descuento:ee.discount_applied?ee.discount_amount:0,correo_trabajador:ee.boss_email||"",creado_por:ee.created_by_supervisor}});dt({filename:`prestamos_respaldo_${new Date().toISOString().split("T")[0]}`,sheetName:"Prestamos",rows:q,columns:[{key:"rut",header:"RUT"},{key:"nombre",header:"Nombre"},{key:"cargo",header:"Cargo"},{key:"terminal",header:"Terminal"},{key:"tarjeta",header:"Tarjeta"},{key:"motivo",header:"Motivo"},{key:"fecha_entrega",header:"Fecha Entrega"},{key:"dias",header:"Dias"},{key:"estado",header:"Estado"},{key:"descuento",header:"Descuento"},{key:"email_jefatura",header:"Email Jefatura"},{key:"creado_por",header:"Creado Por"}]})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Credenciales de Respaldo",description:"Control de prestamo de tarjetas de respaldo",actions:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>f(!0),className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(zY,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Correos"})]}),u.jsxs("button",{onClick:()=>c(!0),className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(jf,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Tarjetas"})]}),u.jsxs("button",{onClick:H,className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(SY,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"XLSX"})]}),u.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary flex items-center gap-2",children:[u.jsx(cR,{className:"w-4 h-4"}),"Nuevo Prestamo"]})]})}),u.jsx(nQ,{kpis:N.data||{availableByTerminal:{"El Roble":0,"La Reina":0,"Maria Angelica":0},activeLoans:0,overdueLoans:0,avgReturnDays:0,totalDiscounts:0},isLoading:N.isLoading}),!C.isLoading&&C.data&&C.data.length>0&&u.jsx(E2e,{loans:C.data}),u.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm flex flex-wrap items-center gap-2",children:[u.jsx(NY,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),u.jsx("input",{type:"text",className:"h-8 px-2 text-sm border border-slate-200 rounded-md w-32 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"RUT/Nombre...",value:a.search||"",onChange:Q=>i(q=>({...q,search:Q.target.value}))}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:t.value||"",onChange:Q=>{Q.target.value?r({mode:"TERMINAL",value:Q.target.value}):r({mode:"ALL"})},children:[u.jsx("option",{value:"",children:"Terminal"}),Ma.map(Q=>u.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.status||"TODAS",onChange:Q=>i(q=>({...q,status:Q.target.value})),children:[u.jsx("option",{value:"TODAS",children:"Estado"}),tQ.map(Q=>u.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.reason||"TODAS",onChange:Q=>i(q=>({...q,reason:Q.target.value})),children:[u.jsx("option",{value:"TODAS",children:"Motivo"}),dR.map(Q=>u.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-xs text-slate-600 whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",checked:a.alertsOnly||!1,onChange:Q=>i(q=>({...q,alertsOnly:Q.target.checked})),className:"w-3.5 h-3.5 rounded border-slate-300"}),u.jsx(Lv,{className:"w-3.5 h-3.5 text-amber-500"}),"Atrasados"]}),u.jsx("div",{className:"h-4 w-px bg-slate-200 hidden sm:block"}),u.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateFrom||"",onChange:Q=>i(q=>({...q,dateFrom:Q.target.value})),title:"Desde"}),u.jsx("span",{className:"text-slate-400 text-xs",children:"-"}),u.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateTo||"",onChange:Q=>i(q=>({...q,dateTo:Q.target.value})),title:"Hasta"})]}),C.isLoading&&u.jsx(xr,{label:"Cargando prestamos..."}),C.isError&&u.jsx(Rr,{message:"Error al cargar prestamos",onRetry:C.refetch}),!C.isLoading&&!C.isError&&u.jsx(A2e,{loans:ne,onView:se,onEdit:K,onRecover:te,onCancel:ce,onResendEmails:pe}),u.jsx(U2e,{isOpen:s,onClose:()=>o(!1),onSubmit:async(Q,q)=>{await W.mutateAsync(Q),Q.discount_applied&&q()},isLoading:W.isPending,supervisorName:(n==null?void 0:n.supervisorName)||"Supervisor"}),u.jsx(z2e,{isOpen:g,loan:h,onClose:()=>{v(!1),p(null)}}),u.jsx(W2e,{isOpen:x,loan:h,onClose:()=>{b(!1),p(null)},onSubmit:async(Q,q,ee)=>{await Z.mutateAsync({id:Q,recoveredAt:q,observation:ee})},isLoading:Z.isPending}),u.jsx(H2e,{isOpen:m,loan:h,onClose:()=>{y(!1),p(null)},onSubmit:async(Q,q)=>{await V.mutateAsync({id:Q,reason:q})},isLoading:V.isPending}),u.jsx(q2e,{isOpen:l,onClose:()=>c(!1)}),u.jsx(V2e,{isOpen:d,onClose:()=>f(!1)}),u.jsx(K2e,{isOpen:_,loan:S,managerEmail:((z=(B=L.data)==null?void 0:B.find(Q=>Q.scope_code===(S==null?void 0:S.person_terminal)||Q.scope_type==="GLOBAL"))==null?void 0:z.manager_email)||"",workerEmail:(S==null?void 0:S.boss_email)||"",cc:((Se=(ae=L.data)==null?void 0:ae.find(Q=>Q.scope_code===(S==null?void 0:S.person_terminal)||Q.scope_type==="GLOBAL"))==null?void 0:Se.cc_emails)||void 0,onClose:()=>{w(!1),E(null)},onSubmit:P,isLoading:j})]})},X2e=[{id:"s-1",solicitante:"Ana Prez",tipo:"Materiales",fecha:"2023-12-04",estado:"abierta",terminal:"EL_ROBLE"},{id:"s-2",solicitante:"Carlos Vega",tipo:"Personal",fecha:"2023-12-03",estado:"en_proceso",terminal:"LA_REINA"},{id:"s-3",solicitante:"Laura Soto",tipo:"Tecnologa",fecha:"2023-12-02",estado:"cerrada",terminal:"EL_SALTO"}],JN=Iu(X2e,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),Y2e=()=>{const e=qe(b=>b.context),t=qe(b=>b.setContext),[r,n]=A.useState({estado:"todas"}),[a,i]=A.useState(""),[s,o]=A.useState(""),[l,c]=A.useState([]),d=Tt({queryKey:["solicitudes",e,r],queryFn:()=>JN.list({terminalContext:e,filters:r,scope:"view"})}),f=A.useMemo(()=>[...d.data??[],...l],[d.data,l]),h=A.useMemo(()=>[{key:"tipo",header:"Tipo"},{key:"solicitante",header:"Solicitante"},{key:"estado",header:"Estado",render:b=>u.jsx("span",{className:"badge capitalize",children:b.estado}),value:b=>b.estado},{key:"fecha",header:"Fecha"},{key:"terminal",header:"Terminal",render:b=>Ge(b.terminal),value:b=>Ge(b.terminal)}],[]),p=h.map(b=>({key:b.key,header:b.header,value:m=>b.value?b.value(m):m[b.key]})),g=()=>{dt({filename:"solicitudes_vista",sheetName:"Solicitudes",rows:f,columns:p})},v=async()=>{const b=await JN.list({terminalContext:e,scope:"all"});dt({filename:"solicitudes_completo",sheetName:"Solicitudes",rows:b,columns:p})},x=()=>{const b={id:`local-${Date.now()}`,solicitante:s,tipo:a,estado:"abierta",fecha:new Date().toISOString().slice(0,10),terminal:e.value??"EL_ROBLE"};c(m=>[b,...m]),o(""),i("")};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Solicitudes",description:"Formulario universal para requerimientos",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",onClick:()=>{var b;return(b=document.getElementById("solicitud-form"))==null?void 0:b.scrollIntoView({behavior:"smooth"})},children:"Nueva solicitud"}),u.jsx(qr,{onExportView:g,onExportAll:v})]})}),u.jsx(ua,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:b=>n({estado:b.target.value}),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"abierta",children:"Abierta"}),u.jsx("option",{value:"en_proceso",children:"En proceso"}),u.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),u.jsxs("div",{className:"card p-4",id:"solicitud-form",children:[u.jsx("p",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Crear nueva solicitud"}),u.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Solicitante"}),u.jsx("input",{className:"input",value:s,onChange:b=>o(b.target.value)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Tipo"}),u.jsx("input",{className:"input",value:a,onChange:b=>i(b.target.value),placeholder:"Ej: Materiales"})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!s||!a,children:"Registrar (mock)"})})]})]}),d.isLoading&&u.jsx(xr,{}),d.isError&&u.jsx(Rr,{onRetry:d.refetch}),!d.isLoading&&!d.isError&&u.jsxs(u.Fragment,{children:[!f.length&&u.jsx(La,{description:"Sin solicitudes"}),f.length>0&&u.jsx($a,{columns:h,rows:f})]})]})},Rh=({terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o,children:l})=>u.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Buscar PPU"}),u.jsx("input",{type:"text",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 w-32 lg:w-40",placeholder:"PPU...",value:r,onChange:c=>n(c.target.value)})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Desde"}),u.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:a,onChange:c=>i(c.target.value)})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Hasta"}),u.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:s,onChange:c=>o(c.target.value)})]}),l]}),Ih=({items:e})=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e.map((t,r)=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:t.label}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.value}),t.subtext&&u.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:t.subtext})]}),t.icon&&u.jsx("div",{className:`p-2 rounded-lg ${t.colorClass||"bg-slate-100 text-slate-600"}`,children:u.jsx(de,{name:t.icon,size:20})})]},r))}),Q2e="https://wvcplgwemvqhvtstlqmt.supabase.co",JD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2Y3BsZ3dlbXZxaHZ0c3RscW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjIyMDUsImV4cCI6MjA3NTkzODIwNX0.K1YOv5lRn9fOous3AyG2gPxsQBzqOXRfYHgrCmO5zxk",J2e=Q5(Q2e,JD,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),Z2e=()=>!!JD,Dh=async(e,t)=>{if(!Z2e())return[];let r=J2e.from(e).select("*");if(t.terminalContext&&t.terminalContext.mode!=="ALL"){const l=Xi(t.terminalContext).map(c=>Wc[c]).filter(Boolean);l.length>0&&(r=r.in("terminal",l))}t.search&&(r=r.ilike("bus_ppu",`%${t.search}%`)),t.dateFrom&&(r=r.gte("created_at",t.dateFrom)),t.dateTo&&(r=r.lte("created_at",t.dateTo));const n=t.sortBy||"updated_at",a=t.sortOrder||"desc";r=r.order(n,{ascending:a==="asc"});const{data:i,error:s}=await r;if(s)throw console.error(`Error fetching ${e}:`,s),s;return i},eSe=e=>Dh("extintores",e),tSe=e=>Dh("tags",e),rSe=e=>Dh("mobileye",e),nSe=e=>Dh("odometro",e),aSe=e=>Dh("publicidad",e),iSe=e=>Tt({queryKey:["minicheck","extintores",e],queryFn:()=>eSe(e)}),sSe=e=>Tt({queryKey:["minicheck","tags",e],queryFn:()=>tSe(e)}),oSe=e=>Tt({queryKey:["minicheck","mobileye",e],queryFn:()=>rSe(e)}),lSe=e=>Tt({queryKey:["minicheck","odometros",e],queryFn:()=>nSe(e)}),cSe=e=>Tt({queryKey:["minicheck","publicidad",e],queryFn:()=>aSe(e)}),uSe=()=>{const e=qe(m=>m.context),t=qe(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:d,isError:f,refetch:h}=iSe(l),p=A.useMemo(()=>{if(!c)return[];const m=c.length,y=c.filter(S=>S.certificacion==="VENCIDA").length,_=c.filter(S=>!S.tiene).length,w=c.filter(S=>S.presion==="BAJA_CARGA").length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Vencidos",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Sin Extintor",value:_,icon:"x",colorClass:"bg-orange-50 text-orange-600"},{label:"Presin Baja",value:w,icon:"activity",colorClass:"bg-yellow-50 text-yellow-600"}]},[c]),g=A.useMemo(()=>{if(!c)return[];const m=c.filter(_=>_.certificacion==="VIGENTE").length,y=c.filter(_=>_.certificacion==="VENCIDA").length;return[{name:"VIGENTE",value:m,color:"#10b981"},{name:"VENCIDA",value:y,color:"#ef4444"}]},[c]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ge(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene",render:m=>u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.tiene?"S":"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"certificacion",header:"Certificacin",render:m=>u.jsx("span",{className:`text-xs font-bold ${m.certificacion==="VIGENTE"?"text-green-600":"text-red-600"}`,children:m.certificacion||"-"}),value:m=>m.certificacion||"-"},{key:"vencimiento_mes",header:"Vencimiento",render:m=>m.vencimiento_mes&&m.vencimiento_anio?`${m.vencimiento_mes}/${m.vencimiento_anio}`:"-",value:m=>`${m.vencimiento_mes}/${m.vencimiento_anio}`},{key:"presion",header:"Presin",value:m=>m.presion||"-"},{key:"cilindro",header:"Cilindro OK",render:m=>m.cilindro?"S":"No",value:m=>m.cilindro?"S":"No"},{key:"updated_at",header:"Actualizado",render:m=>Ut(m.updated_at),value:m=>Ut(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{c&&dt({filename:`minicheck_extintor_${new Date().toISOString().split("T")[0]}`,sheetName:"Extintores",rows:c,columns:x})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control de Extintores",description:"Validacin de estado y vencimiento de extintores",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(qr,{onExportView:b,onExportAll:b})})}),u.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&u.jsx(xr,{label:"Cargando extintores..."}),f&&u.jsx(Rr,{message:"No se pudieron obtener los registros de extintores.",onRetry:h}),!d&&!f&&u.jsxs(u.Fragment,{children:[u.jsx(Ih,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado Certificacin"}),u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:g,children:[u.jsx(cl,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(qi,{tick:{fontSize:10}}),u.jsx(fr,{}),u.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((m,y)=>u.jsx(Zi,{fill:m.color},`cell-${y}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx($a,{columns:v,rows:c}):u.jsx(La,{label:"Sin registros",description:"No se encontraron extintores con los filtros seleccionados."})})]})]})]})},dSe=()=>{const e=qe(m=>m.context),t=qe(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:d,isError:f,refetch:h}=sSe(l),p=A.useMemo(()=>{if(!c)return[];const m=c.length,y=c.filter(w=>!w.tiene).length,_=c.filter(w=>w.serie&&w.serie.trim().length>0).length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Sin TAG",value:y,icon:"alert-circle",colorClass:"bg-red-50 text-red-600"},{label:"Serie Informada",value:_,icon:"check",colorClass:"bg-blue-50 text-blue-600"}]},[c]),g=A.useMemo(()=>{if(!c)return[];const m=c.filter(_=>_.tiene).length,y=c.filter(_=>!_.tiene).length;return[{name:"Con TAG",value:m,color:"#10b981"},{name:"Sin TAG",value:y,color:"#ef4444"}]},[c]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ge(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene TAG",render:m=>u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.tiene?"S":"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"serie",header:"N Serie",value:m=>m.serie||"-"},{key:"observacion",header:"Observacin",value:m=>m.observacion||""},{key:"updated_at",header:"Actualizado",render:m=>Ut(m.updated_at),value:m=>Ut(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{c&&dt({filename:`minicheck_tag_${new Date().toISOString().split("T")[0]}`,sheetName:"Tags",rows:c,columns:x})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control de TAG",description:"Verificacin de dispositivos TAG",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(qr,{onExportView:b,onExportAll:b})})}),u.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&u.jsx(xr,{label:"Cargando tags..."}),f&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&u.jsxs(u.Fragment,{children:[u.jsx(Ih,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin"}),u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(Z2,{children:[u.jsx(Ba,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((m,y)=>u.jsx(Zi,{fill:m.color},`cell-${y}`))}),u.jsx(fr,{}),u.jsx(Ni,{})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx($a,{columns:v,rows:c}):u.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},fSe=()=>{const e=qe(y=>y.context),t=qe(y=>y.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:d,isError:f,refetch:h}=oSe(l),p=y=>y.consola&&y.sensor_frontal&&y.sensor_izq&&y.sensor_der,g=A.useMemo(()=>{if(!c)return[];const y=c.length,_=c.filter(S=>!p(S)).length,w=c.filter(S=>S.alerta_izq||S.alerta_der).length;return[{label:"Total Registros",value:y,icon:"clipboard"},{label:"Falla Sensores",value:_,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Alertas Activas",value:w,icon:"bell",colorClass:"bg-yellow-50 text-yellow-600"}]},[c]),v=A.useMemo(()=>{if(!c)return[];const y=c.filter(w=>p(w)).length,_=c.filter(w=>!p(w)).length;return[{name:"Sensores OK",value:y,color:"#10b981"},{name:"Falla",value:_,color:"#ef4444"}]},[c]),x=[{key:"bus_ppu",header:"PPU",value:y=>y.bus_ppu},{key:"terminal",header:"Terminal",render:y=>Ge(y.terminal),value:y=>y.terminal},{key:"bus_marca",header:"Marca",value:y=>y.bus_marca||"-"},{key:"consola",header:"Consola",render:y=>y.consola?u.jsx(de,{name:"check",size:16,className:"text-green-500"}):u.jsx(de,{name:"x",size:16,className:"text-red-500"}),value:y=>y.consola?"OK":"Falla"},{key:"id",header:"Sensores OK?",render:y=>{const _=p(y);return u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${_?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_?"S":"NO"})},value:y=>p(y)?"S":"NO"},{key:"id",header:"Alertas",render:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.length>0?u.jsx("span",{className:"text-red-600 font-bold text-xs",children:_.join(", ")}):"-"},value:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.join(", ")}},{key:"updated_at",header:"Actualizado",render:y=>Ut(y.updated_at),value:y=>Ut(y.updated_at)}],b=x.map(y=>({header:y.header,key:y.key,value:y.value})),m=()=>{c&&dt({filename:`minicheck_mobileye_${new Date().toISOString().split("T")[0]}`,sheetName:"Mobileye",rows:c,columns:b})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Mobileye",description:"Estado de sensores y cmaras Mobileye",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(qr,{onExportView:m,onExportAll:m})})}),u.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&u.jsx(xr,{label:"Cargando Mobileye..."}),f&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&u.jsxs(u.Fragment,{children:[u.jsx(Ih,{items:g}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado General Sensores"}),u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:v,children:[u.jsx(cl,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(qi,{tick:{fontSize:10}}),u.jsx(fr,{}),u.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:v.map((y,_)=>u.jsx(Zi,{fill:y.color},`cell-${_}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx($a,{columns:x,rows:c}):u.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},hSe=()=>{const e=qe(m=>m.context),t=qe(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:d,isError:f,refetch:h}=lSe(l),p=A.useMemo(()=>{if(!c)return[];const m=c.length,y=c.filter(w=>w.estado==="INCONSISTENTE").length,_=c.filter(w=>w.estado==="NO_FUNCIONA").length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Inconsistentes",value:y,icon:"alert-triangle",colorClass:"bg-yellow-50 text-yellow-600"},{label:"No Funciona",value:_,icon:"x-circle",colorClass:"bg-red-50 text-red-600"}]},[c]),g=A.useMemo(()=>{if(!c)return[];const m=c.filter(w=>w.estado==="OK").length,y=c.filter(w=>w.estado==="INCONSISTENTE").length,_=c.filter(w=>w.estado==="NO_FUNCIONA").length;return[{name:"OK",value:m,color:"#10b981"},{name:"INCONSISTENTE",value:y,color:"#f59e0b"},{name:"NO FUNCIONA",value:_,color:"#ef4444"}].filter(w=>w.value>0)},[c]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ge(m.terminal),value:m=>m.terminal},{key:"lectura",header:"Lectura",value:m=>m.lectura.toLocaleString("es-CL")},{key:"estado",header:"Estado",render:m=>{let y="bg-gray-100 text-gray-800";return m.estado==="OK"&&(y="bg-green-100 text-green-800"),m.estado==="INCONSISTENTE"&&(y="bg-yellow-100 text-yellow-800"),m.estado==="NO_FUNCIONA"&&(y="bg-red-100 text-red-800"),u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${y}`,children:m.estado})},value:m=>m.estado},{key:"observacion",header:"Observacin",value:m=>m.observacion||""},{key:"updated_at",header:"Actualizado",render:m=>Ut(m.updated_at),value:m=>Ut(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{c&&dt({filename:`minicheck_odometro_${new Date().toISOString().split("T")[0]}`,sheetName:"Odometros",rows:c,columns:x})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Odmetro",description:"Lecturas y estado de odmetros",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(qr,{onExportView:b,onExportAll:b})})}),u.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&u.jsx(xr,{label:"Cargando Odmetros..."}),f&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&u.jsxs(u.Fragment,{children:[u.jsx(Ih,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin Estados"}),u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(Z2,{children:[u.jsx(Ba,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((m,y)=>u.jsx(Zi,{fill:m.color},`cell-${y}`))}),u.jsx(fr,{}),u.jsx(Ni,{})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx($a,{columns:v,rows:c}):u.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},pSe=()=>{const e=qe(m=>m.context),t=qe(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:d,isError:f,refetch:h}=cSe(l),p=A.useMemo(()=>{if(!c)return[];const m=c.length,y=c.filter(S=>S.danio).length,_=c.filter(S=>S.residuos).length,w=c.filter(S=>!S.tiene).length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Con Dao",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Con Residuos",value:_,icon:"trash",colorClass:"bg-orange-50 text-orange-600"},{label:"Sin Publicidad",value:w,icon:"x-circle",colorClass:"bg-gray-50 text-gray-600"}]},[c]),g=A.useMemo(()=>{if(!c)return[];const m=c.filter(w=>w.danio).length,y=c.filter(w=>w.residuos).length,_=c.filter(w=>!w.tiene).length;return[{name:"Con Dao",value:m,color:"#ef4444"},{name:"Con Residuos",value:y,color:"#f97316"},{name:"Sin Pub.",value:_,color:"#64748b"}]},[c]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ge(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene",render:m=>m.tiene?u.jsx("span",{className:"text-green-600 font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"danio",header:"Dao",render:m=>m.danio?u.jsx("span",{className:"px-2 py-0.5 rounded bg-red-100 text-red-800 text-xs font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"-"}),value:m=>m.danio?"SI":"NO"},{key:"residuos",header:"Residuos",render:m=>m.residuos?u.jsx("span",{className:"px-2 py-0.5 rounded bg-orange-100 text-orange-800 text-xs font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"-"}),value:m=>m.residuos?"SI":"NO"},{key:"nombre_publicidad",header:"Nombre",value:m=>m.nombre_publicidad||"-"},{key:"updated_at",header:"Actualizado",render:m=>Ut(m.updated_at),value:m=>Ut(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{c&&dt({filename:`minicheck_publicidad_${new Date().toISOString().split("T")[0]}`,sheetName:"Publicidad",rows:c,columns:x})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Publicidad",description:"Estado de publicidad en buses",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(qr,{onExportView:b,onExportAll:b})})}),u.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&u.jsx(xr,{label:"Cargando publicidad..."}),f&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&u.jsxs(u.Fragment,{children:[u.jsx(Ih,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Problemas Detectados"}),u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:g,children:[u.jsx(cl,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(qi,{tick:{fontSize:10}}),u.jsx(fr,{}),u.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((m,y)=>u.jsx(Zi,{fill:m.color},`cell-${y}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx($a,{columns:v,rows:c}):u.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},mSe=[{ppu:"ABCD12",modelo:"Camin 3/4",estado:"operativo",odometro:123400,proximaMantencion:"2024-01-15",terminal:"EL_ROBLE"},{ppu:"EFGH34",modelo:"Furgn",estado:"en_taller",odometro:88400,proximaMantencion:"2024-02-01",terminal:"LA_REINA"},{ppu:"IJKL56",modelo:"Tracto",estado:"fuera_servicio",odometro:23e4,proximaMantencion:"2024-01-30",terminal:"EL_SALTO"}],ZN=Iu(mSe,(e,t)=>t!=null&&t.estado&&t.estado!=="todos"?e.estado===t.estado:!0),vSe=()=>{const e=qe(g=>g.context),t=qe(g=>g.setContext),[r,n]=A.useState({estado:"todos"}),[a,i]=A.useState(""),s=Tt({queryKey:["flota",e,r],queryFn:()=>ZN.list({terminalContext:e,filters:r,scope:"view"})}),o=s.data??[],l=A.useMemo(()=>[{key:"ppu",header:"PPU"},{key:"modelo",header:"Modelo"},{key:"estado",header:"Estado",render:g=>u.jsx("span",{className:"badge capitalize",children:g.estado}),value:g=>g.estado},{key:"odometro",header:"Odmetro"},{key:"proximaMantencion",header:"Mantencin",render:g=>Ut(g.proximaMantencion),value:g=>Ut(g.proximaMantencion)},{key:"terminal",header:"Terminal",render:g=>Ge(g.terminal),value:g=>Ge(g.terminal)}],[]),c=l.map(g=>({key:g.key,header:g.header,value:v=>g.value?g.value(v):v[g.key]})),d=()=>{dt({filename:"flota_vista",sheetName:"Flota",rows:o,columns:c})},f=async()=>{const g=await ZN.list({terminalContext:e,scope:"all"});dt({filename:"flota_completo",sheetName:"Flota",rows:g,columns:c})},h=A.useMemo(()=>{const g={};return o.forEach(v=>{g[v.estado]=(g[v.estado]??0)+1}),Object.entries(g).map(([v,x])=>({estado:v,count:x}))},[o]),p=o.find(g=>g.ppu===a)??o[0];return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Estado de Flota",description:"Vista por PPU con ficha y grficas",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Agregar unidad"}),u.jsx(qr,{onExportView:d,onExportAll:f})]})}),u.jsx(ua,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:g=>n({estado:g.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"operativo",children:"Operativo"}),u.jsx("option",{value:"en_taller",children:"En taller"}),u.jsx("option",{value:"fuera_servicio",children:"Fuera de servicio"})]})]})}),s.isLoading&&u.jsx(xr,{}),s.isError&&u.jsx(Rr,{onRetry:s.refetch}),!s.isLoading&&!s.isError&&o.length===0&&u.jsx(La,{description:"Sin unidades"}),!s.isLoading&&!s.isError&&o.length>0&&u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx("div",{className:"md:col-span-2 space-y-3",children:u.jsx($a,{columns:l,rows:o})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"card p-4",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Resumen por estado"}),u.jsx("div",{className:"mt-2 h-48",children:u.jsx(Ci,{width:"100%",height:"100%",children:u.jsxs(bu,{data:h,children:[u.jsx(cl,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),u.jsx(Hi,{dataKey:"estado",tick:{fontSize:12}}),u.jsx(qi,{allowDecimals:!1}),u.jsx(fr,{}),u.jsx(gn,{dataKey:"count",fill:"#3c5eff",radius:[6,6,0,0]})]})})})]}),p&&u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ficha rpida"}),u.jsx("select",{className:"input w-32",value:p.ppu,onChange:g=>i(g.target.value),children:o.map(g=>u.jsx("option",{value:g.ppu,children:g.ppu},g.ppu))})]}),u.jsxs("dl",{className:"space-y-2 text-sm text-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Modelo"}),u.jsx("dd",{children:p.modelo})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Estado"}),u.jsx("dd",{className:"badge capitalize",children:p.estado})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Odmetro"}),u.jsx("dd",{children:p.odometro.toLocaleString("es-CL")})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Prxima mantencin"}),u.jsx("dd",{children:Ut(p.proximaMantencion)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Terminal"}),u.jsx("dd",{children:Ge(p.terminal)})]})]})]})]})]})]})},wu={TERMINAL:["El Roble"],CABEZAL:["El Descanso","Aeropuerto","Intermodal La Cisterna"]},bc=e=>{const t={};return e.forEach(r=>{t[r.supply_id]=(t[r.supply_id]||0)+r.quantity}),t},wc=(e,t,r,n)=>e.filter(a=>a.location_type===t&&a.location_name===r&&n.includes(a.period)),gSe=(e,t)=>{const r={},n=wc(e,"TERMINAL","El Roble",["DAY"]),a=bc(n);Object.entries(a).forEach(([o,l])=>{r[o]=(r[o]||0)+l*5});const i=wc(e,"TERMINAL","El Roble",["NIGHT"]),s=bc(i);return Object.entries(s).forEach(([o,l])=>{r[o]=(r[o]||0)+l*4}),wu.CABEZAL.forEach(o=>{const l=wc(e,"CABEZAL",o,["DAY"]),c=bc(l);Object.entries(c).forEach(([d,f])=>{r[d]=(r[d]||0)+f*5})}),ZD(r,t)},xSe=(e,t)=>{const r={},n=wc(e,"TERMINAL","El Roble",["DAY"]),a=bc(n);Object.entries(a).forEach(([o,l])=>{r[o]=(r[o]||0)+l*2});const i=wc(e,"TERMINAL","El Roble",["NIGHT"]),s=bc(i);return Object.entries(s).forEach(([o,l])=>{r[o]=(r[o]||0)+l*3}),wu.CABEZAL.forEach(o=>{const l=wc(e,"CABEZAL",o,["WEEKEND"]),c=bc(l);Object.entries(c).forEach(([d,f])=>{r[d]=(r[d]||0)+f*2})}),ZD(r,t)},ZD=(e,t)=>{const r=new Map(t.map(n=>[n.id,n]));return Object.entries(e).filter(([,n])=>n>0).map(([n,a])=>{var i;return{supply_id:n,supply_name:((i=r.get(n))==null?void 0:i.name)||"Desconocido",quantity:a}}).sort((n,a)=>n.supply_name.localeCompare(a.supply_name))},ySe=()=>{const e=new Date().getDay();return e===1?"SEMANA":e===5?"FIN_SEMANA":"EXTRA"},bSe=(e,t)=>{if(!t)return null;const r=new Date(e);return r.setDate(r.getDate()+t),r},cw=(e,t=3)=>{if(!e)return!1;const r=new Date(e),n=new Date;return Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24))<=t},uw=e=>({SEMANA:"Semana",FIN_SEMANA:"Fin de Semana",EXTRA:"Extra"})[e]||e,eC=e=>e==="PENDIENTE"?"Pendiente":"Retirado",Pg=async()=>{if(!jn())return[];const{data:e,error:t}=await _e.from("supplies").select("*").order("name");if(t)throw console.error("Error fetching supplies:",t),t;return e||[]},wSe=async(e,t)=>{const{data:r,error:n}=await _e.from("supplies").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating supply:",n),n;return r},e8=async()=>{if(!jn())return[];const{data:e,error:t}=await _e.from("supply_consumption_profiles").select("*").order("location_type").order("location_name").order("period");if(t)throw console.error("Error fetching consumption profiles:",t),t;return e||[]},_Se=async e=>{const{data:t,error:r}=await _e.from("supply_consumption_profiles").upsert(e,{onConflict:"location_type,location_name,period,supply_id"}).select().single();if(r)throw console.error("Error upserting consumption profile:",r),r;return t},t8=async e=>{if(!jn())return[];let t=_e.from("supply_requests").select("*").order("requested_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.terminal&&(t=t.eq("terminal",e.terminal));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching supply requests:",n),n;return r||[]},SSe=async e=>{if(!jn())return null;const{data:t,error:r}=await _e.from("supply_requests").select("*").eq("id",e).single();if(r)throw console.error("Error fetching supply request:",r),r;const{data:n,error:a}=await _e.from("supply_request_items").select("*, supply:supplies(*)").eq("request_id",e);if(a)throw console.error("Error fetching request items:",a),a;return{...t,items:n||[]}},ESe=async(e,t,r)=>{const{data:n,error:a}=await _e.from("supply_requests").insert({terminal:e.terminal,request_type:e.request_type,created_by:t,consumption_snapshot:r}).select().single();if(a)throw console.error("Error creating supply request:",a),a;const i=e.items.filter(s=>s.quantity>0).map(s=>({request_id:n.id,supply_id:s.supply_id,quantity:s.quantity,is_extra:s.is_extra}));if(i.length>0){const{error:s}=await _e.from("supply_request_items").insert(i);if(s)throw console.error("Error creating request items:",s),s}return n},jSe=async e=>{const{data:t,error:r}=await _e.from("supply_requests").update({status:"RETIRADO",retrieved_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw console.error("Error marking request as retrieved:",r),r;return t},TSe=async e=>{const{error:t}=await _e.from("supply_requests").delete().eq("id",e);if(t)throw console.error("Error deleting supply request:",t),t},ASe=async(e,t)=>{const r=t.name.split(".").pop(),a=`receipts/${`${e}_${Date.now()}.${r}`}`,{error:i}=await _e.storage.from("supply-receipts").upload(a,t);if(i)throw console.error("Error uploading receipt:",i),i;const{error:s}=await _e.from("supply_requests").update({receipt_path:a}).eq("id",e);if(s)throw console.error("Error updating receipt path:",s),s;return a},OSe=async e=>{const{data:t}=await _e.storage.from("supply-receipts").createSignedUrl(e,3600);return(t==null?void 0:t.signedUrl)||""},NSe=async()=>{if(!jn())return[];const{data:e,error:t}=await _e.from("supply_deliveries").select("*, supply:supplies(*)").order("delivered_at",{ascending:!1});if(t)throw console.error("Error fetching deliveries with supplies:",t),t;return e||[]},CSe=async(e,t,r)=>{const n=new Date,a=bSe(n,r),{data:i,error:s}=await _e.from("supply_deliveries").insert({...e,created_by:t,delivered_at:n.toISOString(),next_delivery_at:(a==null?void 0:a.toISOString())||null}).select().single();if(s)throw console.error("Error creating delivery:",s),s;return i},kSe=async()=>{if(!jn())return[];const{data:e,error:t}=await _e.from("supply_email_settings").select("*").order("trigger");if(t)throw console.error("Error fetching email settings:",t),t;return e||[]},tC=async(e,t)=>{const{data:r,error:n}=await _e.from("supply_email_settings").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating email settings:",n),n;return r},PSe=async()=>{if(!jn())return{pending:0,retrieved:0};const{data:e,error:t}=await _e.from("supply_requests").select("status");if(t)throw console.error("Error fetching request stats:",t),t;const r=(e==null?void 0:e.filter(a=>a.status==="PENDIENTE").length)||0,n=(e==null?void 0:e.filter(a=>a.status==="RETIRADO").length)||0;return{pending:r,retrieved:n}},RSe=async(e=7)=>{if(!jn())return[];const t=new Date;t.setDate(t.getDate()+e);const{data:r,error:n}=await _e.from("supply_deliveries").select("*, supply:supplies(*)").not("next_delivery_at","is",null).lte("next_delivery_at",t.toISOString()).order("next_delivery_at");if(n)throw console.error("Error fetching upcoming deliveries:",n),n;return r||[]},ISe=()=>{const[e,t]=A.useState({supplies:[],requestStats:{pending:0,retrieved:0},upcomingDeliveries:[],recentRequests:[]}),[r,n]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const[s,o,l,c]=await Promise.all([Pg(),PSe(),RSe(7),t8()]);t({supplies:s,requestStats:o,upcomingDeliveries:l,recentRequests:c.slice(0,5)})}catch(s){console.error("Error loading dashboard stats:",s)}finally{n(!1)}})()},[]),e.supplies.filter(i=>i.min_stock>0&&i.min_stock>0);const a=e.upcomingDeliveries.filter(i=>cw(i.next_delivery_at,3));return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand-100 text-brand-600",children:u.jsx(de,{name:"package",size:22})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Insumos"}),u.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.supplies.length})]})]})}),u.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-warning-100 text-warning-600",children:u.jsx(de,{name:"clock",size:22})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Pendientes"}),u.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.pending})]})]})}),u.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-success-100 text-success-600",children:u.jsx(de,{name:"check-circle",size:22})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Retiradas"}),u.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.retrieved})]})]})}),u.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-xl ${a.length>0?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-500"}`,children:u.jsx(de,{name:"alert-triangle",size:22})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Alertas"}),u.jsx("p",{className:"text-2xl font-bold text-slate-800",children:a.length})]})]})})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[u.jsx("h3",{className:"font-semibold text-slate-800",children:"Solicitudes Recientes"}),u.jsx(de,{name:"file-text",size:18,className:"text-slate-400"})]}),u.jsx("div",{className:"divide-y divide-slate-100",children:e.recentRequests.length===0?u.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay solicitudes registradas"}):e.recentRequests.map(i=>u.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[u.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-600":"bg-success-100 text-success-600"}`,children:u.jsx(de,{name:i.status==="PENDIENTE"?"clock":"check",size:16})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-sm font-medium text-slate-800 truncate",children:[uw(i.request_type)," - ",i.terminal]}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(i.requested_at).toLocaleDateString("es-CL")})]}),u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:i.status==="PENDIENTE"?"Pendiente":"Retirado"})]},i.id))})]}),u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[u.jsx("h3",{className:"font-semibold text-slate-800",children:"Entregas Proximas"}),u.jsx(de,{name:"calendar",size:18,className:"text-slate-400"})]}),u.jsx("div",{className:"divide-y divide-slate-100",children:e.upcomingDeliveries.length===0?u.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay entregas programadas"}):e.upcomingDeliveries.slice(0,5).map(i=>{const s=cw(i.next_delivery_at,3);return u.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[u.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${s?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-600"}`,children:u.jsx(de,{name:"user",size:16})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:i.staff_name}),u.jsx("p",{className:"text-xs text-slate-500",children:i.next_delivery_at?new Date(i.next_delivery_at).toLocaleDateString("es-CL"):"Sin fecha"})]}),s&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-danger-100 px-2.5 py-0.5 text-xs font-medium text-danger-700",children:"Vencida"})]},i.id)})})]})]}),u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[u.jsx("h3",{className:"font-semibold text-slate-800",children:"Catalogo de Insumos"}),u.jsxs("span",{className:"text-sm text-slate-500",children:[e.supplies.length," insumos"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-5 py-3",children:"Nombre"}),u.jsx("th",{className:"px-5 py-3",children:"Unidad"}),u.jsx("th",{className:"px-5 py-3 text-center",children:"Vida Util"}),u.jsx("th",{className:"px-5 py-3 text-center",children:"Stock Min"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:e.supplies.map(i=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-5 py-3 text-sm font-medium text-slate-800",children:i.name}),u.jsx("td",{className:"px-5 py-3 text-sm text-slate-600",children:i.unit}),u.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.life_days?`${i.life_days} dias`:"-"}),u.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.min_stock>0?i.min_stock:"-"})]},i.id))})]})})]})]})},DSe=({onSuccess:e,onCancel:t})=>{const r=zn(E=>E.session),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,l]=A.useState(!0),[c,d]=A.useState(!1),[f,h]=A.useState(wu.TERMINAL[0]),[p,g]=A.useState(ySe()),[v,x]=A.useState([]),[b,m]=A.useState({supply_id:"",quantity:0});A.useEffect(()=>{(async()=>{try{const[j,T]=await Promise.all([Pg(),e8()]);a(j),s(T)}catch(j){console.error("Error loading form data:",j)}finally{l(!1)}})()},[]),A.useEffect(()=>{if(n.length===0||i.length===0)return;let E;p==="SEMANA"?E=gSe(i,n):p==="FIN_SEMANA"?E=xSe(i,n):E=[],x(E.map(j=>({...j,is_extra:!1})))},[p,n,i]);const y=(E,j)=>{x(T=>T.map(C=>C.supply_id===E?{...C,quantity:Math.max(0,j)}:C))},_=()=>{if(!b.supply_id||b.quantity<=0)return;const E=n.find(T=>T.id===b.supply_id);if(!E)return;const j=v.find(T=>T.supply_id===b.supply_id);x(j?T=>T.map(C=>C.supply_id===b.supply_id?{...C,quantity:C.quantity+b.quantity}:C):T=>[...T,{supply_id:b.supply_id,supply_name:E.name,quantity:b.quantity,is_extra:!0}]),m({supply_id:"",quantity:0})},w=E=>{x(j=>j.filter(T=>T.supply_id!==E))},S=async()=>{const E=v.filter(j=>j.quantity>0);if(E.length===0){alert("Debe agregar al menos un insumo");return}d(!0);try{const j={};E.forEach(T=>{j[T.supply_name]=T.quantity}),await ESe({terminal:f,request_type:p,items:E.map(T=>({supply_id:T.supply_id,quantity:T.quantity,is_extra:T.is_extra}))},(r==null?void 0:r.supervisorName)||"Usuario",j),e()}catch(j){console.error("Error creating request:",j),alert("Error al crear la solicitud")}finally{d(!1)}};return o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Terminal"}),u.jsx("select",{value:f,onChange:E=>h(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:wu.TERMINAL.map(E=>u.jsx("option",{value:E,children:E},E))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Tipo de Solicitud"}),u.jsxs("select",{value:p,onChange:E=>g(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[u.jsx("option",{value:"SEMANA",children:"Semana (Lun-Vie)"}),u.jsx("option",{value:"FIN_SEMANA",children:"Fin de Semana"}),u.jsx("option",{value:"EXTRA",children:"Extra"})]})]})]}),p!=="EXTRA"&&u.jsx("div",{className:"rounded-lg bg-brand-50 p-3 text-sm text-brand-700",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(de,{name:"info",size:18,className:"mt-0.5 flex-shrink-0"}),u.jsx("p",{children:p==="SEMANA"?"Calculo automatico para Lunes a Viernes incluyendo noches de lunes a jueves.":"Calculo automatico para Viernes noche, Sabado y Domingo completos."})]})}),u.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-2",children:"Insumo"}),u.jsx("th",{className:"px-4 py-2 text-right w-24",children:"Cantidad"}),u.jsx("th",{className:"px-4 py-2 w-12"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-500",children:"No hay insumos. Agregue items extra."})}):v.map(E=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[E.supply_name,E.is_extra&&u.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"number",min:"0",value:E.quantity,onChange:j=>y(E.supply_id,parseInt(j.target.value)||0),className:"w-full rounded border border-slate-300 px-2 py-1 text-right text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("button",{onClick:()=>w(E.supply_id),className:"rounded p-1 text-slate-400 hover:bg-danger-100 hover:text-danger-600",children:u.jsx(de,{name:"x",size:16})})})]},E.supply_id))})]})}),u.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 p-4",children:[u.jsx("p",{className:"mb-3 text-sm font-medium text-slate-700",children:"Agregar insumo extra"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("select",{value:b.supply_id,onChange:E=>m(j=>({...j,supply_id:E.target.value})),className:"flex-1 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[u.jsx("option",{value:"",children:"Seleccionar insumo..."}),n.filter(E=>!v.some(j=>j.supply_id===E.id)).map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]}),u.jsx("input",{type:"number",min:"1",placeholder:"Cant.",value:b.quantity||"",onChange:E=>m(j=>({...j,quantity:parseInt(E.target.value)||0})),className:"w-20 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),u.jsx("button",{onClick:_,disabled:!b.supply_id||b.quantity<=0,className:"rounded-lg bg-slate-100 px-3 py-2 text-slate-600 hover:bg-slate-200 disabled:opacity-50",children:u.jsx(de,{name:"plus",size:18})})]})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-4 py-3",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Total items: ",v.filter(E=>E.quantity>0).length]}),u.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[v.reduce((E,j)=>E+j.quantity,0)," unidades"]})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),u.jsxs("button",{onClick:S,disabled:c||v.filter(E=>E.quantity>0).length===0,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[c&&u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Crear Solicitud"]})]})]})},MSe=({requestId:e,onSuccess:t,onCancel:r})=>{const[n,a]=A.useState(null),[i,s]=A.useState(!1),[o,l]=A.useState(!1),[c,d]=A.useState(null),f=b=>["application/pdf","image/jpeg","image/png"].includes(b.type)?b.size>5*1024*1024?(d("El archivo no puede superar 5MB"),!1):!0:(d("Solo se permiten archivos PDF, JPG o PNG"),!1),h=b=>{var y;const m=(y=b.target.files)==null?void 0:y[0];m&&f(m)&&(a(m),d(null))},p=A.useCallback(b=>{b.preventDefault(),l(!1);const m=b.dataTransfer.files[0];m&&f(m)&&(a(m),d(null))},[]),g=A.useCallback(b=>{b.preventDefault(),l(!0)},[]),v=A.useCallback(b=>{b.preventDefault(),l(!1)},[]),x=async()=>{if(n){s(!0),d(null);try{await ASe(e,n),t()}catch(b){console.error("Error uploading receipt:",b),d("Error al subir el archivo. Intente nuevamente.")}finally{s(!1)}}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{onDrop:p,onDragOver:g,onDragLeave:v,className:`relative flex flex-col items-center justify-center rounded-xl border-2 border-dashed p-8 transition-colors ${o?"border-brand-500 bg-brand-50":n?"border-success-500 bg-success-50":"border-slate-300 bg-slate-50 hover:border-brand-400"}`,children:[u.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:h,className:"absolute inset-0 cursor-pointer opacity-0"}),n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-success-100 text-success-600",children:u.jsx(de,{name:"check",size:24})}),u.jsx("p",{className:"mt-3 text-sm font-medium text-slate-800",children:n.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[(n.size/1024).toFixed(1)," KB"]}),u.jsx("button",{onClick:b=>{b.stopPropagation(),a(null)},className:"mt-2 text-xs text-danger-600 hover:underline",children:"Remover archivo"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-500",children:u.jsx(de,{name:"upload",size:24})}),u.jsx("p",{className:"mt-3 text-sm font-medium text-slate-700",children:"Arrastre un archivo o haga clic para seleccionar"}),u.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"PDF, JPG o PNG (max 5MB)"})]})]}),c&&u.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-danger-50 px-4 py-2 text-sm text-danger-700",children:[u.jsx(de,{name:"alert-circle",size:16}),c]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:r,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),u.jsxs("button",{onClick:x,disabled:!n||i,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[i&&u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Subir Boleta"]})]})]})},$Se=({onRefresh:e})=>{const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,s]=A.useState(!1),[o,l]=A.useState(null),[c,d]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState("ALL"),v=async()=>{try{a(!0);const S=await t8(p!=="ALL"?{status:p}:void 0);r(S)}catch(S){console.error("Error loading requests:",S)}finally{a(!1)}};A.useEffect(()=>{v()},[p]);const x=async S=>{try{const E=await SSe(S);l(E),d(!0)}catch(E){console.error("Error loading request detail:",E)}},b=async S=>{try{await jSe(S),await v(),e==null||e()}catch(E){console.error("Error marking as retrieved:",E)}},m=async S=>{if(confirm("Eliminar esta solicitud?"))try{await TSe(S),await v(),e==null||e()}catch(E){console.error("Error deleting request:",E)}},y=async S=>{try{const E=await OSe(S);window.open(E,"_blank")}catch(E){console.error("Error getting receipt URL:",E)}},_=()=>{s(!1),v(),e==null||e()},w=()=>{h(null),v()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>g("ALL"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${p==="ALL"?"bg-brand-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Todas"}),u.jsx("button",{onClick:()=>g("PENDIENTE"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${p==="PENDIENTE"?"bg-warning-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Pendientes"}),u.jsx("button",{onClick:()=>g("RETIRADO"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${p==="RETIRADO"?"bg-success-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Retiradas"})]}),u.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 transition-colors",children:[u.jsx(de,{name:"plus",size:18}),u.jsx("span",{children:"Nueva Solicitud"})]})]}),u.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):t.length===0?u.jsxs("div",{className:"px-5 py-12 text-center",children:[u.jsx(de,{name:"inbox",size:40,className:"mx-auto text-slate-300 mb-3"}),u.jsx("p",{className:"text-sm text-slate-500",children:"No hay solicitudes registradas"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-3",children:"Fecha"}),u.jsx("th",{className:"px-4 py-3",children:"Tipo"}),u.jsx("th",{className:"px-4 py-3",children:"Terminal"}),u.jsx("th",{className:"px-4 py-3",children:"Estado"}),u.jsx("th",{className:"px-4 py-3",children:"Creado por"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(S=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(S.requested_at).toLocaleDateString("es-CL")}),u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:uw(S.request_type)}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:S.terminal}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${S.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:eC(S.status)})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:S.created_by}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[u.jsx("button",{onClick:()=>x(S.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver detalle",children:u.jsx(de,{name:"eye",size:16})}),S.status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>h(S.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Subir boleta",children:u.jsx(de,{name:"upload",size:16})}),u.jsx("button",{onClick:()=>b(S.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-success-100 hover:text-success-600",title:"Marcar retirado",children:u.jsx(de,{name:"check",size:16})}),u.jsx("button",{onClick:()=>m(S.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-danger-100 hover:text-danger-600",title:"Eliminar",children:u.jsx(de,{name:"trash",size:16})})]}),S.receipt_path&&u.jsx("button",{onClick:()=>y(S.receipt_path),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver boleta",children:u.jsx(de,{name:"file",size:16})})]})})]},S.id))})]})})}),i&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"relative mt-8 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Solicitud"}),u.jsx("button",{onClick:()=>s(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:u.jsx(de,{name:"x",size:20})})]}),u.jsx(DSe,{onSuccess:_,onCancel:()=>s(!1)})]})}),c&&o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"relative mt-8 w-full max-w-lg rounded-2xl bg-white p-6 shadow-xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Detalle Solicitud"}),u.jsx("button",{onClick:()=>{d(!1),l(null)},className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:u.jsx(de,{name:"x",size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Tipo:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-800",children:uw(o.request_type)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Estado:"}),u.jsx("span",{className:`ml-2 font-medium ${o.status==="PENDIENTE"?"text-warning-600":"text-success-600"}`,children:eC(o.status)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Terminal:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-800",children:o.terminal})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500",children:"Fecha:"}),u.jsx("span",{className:"ml-2 font-medium text-slate-800",children:new Date(o.requested_at).toLocaleDateString("es-CL")})]})]}),u.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-2",children:"Insumo"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Cantidad"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:o.items.map(S=>{var E;return u.jsxs("tr",{children:[u.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[((E=S.supply)==null?void 0:E.name)||"Desconocido",S.is_extra&&u.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),u.jsx("td",{className:"px-4 py-2 text-right font-medium text-slate-800",children:S.quantity})]},S.id)})})]})})]})]})}),f&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Subir Boleta"}),u.jsx("button",{onClick:()=>h(null),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:u.jsx(de,{name:"x",size:20})})]}),u.jsx(MSe,{requestId:f,onSuccess:w,onCancel:()=>h(null)})]})})]})},LSe=()=>{const e=zn(m=>m.session),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,l]=A.useState(!0),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[p,g]=A.useState({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),v=async()=>{try{const[m,y,_]=await Promise.all([Pg(),NSe(),Z5({mode:"ALL"},{cargo:"cleaner",status:"ACTIVO"})]);r(m),a(y),s(_)}catch(m){console.error("Error loading deliveries data:",m)}finally{l(!1)}};A.useEffect(()=>{v()},[]);const x=m=>{const y=i.find(_=>_.rut===m);g(_=>({..._,staff_rut:m,staff_name:(y==null?void 0:y.nombre)||""}))},b=async()=>{if(!p.supply_id||!p.staff_rut||p.quantity<=0){alert("Complete todos los campos requeridos");return}h(!0);try{const m=t.find(y=>y.id===p.supply_id);await CSe(p,(e==null?void 0:e.supervisorName)||"Usuario",(m==null?void 0:m.life_days)||null),d(!1),g({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),await v()}catch(m){console.error("Error creating delivery:",m),alert("Error al registrar la entrega")}finally{h(!1)}};return o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Registro de entregas de insumos a personal de limpieza"}),u.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[u.jsx(de,{name:"plus",size:18}),u.jsx("span",{children:"Nueva Entrega"})]})]}),u.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n.length===0?u.jsxs("div",{className:"px-5 py-12 text-center",children:[u.jsx(de,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),u.jsx("p",{className:"text-sm text-slate-500",children:"No hay entregas registradas"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-3",children:"Fecha"}),u.jsx("th",{className:"px-4 py-3",children:"Personal"}),u.jsx("th",{className:"px-4 py-3",children:"Insumo"}),u.jsx("th",{className:"px-4 py-3 text-center",children:"Cantidad"}),u.jsx("th",{className:"px-4 py-3",children:"Proxima Entrega"}),u.jsx("th",{className:"px-4 py-3",children:"Notas"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(m=>{var _;const y=cw(m.next_delivery_at,3);return u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(m.delivered_at).toLocaleDateString("es-CL")}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-800",children:m.staff_name}),u.jsx("p",{className:"text-xs text-slate-500",children:m.staff_rut})]})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:((_=m.supply)==null?void 0:_.name)||"Desconocido"}),u.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium text-slate-800",children:m.quantity}),u.jsx("td",{className:"px-4 py-3",children:m.next_delivery_at?u.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${y?"bg-danger-100 text-danger-700":"bg-slate-100 text-slate-600"}`,children:new Date(m.next_delivery_at).toLocaleDateString("es-CL")}):u.jsx("span",{className:"text-sm text-slate-400",children:"-"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:m.notes||"-"})]},m.id)})})]})})}),c&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Entrega"}),u.jsx("button",{onClick:()=>d(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:u.jsx(de,{name:"x",size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Personal (Cleaner)"}),u.jsxs("select",{value:p.staff_rut,onChange:m=>x(m.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[u.jsx("option",{value:"",children:"Seleccionar cleaner..."}),i.map(m=>u.jsxs("option",{value:m.rut,children:[m.nombre," (",m.rut,")"]},m.rut))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Insumo"}),u.jsxs("select",{value:p.supply_id,onChange:m=>g(y=>({...y,supply_id:m.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[u.jsx("option",{value:"",children:"Seleccionar insumo..."}),t.map(m=>u.jsxs("option",{value:m.id,children:[m.name," (",m.unit,")",m.life_days&&` - ${m.life_days} dias vida util`]},m.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cantidad"}),u.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:m=>g(y=>({...y,quantity:parseInt(m.target.value)||1})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Notas (opcional)"}),u.jsx("textarea",{value:p.notes||"",onChange:m=>g(y=>({...y,notes:m.target.value})),rows:2,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",placeholder:"Observaciones..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:()=>d(!1),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),u.jsxs("button",{onClick:b,disabled:f||!p.supply_id||!p.staff_rut,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[f&&u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Registrar Entrega"]})]})]})]})})]})},FSe=()=>{const[e,t]=A.useState("consumption"),[r,n]=A.useState("TERMINAL"),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,c]=A.useState(!0),[d,f]=A.useState(!1),h=async()=>{try{const[m,y]=await Promise.all([Pg(),e8()]);i(m),o(y)}catch(m){console.error("Error loading config data:",m)}finally{c(!1)}};A.useEffect(()=>{h()},[]);const p=(m,y,_,w)=>{const S=s.find(E=>E.location_type===m&&E.location_name===y&&E.period===_&&E.supply_id===w);return(S==null?void 0:S.quantity)||0},g=async(m,y,_,w,S)=>{f(!0);try{await _Se({location_type:m,location_name:y,period:_,supply_id:w,quantity:Math.max(0,S)}),await h()}catch(E){console.error("Error updating profile:",E)}finally{f(!1)}},v=async(m,y,_)=>{f(!0);try{await wSe(m,{[y]:_}),await h()}catch(w){console.error("Error updating supply:",w)}finally{f(!1)}};if(l)return u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})});const x=r==="TERMINAL"?[{key:"DAY",label:"Dia"},{key:"NIGHT",label:"Noche"}]:[{key:"DAY",label:"Dia (L-V)"},{key:"WEEKEND",label:"Fin de Semana"}],b=r==="TERMINAL"?wu.TERMINAL:wu.CABEZAL;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2 border-b border-slate-200 pb-2",children:[u.jsx("button",{onClick:()=>t("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="consumption"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Consumos"}),u.jsx("button",{onClick:()=>t("supplies"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="supplies"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Insumos"})]}),e==="consumption"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>n("TERMINAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="TERMINAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Terminal"}),u.jsx("button",{onClick:()=>n("CABEZAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="CABEZAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Cabezales"})]}),d&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-brand-600",children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}),"Guardando..."]}),b.map(m=>u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[u.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:u.jsx("h3",{className:"font-medium text-slate-800",children:m})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-2",children:"Insumo"}),x.map(y=>u.jsx("th",{className:"px-4 py-2 text-center w-28",children:y.label},y.key))]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(y=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-slate-800",children:y.name}),x.map(_=>u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("input",{type:"number",min:"0",value:p(r,m,_.key,y.id),onChange:w=>g(r,m,_.key,y.id,parseInt(w.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})},_.key))]},y.id))})]})})]},m))]}),e==="supplies"&&u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[u.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:u.jsx("h3",{className:"font-medium text-slate-800",children:"Configuracion de Insumos"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[u.jsx("th",{className:"px-4 py-2",children:"Insumo"}),u.jsx("th",{className:"px-4 py-2",children:"Unidad"}),u.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Vida Util (dias)"}),u.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Stock Minimo"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(m=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 font-medium text-slate-800",children:m.name}),u.jsx("td",{className:"px-4 py-2 text-slate-600",children:m.unit}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("input",{type:"number",min:"0",value:m.life_days||"",placeholder:"-",onChange:y=>v(m.id,"life_days",y.target.value?parseInt(y.target.value):null),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("input",{type:"number",min:"0",value:m.min_stock||"",placeholder:"-",onChange:y=>v(m.id,"min_stock",parseInt(y.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})})]},m.id))})]})})]})]})},BSe={MONDAY:"Lunes (Solicitud Semanal)",FRIDAY:"Viernes (Fin de Semana)",MANUAL:"Manual"},USe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null),[s,o]=A.useState(null),[l,c]=A.useState(null),[d,f]=A.useState({recipients:"",subject:"",body:"",enabled:!0}),h=async()=>{try{const m=await kSe();t(m)}catch(m){console.error("Error loading email settings:",m)}finally{n(!1)}};A.useEffect(()=>{h()},[]);const p=m=>{c(m.id),f({recipients:m.recipients,subject:m.subject,body:m.body,enabled:m.enabled})},g=()=>{c(null),f({recipients:"",subject:"",body:"",enabled:!0})},v=async m=>{i(m);try{await tC(m,d),await h(),c(null)}catch(y){console.error("Error saving email settings:",y),alert("Error al guardar la configuracion")}finally{i(null)}},x=async m=>{i(m.id);try{await tC(m.id,{enabled:!m.enabled}),await h()}catch(y){console.error("Error toggling email setting:",y)}finally{i(null)}},b=async m=>{if(!m.recipients){alert("Configure los destinatarios primero");return}o(m.id);try{await Xc.sendEmail({audience:"manual",manualRecipients:m.recipients.split(",").map(y=>y.trim()),subject:`[TEST] ${m.subject}`,body:`<p>Este es un correo de prueba.</p><hr/>${m.body}`,module:"informativos"}),alert("Correo de prueba enviado")}catch(y){console.error("Error sending test email:",y),alert("Error al enviar el correo de prueba")}finally{o(null)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"rounded-lg bg-slate-50 p-4 text-sm text-slate-600",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(de,{name:"info",size:18,className:"mt-0.5 flex-shrink-0 text-slate-500"}),u.jsx("p",{children:"Configure los destinatarios y plantillas de correo para las solicitudes automaticas. Los correos se envian automaticamente los dias configurados."})]})}),u.jsx("div",{className:"space-y-4",children:e.map(m=>{const y=l===m.id,_=a===m.id,w=s===m.id;return u.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-3 bg-slate-50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${m.enabled?"bg-success-500":"bg-slate-400"}`}),u.jsx("h3",{className:"font-medium text-slate-800",children:BSe[m.trigger]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:()=>x(m),disabled:_,className:`rounded-lg px-3 py-1 text-xs font-medium transition-colors ${m.enabled?"bg-success-100 text-success-700 hover:bg-success-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:m.enabled?"Activo":"Inactivo"})})]}),u.jsx("div",{className:"p-4",children:y?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Destinatarios (separados por coma)"}),u.jsx("input",{type:"text",value:d.recipients,onChange:S=>f(E=>({...E,recipients:S.target.value})),placeholder:"correo1@ejemplo.com, correo2@ejemplo.com",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Asunto"}),u.jsx("input",{type:"text",value:d.subject,onChange:S=>f(E=>({...E,subject:S.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cuerpo del mensaje"}),u.jsx("textarea",{value:d.body,onChange:S=>f(E=>({...E,body:S.target.value})),rows:4,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:g,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),u.jsxs("button",{onClick:()=>v(m.id),disabled:_,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[_&&u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardar"]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Destinatarios"}),u.jsx("p",{className:"mt-1 text-sm text-slate-800",children:m.recipients||u.jsx("span",{className:"text-slate-400 italic",children:"No configurado"})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Asunto"}),u.jsx("p",{className:"mt-1 text-sm text-slate-800",children:m.subject})]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Mensaje"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600 line-clamp-2",children:m.body||u.jsx("span",{className:"text-slate-400 italic",children:"Sin mensaje"})})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsxs("button",{onClick:()=>p(m),className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-100",children:[u.jsx(de,{name:"edit",size:14}),"Editar"]}),u.jsxs("button",{onClick:()=>b(m),disabled:w||!m.recipients,className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-brand-600 hover:bg-brand-50 disabled:opacity-50",children:[w?u.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}):u.jsx(de,{name:"send",size:14}),"Enviar Prueba"]})]})]})})]},m.id)})})]})},zSe=[{key:"dashboard",label:"Dashboard",icon:"bar-chart"},{key:"solicitudes",label:"Solicitudes",icon:"file-text"},{key:"entregas",label:"Entregas",icon:"package"},{key:"config",label:"Configuracion",icon:"settings"}],WSe=()=>{const[e,t]=A.useState("dashboard"),[r,n]=A.useState("consumption"),[a,i]=A.useState(0),s=()=>i(o=>o+1);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Solicitudes de Insumos"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Gestion inteligente de insumos, solicitudes y entregas a personal"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-3",children:zSe.map(o=>u.jsxs("button",{onClick:()=>t(o.key),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all ${e===o.key?"bg-brand-500 text-white shadow-brand":"text-slate-600 hover:bg-slate-100"}`,children:[u.jsx(de,{name:o.icon,size:18}),u.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.key))}),u.jsxs("div",{children:[e==="dashboard"&&u.jsx(ISe,{}),e==="solicitudes"&&u.jsx($Se,{onRefresh:s}),e==="entregas"&&u.jsx(LSe,{}),e==="config"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>n("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="consumption"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Consumos e Insumos"}),u.jsx("button",{onClick:()=>n("emails"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="emails"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Correos"})]}),r==="consumption"&&u.jsx(FSe,{}),r==="emails"&&u.jsx(USe,{})]})]},a)]})},HSe=()=>{const e=zn(a=>a.session),t=zn(a=>a.hydrateSession),[r,n]=A.useState(!0);return A.useEffect(()=>{t().finally(()=>n(!1))},[t]),r?u.jsx(xr,{label:"Validando sesin"}):e?u.jsx(Z4,{}):u.jsx(J4,{to:"/",replace:!0})},qSe=()=>u.jsx(a7,{children:u.jsxs(YF,{children:[u.jsx(Dt,{path:"/",element:u.jsx(m7,{})}),u.jsx(Dt,{element:u.jsx(HSe,{}),children:u.jsxs(Dt,{element:u.jsx(w7,{}),children:[u.jsx(Dt,{path:"/personal",element:u.jsx(sX,{})}),u.jsx(Dt,{path:"/reuniones",element:u.jsx(lX,{})}),u.jsx(Dt,{path:"/tareas",element:u.jsx(uX,{})}),u.jsx(Dt,{path:"/informativos",element:u.jsx(hX,{})}),u.jsx(Dt,{path:"/asistencia",element:u.jsx(aY,{})}),u.jsx(Dt,{path:"/aseo/interior",element:u.jsx(oY,{})}),u.jsx(Dt,{path:"/aseo/exterior",element:u.jsx(lY,{})}),u.jsx(Dt,{path:"/aseo/rodillo",element:u.jsx(cY,{})}),u.jsx(Dt,{path:"/credenciales",element:u.jsx(G2e,{})}),u.jsx(Dt,{path:"/solicitudes",element:u.jsx(Y2e,{})}),u.jsx(Dt,{path:"/minicheck/extintor",element:u.jsx(uSe,{})}),u.jsx(Dt,{path:"/minicheck/tag",element:u.jsx(dSe,{})}),u.jsx(Dt,{path:"/minicheck/mobileye",element:u.jsx(fSe,{})}),u.jsx(Dt,{path:"/minicheck/odometro",element:u.jsx(hSe,{})}),u.jsx(Dt,{path:"/minicheck/publicidad",element:u.jsx(pSe,{})}),u.jsx(Dt,{path:"/estado-flota",element:u.jsx(vSe,{})}),u.jsx(Dt,{path:"/insumos",element:u.jsx(WSe,{})})]})}),u.jsx(Dt,{path:"*",element:u.jsx(J4,{to:"/",replace:!0})})]})});ay.createRoot(document.getElementById("root")).render(u.jsx(U.StrictMode,{children:u.jsx(aF,{children:u.jsx(qSe,{})})}));
