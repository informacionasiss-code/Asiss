var tS=e=>{throw TypeError(e)};var Ng=(e,t,r)=>t.has(e)||tS("Cannot "+r);var F=(e,t,r)=>(Ng(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?tS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(Ng(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Fe=(e,t,r)=>(Ng(e,t,"access private method"),r);var Nh=(e,t,r,n)=>({set _(a){xe(e,t,a,r)},get _(){return F(e,t,n)}});function nN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var aN={exports:{}},zm={},iN={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=Symbol.for("react.element"),i6=Symbol.for("react.portal"),s6=Symbol.for("react.fragment"),o6=Symbol.for("react.strict_mode"),l6=Symbol.for("react.profiler"),c6=Symbol.for("react.provider"),u6=Symbol.for("react.context"),f6=Symbol.for("react.forward_ref"),d6=Symbol.for("react.suspense"),h6=Symbol.for("react.memo"),p6=Symbol.for("react.lazy"),rS=Symbol.iterator;function m6(e){return e===null||typeof e!="object"?null:(e=rS&&e[rS]||e["@@iterator"],typeof e=="function"?e:null)}var sN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oN=Object.assign,lN={};function mu(e,t,r){this.props=e,this.context=t,this.refs=lN,this.updater=r||sN}mu.prototype.isReactComponent={};mu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cN(){}cN.prototype=mu.prototype;function nw(e,t,r){this.props=e,this.context=t,this.refs=lN,this.updater=r||sN}var aw=nw.prototype=new cN;aw.constructor=nw;oN(aw,mu.prototype);aw.isPureReactComponent=!0;var nS=Array.isArray,uN=Object.prototype.hasOwnProperty,iw={current:null},fN={key:!0,ref:!0,__self:!0,__source:!0};function dN(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)uN.call(t,n)&&!fN.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:sh,type:e,key:i,ref:s,props:a,_owner:iw.current}}function v6(e,t){return{$$typeof:sh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sw(e){return typeof e=="object"&&e!==null&&e.$$typeof===sh}function g6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aS=/\/+/g;function kg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g6(""+e.key):t.toString(36)}function j0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case sh:case i6:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+kg(s,0):n,nS(a)?(r="",e!=null&&(r=e.replace(aS,"$&/")+"/"),j0(a,t,r,"",function(c){return c})):a!=null&&(sw(a)&&(a=v6(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(aS,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",nS(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+kg(i,o);s+=j0(i,t,r,l,a)}else if(l=m6(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+kg(i,o++),s+=j0(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ph(e,t,r){if(e==null)return e;var n=[],a=0;return j0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function y6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},C0={transition:null},x6={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:C0,ReactCurrentOwner:iw};function hN(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Ph,forEach:function(e,t,r){Ph(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ph(e,function(){t++}),t},toArray:function(e){return Ph(e,function(t){return t})||[]},only:function(e){if(!sw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=mu;He.Fragment=s6;He.Profiler=l6;He.PureComponent=nw;He.StrictMode=o6;He.Suspense=d6;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x6;He.act=hN;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=oN({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=iw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)uN.call(t,l)&&!fN.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:sh,type:e.type,key:a,ref:i,props:n,_owner:s}};He.createContext=function(e){return e={$$typeof:u6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c6,_context:e},e.Consumer=e};He.createElement=dN;He.createFactory=function(e){var t=dN.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:f6,render:e}};He.isValidElement=sw;He.lazy=function(e){return{$$typeof:p6,_payload:{_status:-1,_result:e},_init:y6}};He.memo=function(e,t){return{$$typeof:h6,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=C0.transition;C0.transition={};try{e()}finally{C0.transition=t}};He.unstable_act=hN;He.useCallback=function(e,t){return an.current.useCallback(e,t)};He.useContext=function(e){return an.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return an.current.useDeferredValue(e)};He.useEffect=function(e,t){return an.current.useEffect(e,t)};He.useId=function(){return an.current.useId()};He.useImperativeHandle=function(e,t,r){return an.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return an.current.useMemo(e,t)};He.useReducer=function(e,t,r){return an.current.useReducer(e,t,r)};He.useRef=function(e){return an.current.useRef(e)};He.useState=function(e){return an.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return an.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return an.current.useTransition()};He.version="18.3.1";iN.exports=He;var C=iN.exports;const B=et(C),b6=nN({__proto__:null,default:B},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6=C,_6=Symbol.for("react.element"),S6=Symbol.for("react.fragment"),E6=Object.prototype.hasOwnProperty,T6=w6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A6={key:!0,ref:!0,__self:!0,__source:!0};function pN(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)E6.call(t,n)&&!A6.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_6,type:e,key:i,ref:s,props:a,_owner:T6.current}}zm.Fragment=S6;zm.jsx=pN;zm.jsxs=pN;aN.exports=zm;var u=aN.exports,Qy={},mN={exports:{}},Bn={},vN={exports:{}},gN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,K){var ae=V.length;V.push(K);e:for(;0<ae;){var de=ae-1>>>1,P=V[de];if(0<a(P,K))V[de]=K,V[ae]=P,ae=de;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var K=V[0],ae=V.pop();if(ae!==K){V[0]=ae;e:for(var de=0,P=V.length,H=P>>>1;de<H;){var U=2*(de+1)-1,z=V[U],ie=U+1,we=V[ie];if(0>a(z,ae))ie<P&&0>a(we,z)?(V[de]=we,V[ie]=ae,de=ie):(V[de]=z,V[U]=ae,de=U);else if(ie<P&&0>a(we,ae))V[de]=we,V[ie]=ae,de=ie;else break e}}return K}function a(V,K){var ae=V.sortIndex-K.sortIndex;return ae!==0?ae:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,d=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var K=r(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=V)n(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(c)}}function _(V){if(m=!1,x(V),!g)if(r(l)!==null)g=!0,re(w);else{var K=r(c);K!==null&&q(_,K.startTime-V)}}function w(V,K){g=!1,m&&(m=!1,b(T),T=-1),p=!0;var ae=h;try{for(x(K),d=r(l);d!==null&&(!(d.expirationTime>K)||V&&!j());){var de=d.callback;if(typeof de=="function"){d.callback=null,h=d.priorityLevel;var P=de(d.expirationTime<=K);K=e.unstable_now(),typeof P=="function"?d.callback=P:d===r(l)&&n(l),x(K)}else n(l);d=r(l)}if(d!==null)var H=!0;else{var U=r(c);U!==null&&q(_,U.startTime-K),H=!1}return H}finally{d=null,h=ae,p=!1}}var S=!1,E=null,T=-1,A=5,N=-1;function j(){return!(e.unstable_now()-N<A)}function L(){if(E!==null){var V=e.unstable_now();N=V;var K=!0;try{K=E(!0,V)}finally{K?W():(S=!1,E=null)}}else S=!1}var W;if(typeof v=="function")W=function(){v(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,G=Z.port2;Z.port1.onmessage=L,W=function(){G.postMessage(null)}}else W=function(){y(L,0)};function re(V){E=V,S||(S=!0,W())}function q(V,K){T=y(function(){V(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,re(w))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var ae=h;h=K;try{return V()}finally{h=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ae=h;h=V;try{return K()}finally{h=ae}},e.unstable_scheduleCallback=function(V,K,ae){var de=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,V){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ae+P,V={id:f++,callback:K,priorityLevel:V,startTime:ae,expirationTime:P,sortIndex:-1},ae>de?(V.sortIndex=ae,t(c,V),r(l)===null&&V===r(c)&&(m?(b(T),T=-1):m=!0,q(_,ae-de))):(V.sortIndex=P,t(l,V),g||p||(g=!0,re(w))),V},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(V){var K=h;return function(){var ae=h;h=K;try{return V.apply(this,arguments)}finally{h=ae}}}})(gN);vN.exports=gN;var O6=vN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6=C,Ln=O6;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yN=new Set,Hf={};function sl(e,t){jc(e,t),jc(e+"Capture",t)}function jc(e,t){for(Hf[e]=t,e=0;e<t.length;e++)yN.add(t[e])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jy=Object.prototype.hasOwnProperty,C6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iS={},sS={};function N6(e){return Jy.call(sS,e)?!0:Jy.call(iS,e)?!1:C6.test(e)?sS[e]=!0:(iS[e]=!0,!1)}function k6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P6(e,t,r,n){if(t===null||typeof t>"u"||k6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nr[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nr[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nr[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nr[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nr[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nr[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nr[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nr[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nr[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function lw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ow,lw);Nr[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ow,lw);Nr[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ow,lw);Nr[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nr[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nr[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cw(e,t,r,n){var a=Nr.hasOwnProperty(t)?Nr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P6(t,r,a,n)&&(r=null),n||a===null?N6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zi=j6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rh=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),xN=Symbol.for("react.provider"),bN=Symbol.for("react.context"),fw=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),wN=Symbol.for("react.offscreen"),oS=Symbol.iterator;function Vu(e){return e===null||typeof e!="object"?null:(e=oS&&e[oS]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Object.assign,Pg;function hf(e){if(Pg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pg=t&&t[1]||""}return`
`+Pg+e}var Rg=!1;function Ig(e,t){if(!e||Rg)return"";Rg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Rg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hf(e):""}function R6(e){switch(e.tag){case 5:return hf(e.type);case 16:return hf("Lazy");case 13:return hf("Suspense");case 19:return hf("SuspenseList");case 0:case 2:case 15:return e=Ig(e.type,!1),e;case 11:return e=Ig(e.type.render,!1),e;case 1:return e=Ig(e.type,!0),e;default:return""}}function rx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $l:return"Fragment";case Ml:return"Portal";case Zy:return"Profiler";case uw:return"StrictMode";case ex:return"Suspense";case tx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bN:return(e.displayName||"Context")+".Consumer";case xN:return(e._context.displayName||"Context")+".Provider";case fw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dw:return t=e.displayName||null,t!==null?t:rx(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return rx(e(t))}catch{}}return null}function I6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rx(t);case 8:return t===uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _N(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D6(e){var t=_N(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ih(e){e._valueTracker||(e._valueTracker=D6(e))}function SN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_N(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function H0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nx(e,t){var r=t.checked;return Rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ms(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EN(e,t){t=t.checked,t!=null&&cw(e,"checked",t,!1)}function ax(e,t){EN(e,t);var r=Ms(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ix(e,t.type,r):t.hasOwnProperty("defaultValue")&&ix(e,t.type,Ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ix(e,t,r){(t!=="number"||H0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pf=Array.isArray;function ec(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ms(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function sx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(pf(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ms(r)}}function TN(e,t){var r=Ms(t.value),n=Ms(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ox(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dh,ON=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dh=Dh||document.createElement("div"),Dh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M6=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(e){M6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sf[t]=Sf[e]})});function jN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sf.hasOwnProperty(e)&&Sf[e]?(""+t).trim():t+"px"}function CN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=jN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var $6=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lx(e,t){if(t){if($6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function cx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ux=null;function hw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fx=null,tc=null,rc=null;function dS(e){if(e=ch(e)){if(typeof fx!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Km(t),fx(e.stateNode,e.type,t))}}function NN(e){tc?rc?rc.push(e):rc=[e]:tc=e}function kN(){if(tc){var e=tc,t=rc;if(rc=tc=null,dS(e),t)for(e=0;e<t.length;e++)dS(t[e])}}function PN(e,t){return e(t)}function RN(){}var Dg=!1;function IN(e,t,r){if(Dg)return e(t,r);Dg=!0;try{return PN(e,t,r)}finally{Dg=!1,(tc!==null||rc!==null)&&(RN(),kN())}}function qf(e,t){var r=e.stateNode;if(r===null)return null;var n=Km(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var dx=!1;if(Ci)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){dx=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{dx=!1}function L6(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Ef=!1,V0=null,q0=!1,hx=null,F6={onError:function(e){Ef=!0,V0=e}};function B6(e,t,r,n,a,i,s,o,l){Ef=!1,V0=null,L6.apply(F6,arguments)}function U6(e,t,r,n,a,i,s,o,l){if(B6.apply(this,arguments),Ef){if(Ef){var c=V0;Ef=!1,V0=null}else throw Error(fe(198));q0||(q0=!0,hx=c)}}function ol(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hS(e){if(ol(e)!==e)throw Error(fe(188))}function z6(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return hS(a),e;if(i===n)return hS(a),t;i=i.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function MN(e){return e=z6(e),e!==null?$N(e):null}function $N(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$N(e);if(t!==null)return t;e=e.sibling}return null}var LN=Ln.unstable_scheduleCallback,pS=Ln.unstable_cancelCallback,W6=Ln.unstable_shouldYield,H6=Ln.unstable_requestPaint,Wt=Ln.unstable_now,V6=Ln.unstable_getCurrentPriorityLevel,pw=Ln.unstable_ImmediatePriority,FN=Ln.unstable_UserBlockingPriority,K0=Ln.unstable_NormalPriority,q6=Ln.unstable_LowPriority,BN=Ln.unstable_IdlePriority,Wm=null,Xa=null;function K6(e){if(Xa&&typeof Xa.onCommitFiberRoot=="function")try{Xa.onCommitFiberRoot(Wm,e,void 0,(e.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:Y6,G6=Math.log,X6=Math.LN2;function Y6(e){return e>>>=0,e===0?32:31-(G6(e)/X6|0)|0}var Mh=64,$h=4194304;function mf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function G0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=mf(o):(i&=s,i!==0&&(n=mf(i)))}else s=r&~a,s!==0?n=mf(s):i!==0&&(n=mf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ja(t),a=1<<r,n|=e[r],t&=~a;return n}function Q6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ja(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=Q6(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function px(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UN(){var e=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),e}function Mg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ja(t),e[t]=r}function Z6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ja(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function mw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ja(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var st=0;function zN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WN,vw,HN,VN,qN,mx=!1,Lh=[],Es=null,Ts=null,As=null,Kf=new Map,Gf=new Map,as=[],e$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mS(e,t){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Kf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(t.pointerId)}}function Ku(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ch(t),t!==null&&vw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function t$(e,t,r,n,a){switch(t){case"focusin":return Es=Ku(Es,e,t,r,n,a),!0;case"dragenter":return Ts=Ku(Ts,e,t,r,n,a),!0;case"mouseover":return As=Ku(As,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Kf.set(i,Ku(Kf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Gf.set(i,Ku(Gf.get(i)||null,e,t,r,n,a)),!0}return!1}function KN(e){var t=xo(e.target);if(t!==null){var r=ol(t);if(r!==null){if(t=r.tag,t===13){if(t=DN(r),t!==null){e.blockedOn=t,qN(e.priority,function(){HN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function N0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ux=n,r.target.dispatchEvent(n),ux=null}else return t=ch(r),t!==null&&vw(t),e.blockedOn=r,!1;t.shift()}return!0}function vS(e,t,r){N0(e)&&r.delete(t)}function r$(){mx=!1,Es!==null&&N0(Es)&&(Es=null),Ts!==null&&N0(Ts)&&(Ts=null),As!==null&&N0(As)&&(As=null),Kf.forEach(vS),Gf.forEach(vS)}function Gu(e,t){e.blockedOn===t&&(e.blockedOn=null,mx||(mx=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,r$)))}function Xf(e){function t(a){return Gu(a,e)}if(0<Lh.length){Gu(Lh[0],e);for(var r=1;r<Lh.length;r++){var n=Lh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Es!==null&&Gu(Es,e),Ts!==null&&Gu(Ts,e),As!==null&&Gu(As,e),Kf.forEach(t),Gf.forEach(t),r=0;r<as.length;r++)n=as[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<as.length&&(r=as[0],r.blockedOn===null);)KN(r),r.blockedOn===null&&as.shift()}var nc=zi.ReactCurrentBatchConfig,X0=!0;function n$(e,t,r,n){var a=st,i=nc.transition;nc.transition=null;try{st=1,gw(e,t,r,n)}finally{st=a,nc.transition=i}}function a$(e,t,r,n){var a=st,i=nc.transition;nc.transition=null;try{st=4,gw(e,t,r,n)}finally{st=a,nc.transition=i}}function gw(e,t,r,n){if(X0){var a=vx(e,t,r,n);if(a===null)qg(e,t,n,Y0,r),mS(e,n);else if(t$(a,e,t,r,n))n.stopPropagation();else if(mS(e,n),t&4&&-1<e$.indexOf(e)){for(;a!==null;){var i=ch(a);if(i!==null&&WN(i),i=vx(e,t,r,n),i===null&&qg(e,t,n,Y0,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else qg(e,t,n,null,r)}}var Y0=null;function vx(e,t,r,n){if(Y0=null,e=hw(n),e=xo(e),e!==null)if(t=ol(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Y0=e,null}function GN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V6()){case pw:return 1;case FN:return 4;case K0:case q6:return 16;case BN:return 536870912;default:return 16}default:return 16}}var ys=null,yw=null,k0=null;function XN(){if(k0)return k0;var e,t=yw,r=t.length,n,a="value"in ys?ys.value:ys.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return k0=a.slice(e,1<n?1-n:void 0)}function P0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fh(){return!0}function gS(){return!1}function Un(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fh:gS,this.isPropagationStopped=gS,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fh)},persist:function(){},isPersistent:Fh}),t}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xw=Un(vu),lh=Rt({},vu,{view:0,detail:0}),i$=Un(lh),$g,Lg,Xu,Hm=Rt({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xu&&(Xu&&e.type==="mousemove"?($g=e.screenX-Xu.screenX,Lg=e.screenY-Xu.screenY):Lg=$g=0,Xu=e),$g)},movementY:function(e){return"movementY"in e?e.movementY:Lg}}),yS=Un(Hm),s$=Rt({},Hm,{dataTransfer:0}),o$=Un(s$),l$=Rt({},lh,{relatedTarget:0}),Fg=Un(l$),c$=Rt({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),u$=Un(c$),f$=Rt({},vu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d$=Un(f$),h$=Rt({},vu,{data:0}),xS=Un(h$),p$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v$[e])?!!t[e]:!1}function bw(){return g$}var y$=Rt({},lh,{key:function(e){if(e.key){var t=p$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=P0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bw,charCode:function(e){return e.type==="keypress"?P0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?P0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x$=Un(y$),b$=Rt({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bS=Un(b$),w$=Rt({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bw}),_$=Un(w$),S$=Rt({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),E$=Un(S$),T$=Rt({},Hm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A$=Un(T$),O$=[9,13,27,32],ww=Ci&&"CompositionEvent"in window,Tf=null;Ci&&"documentMode"in document&&(Tf=document.documentMode);var j$=Ci&&"TextEvent"in window&&!Tf,YN=Ci&&(!ww||Tf&&8<Tf&&11>=Tf),wS=" ",_S=!1;function QN(e,t){switch(e){case"keyup":return O$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ll=!1;function C$(e,t){switch(e){case"compositionend":return JN(t);case"keypress":return t.which!==32?null:(_S=!0,wS);case"textInput":return e=t.data,e===wS&&_S?null:e;default:return null}}function N$(e,t){if(Ll)return e==="compositionend"||!ww&&QN(e,t)?(e=XN(),k0=yw=ys=null,Ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YN&&t.locale!=="ko"?null:t.data;default:return null}}var k$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k$[e.type]:t==="textarea"}function ZN(e,t,r,n){NN(n),t=Q0(t,"onChange"),0<t.length&&(r=new xw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Af=null,Yf=null;function P$(e){uk(e,0)}function Vm(e){var t=Ul(e);if(SN(t))return e}function R$(e,t){if(e==="change")return t}var ek=!1;if(Ci){var Bg;if(Ci){var Ug="oninput"in document;if(!Ug){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),Ug=typeof ES.oninput=="function"}Bg=Ug}else Bg=!1;ek=Bg&&(!document.documentMode||9<document.documentMode)}function TS(){Af&&(Af.detachEvent("onpropertychange",tk),Yf=Af=null)}function tk(e){if(e.propertyName==="value"&&Vm(Yf)){var t=[];ZN(t,Yf,e,hw(e)),IN(P$,t)}}function I$(e,t,r){e==="focusin"?(TS(),Af=t,Yf=r,Af.attachEvent("onpropertychange",tk)):e==="focusout"&&TS()}function D$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vm(Yf)}function M$(e,t){if(e==="click")return Vm(t)}function $$(e,t){if(e==="input"||e==="change")return Vm(t)}function L$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pa=typeof Object.is=="function"?Object.is:L$;function Qf(e,t){if(Pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jy.call(t,a)||!Pa(e[a],t[a]))return!1}return!0}function AS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function OS(e,t){var r=AS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AS(r)}}function rk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nk(){for(var e=window,t=H0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=H0(e.document)}return t}function _w(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F$(e){var t=nk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rk(r.ownerDocument.documentElement,r)){if(n!==null&&_w(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=OS(r,i);var s=OS(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B$=Ci&&"documentMode"in document&&11>=document.documentMode,Fl=null,gx=null,Of=null,yx=!1;function jS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yx||Fl==null||Fl!==H0(n)||(n=Fl,"selectionStart"in n&&_w(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Of&&Qf(Of,n)||(Of=n,n=Q0(gx,"onSelect"),0<n.length&&(t=new xw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fl)))}function Bh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bl={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},zg={},ak={};Ci&&(ak=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function qm(e){if(zg[e])return zg[e];if(!Bl[e])return e;var t=Bl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ak)return zg[e]=t[r];return e}var ik=qm("animationend"),sk=qm("animationiteration"),ok=qm("animationstart"),lk=qm("transitionend"),ck=new Map,CS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){ck.set(e,t),sl(t,[e])}for(var Wg=0;Wg<CS.length;Wg++){var Hg=CS[Wg],U$=Hg.toLowerCase(),z$=Hg[0].toUpperCase()+Hg.slice(1);Ws(U$,"on"+z$)}Ws(ik,"onAnimationEnd");Ws(sk,"onAnimationIteration");Ws(ok,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(lk,"onTransitionEnd");jc("onMouseEnter",["mouseout","mouseover"]);jc("onMouseLeave",["mouseout","mouseover"]);jc("onPointerEnter",["pointerout","pointerover"]);jc("onPointerLeave",["pointerout","pointerover"]);sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W$=new Set("cancel close invalid load scroll toggle".split(" ").concat(vf));function NS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U6(n,t,void 0,e),e.currentTarget=null}function uk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;NS(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;NS(a,o,c),i=l}}}if(q0)throw e=hx,q0=!1,hx=null,e}function yt(e,t){var r=t[Sx];r===void 0&&(r=t[Sx]=new Set);var n=e+"__bubble";r.has(n)||(fk(t,e,2,!1),r.add(n))}function Vg(e,t,r){var n=0;t&&(n|=4),fk(r,e,n,t)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[Uh]){e[Uh]=!0,yN.forEach(function(r){r!=="selectionchange"&&(W$.has(r)||Vg(r,!1,e),Vg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uh]||(t[Uh]=!0,Vg("selectionchange",!1,t))}}function fk(e,t,r,n){switch(GN(t)){case 1:var a=n$;break;case 4:a=a$;break;default:a=gw}r=a.bind(null,t,r,e),a=void 0,!dx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=xo(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}IN(function(){var c=i,f=hw(r),d=[];e:{var h=ck.get(e);if(h!==void 0){var p=xw,g=e;switch(e){case"keypress":if(P0(r)===0)break e;case"keydown":case"keyup":p=x$;break;case"focusin":g="focus",p=Fg;break;case"focusout":g="blur",p=Fg;break;case"beforeblur":case"afterblur":p=Fg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=o$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_$;break;case ik:case sk:case ok:p=u$;break;case lk:p=E$;break;case"scroll":p=i$;break;case"wheel":p=A$;break;case"copy":case"cut":case"paste":p=d$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bS}var m=(t&4)!==0,y=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,x;v!==null;){x=v;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,b!==null&&(_=qf(v,b),_!=null&&m.push(Zf(v,_,x)))),y)break;v=v.return}0<m.length&&(h=new p(h,g,null,r,f),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ux&&(g=r.relatedTarget||r.fromElement)&&(xo(g)||g[Ni]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?xo(g):null,g!==null&&(y=ol(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=yS,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=bS,_="onPointerLeave",b="onPointerEnter",v="pointer"),y=p==null?h:Ul(p),x=g==null?h:Ul(g),h=new m(_,v+"leave",p,r,f),h.target=y,h.relatedTarget=x,_=null,xo(f)===c&&(m=new m(b,v+"enter",g,r,f),m.target=x,m.relatedTarget=y,_=m),y=_,p&&g)t:{for(m=p,b=g,v=0,x=m;x;x=_l(x))v++;for(x=0,_=b;_;_=_l(_))x++;for(;0<v-x;)m=_l(m),v--;for(;0<x-v;)b=_l(b),x--;for(;v--;){if(m===b||b!==null&&m===b.alternate)break t;m=_l(m),b=_l(b)}m=null}else m=null;p!==null&&kS(d,h,p,m,!1),g!==null&&y!==null&&kS(d,y,g,m,!0)}}e:{if(h=c?Ul(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=R$;else if(SS(h))if(ek)w=$$;else{w=D$;var S=I$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=M$);if(w&&(w=w(e,c))){ZN(d,w,r,f);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ix(h,"number",h.value)}switch(S=c?Ul(c):window,e){case"focusin":(SS(S)||S.contentEditable==="true")&&(Fl=S,gx=c,Of=null);break;case"focusout":Of=gx=Fl=null;break;case"mousedown":yx=!0;break;case"contextmenu":case"mouseup":case"dragend":yx=!1,jS(d,r,f);break;case"selectionchange":if(B$)break;case"keydown":case"keyup":jS(d,r,f)}var E;if(ww)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ll?QN(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(YN&&r.locale!=="ko"&&(Ll||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ll&&(E=XN()):(ys=f,yw="value"in ys?ys.value:ys.textContent,Ll=!0)),S=Q0(c,T),0<S.length&&(T=new xS(T,e,null,r,f),d.push({event:T,listeners:S}),E?T.data=E:(E=JN(r),E!==null&&(T.data=E)))),(E=j$?C$(e,r):N$(e,r))&&(c=Q0(c,"onBeforeInput"),0<c.length&&(f=new xS("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=E))}uk(d,t)})}function Zf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Q0(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qf(e,r),i!=null&&n.unshift(Zf(e,i,a)),i=qf(e,t),i!=null&&n.push(Zf(e,i,a))),e=e.return}return n}function _l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kS(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=qf(r,i),l!=null&&s.unshift(Zf(r,l,o))):a||(l=qf(r,i),l!=null&&s.push(Zf(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var H$=/\r\n?/g,V$=/\u0000|\uFFFD/g;function PS(e){return(typeof e=="string"?e:""+e).replace(H$,`
`).replace(V$,"")}function zh(e,t,r){if(t=PS(t),PS(e)!==t&&r)throw Error(fe(425))}function J0(){}var xx=null,bx=null;function wx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _x=typeof setTimeout=="function"?setTimeout:void 0,q$=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,K$=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(e){return RS.resolve(null).then(e).catch(G$)}:_x;function G$(e){setTimeout(function(){throw e})}function Kg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Xf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Xf(t)}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function IS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Ka="__reactFiber$"+gu,ed="__reactProps$"+gu,Ni="__reactContainer$"+gu,Sx="__reactEvents$"+gu,X$="__reactListeners$"+gu,Y$="__reactHandles$"+gu;function xo(e){var t=e[Ka];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ni]||r[Ka]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=IS(e);e!==null;){if(r=e[Ka])return r;e=IS(e)}return t}e=r,r=e.parentNode}return null}function ch(e){return e=e[Ka]||e[Ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ul(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Km(e){return e[ed]||null}var Ex=[],zl=-1;function Hs(e){return{current:e}}function wt(e){0>zl||(e.current=Ex[zl],Ex[zl]=null,zl--)}function vt(e,t){zl++,Ex[zl]=e.current,e.current=t}var $s={},Hr=Hs($s),vn=Hs(!1),Wo=$s;function Cc(e,t){var r=e.type.contextTypes;if(!r)return $s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gn(e){return e=e.childContextTypes,e!=null}function Z0(){wt(vn),wt(Hr)}function DS(e,t,r){if(Hr.current!==$s)throw Error(fe(168));vt(Hr,t),vt(vn,r)}function dk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(fe(108,I6(e)||"Unknown",a));return Rt({},r,n)}function ep(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$s,Wo=Hr.current,vt(Hr,e),vt(vn,vn.current),!0}function MS(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=dk(e,t,Wo),n.__reactInternalMemoizedMergedChildContext=e,wt(vn),wt(Hr),vt(Hr,e)):wt(vn),vt(vn,r)}var ci=null,Gm=!1,Gg=!1;function hk(e){ci===null?ci=[e]:ci.push(e)}function Q$(e){Gm=!0,hk(e)}function Vs(){if(!Gg&&ci!==null){Gg=!0;var e=0,t=st;try{var r=ci;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ci=null,Gm=!1}catch(a){throw ci!==null&&(ci=ci.slice(e+1)),LN(pw,Vs),a}finally{st=t,Gg=!1}}return null}var Wl=[],Hl=0,tp=null,rp=0,Yn=[],Qn=0,Ho=null,pi=1,mi="";function so(e,t){Wl[Hl++]=rp,Wl[Hl++]=tp,tp=e,rp=t}function pk(e,t,r){Yn[Qn++]=pi,Yn[Qn++]=mi,Yn[Qn++]=Ho,Ho=e;var n=pi;e=mi;var a=32-ja(n)-1;n&=~(1<<a),r+=1;var i=32-ja(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,pi=1<<32-ja(t)+a|r<<a|n,mi=i+e}else pi=1<<i|r<<a|n,mi=e}function Sw(e){e.return!==null&&(so(e,1),pk(e,1,0))}function Ew(e){for(;e===tp;)tp=Wl[--Hl],Wl[Hl]=null,rp=Wl[--Hl],Wl[Hl]=null;for(;e===Ho;)Ho=Yn[--Qn],Yn[Qn]=null,mi=Yn[--Qn],Yn[Qn]=null,pi=Yn[--Qn],Yn[Qn]=null}var Mn=null,Dn=null,Et=!1,Sa=null;function mk(e,t){var r=Zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $S(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,Dn=Os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ho!==null?{id:pi,overflow:mi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mn=e,Dn=null,!0):!1;default:return!1}}function Tx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ax(e){if(Et){var t=Dn;if(t){var r=t;if(!$S(e,t)){if(Tx(e))throw Error(fe(418));t=Os(r.nextSibling);var n=Mn;t&&$S(e,t)?mk(n,r):(e.flags=e.flags&-4097|2,Et=!1,Mn=e)}}else{if(Tx(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Et=!1,Mn=e}}}function LS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function Wh(e){if(e!==Mn)return!1;if(!Et)return LS(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wx(e.type,e.memoizedProps)),t&&(t=Dn)){if(Tx(e))throw vk(),Error(fe(418));for(;t;)mk(e,t),t=Os(t.nextSibling)}if(LS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dn=Os(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=Mn?Os(e.stateNode.nextSibling):null;return!0}function vk(){for(var e=Dn;e;)e=Os(e.nextSibling)}function Nc(){Dn=Mn=null,Et=!1}function Tw(e){Sa===null?Sa=[e]:Sa.push(e)}var J$=zi.ReactCurrentBatchConfig;function Yu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Hh(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function FS(e){var t=e._init;return t(e._payload)}function gk(e){function t(b,v){if(e){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=ks(b,v),b.index=0,b.sibling=null,b}function i(b,v,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,v,x,_){return v===null||v.tag!==6?(v=ty(x,b.mode,_),v.return=b,v):(v=a(v,x),v.return=b,v)}function l(b,v,x,_){var w=x.type;return w===$l?f(b,v,x.props.children,_,x.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===es&&FS(w)===v.type)?(_=a(v,x.props),_.ref=Yu(b,v,x),_.return=b,_):(_=F0(x.type,x.key,x.props,null,b.mode,_),_.ref=Yu(b,v,x),_.return=b,_)}function c(b,v,x,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ry(x,b.mode,_),v.return=b,v):(v=a(v,x.children||[]),v.return=b,v)}function f(b,v,x,_,w){return v===null||v.tag!==7?(v=Fo(x,b.mode,_,w),v.return=b,v):(v=a(v,x),v.return=b,v)}function d(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ty(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rh:return x=F0(v.type,v.key,v.props,null,b.mode,x),x.ref=Yu(b,null,v),x.return=b,x;case Ml:return v=ry(v,b.mode,x),v.return=b,v;case es:var _=v._init;return d(b,_(v._payload),x)}if(pf(v)||Vu(v))return v=Fo(v,b.mode,x,null),v.return=b,v;Hh(b,v)}return null}function h(b,v,x,_){var w=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(b,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rh:return x.key===w?l(b,v,x,_):null;case Ml:return x.key===w?c(b,v,x,_):null;case es:return w=x._init,h(b,v,w(x._payload),_)}if(pf(x)||Vu(x))return w!==null?null:f(b,v,x,_,null);Hh(b,x)}return null}function p(b,v,x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(x)||null,o(v,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rh:return b=b.get(_.key===null?x:_.key)||null,l(v,b,_,w);case Ml:return b=b.get(_.key===null?x:_.key)||null,c(v,b,_,w);case es:var S=_._init;return p(b,v,x,S(_._payload),w)}if(pf(_)||Vu(_))return b=b.get(x)||null,f(v,b,_,w,null);Hh(v,_)}return null}function g(b,v,x,_){for(var w=null,S=null,E=v,T=v=0,A=null;E!==null&&T<x.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var N=h(b,E,x[T],_);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(b,E),v=i(N,v,T),S===null?w=N:S.sibling=N,S=N,E=A}if(T===x.length)return r(b,E),Et&&so(b,T),w;if(E===null){for(;T<x.length;T++)E=d(b,x[T],_),E!==null&&(v=i(E,v,T),S===null?w=E:S.sibling=E,S=E);return Et&&so(b,T),w}for(E=n(b,E);T<x.length;T++)A=p(E,b,T,x[T],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?T:A.key),v=i(A,v,T),S===null?w=A:S.sibling=A,S=A);return e&&E.forEach(function(j){return t(b,j)}),Et&&so(b,T),w}function m(b,v,x,_){var w=Vu(x);if(typeof w!="function")throw Error(fe(150));if(x=w.call(x),x==null)throw Error(fe(151));for(var S=w=null,E=v,T=v=0,A=null,N=x.next();E!==null&&!N.done;T++,N=x.next()){E.index>T?(A=E,E=null):A=E.sibling;var j=h(b,E,N.value,_);if(j===null){E===null&&(E=A);break}e&&E&&j.alternate===null&&t(b,E),v=i(j,v,T),S===null?w=j:S.sibling=j,S=j,E=A}if(N.done)return r(b,E),Et&&so(b,T),w;if(E===null){for(;!N.done;T++,N=x.next())N=d(b,N.value,_),N!==null&&(v=i(N,v,T),S===null?w=N:S.sibling=N,S=N);return Et&&so(b,T),w}for(E=n(b,E);!N.done;T++,N=x.next())N=p(E,b,T,N.value,_),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?T:N.key),v=i(N,v,T),S===null?w=N:S.sibling=N,S=N);return e&&E.forEach(function(L){return t(b,L)}),Et&&so(b,T),w}function y(b,v,x,_){if(typeof x=="object"&&x!==null&&x.type===$l&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rh:e:{for(var w=x.key,S=v;S!==null;){if(S.key===w){if(w=x.type,w===$l){if(S.tag===7){r(b,S.sibling),v=a(S,x.props.children),v.return=b,b=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===es&&FS(w)===S.type){r(b,S.sibling),v=a(S,x.props),v.ref=Yu(b,S,x),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}x.type===$l?(v=Fo(x.props.children,b.mode,_,x.key),v.return=b,b=v):(_=F0(x.type,x.key,x.props,null,b.mode,_),_.ref=Yu(b,v,x),_.return=b,b=_)}return s(b);case Ml:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(b,v.sibling),v=a(v,x.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=ry(x,b.mode,_),v.return=b,b=v}return s(b);case es:return S=x._init,y(b,v,S(x._payload),_)}if(pf(x))return g(b,v,x,_);if(Vu(x))return m(b,v,x,_);Hh(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,x),v.return=b,b=v):(r(b,v),v=ty(x,b.mode,_),v.return=b,b=v),s(b)):r(b,v)}return y}var kc=gk(!0),yk=gk(!1),np=Hs(null),ap=null,Vl=null,Aw=null;function Ow(){Aw=Vl=ap=null}function jw(e){var t=np.current;wt(np),e._currentValue=t}function Ox(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ac(e,t){ap=e,Aw=Vl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(Aw!==e)if(e={context:e,memoizedValue:t,next:null},Vl===null){if(ap===null)throw Error(fe(308));Vl=e,ap.dependencies={lanes:0,firstContext:e}}else Vl=Vl.next=e;return t}var bo=null;function Cw(e){bo===null?bo=[e]:bo.push(e)}function xk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Cw(t)):(r.next=a.next,a.next=r),t.interleaved=r,ki(e,n)}function ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ts=!1;function Nw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ki(e,r)}return a=n.interleaved,a===null?(t.next=t,Cw(n)):(t.next=a.next,a.next=t),n.interleaved=t,ki(e,r)}function R0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mw(e,r)}}function BS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ip(e,t,r,n){var a=e.updateQueue;ts=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,f=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Rt({},d,h);break e;case 2:ts=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);qo|=s,e.lanes=s,e.memoizedState=d}}function US(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var uh={},Ya=Hs(uh),td=Hs(uh),rd=Hs(uh);function wo(e){if(e===uh)throw Error(fe(174));return e}function kw(e,t){switch(vt(rd,t),vt(td,e),vt(Ya,uh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ox(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ox(t,e)}wt(Ya),vt(Ya,t)}function Pc(){wt(Ya),wt(td),wt(rd)}function wk(e){wo(rd.current);var t=wo(Ya.current),r=ox(t,e.type);t!==r&&(vt(td,e),vt(Ya,r))}function Pw(e){td.current===e&&(wt(Ya),wt(td))}var Nt=Hs(0);function sp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xg=[];function Rw(){for(var e=0;e<Xg.length;e++)Xg[e]._workInProgressVersionPrimary=null;Xg.length=0}var I0=zi.ReactCurrentDispatcher,Yg=zi.ReactCurrentBatchConfig,Vo=0,kt=null,ar=null,fr=null,op=!1,jf=!1,nd=0,Z$=0;function Mr(){throw Error(fe(321))}function Iw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pa(e[r],t[r]))return!1;return!0}function Dw(e,t,r,n,a,i){if(Vo=i,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I0.current=e===null||e.memoizedState===null?n8:a8,e=r(n,a),jf){i=0;do{if(jf=!1,nd=0,25<=i)throw Error(fe(301));i+=1,fr=ar=null,t.updateQueue=null,I0.current=i8,e=r(n,a)}while(jf)}if(I0.current=lp,t=ar!==null&&ar.next!==null,Vo=0,fr=ar=kt=null,op=!1,t)throw Error(fe(300));return e}function Mw(){var e=nd!==0;return nd=0,e}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?kt.memoizedState=fr=e:fr=fr.next=e,fr}function aa(){if(ar===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=fr===null?kt.memoizedState:fr.next;if(t!==null)fr=t,ar=e;else{if(e===null)throw Error(fe(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},fr===null?kt.memoizedState=fr=e:fr=fr.next=e}return fr}function ad(e,t){return typeof t=="function"?t(e):t}function Qg(e){var t=aa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=ar,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var f=c.lane;if((Vo&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,kt.lanes|=f,qo|=f}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Pa(n,t.memoizedState)||(hn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,kt.lanes|=i,qo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jg(e){var t=aa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Pa(i,t.memoizedState)||(hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _k(){}function Sk(e,t){var r=kt,n=aa(),a=t(),i=!Pa(n.memoizedState,a);if(i&&(n.memoizedState=a,hn=!0),n=n.queue,$w(Ak.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,id(9,Tk.bind(null,r,n,a,t),void 0,null),gr===null)throw Error(fe(349));Vo&30||Ek(r,t,a)}return a}function Ek(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tk(e,t,r,n){t.value=r,t.getSnapshot=n,Ok(t)&&jk(e)}function Ak(e,t,r){return r(function(){Ok(t)&&jk(e)})}function Ok(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pa(e,r)}catch{return!0}}function jk(e){var t=ki(e,1);t!==null&&Ca(t,e,1,-1)}function zS(e){var t=za();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e},t.queue=e,e=e.dispatch=r8.bind(null,kt,e),[t.memoizedState,e]}function id(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ck(){return aa().memoizedState}function D0(e,t,r,n){var a=za();kt.flags|=e,a.memoizedState=id(1|t,r,void 0,n===void 0?null:n)}function Xm(e,t,r,n){var a=aa();n=n===void 0?null:n;var i=void 0;if(ar!==null){var s=ar.memoizedState;if(i=s.destroy,n!==null&&Iw(n,s.deps)){a.memoizedState=id(t,r,i,n);return}}kt.flags|=e,a.memoizedState=id(1|t,r,i,n)}function WS(e,t){return D0(8390656,8,e,t)}function $w(e,t){return Xm(2048,8,e,t)}function Nk(e,t){return Xm(4,2,e,t)}function kk(e,t){return Xm(4,4,e,t)}function Pk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rk(e,t,r){return r=r!=null?r.concat([e]):null,Xm(4,4,Pk.bind(null,t,e),r)}function Lw(){}function Ik(e,t){var r=aa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Iw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dk(e,t){var r=aa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Iw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Mk(e,t,r){return Vo&21?(Pa(r,t)||(r=UN(),kt.lanes|=r,qo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=r)}function e8(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=Yg.transition;Yg.transition={};try{e(!1),t()}finally{st=r,Yg.transition=n}}function $k(){return aa().memoizedState}function t8(e,t,r){var n=Ns(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lk(e))Fk(t,r);else if(r=xk(e,t,r,n),r!==null){var a=rn();Ca(r,e,n,a),Bk(r,t,n)}}function r8(e,t,r){var n=Ns(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lk(e))Fk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Pa(o,s)){var l=t.interleaved;l===null?(a.next=a,Cw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=xk(e,t,a,n),r!==null&&(a=rn(),Ca(r,e,n,a),Bk(r,t,n))}}function Lk(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function Fk(e,t){jf=op=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mw(e,r)}}var lp={readContext:na,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},n8={readContext:na,useCallback:function(e,t){return za().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:WS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,D0(4194308,4,Pk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return D0(4194308,4,e,t)},useInsertionEffect:function(e,t){return D0(4,2,e,t)},useMemo:function(e,t){var r=za();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=za();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=t8.bind(null,kt,e),[n.memoizedState,e]},useRef:function(e){var t=za();return e={current:e},t.memoizedState=e},useState:zS,useDebugValue:Lw,useDeferredValue:function(e){return za().memoizedState=e},useTransition:function(){var e=zS(!1),t=e[0];return e=e8.bind(null,e[1]),za().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=kt,a=za();if(Et){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),gr===null)throw Error(fe(349));Vo&30||Ek(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,WS(Ak.bind(null,n,i,e),[e]),n.flags|=2048,id(9,Tk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=za(),t=gr.identifierPrefix;if(Et){var r=mi,n=pi;r=(n&~(1<<32-ja(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Z$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a8={readContext:na,useCallback:Ik,useContext:na,useEffect:$w,useImperativeHandle:Rk,useInsertionEffect:Nk,useLayoutEffect:kk,useMemo:Dk,useReducer:Qg,useRef:Ck,useState:function(){return Qg(ad)},useDebugValue:Lw,useDeferredValue:function(e){var t=aa();return Mk(t,ar.memoizedState,e)},useTransition:function(){var e=Qg(ad)[0],t=aa().memoizedState;return[e,t]},useMutableSource:_k,useSyncExternalStore:Sk,useId:$k,unstable_isNewReconciler:!1},i8={readContext:na,useCallback:Ik,useContext:na,useEffect:$w,useImperativeHandle:Rk,useInsertionEffect:Nk,useLayoutEffect:kk,useMemo:Dk,useReducer:Jg,useRef:Ck,useState:function(){return Jg(ad)},useDebugValue:Lw,useDeferredValue:function(e){var t=aa();return ar===null?t.memoizedState=e:Mk(t,ar.memoizedState,e)},useTransition:function(){var e=Jg(ad)[0],t=aa().memoizedState;return[e,t]},useMutableSource:_k,useSyncExternalStore:Sk,useId:$k,unstable_isNewReconciler:!1};function va(e,t){if(e&&e.defaultProps){t=Rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function jx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ym={isMounted:function(e){return(e=e._reactInternals)?ol(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rn(),a=Ns(e),i=bi(n,a);i.payload=t,r!=null&&(i.callback=r),t=js(e,i,a),t!==null&&(Ca(t,e,a,n),R0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rn(),a=Ns(e),i=bi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=js(e,i,a),t!==null&&(Ca(t,e,a,n),R0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rn(),n=Ns(e),a=bi(r,n);a.tag=2,t!=null&&(a.callback=t),t=js(e,a,n),t!==null&&(Ca(t,e,n,r),R0(t,e,n))}};function HS(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Qf(r,n)||!Qf(a,i):!0}function Uk(e,t,r){var n=!1,a=$s,i=t.contextType;return typeof i=="object"&&i!==null?i=na(i):(a=gn(t)?Wo:Hr.current,n=t.contextTypes,i=(n=n!=null)?Cc(e,a):$s),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ym,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function VS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ym.enqueueReplaceState(t,t.state,null)}function Cx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Nw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=na(i):(i=gn(t)?Wo:Hr.current,a.context=Cc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jx(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ym.enqueueReplaceState(a,a.state,null),ip(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rc(e,t){try{var r="",n=t;do r+=R6(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Zg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Nx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s8=typeof WeakMap=="function"?WeakMap:Map;function zk(e,t,r){r=bi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){up||(up=!0,Bx=n),Nx(e,t)},r}function Wk(e,t,r){r=bi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Nx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Nx(e,t),typeof n!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function qS(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new s8;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=b8.bind(null,e,t,r),t.then(e,e))}function KS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function GS(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bi(-1,1),t.tag=2,js(r,t,1))),r.lanes|=1),e)}var o8=zi.ReactCurrentOwner,hn=!1;function Gr(e,t,r,n){t.child=e===null?yk(t,null,r,n):kc(t,e.child,r,n)}function XS(e,t,r,n,a){r=r.render;var i=t.ref;return ac(t,a),n=Dw(e,t,r,n,i,a),r=Mw(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pi(e,t,a)):(Et&&r&&Sw(t),t.flags|=1,Gr(e,t,n,a),t.child)}function YS(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!qw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Hk(e,t,i,n,a)):(e=F0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qf,r(s,n)&&e.ref===t.ref)return Pi(e,t,a)}return t.flags|=1,e=ks(i,n),e.ref=t.ref,e.return=t,t.child=e}function Hk(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Qf(i,n)&&e.ref===t.ref)if(hn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,Pi(e,t,a)}return kx(e,t,r,n,a)}function Vk(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Kl,On),On|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Kl,On),On|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(Kl,On),On|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,vt(Kl,On),On|=n;return Gr(e,t,a,r),t.child}function qk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kx(e,t,r,n,a){var i=gn(r)?Wo:Hr.current;return i=Cc(t,i),ac(t,a),r=Dw(e,t,r,n,i,a),n=Mw(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pi(e,t,a)):(Et&&n&&Sw(t),t.flags|=1,Gr(e,t,r,a),t.child)}function QS(e,t,r,n,a){if(gn(r)){var i=!0;ep(t)}else i=!1;if(ac(t,a),t.stateNode===null)M0(e,t),Uk(t,r,n),Cx(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=na(c):(c=gn(r)?Wo:Hr.current,c=Cc(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&VS(t,s,n,c),ts=!1;var h=t.memoizedState;s.state=h,ip(t,n,s,a),l=t.memoizedState,o!==n||h!==l||vn.current||ts?(typeof f=="function"&&(jx(t,r,f,n),l=t.memoizedState),(o=ts||HS(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,bk(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:va(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=na(l):(l=gn(r)?Wo:Hr.current,l=Cc(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&VS(t,s,n,l),ts=!1,h=t.memoizedState,s.state=h,ip(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||vn.current||ts?(typeof p=="function"&&(jx(t,r,p,n),g=t.memoizedState),(c=ts||HS(t,r,c,n,h,g,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Px(e,t,r,n,i,a)}function Px(e,t,r,n,a,i){qk(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&MS(t,r,!1),Pi(e,t,i);n=t.stateNode,o8.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=kc(t,e.child,null,i),t.child=kc(t,null,o,i)):Gr(e,t,o,i),t.memoizedState=n.state,a&&MS(t,r,!0),t.child}function Kk(e){var t=e.stateNode;t.pendingContext?DS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DS(e,t.context,!1),kw(e,t.containerInfo)}function JS(e,t,r,n,a){return Nc(),Tw(a),t.flags|=256,Gr(e,t,r,n),t.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function Ix(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gk(e,t,r){var n=t.pendingProps,a=Nt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vt(Nt,a&1),e===null)return Ax(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Zm(s,n,0,null),e=Fo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ix(r),t.memoizedState=Rx,e):Fw(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return l8(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ks(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ks(o,i):(i=Fo(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Ix(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Rx,n}return i=e.child,e=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fw(e,t){return t=Zm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vh(e,t,r,n){return n!==null&&Tw(n),kc(t,e.child,null,r),e=Fw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l8(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Zg(Error(fe(422))),Vh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Zm({mode:"visible",children:n.children},a,0,null),i=Fo(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&kc(t,e.child,null,s),t.child.memoizedState=Ix(s),t.memoizedState=Rx,i);if(!(t.mode&1))return Vh(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(fe(419)),n=Zg(i,n,void 0),Vh(e,t,s,n)}if(o=(s&e.childLanes)!==0,hn||o){if(n=gr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ki(e,a),Ca(n,e,a,-1))}return Vw(),n=Zg(Error(fe(421))),Vh(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=w8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Dn=Os(a.nextSibling),Mn=t,Et=!0,Sa=null,e!==null&&(Yn[Qn++]=pi,Yn[Qn++]=mi,Yn[Qn++]=Ho,pi=e.id,mi=e.overflow,Ho=t),t=Fw(t,n.children),t.flags|=4096,t)}function ZS(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ox(e.return,t,r)}function ey(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Xk(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Gr(e,t,n.children,r),n=Nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ZS(e,r,t);else if(e.tag===19)ZS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vt(Nt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ey(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ey(t,!0,r,null,i);break;case"together":ey(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function M0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function c8(e,t,r){switch(t.tag){case 3:Kk(t),Nc();break;case 5:wk(t);break;case 1:gn(t.type)&&ep(t);break;case 4:kw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;vt(np,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(Nt,Nt.current&1),t.flags|=128,null):r&t.child.childLanes?Gk(e,t,r):(vt(Nt,Nt.current&1),e=Pi(e,t,r),e!==null?e.sibling:null);vt(Nt,Nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xk(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Nt,Nt.current),n)break;return null;case 22:case 23:return t.lanes=0,Vk(e,t,r)}return Pi(e,t,r)}var Yk,Dx,Qk,Jk;Yk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dx=function(){};Qk=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,wo(Ya.current);var i=null;switch(r){case"input":a=nx(e,a),n=nx(e,n),i=[];break;case"select":a=Rt({},a,{value:void 0}),n=Rt({},n,{value:void 0}),i=[];break;case"textarea":a=sx(e,a),n=sx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=J0)}lx(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yt("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Jk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qu(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function u8(e,t,r){var n=t.pendingProps;switch(Ew(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return gn(t.type)&&Z0(),$r(t),null;case 3:return n=t.stateNode,Pc(),wt(vn),wt(Hr),Rw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sa!==null&&(Wx(Sa),Sa=null))),Dx(e,t),$r(t),null;case 5:Pw(t);var a=wo(rd.current);if(r=t.type,e!==null&&t.stateNode!=null)Qk(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return $r(t),null}if(e=wo(Ya.current),Wh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ka]=t,n[ed]=i,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(a=0;a<vf.length;a++)yt(vf[a],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":lS(n,i),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yt("invalid",n);break;case"textarea":uS(n,i),yt("invalid",n)}lx(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,o,e),a=["children",""+o]):Hf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&yt("scroll",n)}switch(r){case"input":Ih(n),cS(n,i,!0);break;case"textarea":Ih(n),fS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=J0)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ka]=t,e[ed]=n,Yk(e,t,!1,!1),t.stateNode=e;e:{switch(s=cx(r,n),r){case"dialog":yt("cancel",e),yt("close",e),a=n;break;case"iframe":case"object":case"embed":yt("load",e),a=n;break;case"video":case"audio":for(a=0;a<vf.length;a++)yt(vf[a],e);a=n;break;case"source":yt("error",e),a=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),a=n;break;case"details":yt("toggle",e),a=n;break;case"input":lS(e,n),a=nx(e,n),yt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Rt({},n,{value:void 0}),yt("invalid",e);break;case"textarea":uS(e,n),a=sx(e,n),yt("invalid",e);break;default:a=n}lx(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?CN(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ON(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vf(e,l):typeof l=="number"&&Vf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&yt("scroll",e):l!=null&&cw(e,i,l,s))}switch(r){case"input":Ih(e),cS(e,n,!1);break;case"textarea":Ih(e),fS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ms(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ec(e,!!n.multiple,i,!1):n.defaultValue!=null&&ec(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=J0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)Jk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=wo(rd.current),wo(Ya.current),Wh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ka]=t,(i=n.nodeValue!==r)&&(e=Mn,e!==null))switch(e.tag){case 3:zh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ka]=t,t.stateNode=n}return $r(t),null;case 13:if(wt(Nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&Dn!==null&&t.mode&1&&!(t.flags&128))vk(),Nc(),t.flags|=98560,i=!1;else if(i=Wh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Ka]=t}else Nc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),i=!1}else Sa!==null&&(Wx(Sa),Sa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?sr===0&&(sr=3):Vw())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return Pc(),Dx(e,t),e===null&&Jf(t.stateNode.containerInfo),$r(t),null;case 10:return jw(t.type._context),$r(t),null;case 17:return gn(t.type)&&Z0(),$r(t),null;case 19:if(wt(Nt),i=t.memoizedState,i===null)return $r(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Qu(i,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sp(e),s!==null){for(t.flags|=128,Qu(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vt(Nt,Nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wt()>Ic&&(t.flags|=128,n=!0,Qu(i,!1),t.lanes=4194304)}else{if(!n)if(e=sp(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Et)return $r(t),null}else 2*Wt()-i.renderingStartTime>Ic&&r!==1073741824&&(t.flags|=128,n=!0,Qu(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,r=Nt.current,vt(Nt,n?r&1|2:r&1),t):($r(t),null);case 22:case 23:return Hw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?On&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function f8(e,t){switch(Ew(t),t.tag){case 1:return gn(t.type)&&Z0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pc(),wt(vn),wt(Hr),Rw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pw(t),null;case 13:if(wt(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Nc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Nt),null;case 4:return Pc(),null;case 10:return jw(t.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var qh=!1,Fr=!1,d8=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ql(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dt(e,t,n)}else r.current=null}function Mx(e,t,r){try{r()}catch(n){Dt(e,t,n)}}var eE=!1;function h8(e,t){if(xx=X0,e=nk(),_w(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++f===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bx={focusedElem:e,selectionRange:r},X0=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:va(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){Dt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=eE,eE=!1,g}function Cf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Mx(t,r,i)}a=a.next}while(a!==n)}}function Qm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $x(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zk(e){var t=e.alternate;t!==null&&(e.alternate=null,Zk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ka],delete t[ed],delete t[Sx],delete t[X$],delete t[Y$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eP(e){return e.tag===5||e.tag===3||e.tag===4}function tE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=J0));else if(n!==4&&(e=e.child,e!==null))for(Lx(e,t,r),e=e.sibling;e!==null;)Lx(e,t,r),e=e.sibling}function Fx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Fx(e,t,r),e=e.sibling;e!==null;)Fx(e,t,r),e=e.sibling}var Er=null,ba=!1;function Qi(e,t,r){for(r=r.child;r!==null;)tP(e,t,r),r=r.sibling}function tP(e,t,r){if(Xa&&typeof Xa.onCommitFiberUnmount=="function")try{Xa.onCommitFiberUnmount(Wm,r)}catch{}switch(r.tag){case 5:Fr||ql(r,t);case 6:var n=Er,a=ba;Er=null,Qi(e,t,r),Er=n,ba=a,Er!==null&&(ba?(e=Er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(ba?(e=Er,r=r.stateNode,e.nodeType===8?Kg(e.parentNode,r):e.nodeType===1&&Kg(e,r),Xf(e)):Kg(Er,r.stateNode));break;case 4:n=Er,a=ba,Er=r.stateNode.containerInfo,ba=!0,Qi(e,t,r),Er=n,ba=a;break;case 0:case 11:case 14:case 15:if(!Fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Mx(r,t,s),a=a.next}while(a!==n)}Qi(e,t,r);break;case 1:if(!Fr&&(ql(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Dt(r,t,o)}Qi(e,t,r);break;case 21:Qi(e,t,r);break;case 22:r.mode&1?(Fr=(n=Fr)||r.memoizedState!==null,Qi(e,t,r),Fr=n):Qi(e,t,r);break;default:Qi(e,t,r)}}function rE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d8),t.forEach(function(n){var a=_8.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Er=o.stateNode,ba=!1;break e;case 3:Er=o.stateNode.containerInfo,ba=!0;break e;case 4:Er=o.stateNode.containerInfo,ba=!0;break e}o=o.return}if(Er===null)throw Error(fe(160));tP(i,s,a),Er=null,ba=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Dt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rP(t,e),t=t.sibling}function rP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),Fa(e),n&4){try{Cf(3,e,e.return),Qm(3,e)}catch(m){Dt(e,e.return,m)}try{Cf(5,e,e.return)}catch(m){Dt(e,e.return,m)}}break;case 1:fa(t,e),Fa(e),n&512&&r!==null&&ql(r,r.return);break;case 5:if(fa(t,e),Fa(e),n&512&&r!==null&&ql(r,r.return),e.flags&32){var a=e.stateNode;try{Vf(a,"")}catch(m){Dt(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&EN(a,i),cx(o,s);var c=cx(o,i);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?CN(a,d):f==="dangerouslySetInnerHTML"?ON(a,d):f==="children"?Vf(a,d):cw(a,f,d,c)}switch(o){case"input":ax(a,i);break;case"textarea":TN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ec(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ec(a,!!i.multiple,i.defaultValue,!0):ec(a,!!i.multiple,i.multiple?[]:"",!1))}a[ed]=i}catch(m){Dt(e,e.return,m)}}break;case 6:if(fa(t,e),Fa(e),n&4){if(e.stateNode===null)throw Error(fe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Dt(e,e.return,m)}}break;case 3:if(fa(t,e),Fa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xf(t.containerInfo)}catch(m){Dt(e,e.return,m)}break;case 4:fa(t,e),Fa(e);break;case 13:fa(t,e),Fa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(zw=Wt())),n&4&&rE(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Fr=(c=Fr)||f,fa(t,e),Fr=c):fa(t,e),Fa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(Ae=e,f=e.child;f!==null;){for(d=Ae=f;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Cf(4,h,h.return);break;case 1:ql(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Dt(n,r,m)}}break;case 5:ql(h,h.return);break;case 22:if(h.memoizedState!==null){aE(d);continue}}p!==null?(p.return=h,Ae=p):aE(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jN("display",s))}catch(m){Dt(e,e.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Dt(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(t,e),Fa(e),n&4&&rE(e);break;case 21:break;default:fa(t,e),Fa(e)}}function Fa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eP(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vf(a,""),n.flags&=-33);var i=tE(e);Fx(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=tE(e);Lx(e,o,s);break;default:throw Error(fe(161))}}catch(l){Dt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p8(e,t,r){Ae=e,nP(e)}function nP(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||qh;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Fr;o=qh;var c=Fr;if(qh=s,(Fr=l)&&!c)for(Ae=a;Ae!==null;)s=Ae,l=s.child,s.tag===22&&s.memoizedState!==null?iE(a):l!==null?(l.return=s,Ae=l):iE(a);for(;i!==null;)Ae=i,nP(i),i=i.sibling;Ae=a,qh=o,Fr=c}nE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):nE(e)}}function nE(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fr||Qm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:va(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&US(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}US(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Xf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Fr||t.flags&512&&$x(t)}catch(h){Dt(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function aE(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function iE(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qm(4,t)}catch(l){Dt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Dt(t,a,l)}}var i=t.return;try{$x(t)}catch(l){Dt(t,i,l)}break;case 5:var s=t.return;try{$x(t)}catch(l){Dt(t,s,l)}}}catch(l){Dt(t,t.return,l)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var m8=Math.ceil,cp=zi.ReactCurrentDispatcher,Bw=zi.ReactCurrentOwner,ta=zi.ReactCurrentBatchConfig,Ke=0,gr=null,Xt=null,jr=0,On=0,Kl=Hs(0),sr=0,sd=null,qo=0,Jm=0,Uw=0,Nf=null,dn=null,zw=0,Ic=1/0,oi=null,up=!1,Bx=null,Cs=null,Kh=!1,xs=null,fp=0,kf=0,Ux=null,$0=-1,L0=0;function rn(){return Ke&6?Wt():$0!==-1?$0:$0=Wt()}function Ns(e){return e.mode&1?Ke&2&&jr!==0?jr&-jr:J$.transition!==null?(L0===0&&(L0=UN()),L0):(e=st,e!==0||(e=window.event,e=e===void 0?16:GN(e.type)),e):1}function Ca(e,t,r,n){if(50<kf)throw kf=0,Ux=null,Error(fe(185));oh(e,r,n),(!(Ke&2)||e!==gr)&&(e===gr&&(!(Ke&2)&&(Jm|=r),sr===4&&is(e,jr)),yn(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Ic=Wt()+500,Gm&&Vs()))}function yn(e,t){var r=e.callbackNode;J6(e,t);var n=G0(e,e===gr?jr:0);if(n===0)r!==null&&pS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pS(r),t===1)e.tag===0?Q$(sE.bind(null,e)):hk(sE.bind(null,e)),K$(function(){!(Ke&6)&&Vs()}),r=null;else{switch(zN(n)){case 1:r=pw;break;case 4:r=FN;break;case 16:r=K0;break;case 536870912:r=BN;break;default:r=K0}r=fP(r,aP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aP(e,t){if($0=-1,L0=0,Ke&6)throw Error(fe(327));var r=e.callbackNode;if(ic()&&e.callbackNode!==r)return null;var n=G0(e,e===gr?jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dp(e,n);else{t=n;var a=Ke;Ke|=2;var i=sP();(gr!==e||jr!==t)&&(oi=null,Ic=Wt()+500,Lo(e,t));do try{y8();break}catch(o){iP(e,o)}while(!0);Ow(),cp.current=i,Ke=a,Xt!==null?t=0:(gr=null,jr=0,t=sr)}if(t!==0){if(t===2&&(a=px(e),a!==0&&(n=a,t=zx(e,a))),t===1)throw r=sd,Lo(e,0),is(e,n),yn(e,Wt()),r;if(t===6)is(e,n);else{if(a=e.current.alternate,!(n&30)&&!v8(a)&&(t=dp(e,n),t===2&&(i=px(e),i!==0&&(n=i,t=zx(e,i))),t===1))throw r=sd,Lo(e,0),is(e,n),yn(e,Wt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:oo(e,dn,oi);break;case 3:if(is(e,n),(n&130023424)===n&&(t=zw+500-Wt(),10<t)){if(G0(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_x(oo.bind(null,e,dn,oi),t);break}oo(e,dn,oi);break;case 4:if(is(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ja(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m8(n/1960))-n,10<n){e.timeoutHandle=_x(oo.bind(null,e,dn,oi),n);break}oo(e,dn,oi);break;case 5:oo(e,dn,oi);break;default:throw Error(fe(329))}}}return yn(e,Wt()),e.callbackNode===r?aP.bind(null,e):null}function zx(e,t){var r=Nf;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=dp(e,t),e!==2&&(t=dn,dn=r,t!==null&&Wx(t)),e}function Wx(e){dn===null?dn=e:dn.push.apply(dn,e)}function v8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Pa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t){for(t&=~Uw,t&=~Jm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ja(t),n=1<<r;e[r]=-1,t&=~n}}function sE(e){if(Ke&6)throw Error(fe(327));ic();var t=G0(e,0);if(!(t&1))return yn(e,Wt()),null;var r=dp(e,t);if(e.tag!==0&&r===2){var n=px(e);n!==0&&(t=n,r=zx(e,n))}if(r===1)throw r=sd,Lo(e,0),is(e,t),yn(e,Wt()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oo(e,dn,oi),yn(e,Wt()),null}function Ww(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Ic=Wt()+500,Gm&&Vs())}}function Ko(e){xs!==null&&xs.tag===0&&!(Ke&6)&&ic();var t=Ke;Ke|=1;var r=ta.transition,n=st;try{if(ta.transition=null,st=1,e)return e()}finally{st=n,ta.transition=r,Ke=t,!(Ke&6)&&Vs()}}function Hw(){On=Kl.current,wt(Kl)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,q$(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(Ew(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Z0();break;case 3:Pc(),wt(vn),wt(Hr),Rw();break;case 5:Pw(n);break;case 4:Pc();break;case 13:wt(Nt);break;case 19:wt(Nt);break;case 10:jw(n.type._context);break;case 22:case 23:Hw()}r=r.return}if(gr=e,Xt=e=ks(e.current,null),jr=On=t,sr=0,sd=null,Uw=Jm=qo=0,dn=Nf=null,bo!==null){for(t=0;t<bo.length;t++)if(r=bo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}bo=null}return e}function iP(e,t){do{var r=Xt;try{if(Ow(),I0.current=lp,op){for(var n=kt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}op=!1}if(Vo=0,fr=ar=kt=null,jf=!1,nd=0,Bw.current=null,r===null||r.return===null){sr=1,sd=t,Xt=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=jr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=KS(s);if(p!==null){p.flags&=-257,GS(p,s,o,i,t),p.mode&1&&qS(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){qS(i,c,t),Vw();break e}l=Error(fe(426))}}else if(Et&&o.mode&1){var y=KS(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),GS(y,s,o,i,t),Tw(Rc(l,o));break e}}i=l=Rc(l,o),sr!==4&&(sr=2),Nf===null?Nf=[i]:Nf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=zk(i,l,t);BS(i,b);break e;case 1:o=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cs===null||!Cs.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Wk(i,o,t);BS(i,_);break e}}i=i.return}while(i!==null)}lP(r)}catch(w){t=w,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function sP(){var e=cp.current;return cp.current=lp,e===null?lp:e}function Vw(){(sr===0||sr===3||sr===2)&&(sr=4),gr===null||!(qo&268435455)&&!(Jm&268435455)||is(gr,jr)}function dp(e,t){var r=Ke;Ke|=2;var n=sP();(gr!==e||jr!==t)&&(oi=null,Lo(e,t));do try{g8();break}catch(a){iP(e,a)}while(!0);if(Ow(),Ke=r,cp.current=n,Xt!==null)throw Error(fe(261));return gr=null,jr=0,sr}function g8(){for(;Xt!==null;)oP(Xt)}function y8(){for(;Xt!==null&&!W6();)oP(Xt)}function oP(e){var t=uP(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?lP(e):Xt=t,Bw.current=null}function lP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=f8(r,t),r!==null){r.flags&=32767,Xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Xt=null;return}}else if(r=u8(r,t,On),r!==null){Xt=r;return}if(t=t.sibling,t!==null){Xt=t;return}Xt=t=e}while(t!==null);sr===0&&(sr=5)}function oo(e,t,r){var n=st,a=ta.transition;try{ta.transition=null,st=1,x8(e,t,r,n)}finally{ta.transition=a,st=n}return null}function x8(e,t,r,n){do ic();while(xs!==null);if(Ke&6)throw Error(fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Z6(e,i),e===gr&&(Xt=gr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kh||(Kh=!0,fP(K0,function(){return ic(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ta.transition,ta.transition=null;var s=st;st=1;var o=Ke;Ke|=4,Bw.current=null,h8(e,r),rP(r,e),F$(bx),X0=!!xx,bx=xx=null,e.current=r,p8(r),H6(),Ke=o,st=s,ta.transition=i}else e.current=r;if(Kh&&(Kh=!1,xs=e,fp=a),i=e.pendingLanes,i===0&&(Cs=null),K6(r.stateNode),yn(e,Wt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(up)throw up=!1,e=Bx,Bx=null,e;return fp&1&&e.tag!==0&&ic(),i=e.pendingLanes,i&1?e===Ux?kf++:(kf=0,Ux=e):kf=0,Vs(),null}function ic(){if(xs!==null){var e=zN(fp),t=ta.transition,r=st;try{if(ta.transition=null,st=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,fp=0,Ke&6)throw Error(fe(331));var a=Ke;for(Ke|=4,Ae=e.current;Ae!==null;){var i=Ae,s=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ae=c;Ae!==null;){var f=Ae;switch(f.tag){case 0:case 11:case 15:Cf(8,f,i)}var d=f.child;if(d!==null)d.return=f,Ae=d;else for(;Ae!==null;){f=Ae;var h=f.sibling,p=f.return;if(Zk(f),f===c){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ae=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ae=s;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cf(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ae=b;break e}Ae=i.return}}var v=e.current;for(Ae=v;Ae!==null;){s=Ae;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ae=x;else e:for(s=v;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qm(9,o)}}catch(w){Dt(o,o.return,w)}if(o===s){Ae=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ae=_;break e}Ae=o.return}}if(Ke=a,Vs(),Xa&&typeof Xa.onPostCommitFiberRoot=="function")try{Xa.onPostCommitFiberRoot(Wm,e)}catch{}n=!0}return n}finally{st=r,ta.transition=t}}return!1}function oE(e,t,r){t=Rc(r,t),t=zk(e,t,1),e=js(e,t,1),t=rn(),e!==null&&(oh(e,1,t),yn(e,t))}function Dt(e,t,r){if(e.tag===3)oE(e,e,r);else for(;t!==null;){if(t.tag===3){oE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cs===null||!Cs.has(n))){e=Rc(r,e),e=Wk(t,e,1),t=js(t,e,1),e=rn(),t!==null&&(oh(t,1,e),yn(t,e));break}}t=t.return}}function b8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&r,gr===e&&(jr&r)===r&&(sr===4||sr===3&&(jr&130023424)===jr&&500>Wt()-zw?Lo(e,0):Uw|=r),yn(e,t)}function cP(e,t){t===0&&(e.mode&1?(t=$h,$h<<=1,!($h&130023424)&&($h=4194304)):t=1);var r=rn();e=ki(e,t),e!==null&&(oh(e,t,r),yn(e,r))}function w8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cP(e,r)}function _8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),cP(e,r)}var uP;uP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hn=!1,c8(e,t,r);hn=!!(e.flags&131072)}else hn=!1,Et&&t.flags&1048576&&pk(t,rp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;M0(e,t),e=t.pendingProps;var a=Cc(t,Hr.current);ac(t,r),a=Dw(null,t,n,e,a,r);var i=Mw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(n)?(i=!0,ep(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Nw(t),a.updater=Ym,t.stateNode=a,a._reactInternals=t,Cx(t,n,e,r),t=Px(null,t,n,!0,i,r)):(t.tag=0,Et&&i&&Sw(t),Gr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(M0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=E8(n),e=va(n,e),a){case 0:t=kx(null,t,n,e,r);break e;case 1:t=QS(null,t,n,e,r);break e;case 11:t=XS(null,t,n,e,r);break e;case 14:t=YS(null,t,n,va(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),kx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),QS(e,t,n,a,r);case 3:e:{if(Kk(t),e===null)throw Error(fe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,bk(e,t),ip(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Rc(Error(fe(423)),t),t=JS(e,t,n,r,a);break e}else if(n!==a){a=Rc(Error(fe(424)),t),t=JS(e,t,n,r,a);break e}else for(Dn=Os(t.stateNode.containerInfo.firstChild),Mn=t,Et=!0,Sa=null,r=yk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nc(),n===a){t=Pi(e,t,r);break e}Gr(e,t,n,r)}t=t.child}return t;case 5:return wk(t),e===null&&Ax(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,wx(n,a)?s=null:i!==null&&wx(n,i)&&(t.flags|=32),qk(e,t),Gr(e,t,s,r),t.child;case 6:return e===null&&Ax(t),null;case 13:return Gk(e,t,r);case 4:return kw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kc(t,null,n,r):Gr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),XS(e,t,n,a,r);case 7:return Gr(e,t,t.pendingProps,r),t.child;case 8:return Gr(e,t,t.pendingProps.children,r),t.child;case 12:return Gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,vt(np,n._currentValue),n._currentValue=s,i!==null)if(Pa(i.value,s)){if(i.children===a.children&&!vn.current){t=Pi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=bi(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ox(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(fe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Ox(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Gr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ac(t,r),a=na(a),n=n(a),t.flags|=1,Gr(e,t,n,r),t.child;case 14:return n=t.type,a=va(n,t.pendingProps),a=va(n.type,a),YS(e,t,n,a,r);case 15:return Hk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:va(n,a),M0(e,t),t.tag=1,gn(n)?(e=!0,ep(t)):e=!1,ac(t,r),Uk(t,n,a),Cx(t,n,a,r),Px(null,t,n,!0,e,r);case 19:return Xk(e,t,r);case 22:return Vk(e,t,r)}throw Error(fe(156,t.tag))};function fP(e,t){return LN(e,t)}function S8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(e,t,r,n){return new S8(e,t,r,n)}function qw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E8(e){if(typeof e=="function")return qw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fw)return 11;if(e===dw)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function F0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")qw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $l:return Fo(r.children,a,i,t);case uw:s=8,a|=8;break;case Zy:return e=Zn(12,r,t,a|2),e.elementType=Zy,e.lanes=i,e;case ex:return e=Zn(13,r,t,a),e.elementType=ex,e.lanes=i,e;case tx:return e=Zn(19,r,t,a),e.elementType=tx,e.lanes=i,e;case wN:return Zm(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xN:s=10;break e;case bN:s=9;break e;case fw:s=11;break e;case dw:s=14;break e;case es:s=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Zn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Fo(e,t,r,n){return e=Zn(7,e,n,t),e.lanes=r,e}function Zm(e,t,r,n){return e=Zn(22,e,n,t),e.elementType=wN,e.lanes=r,e.stateNode={isHidden:!1},e}function ty(e,t,r){return e=Zn(6,e,null,t),e.lanes=r,e}function ry(e,t,r){return t=Zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T8(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kw(e,t,r,n,a,i,s,o,l){return e=new T8(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Zn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nw(i),e}function A8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dP(e){if(!e)return $s;e=e._reactInternals;e:{if(ol(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(gn(r))return dk(e,r,t)}return t}function hP(e,t,r,n,a,i,s,o,l){return e=Kw(r,n,!0,e,a,i,s,o,l),e.context=dP(null),r=e.current,n=rn(),a=Ns(r),i=bi(n,a),i.callback=t??null,js(r,i,a),e.current.lanes=a,oh(e,a,n),yn(e,n),e}function ev(e,t,r,n){var a=t.current,i=rn(),s=Ns(a);return r=dP(r),t.context===null?t.context=r:t.pendingContext=r,t=bi(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=js(a,t,s),e!==null&&(Ca(e,a,s,i),R0(e,a,s)),s}function hp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gw(e,t){lE(e,t),(e=e.alternate)&&lE(e,t)}function O8(){return null}var pP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xw(e){this._internalRoot=e}tv.prototype.render=Xw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));ev(e,t,null,null)};tv.prototype.unmount=Xw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ko(function(){ev(null,e,null,null)}),t[Ni]=null}};function tv(e){this._internalRoot=e}tv.prototype.unstable_scheduleHydration=function(e){if(e){var t=VN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<as.length&&t!==0&&t<as[r].priority;r++);as.splice(r,0,e),r===0&&KN(e)}};function Yw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cE(){}function j8(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=hp(s);i.call(c)}}var s=hP(t,n,e,0,null,!1,!1,"",cE);return e._reactRootContainer=s,e[Ni]=s.current,Jf(e.nodeType===8?e.parentNode:e),Ko(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=hp(l);o.call(c)}}var l=Kw(e,0,!1,null,null,!1,!1,"",cE);return e._reactRootContainer=l,e[Ni]=l.current,Jf(e.nodeType===8?e.parentNode:e),Ko(function(){ev(t,l,r,n)}),l}function nv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=hp(s);o.call(l)}}ev(t,s,e,a)}else s=j8(r,t,e,a,n);return hp(s)}WN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mf(t.pendingLanes);r!==0&&(mw(t,r|1),yn(t,Wt()),!(Ke&6)&&(Ic=Wt()+500,Vs()))}break;case 13:Ko(function(){var n=ki(e,1);if(n!==null){var a=rn();Ca(n,e,1,a)}}),Gw(e,1)}};vw=function(e){if(e.tag===13){var t=ki(e,134217728);if(t!==null){var r=rn();Ca(t,e,134217728,r)}Gw(e,134217728)}};HN=function(e){if(e.tag===13){var t=Ns(e),r=ki(e,t);if(r!==null){var n=rn();Ca(r,e,t,n)}Gw(e,t)}};VN=function(){return st};qN=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};fx=function(e,t,r){switch(t){case"input":if(ax(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Km(n);if(!a)throw Error(fe(90));SN(n),ax(n,a)}}}break;case"textarea":TN(e,r);break;case"select":t=r.value,t!=null&&ec(e,!!r.multiple,t,!1)}};PN=Ww;RN=Ko;var C8={usingClientEntryPoint:!1,Events:[ch,Ul,Km,NN,kN,Ww]},Ju={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N8={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MN(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||O8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Wm=Gh.inject(N8),Xa=Gh}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C8;Bn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yw(t))throw Error(fe(200));return A8(e,t,null,r)};Bn.createRoot=function(e,t){if(!Yw(e))throw Error(fe(299));var r=!1,n="",a=pP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kw(e,1,!1,null,null,r,!1,n,a),e[Ni]=t.current,Jf(e.nodeType===8?e.parentNode:e),new Xw(t)};Bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=MN(t),e=e===null?null:e.stateNode,e};Bn.flushSync=function(e){return Ko(e)};Bn.hydrate=function(e,t,r){if(!rv(t))throw Error(fe(200));return nv(null,e,t,!0,r)};Bn.hydrateRoot=function(e,t,r){if(!Yw(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=pP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=hP(t,null,e,1,r??null,a,!1,i,s),e[Ni]=t.current,Jf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new tv(t)};Bn.render=function(e,t,r){if(!rv(t))throw Error(fe(200));return nv(null,e,t,!1,r)};Bn.unmountComponentAtNode=function(e){if(!rv(e))throw Error(fe(40));return e._reactRootContainer?(Ko(function(){nv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ni]=null})}),!0):!1};Bn.unstable_batchedUpdates=Ww;Bn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rv(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return nv(e,t,r,!1,n)};Bn.version="18.3.1-next-f1338f8080-20240426";function mP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mP)}catch(e){console.error(e)}}mP(),mN.exports=Bn;var k8=mN.exports,uE=k8;Qy.createRoot=uE.createRoot,Qy.hydrateRoot=uE.hydrateRoot;var yu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},P8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cs,rw,qC,R8=(qC=class{constructor(){Pe(this,cs,P8);Pe(this,rw,!1)}setTimeoutProvider(e){xe(this,cs,e)}setTimeout(e,t){return F(this,cs).setTimeout(e,t)}clearTimeout(e){F(this,cs).clearTimeout(e)}setInterval(e,t){return F(this,cs).setInterval(e,t)}clearInterval(e){F(this,cs).clearInterval(e)}},cs=new WeakMap,rw=new WeakMap,qC),_o=new R8;function I8(e){setTimeout(e,0)}var Go=typeof window>"u"||"Deno"in globalThis;function Xr(){}function D8(e,t){return typeof e=="function"?e(t):e}function Hx(e){return typeof e=="number"&&e>=0&&e!==1/0}function vP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ps(e,t){return typeof e=="function"?e(t):e}function Xn(e,t){return typeof e=="function"?e(t):e}function fE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==Qw(s,t.options))return!1}else if(!od(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function dE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Xo(t.options.mutationKey)!==Xo(i))return!1}else if(!od(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Qw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xo)(e)}function Xo(e){return JSON.stringify(e,(t,r)=>Vx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function od(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>od(e[r],t[r])):!1}var M8=Object.prototype.hasOwnProperty;function gP(e,t){if(e===t)return e;const r=hE(e)&&hE(t);if(!r&&!(Vx(e)&&Vx(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let c=0;c<s;c++){const f=r?c:i[c],d=e[f],h=t[f];if(d===h){o[f]=d,(r?c<a:M8.call(e,f))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){o[f]=h;continue}const p=gP(d,h);o[f]=p,p===d&&l++}return a===s&&l===a?e:o}function pp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vx(e){if(!pE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pE(e){return Object.prototype.toString.call(e)==="[object Object]"}function $8(e){return new Promise(t=>{_o.setTimeout(t,e)})}function qx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gP(e,t):t}function L8(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function F8(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Jw=Symbol();function yP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xP(e,t){return typeof e=="function"?e(...t):!!e}var Co,us,vc,KC,B8=(KC=class extends yu{constructor(){super();Pe(this,Co);Pe(this,us);Pe(this,vc);xe(this,vc,t=>{if(!Go&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,us)||this.setEventListener(F(this,vc))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,us))==null||t.call(this),xe(this,us,void 0))}setEventListener(t){var r;xe(this,vc,t),(r=F(this,us))==null||r.call(this),xe(this,us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,Co)!==t&&(xe(this,Co,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,Co)=="boolean"?F(this,Co):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Co=new WeakMap,us=new WeakMap,vc=new WeakMap,KC),Zw=new B8;function Kx(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var U8=I8;function z8(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=U8;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ir=z8(),gc,fs,yc,GC,W8=(GC=class extends yu{constructor(){super();Pe(this,gc,!0);Pe(this,fs);Pe(this,yc);xe(this,yc,t=>{if(!Go&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,fs)||this.setEventListener(F(this,yc))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,fs))==null||t.call(this),xe(this,fs,void 0))}setEventListener(t){var r;xe(this,yc,t),(r=F(this,fs))==null||r.call(this),xe(this,fs,t(this.setOnline.bind(this)))}setOnline(t){F(this,gc)!==t&&(xe(this,gc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,gc)}},gc=new WeakMap,fs=new WeakMap,yc=new WeakMap,GC),mp=new W8;function H8(e){return Math.min(1e3*2**e,3e4)}function bP(e){return(e??"online")==="online"?mp.isOnline():!0}var Gx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wP(e){let t=!1,r=0,n;const a=Kx(),i=()=>a.status!=="pending",s=m=>{var y;if(!i()){const b=new Gx(m);h(b),(y=e.onCancel)==null||y.call(e,b)}},o=()=>{t=!0},l=()=>{t=!1},c=()=>Zw.isFocused()&&(e.networkMode==="always"||mp.isOnline())&&e.canRun(),f=()=>bP(e.networkMode)&&e.canRun(),d=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var y;n=b=>{(i()||c())&&m(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var S;if(i())return;const v=e.retry??(Go?0:3),x=e.retryDelay??H8,_=typeof x=="function"?x(r,b):x,w=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!w){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),$8(_).then(()=>c()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:l,canStart:f,start:()=>(f()?g():p().then(g),a)}}var No,XC,_P=(XC=class{constructor(){Pe(this,No)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hx(this.gcTime)&&xe(this,No,_o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Go?1/0:5*60*1e3))}clearGcTimeout(){F(this,No)&&(_o.clearTimeout(F(this,No)),xe(this,No,void 0))}},No=new WeakMap,XC),ko,xc,Kn,Po,cr,th,Ro,ya,si,YC,V8=(YC=class extends _P{constructor(t){super();Pe(this,ya);Pe(this,ko);Pe(this,xc);Pe(this,Kn);Pe(this,Po);Pe(this,cr);Pe(this,th);Pe(this,Ro);xe(this,Ro,!1),xe(this,th,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,Po,t.client),xe(this,Kn,F(this,Po).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,ko,vE(this.options)),this.state=t.state??F(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,cr))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,th),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=vE(this.options);r.data!==void 0&&(this.setState(mE(r.data,r.dataUpdatedAt)),xe(this,ko,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Kn).remove(this)}setData(t,r){const n=qx(this.state.data,t,this.options);return Fe(this,ya,si).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Fe(this,ya,si).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=F(this,cr))==null?void 0:n.promise;return(a=F(this,cr))==null||a.cancel(t),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ko))}isActive(){return this.observers.some(t=>Xn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ps(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,cr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,cr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,cr)&&(F(this,Ro)?F(this,cr).cancel({revert:!0}):F(this,cr).cancelRetry()),this.scheduleGc()),F(this,Kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,ya,si).call(this,{type:"invalidate"})}async fetch(t,r){var l,c,f,d,h,p,g,m,y,b,v,x;if(this.state.fetchStatus!=="idle"&&((l=F(this,cr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,cr))return F(this,cr).continueRetry(),F(this,cr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(xe(this,Ro,!0),n.signal)})},i=()=>{const _=yP(this.options,r),S=(()=>{const E={client:F(this,Po),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return xe(this,Ro,!1),this.options.persister?this.options.persister(_,S,this):_(S)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Po),state:this.state,fetchFn:i};return a(_),_})();(c=this.options.behavior)==null||c.onFetch(o,this),xe(this,xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&Fe(this,ya,si).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),xe(this,cr,wP({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof Gx&&_.revert&&this.setState({...F(this,xc),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{Fe(this,ya,si).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Fe(this,ya,si).call(this,{type:"pause"})},onContinue:()=>{Fe(this,ya,si).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await F(this,cr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=F(this,Kn).config).onSuccess)==null||p.call(h,_,this),(m=(g=F(this,Kn).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Gx){if(_.silent)return F(this,cr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Fe(this,ya,si).call(this,{type:"error",error:_}),(b=(y=F(this,Kn).config).onError)==null||b.call(y,_,this),(x=(v=F(this,Kn).config).onSettled)==null||x.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},ko=new WeakMap,xc=new WeakMap,Kn=new WeakMap,Po=new WeakMap,cr=new WeakMap,th=new WeakMap,Ro=new WeakMap,ya=new WeakSet,si=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...mE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,xc,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Kn).notify({query:this,type:"updated",action:t})})},YC);function SP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cn,qe,rh,qr,Io,bc,ui,ds,nh,wc,_c,Do,Mo,hs,Sc,Ze,gf,Xx,Yx,Qx,Jx,Zx,e1,t1,EP,QC,q8=(QC=class extends yu{constructor(t,r){super();Pe(this,Ze);Pe(this,cn);Pe(this,qe);Pe(this,rh);Pe(this,qr);Pe(this,Io);Pe(this,bc);Pe(this,ui);Pe(this,ds);Pe(this,nh);Pe(this,wc);Pe(this,_c);Pe(this,Do);Pe(this,Mo);Pe(this,hs);Pe(this,Sc,new Set);this.options=r,xe(this,cn,t),xe(this,ds,null),xe(this,ui,Kx()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,qe).addObserver(this),gE(F(this,qe),this.options)?Fe(this,Ze,gf).call(this):this.updateResult(),Fe(this,Ze,Jx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r1(F(this,qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r1(F(this,qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,Ze,Zx).call(this),Fe(this,Ze,e1).call(this),F(this,qe).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,qe);if(this.options=F(this,cn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xn(this.options.enabled,F(this,qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,Ze,t1).call(this),F(this,qe).setOptions(this.options),r._defaulted&&!pp(this.options,r)&&F(this,cn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,qe),observer:this});const a=this.hasListeners();a&&yE(F(this,qe),n,this.options,r)&&Fe(this,Ze,gf).call(this),this.updateResult(),a&&(F(this,qe)!==n||Xn(this.options.enabled,F(this,qe))!==Xn(r.enabled,F(this,qe))||Ps(this.options.staleTime,F(this,qe))!==Ps(r.staleTime,F(this,qe)))&&Fe(this,Ze,Xx).call(this);const i=Fe(this,Ze,Yx).call(this);a&&(F(this,qe)!==n||Xn(this.options.enabled,F(this,qe))!==Xn(r.enabled,F(this,qe))||i!==F(this,hs))&&Fe(this,Ze,Qx).call(this,i)}getOptimisticResult(t){const r=F(this,cn).getQueryCache().build(F(this,cn),t),n=this.createResult(r,t);return G8(this,n)&&(xe(this,qr,n),xe(this,bc,this.options),xe(this,Io,F(this,qe).state)),n}getCurrentResult(){return F(this,qr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,ui).status==="pending"&&F(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){F(this,Sc).add(t)}getCurrentQuery(){return F(this,qe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,cn).defaultQueryOptions(t),n=F(this,cn).getQueryCache().build(F(this,cn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Fe(this,Ze,gf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,qr)))}createResult(t,r){var A;const n=F(this,qe),a=this.options,i=F(this,qr),s=F(this,Io),o=F(this,bc),c=t!==n?t.state:F(this,rh),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const N=this.hasListeners(),j=!N&&gE(t,r),L=N&&yE(t,n,r,a);(j||L)&&(d={...d,...SP(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:y}=d;p=d.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(N=i.data,b=!0):N=typeof r.placeholderData=="function"?r.placeholderData((A=F(this,_c))==null?void 0:A.state.data,F(this,_c)):r.placeholderData,N!==void 0&&(y="success",p=qx(i==null?void 0:i.data,N,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(s==null?void 0:s.data)&&r.select===F(this,nh))p=F(this,wc);else try{xe(this,nh,r.select),p=r.select(p),p=qx(i==null?void 0:i.data,p,r),xe(this,wc,p),xe(this,ds,null)}catch(N){xe(this,ds,N)}F(this,ds)&&(g=F(this,ds),p=F(this,wc),m=Date.now(),y="error");const v=d.fetchStatus==="fetching",x=y==="pending",_=y==="error",w=x&&v,S=p!==void 0,T={status:y,fetchStatus:d.fetchStatus,isPending:x,isSuccess:y==="success",isError:_,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:_&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:e_(t,r),refetch:this.refetch,promise:F(this,ui),isEnabled:Xn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=W=>{T.status==="error"?W.reject(T.error):T.data!==void 0&&W.resolve(T.data)},j=()=>{const W=xe(this,ui,T.promise=Kx());N(W)},L=F(this,ui);switch(L.status){case"pending":t.queryHash===n.queryHash&&N(L);break;case"fulfilled":(T.status==="error"||T.data!==L.value)&&j();break;case"rejected":(T.status!=="error"||T.error!==L.reason)&&j();break}}return T}updateResult(){const t=F(this,qr),r=this.createResult(F(this,qe),this.options);if(xe(this,Io,F(this,qe).state),xe(this,bc,this.options),F(this,Io).data!==void 0&&xe(this,_c,F(this,qe)),pp(r,t))return;xe(this,qr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,Sc).size)return!0;const s=new Set(i??F(this,Sc));return this.options.throwOnError&&s.add("error"),Object.keys(F(this,qr)).some(o=>{const l=o;return F(this,qr)[l]!==t[l]&&s.has(l)})};Fe(this,Ze,EP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,Ze,Jx).call(this)}},cn=new WeakMap,qe=new WeakMap,rh=new WeakMap,qr=new WeakMap,Io=new WeakMap,bc=new WeakMap,ui=new WeakMap,ds=new WeakMap,nh=new WeakMap,wc=new WeakMap,_c=new WeakMap,Do=new WeakMap,Mo=new WeakMap,hs=new WeakMap,Sc=new WeakMap,Ze=new WeakSet,gf=function(t){Fe(this,Ze,t1).call(this);let r=F(this,qe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xr)),r},Xx=function(){Fe(this,Ze,Zx).call(this);const t=Ps(this.options.staleTime,F(this,qe));if(Go||F(this,qr).isStale||!Hx(t))return;const n=vP(F(this,qr).dataUpdatedAt,t)+1;xe(this,Do,_o.setTimeout(()=>{F(this,qr).isStale||this.updateResult()},n))},Yx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,qe)):this.options.refetchInterval)??!1},Qx=function(t){Fe(this,Ze,e1).call(this),xe(this,hs,t),!(Go||Xn(this.options.enabled,F(this,qe))===!1||!Hx(F(this,hs))||F(this,hs)===0)&&xe(this,Mo,_o.setInterval(()=>{(this.options.refetchIntervalInBackground||Zw.isFocused())&&Fe(this,Ze,gf).call(this)},F(this,hs)))},Jx=function(){Fe(this,Ze,Xx).call(this),Fe(this,Ze,Qx).call(this,Fe(this,Ze,Yx).call(this))},Zx=function(){F(this,Do)&&(_o.clearTimeout(F(this,Do)),xe(this,Do,void 0))},e1=function(){F(this,Mo)&&(_o.clearInterval(F(this,Mo)),xe(this,Mo,void 0))},t1=function(){const t=F(this,cn).getQueryCache().build(F(this,cn),this.options);if(t===F(this,qe))return;const r=F(this,qe);xe(this,qe,t),xe(this,rh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},EP=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,qr))}),F(this,cn).getQueryCache().notify({query:F(this,qe),type:"observerResultsUpdated"})})},QC);function K8(e,t){return Xn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gE(e,t){return K8(e,t)||e.state.data!==void 0&&r1(e,t,t.refetchOnMount)}function r1(e,t,r){if(Xn(t.enabled,e)!==!1&&Ps(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&e_(e,t)}return!1}function yE(e,t,r,n){return(e!==t||Xn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&e_(e,r)}function e_(e,t){return Xn(t.enabled,e)!==!1&&e.isStaleByTime(Ps(t.staleTime,e))}function G8(e,t){return!pp(e.getCurrentResult(),t)}function xE(e){return{onFetch:(t,r)=>{var f,d,h,p,g;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=yP(t.options,t.fetchOptions),v=async(x,_,w)=>{if(m)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return y(j),j})(),T=await b(E),{maxPages:A}=t.options,N=w?F8:L8;return{pages:N(x.pages,T,A),pageParams:N(x.pageParams,_,A)}};if(a&&i.length){const x=a==="backward",_=x?X8:bE,w={pages:i,pageParams:s},S=_(n,w);o=await v(w,S,x)}else{const x=e??i.length;do{const _=l===0?s[0]??n.initialPageParam:bE(n,o);if(l>0&&_==null)break;o=await v(o,_),l++}while(l<x)}return o};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function bE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function X8(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ah,Ha,Kr,$o,Va,Zi,JC,Y8=(JC=class extends _P{constructor(t){super();Pe(this,Va);Pe(this,ah);Pe(this,Ha);Pe(this,Kr);Pe(this,$o);xe(this,ah,t.client),this.mutationId=t.mutationId,xe(this,Kr,t.mutationCache),xe(this,Ha,[]),this.state=t.state||TP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Ha).includes(t)||(F(this,Ha).push(t),this.clearGcTimeout(),F(this,Kr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,Ha,F(this,Ha).filter(r=>r!==t)),this.scheduleGc(),F(this,Kr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Ha).length||(this.state.status==="pending"?this.scheduleGc():F(this,Kr).remove(this))}continue(){var t;return((t=F(this,$o))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,f,d,h,p,g,m,y,b,v,x,_,w,S,E,T,A;const r=()=>{Fe(this,Va,Zi).call(this,{type:"continue"})},n={client:F(this,ah),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,$o,wP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{Fe(this,Va,Zi).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Fe(this,Va,Zi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Kr).canRun(this)}));const a=this.state.status==="pending",i=!F(this,$o).canStart();try{if(a)r();else{Fe(this,Va,Zi).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=F(this,Kr).config).onMutate)==null?void 0:o.call(s,t,this,n));const j=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t,n));j!==this.state.context&&Fe(this,Va,Zi).call(this,{type:"pending",context:j,variables:t,isPaused:i})}const N=await F(this,$o).start();return await((d=(f=F(this,Kr).config).onSuccess)==null?void 0:d.call(f,N,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,N,t,this.state.context,n)),await((m=(g=F(this,Kr).config).onSettled)==null?void 0:m.call(g,N,null,this.state.variables,this.state.context,this,n)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,N,null,t,this.state.context,n)),Fe(this,Va,Zi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(v=F(this,Kr).config).onError)==null?void 0:x.call(v,N,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,N,t,this.state.context,n)),await((E=(S=F(this,Kr).config).onSettled)==null?void 0:E.call(S,void 0,N,this.state.variables,this.state.context,this,n)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,N,t,this.state.context,n)),N}finally{Fe(this,Va,Zi).call(this,{type:"error",error:N})}}finally{F(this,Kr).runNext(this)}}},ah=new WeakMap,Ha=new WeakMap,Kr=new WeakMap,$o=new WeakMap,Va=new WeakSet,Zi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{F(this,Ha).forEach(n=>{n.onMutationUpdate(t)}),F(this,Kr).notify({mutation:this,type:"updated",action:t})})},JC);function TP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,xa,ih,ZC,Q8=(ZC=class extends yu{constructor(t={}){super();Pe(this,fi);Pe(this,xa);Pe(this,ih);this.config=t,xe(this,fi,new Set),xe(this,xa,new Map),xe(this,ih,0)}build(t,r,n){const a=new Y8({client:t,mutationCache:this,mutationId:++Nh(this,ih)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){F(this,fi).add(t);const r=Xh(t);if(typeof r=="string"){const n=F(this,xa).get(r);n?n.push(t):F(this,xa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,fi).delete(t)){const r=Xh(t);if(typeof r=="string"){const n=F(this,xa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&F(this,xa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xh(t);if(typeof r=="string"){const n=F(this,xa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Xh(t);if(typeof r=="string"){const a=(n=F(this,xa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ir.batch(()=>{F(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,fi).clear(),F(this,xa).clear()})}getAll(){return Array.from(F(this,fi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>dE(r,n))}findAll(t={}){return this.getAll().filter(r=>dE(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xr))))}},fi=new WeakMap,xa=new WeakMap,ih=new WeakMap,ZC);function Xh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var di,ps,un,hi,ji,B0,n1,eN,J8=(eN=class extends yu{constructor(r,n){super();Pe(this,ji);Pe(this,di);Pe(this,ps);Pe(this,un);Pe(this,hi);xe(this,di,r),this.setOptions(n),this.bindMethods(),Fe(this,ji,B0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,di).defaultMutationOptions(r),pp(this.options,n)||F(this,di).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,un),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xo(n.mutationKey)!==Xo(this.options.mutationKey)?this.reset():((a=F(this,un))==null?void 0:a.state.status)==="pending"&&F(this,un).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,un))==null||r.removeObserver(this)}onMutationUpdate(r){Fe(this,ji,B0).call(this),Fe(this,ji,n1).call(this,r)}getCurrentResult(){return F(this,ps)}reset(){var r;(r=F(this,un))==null||r.removeObserver(this),xe(this,un,void 0),Fe(this,ji,B0).call(this),Fe(this,ji,n1).call(this)}mutate(r,n){var a;return xe(this,hi,n),(a=F(this,un))==null||a.removeObserver(this),xe(this,un,F(this,di).getMutationCache().build(F(this,di),this.options)),F(this,un).addObserver(this),F(this,un).execute(r)}},di=new WeakMap,ps=new WeakMap,un=new WeakMap,hi=new WeakMap,ji=new WeakSet,B0=function(){var n;const r=((n=F(this,un))==null?void 0:n.state)??TP();xe(this,ps,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},n1=function(r){ir.batch(()=>{var n,a,i,s,o,l,c,f;if(F(this,hi)&&this.hasListeners()){const d=F(this,ps).variables,h=F(this,ps).context,p={client:F(this,di),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=F(this,hi)).onSuccess)==null||a.call(n,r.data,d,h,p),(s=(i=F(this,hi)).onSettled)==null||s.call(i,r.data,null,d,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=F(this,hi)).onError)==null||l.call(o,r.error,d,h,p),(f=(c=F(this,hi)).onSettled)==null||f.call(c,void 0,r.error,d,h,p))}this.listeners.forEach(d=>{d(F(this,ps))})})},eN),qa,tN,Z8=(tN=class extends yu{constructor(t={}){super();Pe(this,qa);this.config=t,xe(this,qa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Qw(a,r);let s=this.get(i);return s||(s=new V8({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){F(this,qa).has(t.queryHash)||(F(this,qa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,qa).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,qa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,qa).get(t)}getAll(){return[...F(this,qa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fE(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qa=new WeakMap,tN),It,ms,vs,Ec,Tc,gs,Ac,Oc,rN,eL=(rN=class{constructor(e={}){Pe(this,It);Pe(this,ms);Pe(this,vs);Pe(this,Ec);Pe(this,Tc);Pe(this,gs);Pe(this,Ac);Pe(this,Oc);xe(this,It,e.queryCache||new Z8),xe(this,ms,e.mutationCache||new Q8),xe(this,vs,e.defaultOptions||{}),xe(this,Ec,new Map),xe(this,Tc,new Map),xe(this,gs,0)}mount(){Nh(this,gs)._++,F(this,gs)===1&&(xe(this,Ac,Zw.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,It).onFocus())})),xe(this,Oc,mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,It).onOnline())})))}unmount(){var e,t;Nh(this,gs)._--,F(this,gs)===0&&((e=F(this,Ac))==null||e.call(this),xe(this,Ac,void 0),(t=F(this,Oc))==null||t.call(this),xe(this,Oc,void 0))}isFetching(e){return F(this,It).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,ms).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,It).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,It).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ps(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,It).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=F(this,It).get(n.queryHash),i=a==null?void 0:a.state.data,s=D8(t,i);if(s!==void 0)return F(this,It).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>F(this,It).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,It).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,It);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,It);return ir.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ir.batch(()=>F(this,It).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Xr).catch(Xr)}invalidateQueries(e,t={}){return ir.batch(()=>(F(this,It).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ir.batch(()=>F(this,It).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Xr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,It).build(this,t);return r.isStaleByTime(Ps(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xr).catch(Xr)}fetchInfiniteQuery(e){return e.behavior=xE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xr).catch(Xr)}ensureInfiniteQueryData(e){return e.behavior=xE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mp.isOnline()?F(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,It)}getMutationCache(){return F(this,ms)}getDefaultOptions(){return F(this,vs)}setDefaultOptions(e){xe(this,vs,e)}setQueryDefaults(e,t){F(this,Ec).set(Xo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Ec).values()],r={};return t.forEach(n=>{od(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,Tc).set(Xo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Tc).values()],r={};return t.forEach(n=>{od(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,vs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,vs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,It).clear(),F(this,ms).clear()}},It=new WeakMap,ms=new WeakMap,vs=new WeakMap,Ec=new WeakMap,Tc=new WeakMap,gs=new WeakMap,Ac=new WeakMap,Oc=new WeakMap,rN),AP=C.createContext(void 0),Ht=e=>{const t=C.useContext(AP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tL=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(AP.Provider,{value:e,children:t})),OP=C.createContext(!1),rL=()=>C.useContext(OP);OP.Provider;function nL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var aL=C.createContext(nL()),iL=()=>C.useContext(aL),sL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},oL=e=>{C.useEffect(()=>{e.clearReset()},[e])},lL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||xP(r,[e.error,n])),cL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uL=(e,t)=>e.isLoading&&e.isFetching&&!t,fL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dL(e,t,r){var d,h,p,g,m;const n=rL(),a=iL(),i=Ht(),s=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,s),s._optimisticResults=n?"isRestoring":"optimistic",cL(s),sL(s,a),oL(a);const o=!i.getQueryCache().get(s.queryHash),[l]=C.useState(()=>new t(i,s)),c=l.getOptimisticResult(s),f=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(y=>{const b=f?l.subscribe(ir.batchCalls(y)):Xr;return l.updateResult(),b},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(s)},[s,l]),fL(s,c))throw wE(s,l,a);if(lL({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,c),s.experimental_prefetchInRender&&!Go&&uL(c,n)){const y=o?wE(s,l,a):(m=i.getQueryCache().get(s.queryHash))==null?void 0:m.promise;y==null||y.catch(Xr).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function At(e,t){return dL(e,q8)}function Yt(e,t){const r=Ht(),[n]=C.useState(()=>new J8(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const a=C.useSyncExternalStore(C.useCallback(s=>n.subscribe(ir.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((s,o)=>{n.mutate(s,o).catch(Xr)},[n]);if(a.error&&xP(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const hL={},_E=e=>{let t;const r=new Set,n=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(hL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,a,l);return l},pL=e=>e?_E(e):_E;var jP={exports:{}},CP={},NP={exports:{}},kP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=C;function mL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vL=typeof Object.is=="function"?Object.is:mL,gL=Dc.useState,yL=Dc.useEffect,xL=Dc.useLayoutEffect,bL=Dc.useDebugValue;function wL(e,t){var r=t(),n=gL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return xL(function(){a.value=r,a.getSnapshot=t,ny(a)&&i({inst:a})},[e,r,t]),yL(function(){return ny(a)&&i({inst:a}),e(function(){ny(a)&&i({inst:a})})},[e]),bL(r),r}function ny(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vL(e,r)}catch{return!0}}function _L(e,t){return t()}var SL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_L:wL;kP.useSyncExternalStore=Dc.useSyncExternalStore!==void 0?Dc.useSyncExternalStore:SL;NP.exports=kP;var EL=NP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=C,TL=EL;function AL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OL=typeof Object.is=="function"?Object.is:AL,jL=TL.useSyncExternalStore,CL=av.useRef,NL=av.useEffect,kL=av.useMemo,PL=av.useDebugValue;CP.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=CL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=kL(function(){function l(p){if(!c){if(c=!0,f=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return d=g}return d=p}if(g=d,OL(f,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(f=p,g):(f=p,d=m)}var c=!1,f,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=jL(e,i[0],i[1]);return NL(function(){s.hasValue=!0,s.value=o},[o]),PL(o),o};jP.exports=CP;var RL=jP.exports;const IL=et(RL),PP={},{useDebugValue:DL}=B,{useSyncExternalStoreWithSelector:ML}=IL;let SE=!1;const $L=e=>e;function LL(e,t=$L,r){(PP?"production":void 0)!=="production"&&r&&!SE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),SE=!0);const n=ML(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return DL(n),n}const EE=e=>{(PP?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?pL(e):e,r=(n,a)=>LL(t,n,a);return Object.assign(r,t),r},iv=e=>e?EE(e):EE,FL=e=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return;const r=new t,n=r.createOscillator(),a=r.createGain();switch(n.connect(a),a.connect(r.destination),e){case"success":n.frequency.setValueAtTime(880,r.currentTime),n.frequency.setValueAtTime(1108.73,r.currentTime+.1),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.3),n.start(r.currentTime),n.stop(r.currentTime+.3);break;case"error":n.frequency.setValueAtTime(220,r.currentTime),n.frequency.setValueAtTime(196,r.currentTime+.15),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.4),n.start(r.currentTime),n.stop(r.currentTime+.4);break;case"warning":n.frequency.setValueAtTime(440,r.currentTime),a.gain.setValueAtTime(.2,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.2),n.start(r.currentTime),n.stop(r.currentTime+.2);break;case"info":n.frequency.setValueAtTime(523.25,r.currentTime),a.gain.setValueAtTime(.15,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.15),n.start(r.currentTime),n.stop(r.currentTime+.15);break}}catch{}},sv=iv(e=>({toasts:[],addToast:t=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={...t,id:r,duration:t.duration??5e3};FL(t.type),e(a=>({toasts:[...a.toasts,n]})),setTimeout(()=>{e(a=>({toasts:a.toasts.filter(i=>i.id!==r)}))},n.duration)},removeToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearAll:()=>e({toasts:[]})})),Ri=(e,t,r)=>{sv.getState().addToast({type:"success",title:e,message:t,createdBy:r})},vi=(e,t)=>{sv.getState().addToast({type:"error",title:e,message:t,duration:8e3})},BL={users:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}),calendar:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"}),clipboard:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"}),megaphone:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 008.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"}),clock:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),key:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}),inbox:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"}),sparkles:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"}),truck:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}),"check-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),tag:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),eye:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),gauge:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z"}),image:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}),home:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}),"chevron-down":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}),"chevron-right":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),menu:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),x:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}),search:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),bell:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}),logout:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}),settings:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),building:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}),layers:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"}),droplet:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.314 0-6 4.03-6 9a6 6 0 1012 0c0-4.97-2.686-9-6-9z"}),spray:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 15.5m14.8-.2a2.251 2.251 0 01.45 2.574l-.788 1.576a2.25 2.25 0 01-2.45 1.186l-6.09-1.218a5.227 5.227 0 01-2.842-1.61l-.91-1.014a2.25 2.25 0 01-.218-2.692l1.55-2.58"}),brush:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}),info:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),"alert-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}),"alert-triangle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}),check:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}),"x-circle":u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),trash:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}),activity:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"}),user:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),plus:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})},be=({name:e,className:t="",size:r=24})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:r,height:r,className:t,children:BL[e]}),UL=({toast:e})=>{const{removeToast:t}=sv(),r={success:"bg-gradient-to-r from-success-500 to-success-600",error:"bg-gradient-to-r from-danger-500 to-danger-600",warning:"bg-gradient-to-r from-warning-500 to-warning-600",info:"bg-gradient-to-r from-brand-500 to-brand-600"},n={success:"check-circle",error:"alert-circle",warning:"alert-triangle",info:"info"};return u.jsxs("div",{className:`${r[e.type]} text-white rounded-xl shadow-2xl p-4 min-w-[320px] max-w-[420px] animate-slide-in-right flex items-start gap-3`,style:{animation:"slideInRight 0.3s ease-out"},children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:u.jsx(be,{name:n[e.type],size:22,className:"text-white"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h4",{className:"font-bold text-base",children:e.title})}),u.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:e.message}),e.createdBy&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/80",children:[u.jsx(be,{name:"user",size:14}),u.jsxs("span",{children:["Registrado por: ",u.jsx("strong",{className:"text-white",children:e.createdBy})]})]})]}),u.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(be,{name:"x",size:18,className:"text-white/80"})})]})},zL=()=>{const{toasts:e}=sv();return e.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),u.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3",children:e.map(t=>u.jsx(UL,{toast:t},t.id))})]})},WL=({children:e})=>{const[t]=C.useState(()=>new eL({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}}));return u.jsxs(tL,{client:t,children:[e,u.jsx(zL,{})]})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}var bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bs||(bs={}));const TE="popstate";function HL(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:l=""}=ll(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),a1("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof i=="string"?i:vp(i))}function n(a,i){ov(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return qL(t,r,n,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ov(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VL(){return Math.random().toString(36).substr(2,8)}function AE(e,t){return{usr:e.state,key:e.key,idx:t}}function a1(e,t,r,n){return r===void 0&&(r=null),ld({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ll(t):t,{state:r,key:t&&t.key||n||VL()})}function vp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=bs.Pop,l=null,c=f();c==null&&(c=0,s.replaceState(ld({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function d(){o=bs.Pop;let y=f(),b=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:b})}function h(y,b){o=bs.Push;let v=a1(m.location,y,b);r&&r(v,y),c=f()+1;let x=AE(v,c),_=m.createHref(v);try{s.pushState(x,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&l&&l({action:o,location:m.location,delta:1})}function p(y,b){o=bs.Replace;let v=a1(m.location,y,b);r&&r(v,y),c=f();let x=AE(v,c),_=m.createHref(v);s.replaceState(x,"",_),i&&l&&l({action:o,location:m.location,delta:0})}function g(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:vp(y);return v=v.replace(/ $/,"%20"),Pt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let m={get action(){return o},get location(){return e(a,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(TE,d),l=y,()=>{a.removeEventListener(TE,d),l=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return s.go(y)}};return m}var OE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(OE||(OE={}));function KL(e,t,r){return r===void 0&&(r="/"),GL(e,t,r)}function GL(e,t,r,n){let a=typeof t=="string"?ll(t):t,i=Mc(a.pathname||"/",r);if(i==null)return null;let s=RP(e);XL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=sF(i);o=aF(s[l],c)}return o}function RP(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Rs([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(Pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RP(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:rF(c,i.index),routesMeta:f})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of IP(i.path))a(i,s,l)}),t}function IP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=IP(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function XL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const YL=/^:[\w-]+$/,QL=3,JL=2,ZL=1,eF=10,tF=-2,jE=e=>e==="*";function rF(e,t){let r=e.split("/"),n=r.length;return r.some(jE)&&(n+=tF),t&&(n+=JL),r.filter(a=>!jE(a)).reduce((a,i)=>a+(YL.test(i)?QL:i===""?ZL:eF),n)}function nF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function aF(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=i1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),h=l.route;if(!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Rs([i,d.pathname]),pathnameBase:fF(Rs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Rs([i,d.pathnameBase]))}return s}function i1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let m=o[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function iF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ov(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ov(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const oF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lF=e=>oF.test(e);function cF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ll(e):e,i;if(r)if(lF(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),ov(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=CE(r.substring(1),"/"):i=CE(r,t)}else i=t;return{pathname:i,search:dF(n),hash:hF(a)}}function CE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ay(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function t_(e,t){let r=uF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ll(e):(a=ld({},e),Pt(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Pt(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Pt(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=cF(a,o),c=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Rs=e=>e.join("/").replace(/\/\/+/g,"/"),fF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DP=["post","put","patch","delete"];new Set(DP);const mF=["get",...DP];new Set(mF);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}const lv=C.createContext(null),MP=C.createContext(null),Wi=C.createContext(null),cv=C.createContext(null),Hi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),$P=C.createContext(null);function vF(e,t){let{relative:r}=t===void 0?{}:t;xu()||Pt(!1);let{basename:n,navigator:a}=C.useContext(Wi),{hash:i,pathname:s,search:o}=uv(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Rs([n,s])),a.createHref({pathname:l,search:o,hash:i})}function xu(){return C.useContext(cv)!=null}function cl(){return xu()||Pt(!1),C.useContext(cv).location}function LP(e){C.useContext(Wi).static||C.useLayoutEffect(e)}function n_(){let{isDataRoute:e}=C.useContext(Hi);return e?kF():gF()}function gF(){xu()||Pt(!1);let e=C.useContext(lv),{basename:t,future:r,navigator:n}=C.useContext(Wi),{matches:a}=C.useContext(Hi),{pathname:i}=cl(),s=JSON.stringify(t_(a,r.v7_relativeSplatPath)),o=C.useRef(!1);return LP(()=>{o.current=!0}),C.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=r_(c,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Rs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,s,i,e])}const yF=C.createContext(null);function xF(e){let t=C.useContext(Hi).outlet;return t&&C.createElement(yF.Provider,{value:e},t)}function uv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext(Wi),{matches:a}=C.useContext(Hi),{pathname:i}=cl(),s=JSON.stringify(t_(a,n.v7_relativeSplatPath));return C.useMemo(()=>r_(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function bF(e,t){return wF(e,t)}function wF(e,t,r,n){xu()||Pt(!1);let{navigator:a}=C.useContext(Wi),{matches:i}=C.useContext(Hi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=cl(),f;if(t){var d;let y=typeof t=="string"?ll(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Pt(!1),f=y}else f=c;let h=f.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=KL(e,{pathname:p}),m=AF(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Rs([l,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Rs([l,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&m?C.createElement(cv.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bs.Pop}},m):m}function _F(){let e=NF(),t=pF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,null)}const SF=C.createElement(_F,null);class EF extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(Hi.Provider,{value:this.props.routeContext},C.createElement($P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TF(e){let{routeContext:t,match:r,children:n}=e,a=C.useContext(lv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Hi.Provider,{value:t},n)}function AF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||Pt(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let p,g=!1,m=null,y=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||SF,l&&(c<0&&h===0?(PF("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),v=()=>{let x;return p?x=m:g?x=y:d.route.Component?x=C.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=f,C.createElement(TF,{match:d,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(EF,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var FP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FP||{}),BP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(BP||{});function OF(e){let t=C.useContext(lv);return t||Pt(!1),t}function jF(e){let t=C.useContext(MP);return t||Pt(!1),t}function CF(e){let t=C.useContext(Hi);return t||Pt(!1),t}function UP(e){let t=CF(),r=t.matches[t.matches.length-1];return r.route.id||Pt(!1),r.route.id}function NF(){var e;let t=C.useContext($P),r=jF(),n=UP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kF(){let{router:e}=OF(FP.UseNavigateStable),t=UP(BP.UseNavigateStable),r=C.useRef(!1);return LP(()=>{r.current=!0}),C.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,cd({fromRouteId:t},i)))},[e,t])}const NE={};function PF(e,t,r){NE[e]||(NE[e]=!0)}function RF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zP(e){let{to:t,replace:r,state:n,relative:a}=e;xu()||Pt(!1);let{future:i,static:s}=C.useContext(Wi),{matches:o}=C.useContext(Hi),{pathname:l}=cl(),c=n_(),f=r_(t,t_(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(f);return C.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function WP(e){return xF(e.context)}function zt(e){Pt(!1)}function IF(e){let{basename:t="/",children:r=null,location:n,navigationType:a=bs.Pop,navigator:i,static:s=!1,future:o}=e;xu()&&Pt(!1);let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:s,future:cd({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=ll(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=C.useMemo(()=>{let y=Mc(f,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:a}},[l,f,d,h,p,g,a]);return m==null?null:C.createElement(Wi.Provider,{value:c},C.createElement(cv.Provider,{children:r,value:m}))}function DF(e){let{children:t,location:r}=e;return bF(s1(t),r)}new Promise(()=>{});function s1(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,s1(n.props.children,i));return}n.type!==zt&&Pt(!1),!n.props.index||!n.props.children||Pt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=s1(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function HP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function MF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $F(e,t){return e.button===0&&(!t||t==="_self")&&!MF(e)}const LF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BF="6";try{window.__reactRouterVersion=BF}catch{}const UF=C.createContext({isTransitioning:!1}),zF="startTransition",kE=b6[zF];function WF(e){let{basename:t,children:r,future:n,window:a}=e,i=C.useRef();i.current==null&&(i.current=HL({window:a,v5Compat:!0}));let s=i.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},f=C.useCallback(d=>{c&&kE?kE(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>s.listen(f),[s,f]),C.useEffect(()=>RF(n),[n]),C.createElement(IF,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const HF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qF=C.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:f,viewTransition:d}=t,h=HP(t,LF),{basename:p}=C.useContext(Wi),g,m=!1;if(typeof c=="string"&&VF.test(c)&&(g=c,HF))try{let x=new URL(window.location.href),_=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=Mc(_.pathname,p);_.origin===x.origin&&w!=null?c=w+_.search+_.hash:m=!0}catch{}let y=vF(c,{relative:a}),b=XF(c,{replace:s,state:o,target:l,preventScrollReset:f,relative:a,viewTransition:d});function v(x){n&&n(x),x.defaultPrevented||b(x)}return C.createElement("a",gp({},h,{href:g||y,onClick:m||i?n:v,ref:r,target:l}))}),KF=C.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:f}=t,d=HP(t,FF),h=uv(l,{relative:d.relative}),p=cl(),g=C.useContext(MP),{navigator:m,basename:y}=C.useContext(Wi),b=g!=null&&YF(h)&&c===!0,v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,x=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(x=x.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&y&&(_=Mc(_,y)||_);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=x===v||!s&&x.startsWith(v)&&x.charAt(w)==="/",E=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),T={isActive:S,isPending:E,isTransitioning:b},A=S?n:void 0,N;typeof i=="function"?N=i(T):N=[i,S?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(T):o;return C.createElement(qF,gp({},d,{"aria-current":A,className:N,ref:r,style:j,to:l,viewTransition:c}),typeof f=="function"?f(T):f)});var o1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o1||(o1={}));var PE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PE||(PE={}));function GF(e){let t=C.useContext(lv);return t||Pt(!1),t}function XF(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=n_(),c=cl(),f=uv(e,{relative:s});return C.useCallback(d=>{if($F(d,r)){d.preventDefault();let h=n!==void 0?n:vp(c)===vp(f);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,f,n,a,r,e,i,s,o])}function YF(e,t){t===void 0&&(t={});let r=C.useContext(UF);r==null&&Pt(!1);let{basename:n}=GF(o1.useViewTransitionState),a=uv(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Mc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Mc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return i1(a.pathname,s)!=null||i1(a.pathname,i)!=null}let Yh=null;const QF=(e,t)=>({supervisorName:e,terminalCode:t,startedAt:new Date().toISOString()}),yp={startSession:async(e,t)=>(Yh=QF(e,t),Yh),getSession:async()=>Yh,logout:async()=>{Yh=null}},Ra=iv(e=>({session:null,setSession:t=>e({session:t}),clearSession:()=>e({session:null}),hydrateSession:async()=>{const t=await yp.getSession();e({session:t})}})),$c={EL_ROBLE:"El Roble",LA_REINA:"La Reina",EL_SALTO:"El Salto",LO_ECHEVERS:"Lo Echevers",COLO_COLO:"Colo Colo"},a_=[{code:"ROBLE_Y_REINA",name:"El Roble + La Reina",members:["EL_ROBLE","LA_REINA"]}],ia=Object.entries($c).map(([e,t])=>({value:e,label:t})),JF=a_.map(e=>({value:e.code,label:e.name})),VP={mode:"ALL"},Vi=e=>{if(e.mode==="ALL"||!e.value)return Object.keys($c);if(e.mode==="TERMINAL")return[e.value];const t=a_.find(r=>r.code===e.value);return t?t.members:Object.keys($c)},ZF=(e,t)=>{const r=Vi(t);return e.filter(n=>r.includes(n.terminal))},Ge=e=>{if($c[e])return $c[e];const t=a_.find(r=>r.code===e);return(t==null?void 0:t.name)??String(e)},Ve=iv(e=>({context:VP,setContext:t=>e({context:t})})),eB=()=>{const e=n_(),t=Ra(d=>d.setSession),r=Ra(d=>d.session),n=Ve(d=>d.setContext),[a,i]=C.useState(""),[s,o]=C.useState("EL_ROBLE"),[l,c]=C.useState(!1);C.useEffect(()=>{r&&e("/personal")},[r,e]);const f=async d=>{d.preventDefault(),c(!0);const h=await yp.startSession(a,s);t(h),n({mode:"TERMINAL",value:s}),e("/personal")};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-brand-900",children:[u.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/30 rounded-full blur-3xl animate-float"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-brand-600/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),u.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),u.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 animate-slide-up",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand-lg",children:u.jsx("span",{className:"text-3xl font-bold text-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-2xl font-bold text-white",children:"Asiss"}),u.jsx("span",{className:"text-sm text-slate-400",children:"Dashboard de Logstica"})]})]})}),u.jsxs("div",{className:"card-glass p-8 md:p-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Bienvenido"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Ingresa tus datos para acceder al panel de control"})]}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre del Supervisor"}),u.jsxs("div",{className:"relative",children:[u.jsx(be,{name:"users",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),u.jsx("input",{type:"text",className:"input pl-10",value:a,onChange:d=>i(d.target.value),placeholder:"Ej: Ana Prez",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsxs("div",{className:"relative",children:[u.jsx(be,{name:"building",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),u.jsx("select",{className:"input pl-10 appearance-none cursor-pointer",value:s,onChange:d=>o(d.target.value),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px",paddingRight:"40px"},children:ia.map(d=>u.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),u.jsx("button",{type:"submit",disabled:l||!a,className:"btn btn-primary w-full py-3.5 text-base",children:l?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Entrar al Dashboard",u.jsx(be,{name:"chevron-right",size:18})]})})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-500",children:[u.jsx(be,{name:"check-circle",size:14,className:"text-success-500"}),u.jsx("span",{children:"Conexin segura  Datos protegidos"})]})})]}),u.jsx("p",{className:"mt-6 text-center text-xs text-slate-500",children:"Versin 2.0   2024 Asiss"})]})]})},RE=[{label:"Operacin",icon:"building",items:[{label:"Personal",to:"/personal",icon:"users"},{label:"Reuniones",to:"/reuniones",icon:"calendar"},{label:"Tareas",to:"/tareas",icon:"clipboard"},{label:"Informativos",to:"/informativos",icon:"megaphone"},{label:"Asistencia",to:"/asistencia",icon:"clock"},{label:"Credenciales",to:"/credenciales",icon:"key"},{label:"Solicitudes",to:"/solicitudes",icon:"inbox"}]},{label:"Aseo",icon:"sparkles",items:[{label:"Interior",to:"/aseo/interior",icon:"droplet"},{label:"Exterior",to:"/aseo/exterior",icon:"spray"},{label:"Rodillo",to:"/aseo/rodillo",icon:"brush"}]},{label:"MiniCheck",icon:"check-circle",items:[{label:"Extintor",to:"/minicheck/extintor",icon:"check-circle"},{label:"Tag",to:"/minicheck/tag",icon:"tag"},{label:"Mobileye",to:"/minicheck/mobileye",icon:"eye"},{label:"Odmetro",to:"/minicheck/odometro",icon:"gauge"},{label:"Publicidad",to:"/minicheck/publicidad",icon:"image"}]},{label:"Flota",icon:"truck",items:[{label:"Estado de Flota",to:"/estado-flota",icon:"truck"}]}],tB=({isOpen:e,onClose:t})=>{const r=cl(),[n,a]=C.useState(()=>{const o=RE.find(l=>l.items.some(c=>r.pathname.startsWith(c.to)));return o?[o.label]:["Operacin"]}),i=o=>{a(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},s=o=>o.items.some(l=>r.pathname.startsWith(l.to));return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${e?"fixed":"hidden"} inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden`,onClick:t}),u.jsx("aside",{className:`${e?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-72 transform transition-transform duration-300 ease-out md:translate-x-0`,children:u.jsxs("div",{className:"flex h-full flex-col bg-gradient-to-b from-dark-800 to-dark-900",children:[u.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-white/10",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand",children:u.jsx("span",{className:"text-lg font-bold text-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold text-white",children:"Asiss"}),u.jsx("span",{className:"text-xs text-slate-400",children:"Dashboard Logstica"})]}),u.jsx("button",{onClick:t,className:"ml-auto rounded-lg p-1.5 text-slate-400 hover:bg-white/10 hover:text-white md:hidden",children:u.jsx(be,{name:"x",size:20})})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-4 space-y-1",children:RE.map(o=>{const l=n.includes(o.label),c=s(o);return u.jsxs("div",{className:"mb-1",children:[u.jsxs("button",{onClick:()=>i(o.label),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${c?"bg-white/10 text-white":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[u.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg transition-all duration-200 ${c?"bg-gradient-to-br from-brand-500 to-brand-600 text-white shadow-brand":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-slate-200"}`,children:u.jsx(be,{name:o.icon,size:18})}),u.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:o.label}),u.jsx(be,{name:"chevron-down",size:16,className:`transition-transform duration-200 ${l?"rotate-0":"-rotate-90"}`})]}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${l?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:u.jsx("div",{className:"mt-1 ml-4 pl-4 border-l border-white/10 space-y-0.5",children:o.items.map(f=>u.jsxs(KF,{to:f.to,onClick:t,className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${d?"bg-brand-500/20 text-brand-300 font-medium":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[u.jsx(be,{name:f.icon,size:16}),u.jsx("span",{children:f.label})]},f.to))})})]},o.label)})}),u.jsx("div",{className:"border-t border-white/10 px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-3 px-2",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white text-sm font-bold",children:"S"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Supervisor"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Terminal Activo"})]})]})})]})})]})},iy=new Set;let Qh=[];const rB=()=>crypto.randomUUID(),IE={subscribeNotifications:e=>(iy.add(e),()=>iy.delete(e)),publishNotification:e=>{const t={id:e.id??rB(),createdAt:e.createdAt??new Date().toISOString(),...e};return Qh=[t,...Qh].slice(0,50),iy.forEach(r=>r(t)),t},getNotifications:()=>Qh,clear:()=>{Qh=[]}},nB=iv(e=>({items:[],last:void 0,addNotification:t=>e(r=>({items:[t,...r.items],last:t})),setAll:t=>e({items:t}),clear:()=>e({items:[],last:void 0})})),Ft=e=>(typeof e=="string"?new Date(e):e).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric"}),aB=()=>{const{items:e,addNotification:t,setAll:r,last:n}=nB(),[a,i]=C.useState(!1),[s,o]=C.useState(!1);return C.useEffect(()=>{r(IE.getNotifications());const l=IE.subscribeNotifications(c=>{t(c),o(!0),setTimeout(()=>o(!1),3500)});return()=>l()},[t,r]),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{type:"button",className:"btn btn-secondary h-10",onClick:()=>i(l=>!l),children:[u.jsxs("span",{className:"relative inline-flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-slate-600",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 17h5l-1.405-1.405A2.032 2.032 0 0117 14.158V11a5.002 5.002 0 00-3-4.584V6a2 2 0 10-4 0v.416A5.002 5.002 0 007 11v3.159c0 .538-.214 1.055-.595 1.436L5 17h5m4 0v1a3 3 0 11-6 0v-1m6 0H8"})}),e.length>0&&u.jsx("span",{className:"absolute -right-2 -top-2 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-brand-500 px-1 text-xs font-bold text-white",children:e.length})]}),u.jsx("span",{className:"hidden text-sm font-semibold text-slate-700 sm:inline",children:"Alertas"})]}),a&&u.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-80 rounded-lg border border-slate-200 bg-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Notificaciones"}),u.jsx("button",{className:"text-xs text-brand-600 hover:underline",onClick:()=>i(!1),children:"Cerrar"})]}),u.jsxs("div",{className:"max-h-80 space-y-2 overflow-y-auto px-4 pb-4",children:[e.length===0&&u.jsx("p",{className:"text-sm text-slate-500",children:"Sin notificaciones por ahora."}),e.map(l=>u.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{className:"font-semibold capitalize",children:l.level}),u.jsx("span",{children:Ft(l.createdAt)})]}),u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:l.title}),u.jsx("p",{className:"text-sm text-slate-600",children:l.message})]},l.id))]})]}),s&&n&&u.jsxs("div",{className:"fixed bottom-4 right-4 z-40 max-w-sm rounded-md border border-slate-200 bg-white px-4 py-3 shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase text-brand-700",children:n.level}),u.jsx("button",{onClick:()=>o(!1),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cerrar"})]}),u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.title}),u.jsx("p",{className:"text-sm text-slate-700",children:n.message})]})]})},iB=({onMenuToggle:e})=>{var i;const t=Ve(s=>s.context),r=Ra(s=>s.session),n=Ra(s=>s.clearSession),a=()=>t.mode==="ALL"?"Todos los terminales":t.mode==="TERMINAL"&&t.value?Ge(t.value):"Terminal";return u.jsx("header",{className:"header px-4 md:px-6",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e,className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-slate-200 md:hidden","aria-label":"Abrir men",children:u.jsx(be,{name:"menu",size:20})}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"Dashboard"}),u.jsx("p",{className:"text-xs text-slate-500",children:a()})]})]}),u.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(be,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"search",placeholder:"Buscar en el dashboard...",className:"w-full rounded-xl border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-4 text-sm transition-all placeholder:text-slate-400 focus:border-brand-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-brand-500/20"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"md:hidden",children:u.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-brand-50 px-3 py-1.5",children:[u.jsx(be,{name:"building",size:14,className:"text-brand-600"}),u.jsx("span",{className:"text-xs font-semibold text-brand-700",children:t.mode==="ALL"?"Todos":(i=t.value)==null?void 0:i.split("_").pop()})]})}),u.jsx(aB,{}),r&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-500 to-brand-600 text-white text-sm font-bold",children:r.supervisorName.charAt(0).toUpperCase()}),u.jsxs("div",{className:"hidden md:flex flex-col leading-tight",children:[u.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.supervisorName}),u.jsx("span",{className:"text-xs text-slate-500",children:Ge(r.terminalCode)})]}),u.jsx("button",{onClick:()=>{n(),yp.logout()},className:"ml-1 rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-100 hover:text-danger-600",title:"Cerrar sesin",children:u.jsx(be,{name:"logout",size:18})})]}),u.jsx("button",{onClick:()=>{n(),yp.logout()},className:"sm:hidden flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-danger-100 hover:text-danger-600",title:"Cerrar sesin",children:u.jsx(be,{name:"logout",size:20})})]})]})]})})},sB=()=>{const[e,t]=C.useState(!1);return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50",children:u.jsxs("div",{className:"flex",children:[u.jsx(tB,{isOpen:e,onClose:()=>t(!1)}),u.jsxs("div",{className:"flex min-h-screen flex-1 flex-col md:ml-72",children:[u.jsx(iB,{onMenuToggle:()=>t(r=>!r)}),u.jsx("main",{className:"flex-1 px-4 pb-8 pt-6 md:px-8",children:u.jsx("div",{className:"animate-fade-in",children:u.jsx(WP,{})})}),u.jsx("footer",{className:"border-t border-slate-200 bg-white/50 px-4 py-4 md:px-8",children:u.jsxs("div",{className:"flex flex-col items-center justify-between gap-2 text-xs text-slate-500 sm:flex-row",children:[u.jsx("p",{children:" 2024 Asiss  Dashboard de Operaciones y Logstica"}),u.jsxs("p",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success-500 animate-pulse"}),"Sistema operativo"]})]})})]})]})})},yr=({label:e="Cargando..."})=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"h-12 w-12 rounded-full border-[3px] border-slate-200"}),u.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full border-[3px] border-transparent border-t-brand-500 animate-spin"})]}),u.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:e})]}),Pr=({title:e,description:t,actions:r})=>u.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 md:text-3xl",children:e}),t&&u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:t})]}),r&&u.jsx("div",{className:"flex flex-wrap items-center gap-3",children:r})]}),oB=({value:e,onChange:t,label:r="Terminal actual"})=>{const n=e.mode==="ALL"?"ALL":e.mode==="GROUP"?`GROUP:${e.value}`:`TERMINAL:${e.value}`,a=i=>{const s=i.target.value;if(s==="ALL"){t(VP);return}if(s.startsWith("GROUP:")){const l=s.replace("GROUP:","");t({mode:"GROUP",value:l});return}const o=s.replace("TERMINAL:","");t({mode:"TERMINAL",value:o})};return u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-600",children:[u.jsx("span",{className:"mb-1",children:r}),u.jsxs("select",{value:n,onChange:a,className:"input min-w-[200px]","aria-label":"Selector de terminal",children:[u.jsx("option",{value:"ALL",children:"Todos"}),u.jsx("optgroup",{label:"Terminales",children:ia.map(i=>u.jsx("option",{value:`TERMINAL:${i.value}`,children:i.label},i.value))}),u.jsx("optgroup",{label:"Grupos",children:JF.map(i=>u.jsx("option",{value:`GROUP:${i.value}`,children:i.label},i.value))})]})]})},oa=({terminalContext:e,onTerminalChange:t,children:r})=>u.jsx("div",{className:"card p-4 mb-6",children:u.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(oB,{value:e,onChange:t})}),r&&u.jsx("div",{className:"flex flex-wrap items-end gap-3 border-t border-slate-100 pt-4 lg:border-0 lg:pt-0",children:r})]})}),Rr=({message:e="Ha ocurrido un error",onRetry:t})=>u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-danger-200 bg-danger-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-danger-100 mb-4",children:u.jsx("svg",{className:"h-7 w-7 text-danger-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),u.jsx("p",{className:"text-sm font-semibold text-danger-700",children:e}),u.jsx("p",{className:"mt-1 text-xs text-danger-600 max-w-xs",children:"Por favor intenta de nuevo o contacta soporte si el problema persiste."}),t&&u.jsxs("button",{onClick:t,className:"mt-4 btn btn-secondary text-danger-700 border-danger-300 hover:bg-danger-100",children:[u.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]}),Vr=({onExportView:e,onExportAll:t})=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:e,className:"btn btn-secondary text-sm",children:[u.jsx(be,{name:"clipboard",size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Exportar Vista"}),u.jsx("span",{className:"sm:hidden",children:"Vista"})]}),u.jsxs("button",{onClick:t,className:"btn btn-primary text-sm",children:[u.jsx(be,{name:"layers",size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Exportar Todo"}),u.jsx("span",{className:"sm:hidden",children:"Todo"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xp={};xp.version="0.18.5";var qP=1252,lB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KP=function(e){lB.indexOf(e)!=-1&&(qP=e)};function cB(){KP(1252)}var ud=function(e){KP(e)};function uB(){ud(1200),cB()}var Jh=function(t){return String.fromCharCode(t)},DE=function(t){return String.fromCharCode(t)},bp,ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function fd(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=ws.charAt(i)+ws.charAt(s)+ws.charAt(o)+ws.charAt(l);return t}function Ii(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=ws.indexOf(e.charAt(c++)),s=ws.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=ws.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=ws.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),qi=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Yo(e){return Qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ME(e){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ta=function(t){return Qe?qi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function fv(e){if(typeof ArrayBuffer>"u")return Ta(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function fh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fB(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ar=Qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:qi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function dB(e){for(var t=[],r=0,n=e.length+250,a=Yo(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Yo(65535),n=65530)}return t.push(a.slice(0,r)),Ar(t)}var Pf=/\u0000/g,Zh=/[\u0001-\u0006]/g;function sc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Oa(e,t){var r=""+e;return r.length>=t?r:Mt("0",t-r.length)+r}function i_(e,t){var r=""+e;return r.length>=t?r:Mt(" ",t-r.length)+r}function wp(e,t){var r=""+e;return r.length>=t?r:r+Mt(" ",t-r.length)}function hB(e,t){var r=""+Math.round(e);return r.length>=t?r:Mt("0",t-r.length)+r}function pB(e,t){var r=""+e;return r.length>=t?r:Mt("0",t-r.length)+r}var $E=Math.pow(2,32);function Sl(e,t){if(e>$E||e<-$E)return hB(e,t);var r=Math.round(e);return pB(r,t)}function _p(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var LE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function mB(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},FE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Sp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,f=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,f=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=f;if(f>t&&(c>t?(f=l,o=i):(f=c,o=s)),!r)return[0,n*o,f];var h=Math.floor(n*o/f);return[h,n*o-h*f,f]}function e0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=SB(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var GP=new Date(1899,11,31,0,0,0),gB=GP.getTime(),yB=new Date(1900,2,1,0,0,0);function XP(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=yB&&(r+=24*60*60*1e3),(r-(gB+(e.getTimezoneOffset()-GP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function s_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xB(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bB(e){var t=e<0?12:11,r=s_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function wB(e){var t=s_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _B(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bB(e):t===10?r=e.toFixed(10).substr(0,12):r=wB(e),s_(xB(r.toUpperCase()))}function l1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_B(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ls(14,XP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function SB(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function EB(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return sy[r.m-1][1];case 5:return sy[r.m-1][0];default:return sy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return LE[r.q][0];default:return LE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Oa(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Oa(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?Oa(l,c):"";return f}function _s(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var YP=/%/g;function TB(e,t,r){var n=t.replace(YP,""),a=t.length-n.length;return wi(e,n,r*Math.pow(10,2*a))+Mt("%",a)}function AB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return wi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function QP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+QP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JP=/# (\?+)( ?)\/( ?)(\d+)/;function OB(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Mt(" ",e[1].length+1+e[4].length):i_(s,e[1].length)+e[2]+"/"+e[3]+Oa(o,e[4].length))}function jB(e,t,r){return r+(t===0?"":""+t)+Mt(" ",e[1].length+2+e[4].length)}var ZP=/^#*0*\.([0#]+)/,e4=/\).*[0#]/,t4=/\(###\) ###\\?-####/;function Yr(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function BE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function UE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function CB(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function NB(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function qn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qn("n",n,r):"("+qn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return AB(e,t,r);if(t.indexOf("%")!==-1)return TB(e,t,r);if(t.indexOf("E")!==-1)return QP(t,r);if(t.charCodeAt(0)===36)return"$"+qn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Sl(l,t.length);if(t.match(/^[#?]+$/))return a=Sl(r,0),a==="0"&&(a=""),a.length>t.length?a:Yr(t.substr(0,t.length-a.length))+a;if(i=t.match(JP))return OB(i,l,c);if(t.match(/^#+0+$/))return c+Sl(l,t.length-t.indexOf("0"));if(i=t.match(ZP))return a=BE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Yr(i[1])).replace(/\.$/,"."+Yr(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Mt("0",Yr(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+BE(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+_s(Sl(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qn(e,t,-r):_s(""+(Math.floor(r)+CB(r,i[1].length)))+"."+Oa(UE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return qn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=sc(qn(e,t.replace(/[\\-]/g,""),r)),s=0,sc(sc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(t4))return a=qn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Sp(l,Math.pow(10,s)-1,!1),a=""+c,f=wi("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=wp(o[2],s),f.length<i[4].length&&(f=Yr(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Sp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?i_(o[1],s)+i[2]+"/"+i[3]+wp(o[2],s):Mt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Sl(r,0),t.length<=a.length?a:Yr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return Yr(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=UE(r,i[1].length),r<0?"-"+qn(e,t,-r):_s(NB(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Oa(0,3-g.length):"")+g})+"."+Oa(s,i[1].length);switch(t){case"###,##0.00":return qn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=_s(Sl(l,0));return p!=="0"?c+p:"";case"###,###.00":return qn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return qn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function kB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return wi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function PB(e,t,r){var n=t.replace(YP,""),a=t.length-n.length;return wi(e,n,r*Math.pow(10,2*a))+Mt("%",a)}function r4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+r4(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ba(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ba("n",n,r):"("+Ba("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return kB(e,t,r);if(t.indexOf("%")!==-1)return PB(e,t,r);if(t.indexOf("E")!==-1)return r4(t,r);if(t.charCodeAt(0)===36)return"$"+Ba(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Oa(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Yr(t.substr(0,t.length-a.length))+a;if(i=t.match(JP))return jB(i,l,c);if(t.match(/^#+0+$/))return c+Oa(l,t.length-t.indexOf("0"));if(i=t.match(ZP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Yr(i[1])).replace(/\.$/,"."+Yr(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Mt("0",Yr(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+_s(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ba(e,t,-r):_s(""+r)+"."+Mt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ba(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=sc(Ba(e,t.replace(/[\\-]/g,""),r)),s=0,sc(sc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(t4))return a=Ba(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Sp(l,Math.pow(10,s)-1,!1),a=""+c,f=wi("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=wp(o[2],s),f.length<i[4].length&&(f=Yr(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Sp(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?i_(o[1],s)+i[2]+"/"+i[3]+wp(o[2],s):Mt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Yr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return Yr(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ba(e,t,-r):_s(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Oa(0,3-g.length):"")+g})+"."+Oa(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=_s(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ba(e,t.slice(0,t.lastIndexOf(".")),r)+Yr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function wi(e,t,r){return(r|0)===r?Ba(e,t,r):qn(e,t,r)}function RB(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var n4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function a4(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":_p(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(n4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function IB(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,f,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!_p(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=e0(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=e0(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=e0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(n4)){if(c==null&&(c=e0(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",a4(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var y=0,b=0,v;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",y<1&&(y=1);break;case"s":(v=a[s].v.match(/\.0+$/))&&(b=Math.max(b,v[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[s].v.match(/[Hh]/)&&(y=1),y<2&&a[s].v.match(/[Mm]/)&&(y=2),y<3&&a[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=EB(a[s].t.charCodeAt(0),a[s].v,c,b),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;x+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=l1(t,r);break}var w="",S,E;if(x.length>0){x.charCodeAt(0)==40?(S=t<0&&x.charCodeAt(0)===45?-t:t,E=wi("n",x,S)):(S=t<0&&n>1?-t:t,E=wi("n",x,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var T=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){T=s;break}var A=a.length;if(T===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=E.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=E.substr(0,_+1),_=-1),a[s].t="t",A=s);_>=0&&A<a.length&&(a[A].v=E.substr(0,_+1)+a[A].v)}else if(T!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,s=T;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(f=a[s].v.indexOf(".")>-1&&s===T?a[s].v.indexOf(".")-1:a[s].v.length-1,w=a[s].v.substr(f+1);f>=0;--f)_>=0&&(a[s].v.charAt(f)==="0"||a[s].v.charAt(f)==="#")&&(w=E.charAt(_--)+w);a[s].v=w,a[s].t="t",A=s}for(_>=0&&A<a.length&&(a[A].v=E.substr(0,_+1)+a[A].v),_=E.indexOf(".")+1,s=T;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==T)){for(f=a[s].v.indexOf(".")>-1&&s===T?a[s].v.indexOf(".")+1:0,w=a[s].v.substr(0,f);f<a[s].v.length;++f)_<E.length&&(w+=E.charAt(_++));a[s].v=w,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=wi(a[s].t,a[s].v,S),a[s].t="t");var N="";for(s=0;s!==a.length;++s)a[s]!=null&&(N+=a[s].v);return N}var zE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function DB(e,t){var r=RB(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(zE),o=r[1].match(zE);return WE(t,s)?[n,r[0]]:WE(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Ls(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Bt)[e],n==null&&(n=r.table&&r.table[FE[e]]||Bt[FE[e]]),n==null&&(n=vB[e]||"General");break}if(_p(n,0))return l1(t,r);t instanceof Date&&(t=XP(t,r.date1904));var a=DB(n,t);if(_p(a[1]))return l1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return IB(a[1],t,r,a[0])}function i4(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Bt[r]==null){t<0&&(t=r);continue}if(Bt[r]==e){t=r;break}}t<0&&(t=391)}return Bt[t]=e,t}function dv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&i4(e[t],t)}function hv(){Bt=mB()}var s4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function MB(e){var t=typeof e=="number"?Bt[e]:e;return t=t.replace(s4,"(\\d+)"),new RegExp("^"+t+"$")}function $B(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(s4)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?f:c+"T"+f}var LB=function(){var e={};e.version="1.2.0";function t(){for(var E=0,T=new Array(256),A=0;A!=256;++A)E=A,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,T[A]=E;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(E){var T=0,A=0,N=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)j[N]=E[N];for(N=0;N!=256;++N)for(A=E[N],T=256+N;T<4096;T+=256)A=j[T]=A>>>8^E[A&255];var L=[];for(N=1;N!=16;++N)L[N-1]=typeof Int32Array<"u"?j.subarray(N*256,N*256+256):j.slice(N*256,N*256+256);return L}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],f=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],y=a[11],b=a[12],v=a[13],x=a[14];function _(E,T){for(var A=T^-1,N=0,j=E.length;N<j;)A=A>>>8^r[(A^E.charCodeAt(N++))&255];return~A}function w(E,T){for(var A=T^-1,N=E.length-15,j=0;j<N;)A=x[E[j++]^A&255]^v[E[j++]^A>>8&255]^b[E[j++]^A>>16&255]^y[E[j++]^A>>>24]^m[E[j++]]^g[E[j++]]^p[E[j++]]^h[E[j++]]^d[E[j++]]^f[E[j++]]^c[E[j++]]^l[E[j++]]^o[E[j++]]^s[E[j++]]^i[E[j++]]^r[E[j++]];for(N+=15;j<N;)A=A>>>8^r[(A^E[j++])&255];return~A}function S(E,T){for(var A=T^-1,N=0,j=E.length,L=0,W=0;N<j;)L=E.charCodeAt(N++),L<128?A=A>>>8^r[(A^L)&255]:L<2048?(A=A>>>8^r[(A^(192|L>>6&31))&255],A=A>>>8^r[(A^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,W=E.charCodeAt(N++)&1023,A=A>>>8^r[(A^(240|L>>8&7))&255],A=A>>>8^r[(A^(128|L>>2&63))&255],A=A>>>8^r[(A^(128|W>>6&15|(L&3)<<4))&255],A=A>>>8^r[(A^(128|W&63))&255]):(A=A>>>8^r[(A^(224|L>>12&15))&255],A=A>>>8^r[(A^(128|L>>6&63))&255],A=A>>>8^r[(A^(128|L&63))&255]);return~A}return e.table=r,e.bstr=_,e.buf=w,e.str=S,e}(),ct=function(){var t={};t.version="1.2.1";function r(O,I){for(var k=O.split("/"),R=I.split("/"),D=0,M=0,Y=Math.min(k.length,R.length);D<Y;++D){if(M=k[D].length-R[D].length)return M;if(k[D]!=R[D])return k[D]<R[D]?-1:1}return k.length-R.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var I=O.lastIndexOf("/");return I===-1?O:O.slice(0,I+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var I=O.lastIndexOf("/");return I===-1?O:O.slice(I+1)}function i(O,I){typeof I=="string"&&(I=new Date(I));var k=I.getHours();k=k<<6|I.getMinutes(),k=k<<5|I.getSeconds()>>>1,O.write_shift(2,k);var R=I.getFullYear()-1980;R=R<<4|I.getMonth()+1,R=R<<5|I.getDate(),O.write_shift(2,R)}function s(O){var I=O.read_shift(2)&65535,k=O.read_shift(2)&65535,R=new Date,D=k&31;k>>>=5;var M=k&15;k>>>=4,R.setMilliseconds(0),R.setFullYear(k+1980),R.setMonth(M-1),R.setDate(D);var Y=I&31;I>>>=5;var oe=I&63;return I>>>=6,R.setHours(I),R.setMinutes(oe),R.setSeconds(Y<<1),R}function o(O){Cn(O,0);for(var I={},k=0;O.l<=O.length-4;){var R=O.read_shift(2),D=O.read_shift(2),M=O.l+D,Y={};switch(R){case 21589:k=O.read_shift(1),k&1&&(Y.mtime=O.read_shift(4)),D>5&&(k&2&&(Y.atime=O.read_shift(4)),k&4&&(Y.ctime=O.read_shift(4))),Y.mtime&&(Y.mt=new Date(Y.mtime*1e3));break}O.l=M,I[R]=Y}return I}var l;function c(){return l||(l={})}function f(O,I){if(O[0]==80&&O[1]==75)return eS(O,I);if((O[0]|32)==109&&(O[1]|32)==105)return JM(O,I);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var k=3,R=512,D=0,M=0,Y=0,oe=0,X=0,Q=[],J=O.slice(0,512);Cn(J,0);var ue=d(J);switch(k=ue[0],k){case 3:R=512;break;case 4:R=4096;break;case 0:if(ue[1]==0)return eS(O,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}R!==512&&(J=O.slice(0,R),Cn(J,28));var ye=O.slice(0,R);h(J,k);var Te=J.read_shift(4,"i");if(k===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);J.l+=4,Y=J.read_shift(4,"i"),J.l+=4,J.chk("00100000","Mini Stream Cutoff Size: "),oe=J.read_shift(4,"i"),D=J.read_shift(4,"i"),X=J.read_shift(4,"i"),M=J.read_shift(4,"i");for(var he=-1,Se=0;Se<109&&(he=J.read_shift(4,"i"),!(he<0));++Se)Q[Se]=he;var $e=p(O,R);y(X,M,$e,R,Q);var Ot=v($e,Y,Q,R);Ot[Y].name="!Directory",D>0&&oe!==W&&(Ot[oe].name="!MiniFAT"),Ot[Q[0]].name="!FAT",Ot.fat_addrs=Q,Ot.ssz=R;var jt={},Dr=[],zu=[],Wu=[];x(Y,Ot,$e,Dr,D,jt,zu,oe),g(zu,Wu,Dr),Dr.shift();var Hu={FileIndex:zu,FullPaths:Wu};return I&&I.raw&&(Hu.raw={header:ye,sectors:$e}),Hu}function d(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(Z,"Header Signature: "),O.l+=16;var I=O.read_shift(2,"u");return[O.read_shift(2,"u"),I]}function h(O,I){var k=9;switch(O.l+=2,k=O.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,I){for(var k=Math.ceil(O.length/I)-1,R=[],D=1;D<k;++D)R[D-1]=O.slice(D*I,(D+1)*I);return R[k-1]=O.slice(k*I),R}function g(O,I,k){for(var R=0,D=0,M=0,Y=0,oe=0,X=k.length,Q=[],J=[];R<X;++R)Q[R]=J[R]=R,I[R]=k[R];for(;oe<J.length;++oe)R=J[oe],D=O[R].L,M=O[R].R,Y=O[R].C,Q[R]===R&&(D!==-1&&Q[D]!==D&&(Q[R]=Q[D]),M!==-1&&Q[M]!==M&&(Q[R]=Q[M])),Y!==-1&&(Q[Y]=R),D!==-1&&R!=Q[R]&&(Q[D]=Q[R],J.lastIndexOf(D)<oe&&J.push(D)),M!==-1&&R!=Q[R]&&(Q[M]=Q[R],J.lastIndexOf(M)<oe&&J.push(M));for(R=1;R<X;++R)Q[R]===R&&(M!==-1&&Q[M]!==M?Q[R]=Q[M]:D!==-1&&Q[D]!==D&&(Q[R]=Q[D]));for(R=1;R<X;++R)if(O[R].type!==0){if(oe=R,oe!=Q[oe])do oe=Q[oe],I[R]=I[oe]+"/"+I[R];while(oe!==0&&Q[oe]!==-1&&oe!=Q[oe]);Q[R]=-1}for(I[0]+="/",R=1;R<X;++R)O[R].type!==2&&(I[R]+="/")}function m(O,I,k){for(var R=O.start,D=O.size,M=[],Y=R;k&&D>0&&Y>=0;)M.push(I.slice(Y*L,Y*L+L)),D-=L,Y=mo(k,Y*4);return M.length===0?ne(0):Ar(M).slice(0,O.size)}function y(O,I,k,R,D){var M=W;if(O===W){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var Y=k[O],oe=(R>>>2)-1;if(!Y)return;for(var X=0;X<oe&&(M=mo(Y,X*4))!==W;++X)D.push(M);y(mo(Y,R-4),I-1,k,R,D)}}function b(O,I,k,R,D){var M=[],Y=[];D||(D=[]);var oe=R-1,X=0,Q=0;for(X=I;X>=0;){D[X]=!0,M[M.length]=X,Y.push(O[X]);var J=k[Math.floor(X*4/R)];if(Q=X*4&oe,R<4+Q)throw new Error("FAT boundary crossed: "+X+" 4 "+R);if(!O[J])break;X=mo(O[J],Q)}return{nodes:M,data:QE([Y])}}function v(O,I,k,R){var D=O.length,M=[],Y=[],oe=[],X=[],Q=R-1,J=0,ue=0,ye=0,Te=0;for(J=0;J<D;++J)if(oe=[],ye=J+I,ye>=D&&(ye-=D),!Y[ye]){X=[];var he=[];for(ue=ye;ue>=0;){he[ue]=!0,Y[ue]=!0,oe[oe.length]=ue,X.push(O[ue]);var Se=k[Math.floor(ue*4/R)];if(Te=ue*4&Q,R<4+Te)throw new Error("FAT boundary crossed: "+ue+" 4 "+R);if(!O[Se]||(ue=mo(O[Se],Te),he[ue]))break}M[ye]={nodes:oe,data:QE([X])}}return M}function x(O,I,k,R,D,M,Y,oe){for(var X=0,Q=R.length?2:0,J=I[O].data,ue=0,ye=0,Te;ue<J.length;ue+=128){var he=J.slice(ue,ue+128);Cn(he,64),ye=he.read_shift(2),Te=f_(he,0,ye-Q),R.push(Te);var Se={name:Te,type:he.read_shift(1),color:he.read_shift(1),L:he.read_shift(4,"i"),R:he.read_shift(4,"i"),C:he.read_shift(4,"i"),clsid:he.read_shift(16),state:he.read_shift(4,"i"),start:0,size:0},$e=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);$e!==0&&(Se.ct=_(he,he.l-8));var Ot=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);Ot!==0&&(Se.mt=_(he,he.l-8)),Se.start=he.read_shift(4,"i"),Se.size=he.read_shift(4,"i"),Se.size<0&&Se.start<0&&(Se.size=Se.type=0,Se.start=W,Se.name=""),Se.type===5?(X=Se.start,D>0&&X!==W&&(I[X].name="!StreamData")):Se.size>=4096?(Se.storage="fat",I[Se.start]===void 0&&(I[Se.start]=b(k,Se.start,I.fat_addrs,I.ssz)),I[Se.start].name=Se.name,Se.content=I[Se.start].data.slice(0,Se.size)):(Se.storage="minifat",Se.size<0?Se.size=0:X!==W&&Se.start!==W&&I[X]&&(Se.content=m(Se,I[X].data,(I[oe]||{}).data))),Se.content&&Cn(Se.content,0),M[Te]=Se,Y.push(Se)}}function _(O,I){return new Date((kn(O,I+4)/1e7*Math.pow(2,32)+kn(O,I)/1e7-11644473600)*1e3)}function w(O,I){return c(),f(l.readFileSync(O),I)}function S(O,I){var k=I&&I.type;switch(k||Qe&&Buffer.isBuffer(O)&&(k="buffer"),k||"base64"){case"file":return w(O,I);case"base64":return f(Ta(Ii(O)),I);case"binary":return f(Ta(O),I)}return f(O,I)}function E(O,I){var k=I||{},R=k.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=R+"/",O.FileIndex[0]={name:R,type:5}),k.CLSID&&(O.FileIndex[0].clsid=k.CLSID),T(O)}function T(O){var I="Sh33tJ5";if(!ct.find(O,"/"+I)){var k=ne(4);k[0]=55,k[1]=k[3]=50,k[2]=54,O.FileIndex.push({name:I,type:2,content:k,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+I),A(O)}}function A(O,I){E(O);for(var k=!1,R=!1,D=O.FullPaths.length-1;D>=0;--D){var M=O.FileIndex[D];switch(M.type){case 0:R?k=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:R=!0,isNaN(M.R*M.L*M.C)&&(k=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!I)){var Y=new Date(1987,1,19),oe=0,X=Object.create?Object.create(null):{},Q=[];for(D=0;D<O.FullPaths.length;++D)X[O.FullPaths[D]]=!0,O.FileIndex[D].type!==0&&Q.push([O.FullPaths[D],O.FileIndex[D]]);for(D=0;D<Q.length;++D){var J=n(Q[D][0]);R=X[J],R||(Q.push([J,{name:a(J).replace("/",""),type:1,clsid:re,ct:Y,mt:Y,content:null}]),X[J]=!0)}for(Q.sort(function(Te,he){return r(Te[0],he[0])}),O.FullPaths=[],O.FileIndex=[],D=0;D<Q.length;++D)O.FullPaths[D]=Q[D][0],O.FileIndex[D]=Q[D][1];for(D=0;D<Q.length;++D){var ue=O.FileIndex[D],ye=O.FullPaths[D];if(ue.name=a(ye).replace("/",""),ue.L=ue.R=ue.C=-(ue.color=1),ue.size=ue.content?ue.content.length:0,ue.start=0,ue.clsid=ue.clsid||re,D===0)ue.C=Q.length>1?1:-1,ue.size=0,ue.type=5;else if(ye.slice(-1)=="/"){for(oe=D+1;oe<Q.length&&n(O.FullPaths[oe])!=ye;++oe);for(ue.C=oe>=Q.length?-1:oe,oe=D+1;oe<Q.length&&n(O.FullPaths[oe])!=n(ye);++oe);ue.R=oe>=Q.length?-1:oe,ue.type=1}else n(O.FullPaths[D+1]||"")==n(ye)&&(ue.R=D+1),ue.type=2}}}function N(O,I){var k=I||{};if(k.fileType=="mad")return ZM(O,k);switch(A(O),k.fileType){case"zip":return qM(O,k)}var R=function(Te){for(var he=0,Se=0,$e=0;$e<Te.FileIndex.length;++$e){var Ot=Te.FileIndex[$e];if(Ot.content){var jt=Ot.content.length;jt>0&&(jt<4096?he+=jt+63>>6:Se+=jt+511>>9)}}for(var Dr=Te.FullPaths.length+3>>2,zu=he+7>>3,Wu=he+127>>7,Hu=zu+Se+Dr+Wu,eo=Hu+127>>7,Cg=eo<=109?0:Math.ceil((eo-109)/127);Hu+eo+Cg+127>>7>eo;)Cg=++eo<=109?0:Math.ceil((eo-109)/127);var ai=[1,Cg,eo,Wu,Dr,Se,he,0];return Te.FileIndex[0].size=he<<6,ai[7]=(Te.FileIndex[0].start=ai[0]+ai[1]+ai[2]+ai[3]+ai[4]+ai[5])+(ai[6]+7>>3),ai}(O),D=ne(R[7]<<9),M=0,Y=0;{for(M=0;M<8;++M)D.write_shift(1,G[M]);for(M=0;M<8;++M)D.write_shift(2,0);for(D.write_shift(2,62),D.write_shift(2,3),D.write_shift(2,65534),D.write_shift(2,9),D.write_shift(2,6),M=0;M<3;++M)D.write_shift(2,0);for(D.write_shift(4,0),D.write_shift(4,R[2]),D.write_shift(4,R[0]+R[1]+R[2]+R[3]-1),D.write_shift(4,0),D.write_shift(4,4096),D.write_shift(4,R[3]?R[0]+R[1]+R[2]-1:W),D.write_shift(4,R[3]),D.write_shift(-4,R[1]?R[0]-1:W),D.write_shift(4,R[1]),M=0;M<109;++M)D.write_shift(-4,M<R[2]?R[1]+M:-1)}if(R[1])for(Y=0;Y<R[1];++Y){for(;M<236+Y*127;++M)D.write_shift(-4,M<R[2]?R[1]+M:-1);D.write_shift(-4,Y===R[1]-1?W:Y+1)}var oe=function(Te){for(Y+=Te;M<Y-1;++M)D.write_shift(-4,M+1);Te&&(++M,D.write_shift(-4,W))};for(Y=M=0,Y+=R[1];M<Y;++M)D.write_shift(-4,q.DIFSECT);for(Y+=R[2];M<Y;++M)D.write_shift(-4,q.FATSECT);oe(R[3]),oe(R[4]);for(var X=0,Q=0,J=O.FileIndex[0];X<O.FileIndex.length;++X)J=O.FileIndex[X],J.content&&(Q=J.content.length,!(Q<4096)&&(J.start=Y,oe(Q+511>>9)));for(oe(R[6]+7>>3);D.l&511;)D.write_shift(-4,q.ENDOFCHAIN);for(Y=M=0,X=0;X<O.FileIndex.length;++X)J=O.FileIndex[X],J.content&&(Q=J.content.length,!(!Q||Q>=4096)&&(J.start=Y,oe(Q+63>>6)));for(;D.l&511;)D.write_shift(-4,q.ENDOFCHAIN);for(M=0;M<R[4]<<2;++M){var ue=O.FullPaths[M];if(!ue||ue.length===0){for(X=0;X<17;++X)D.write_shift(4,0);for(X=0;X<3;++X)D.write_shift(4,-1);for(X=0;X<12;++X)D.write_shift(4,0);continue}J=O.FileIndex[M],M===0&&(J.start=J.size?J.start-1:W);var ye=M===0&&k.root||J.name;if(Q=2*(ye.length+1),D.write_shift(64,ye,"utf16le"),D.write_shift(2,Q),D.write_shift(1,J.type),D.write_shift(1,J.color),D.write_shift(-4,J.L),D.write_shift(-4,J.R),D.write_shift(-4,J.C),J.clsid)D.write_shift(16,J.clsid,"hex");else for(X=0;X<4;++X)D.write_shift(4,0);D.write_shift(4,J.state||0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,J.start),D.write_shift(4,J.size),D.write_shift(4,0)}for(M=1;M<O.FileIndex.length;++M)if(J=O.FileIndex[M],J.size>=4096)if(D.l=J.start+1<<9,Qe&&Buffer.isBuffer(J.content))J.content.copy(D,D.l,0,J.size),D.l+=J.size+511&-512;else{for(X=0;X<J.size;++X)D.write_shift(1,J.content[X]);for(;X&511;++X)D.write_shift(1,0)}for(M=1;M<O.FileIndex.length;++M)if(J=O.FileIndex[M],J.size>0&&J.size<4096)if(Qe&&Buffer.isBuffer(J.content))J.content.copy(D,D.l,0,J.size),D.l+=J.size+63&-64;else{for(X=0;X<J.size;++X)D.write_shift(1,J.content[X]);for(;X&63;++X)D.write_shift(1,0)}if(Qe)D.l=D.length;else for(;D.l<D.length;)D.write_shift(1,0);return D}function j(O,I){var k=O.FullPaths.map(function(X){return X.toUpperCase()}),R=k.map(function(X){var Q=X.split("/");return Q[Q.length-(X.slice(-1)=="/"?2:1)]}),D=!1;I.charCodeAt(0)===47?(D=!0,I=k[0].slice(0,-1)+I):D=I.indexOf("/")!==-1;var M=I.toUpperCase(),Y=D===!0?k.indexOf(M):R.indexOf(M);if(Y!==-1)return O.FileIndex[Y];var oe=!M.match(Zh);for(M=M.replace(Pf,""),oe&&(M=M.replace(Zh,"!")),Y=0;Y<k.length;++Y)if((oe?k[Y].replace(Zh,"!"):k[Y]).replace(Pf,"")==M||(oe?R[Y].replace(Zh,"!"):R[Y]).replace(Pf,"")==M)return O.FileIndex[Y];return null}var L=64,W=-2,Z="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(O,I,k){c();var R=N(O,k);l.writeFileSync(I,R)}function K(O){for(var I=new Array(O.length),k=0;k<O.length;++k)I[k]=String.fromCharCode(O[k]);return I.join("")}function ae(O,I){var k=N(O,I);switch(I&&I.type||"buffer"){case"file":return c(),l.writeFileSync(I.filename,k),k;case"binary":return typeof k=="string"?k:K(k);case"base64":return fd(typeof k=="string"?k:K(k));case"buffer":if(Qe)return Buffer.isBuffer(k)?k:qi(k);case"array":return typeof k=="string"?Ta(k):k}return k}var de;function P(O){try{var I=O.InflateRaw,k=new I;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)de=O;else throw new Error("zlib does not expose bytesRead")}catch(R){console.error("cannot use native zlib: "+(R.message||R))}}function H(O,I){if(!de)return J2(O,I);var k=de.InflateRaw,R=new k,D=R._processChunk(O.slice(O.l),R._finishFlushFlag);return O.l+=R.bytesRead,D}function U(O){return de?de.deflateRawSync(O):q2(O)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],we=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(O){var I=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(I>>16|I>>8|I)&255}for(var ee=typeof Uint8Array<"u",le=ee?new Uint8Array(256):[],Ee=0;Ee<256;++Ee)le[Ee]=_e(Ee);function te(O,I){var k=le[O&255];return I<=8?k>>>8-I:(k=k<<8|le[O>>8&255],I<=16?k>>>16-I:(k=k<<8|le[O>>16&255],k>>>24-I))}function ze(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=6?0:O[R+1]<<8))>>>k&3}function Ce(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=5?0:O[R+1]<<8))>>>k&7}function tt(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=4?0:O[R+1]<<8))>>>k&15}function Le(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=3?0:O[R+1]<<8))>>>k&31}function ge(O,I){var k=I&7,R=I>>>3;return(O[R]|(k<=1?0:O[R+1]<<8))>>>k&127}function Ut(O,I,k){var R=I&7,D=I>>>3,M=(1<<k)-1,Y=O[D]>>>R;return k<8-R||(Y|=O[D+1]<<8-R,k<16-R)||(Y|=O[D+2]<<16-R,k<24-R)||(Y|=O[D+3]<<24-R),Y&M}function Ir(O,I,k){var R=I&7,D=I>>>3;return R<=5?O[D]|=(k&7)<<R:(O[D]|=k<<R&255,O[D+1]=(k&7)>>8-R),I+3}function zn(O,I,k){var R=I&7,D=I>>>3;return k=(k&1)<<R,O[D]|=k,I+1}function on(O,I,k){var R=I&7,D=I>>>3;return k<<=R,O[D]|=k&255,k>>>=8,O[D+1]=k,I+8}function La(O,I,k){var R=I&7,D=I>>>3;return k<<=R,O[D]|=k&255,k>>>=8,O[D+1]=k&255,O[D+2]=k>>>8,I+16}function Qs(O,I){var k=O.length,R=2*k>I?2*k:I+5,D=0;if(k>=I)return O;if(Qe){var M=ME(R);if(O.copy)O.copy(M);else for(;D<O.length;++D)M[D]=O[D];return M}else if(ee){var Y=new Uint8Array(R);if(Y.set)Y.set(O);else for(;D<k;++D)Y[D]=O[D];return Y}return O.length=R,O}function En(O){for(var I=new Array(O),k=0;k<O;++k)I[k]=0;return I}function Js(O,I,k){var R=1,D=0,M=0,Y=0,oe=0,X=O.length,Q=ee?new Uint16Array(32):En(32);for(M=0;M<32;++M)Q[M]=0;for(M=X;M<k;++M)O[M]=0;X=O.length;var J=ee?new Uint16Array(X):En(X);for(M=0;M<X;++M)Q[D=O[M]]++,R<D&&(R=D),J[M]=0;for(Q[0]=0,M=1;M<=R;++M)Q[M+16]=oe=oe+Q[M-1]<<1;for(M=0;M<X;++M)oe=O[M],oe!=0&&(J[M]=Q[oe+16]++);var ue=0;for(M=0;M<X;++M)if(ue=O[M],ue!=0)for(oe=te(J[M],R)>>R-ue,Y=(1<<R+4-ue)-1;Y>=0;--Y)I[oe|Y<<ue]=ue&15|M<<4;return R}var Ag=ee?new Uint16Array(512):En(512),Og=ee?new Uint16Array(32):En(32);if(!ee){for(var Zs=0;Zs<512;++Zs)Ag[Zs]=0;for(Zs=0;Zs<32;++Zs)Og[Zs]=0}(function(){for(var O=[],I=0;I<32;I++)O.push(5);Js(O,Og,32);var k=[];for(I=0;I<=143;I++)k.push(8);for(;I<=255;I++)k.push(9);for(;I<=279;I++)k.push(7);for(;I<=287;I++)k.push(8);Js(k,Ag,288)})();var zM=function(){for(var I=ee?new Uint8Array(32768):[],k=0,R=0;k<we.length-1;++k)for(;R<we[k+1];++R)I[R]=k;for(;R<32768;++R)I[R]=29;var D=ee?new Uint8Array(259):[];for(k=0,R=0;k<ie.length-1;++k)for(;R<ie[k+1];++R)D[R]=k;function M(oe,X){for(var Q=0;Q<oe.length;){var J=Math.min(65535,oe.length-Q),ue=Q+J==oe.length;for(X.write_shift(1,+ue),X.write_shift(2,J),X.write_shift(2,~J&65535);J-- >0;)X[X.l++]=oe[Q++]}return X.l}function Y(oe,X){for(var Q=0,J=0,ue=ee?new Uint16Array(32768):[];J<oe.length;){var ye=Math.min(65535,oe.length-J);if(ye<10){for(Q=Ir(X,Q,+(J+ye==oe.length)),Q&7&&(Q+=8-(Q&7)),X.l=Q/8|0,X.write_shift(2,ye),X.write_shift(2,~ye&65535);ye-- >0;)X[X.l++]=oe[J++];Q=X.l*8;continue}Q=Ir(X,Q,+(J+ye==oe.length)+2);for(var Te=0;ye-- >0;){var he=oe[J];Te=(Te<<5^he)&32767;var Se=-1,$e=0;if((Se=ue[Te])&&(Se|=J&-32768,Se>J&&(Se-=32768),Se<J))for(;oe[Se+$e]==oe[J+$e]&&$e<250;)++$e;if($e>2){he=D[$e],he<=22?Q=on(X,Q,le[he+1]>>1)-1:(on(X,Q,3),Q+=5,on(X,Q,le[he-23]>>5),Q+=3);var Ot=he<8?0:he-4>>2;Ot>0&&(La(X,Q,$e-ie[he]),Q+=Ot),he=I[J-Se],Q=on(X,Q,le[he]>>3),Q-=3;var jt=he<4?0:he-2>>1;jt>0&&(La(X,Q,J-Se-we[he]),Q+=jt);for(var Dr=0;Dr<$e;++Dr)ue[Te]=J&32767,Te=(Te<<5^oe[J])&32767,++J;ye-=$e-1}else he<=143?he=he+48:Q=zn(X,Q,1),Q=on(X,Q,le[he]),ue[Te]=J&32767,++J}Q=on(X,Q,0)-1}return X.l=(Q+7)/8|0,X.l}return function(X,Q){return X.length<8?M(X,Q):Y(X,Q)}}();function q2(O){var I=ne(50+Math.floor(O.length*1.1)),k=zM(O,I);return I.slice(0,k)}var K2=ee?new Uint16Array(32768):En(32768),G2=ee?new Uint16Array(32768):En(32768),X2=ee?new Uint16Array(128):En(128),Y2=1,Q2=1;function WM(O,I){var k=Le(O,I)+257;I+=5;var R=Le(O,I)+1;I+=5;var D=tt(O,I)+4;I+=4;for(var M=0,Y=ee?new Uint8Array(19):En(19),oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Q=ee?new Uint8Array(8):En(8),J=ee?new Uint8Array(8):En(8),ue=Y.length,ye=0;ye<D;++ye)Y[z[ye]]=M=Ce(O,I),X<M&&(X=M),Q[M]++,I+=3;var Te=0;for(Q[0]=0,ye=1;ye<=X;++ye)J[ye]=Te=Te+Q[ye-1]<<1;for(ye=0;ye<ue;++ye)(Te=Y[ye])!=0&&(oe[ye]=J[Te]++);var he=0;for(ye=0;ye<ue;++ye)if(he=Y[ye],he!=0){Te=le[oe[ye]]>>8-he;for(var Se=(1<<7-he)-1;Se>=0;--Se)X2[Te|Se<<he]=he&7|ye<<3}var $e=[];for(X=1;$e.length<k+R;)switch(Te=X2[ge(O,I)],I+=Te&7,Te>>>=3){case 16:for(M=3+ze(O,I),I+=2,Te=$e[$e.length-1];M-- >0;)$e.push(Te);break;case 17:for(M=3+Ce(O,I),I+=3;M-- >0;)$e.push(0);break;case 18:for(M=11+ge(O,I),I+=7;M-- >0;)$e.push(0);break;default:$e.push(Te),X<Te&&(X=Te);break}var Ot=$e.slice(0,k),jt=$e.slice(k);for(ye=k;ye<286;++ye)Ot[ye]=0;for(ye=R;ye<30;++ye)jt[ye]=0;return Y2=Js(Ot,K2,286),Q2=Js(jt,G2,30),I}function HM(O,I){if(O[0]==3&&!(O[1]&3))return[Yo(I),2];for(var k=0,R=0,D=ME(I||1<<18),M=0,Y=D.length>>>0,oe=0,X=0;!(R&1);){if(R=Ce(O,k),k+=3,R>>>1)R>>1==1?(oe=9,X=5):(k=WM(O,k),oe=Y2,X=Q2);else{k&7&&(k+=8-(k&7));var Q=O[k>>>3]|O[(k>>>3)+1]<<8;if(k+=32,Q>0)for(!I&&Y<M+Q&&(D=Qs(D,M+Q),Y=D.length);Q-- >0;)D[M++]=O[k>>>3],k+=8;continue}for(;;){!I&&Y<M+32767&&(D=Qs(D,M+32767),Y=D.length);var J=Ut(O,k,oe),ue=R>>>1==1?Ag[J]:K2[J];if(k+=ue&15,ue>>>=4,!(ue>>>8&255))D[M++]=ue;else{if(ue==256)break;ue-=257;var ye=ue<8?0:ue-4>>2;ye>5&&(ye=0);var Te=M+ie[ue];ye>0&&(Te+=Ut(O,k,ye),k+=ye),J=Ut(O,k,X),ue=R>>>1==1?Og[J]:G2[J],k+=ue&15,ue>>>=4;var he=ue<4?0:ue-2>>1,Se=we[ue];for(he>0&&(Se+=Ut(O,k,he),k+=he),!I&&Y<Te&&(D=Qs(D,Te+100),Y=D.length);M<Te;)D[M]=D[M-Se],++M}}}return I?[D,k+7>>>3]:[D.slice(0,M),k+7>>>3]}function J2(O,I){var k=O.slice(O.l||0),R=HM(k,I);return O.l+=R[1],R[0]}function Z2(O,I){if(O)typeof console<"u"&&console.error(I);else throw new Error(I)}function eS(O,I){var k=O;Cn(k,0);var R=[],D=[],M={FileIndex:R,FullPaths:D};E(M,{root:I.root});for(var Y=k.length-4;(k[Y]!=80||k[Y+1]!=75||k[Y+2]!=5||k[Y+3]!=6)&&Y>=0;)--Y;k.l=Y+4,k.l+=4;var oe=k.read_shift(2);k.l+=6;var X=k.read_shift(4);for(k.l=X,Y=0;Y<oe;++Y){k.l+=20;var Q=k.read_shift(4),J=k.read_shift(4),ue=k.read_shift(2),ye=k.read_shift(2),Te=k.read_shift(2);k.l+=8;var he=k.read_shift(4),Se=o(k.slice(k.l+ue,k.l+ue+ye));k.l+=ue+ye+Te;var $e=k.l;k.l=he+4,VM(k,Q,J,M,Se),k.l=$e}return M}function VM(O,I,k,R,D){O.l+=2;var M=O.read_shift(2),Y=O.read_shift(2),oe=s(O);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var X=O.read_shift(4),Q=O.read_shift(4),J=O.read_shift(4),ue=O.read_shift(2),ye=O.read_shift(2),Te="",he=0;he<ue;++he)Te+=String.fromCharCode(O[O.l++]);if(ye){var Se=o(O.slice(O.l,O.l+ye));(Se[21589]||{}).mt&&(oe=Se[21589].mt),((D||{})[21589]||{}).mt&&(oe=D[21589].mt)}O.l+=ye;var $e=O.slice(O.l,O.l+Q);switch(Y){case 8:$e=H(O,J);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Y)}var Ot=!1;M&8&&(X=O.read_shift(4),X==134695760&&(X=O.read_shift(4),Ot=!0),Q=O.read_shift(4),J=O.read_shift(4)),Q!=I&&Z2(Ot,"Bad compressed size: "+I+" != "+Q),J!=k&&Z2(Ot,"Bad uncompressed size: "+k+" != "+J),jg(R,Te,$e,{unsafe:!0,mt:oe})}function qM(O,I){var k=I||{},R=[],D=[],M=ne(1),Y=k.compression?8:0,oe=0,X=0,Q=0,J=0,ue=0,ye=O.FullPaths[0],Te=ye,he=O.FileIndex[0],Se=[],$e=0;for(X=1;X<O.FullPaths.length;++X)if(Te=O.FullPaths[X].slice(ye.length),he=O.FileIndex[X],!(!he.size||!he.content||Te=="Sh33tJ5")){var Ot=J,jt=ne(Te.length);for(Q=0;Q<Te.length;++Q)jt.write_shift(1,Te.charCodeAt(Q)&127);jt=jt.slice(0,jt.l),Se[ue]=LB.buf(he.content,0);var Dr=he.content;Y==8&&(Dr=U(Dr)),M=ne(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,oe),M.write_shift(2,Y),he.mt?i(M,he.mt):M.write_shift(4,0),M.write_shift(-4,Se[ue]),M.write_shift(4,Dr.length),M.write_shift(4,he.content.length),M.write_shift(2,jt.length),M.write_shift(2,0),J+=M.length,R.push(M),J+=jt.length,R.push(jt),J+=Dr.length,R.push(Dr),M=ne(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,oe),M.write_shift(2,Y),M.write_shift(4,0),M.write_shift(-4,Se[ue]),M.write_shift(4,Dr.length),M.write_shift(4,he.content.length),M.write_shift(2,jt.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,Ot),$e+=M.l,D.push(M),$e+=jt.length,D.push(jt),++ue}return M=ne(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,ue),M.write_shift(2,ue),M.write_shift(4,$e),M.write_shift(4,J),M.write_shift(2,0),Ar([Ar(R),Ar(D),M])}var Ch={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function KM(O,I){if(O.ctype)return O.ctype;var k=O.name||"",R=k.match(/\.([^\.]+)$/);return R&&Ch[R[1]]||I&&(R=(k=I).match(/[\.\\]([^\.\\])+$/),R&&Ch[R[1]])?Ch[R[1]]:"application/octet-stream"}function GM(O){for(var I=fd(O),k=[],R=0;R<I.length;R+=76)k.push(I.slice(R,R+76));return k.join(`\r
`)+`\r
`}function XM(O){var I=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Q){var J=Q.charCodeAt(0).toString(16).toUpperCase();return"="+(J.length==1?"0"+J:J)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],R=I.split(`\r
`),D=0;D<R.length;++D){var M=R[D];if(M.length==0){k.push("");continue}for(var Y=0;Y<M.length;){var oe=76,X=M.slice(Y,Y+oe);X.charAt(oe-1)=="="?oe--:X.charAt(oe-2)=="="?oe-=2:X.charAt(oe-3)=="="&&(oe-=3),X=M.slice(Y,Y+oe),Y+=oe,Y<M.length&&(X+="="),k.push(X)}}return k.join(`\r
`)}function YM(O){for(var I=[],k=0;k<O.length;++k){for(var R=O[k];k<=O.length&&R.charAt(R.length-1)=="=";)R=R.slice(0,R.length-1)+O[++k];I.push(R)}for(var D=0;D<I.length;++D)I[D]=I[D].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return Ta(I.join(`\r
`))}function QM(O,I,k){for(var R="",D="",M="",Y,oe=0;oe<10;++oe){var X=I[oe];if(!X||X.match(/^\s*$/))break;var Q=X.match(/^(.*?):\s*([^\s].*)$/);if(Q)switch(Q[1].toLowerCase()){case"content-location":R=Q[2].trim();break;case"content-type":M=Q[2].trim();break;case"content-transfer-encoding":D=Q[2].trim();break}}switch(++oe,D.toLowerCase()){case"base64":Y=Ta(Ii(I.slice(oe).join("")));break;case"quoted-printable":Y=YM(I.slice(oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+D)}var J=jg(O,R.slice(k.length),Y,{unsafe:!0});M&&(J.ctype=M)}function JM(O,I){if(K(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=I&&I.root||"",R=(Qe&&Buffer.isBuffer(O)?O.toString("binary"):K(O)).split(`\r
`),D=0,M="";for(D=0;D<R.length;++D)if(M=R[D],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),k||(k=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),M.slice(0,k.length)!=k););var Y=(R[1]||"").match(/boundary="(.*?)"/);if(!Y)throw new Error("MAD cannot find boundary");var oe="--"+(Y[1]||""),X=[],Q=[],J={FileIndex:X,FullPaths:Q};E(J);var ue,ye=0;for(D=0;D<R.length;++D){var Te=R[D];Te!==oe&&Te!==oe+"--"||(ye++&&QM(J,R.slice(ue,D),k),ue=D)}return J}function ZM(O,I){var k=I||{},R=k.boundary||"SheetJS";R="------="+R;for(var D=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+R.slice(2)+'"',"","",""],M=O.FullPaths[0],Y=M,oe=O.FileIndex[0],X=1;X<O.FullPaths.length;++X)if(Y=O.FullPaths[X].slice(M.length),oe=O.FileIndex[X],!(!oe.size||!oe.content||Y=="Sh33tJ5")){Y=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var Q=oe.content,J=Qe&&Buffer.isBuffer(Q)?Q.toString("binary"):K(Q),ue=0,ye=Math.min(1024,J.length),Te=0,he=0;he<=ye;++he)(Te=J.charCodeAt(he))>=32&&Te<128&&++ue;var Se=ue>=ye*4/5;D.push(R),D.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+Y),D.push("Content-Transfer-Encoding: "+(Se?"quoted-printable":"base64")),D.push("Content-Type: "+KM(oe,Y)),D.push(""),D.push(Se?XM(J):GM(J))}return D.push(R+`--\r
`),D.join(`\r
`)}function e6(O){var I={};return E(I,O),I}function jg(O,I,k,R){var D=R&&R.unsafe;D||E(O);var M=!D&&ct.find(O,I);if(!M){var Y=O.FullPaths[0];I.slice(0,Y.length)==Y?Y=I:(Y.slice(-1)!="/"&&(Y+="/"),Y=(Y+I).replace("//","/")),M={name:a(I),type:2},O.FileIndex.push(M),O.FullPaths.push(Y),D||ct.utils.cfb_gc(O)}return M.content=k,M.size=k?k.length:0,R&&(R.CLSID&&(M.clsid=R.CLSID),R.mt&&(M.mt=R.mt),R.ct&&(M.ct=R.ct)),M}function t6(O,I){E(O);var k=ct.find(O,I);if(k){for(var R=0;R<O.FileIndex.length;++R)if(O.FileIndex[R]==k)return O.FileIndex.splice(R,1),O.FullPaths.splice(R,1),!0}return!1}function r6(O,I,k){E(O);var R=ct.find(O,I);if(R){for(var D=0;D<O.FileIndex.length;++D)if(O.FileIndex[D]==R)return O.FileIndex[D].name=a(k),O.FullPaths[D]=k,!0}return!1}function n6(O){A(O,!0)}return t.find=j,t.read=S,t.parse=f,t.write=ae,t.writeFile=V,t.utils={cfb_new:e6,cfb_add:jg,cfb_del:t6,cfb_mov:r6,cfb_gc:n6,ReadShift:If,CheckField:E4,prep_blob:Cn,bconcat:Ar,use_zlib:P,_deflateRaw:q2,_inflateRaw:J2,consts:q},t}();function FB(e){return typeof e=="string"?fv(e):Array.isArray(e)?fB(e):e}function dh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=fv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?hd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([FB(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=fh(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function kr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HE(e,t){for(var r=[],n=kr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function o_(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function pv(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function BB(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Ep=new Date(1899,11,30,0,0,0);function bn(e,t){var r=e.getTime(),n=Ep.getTime()+(e.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var o4=new Date,UB=Ep.getTime()+(o4.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4,VE=o4.getTimezoneOffset();function l4(e){var t=new Date;return t.setTime(e*24*60*60*1e3+UB),t.getTimezoneOffset()!==VE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-VE)*6e4),t}var qE=new Date("2017-02-19T19:06:09.000Z"),c4=isNaN(qE.getFullYear())?new Date("2/19/17"):qE,zB=c4.getFullYear()==2017;function nn(e,t){var r=new Date(e);if(zB)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(c4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function mv(e,t){if(Qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function wn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=wn(e[r]));return t}function Mt(e,t){for(var r="";r.length<t;)r+=e;return r}function _i(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var WB=["january","february","march","april","may","june","july","august","september","october","november","december"];function dd(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&WB.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Be(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qe?n=qi(r):n=dB(r),ct.utils.cfb_add(e,t,n)}ct.utils.cfb_add(e,t,r)}else e.file(t,r)}function l_(){return ct.utils.cfb_new()}var Zt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,HB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},c_=o_(HB),u_=/[&<>'"]/g,VB=/[\u0000-\u0008\u000b-\u001f]/g;function it(e){var t=e+"";return t.replace(u_,function(r){return c_[r]}).replace(VB,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function KE(e){return it(e).replace(/ /g,"_x0020_")}var u4=/[\u0000-\u001f]/g;function qB(e){var t=e+"";return t.replace(u_,function(r){return c_[r]}).replace(/\n/g,"<br/>").replace(u4,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function KB(e){var t=e+"";return t.replace(u_,function(r){return c_[r]}).replace(u4,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function GB(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function XB(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oy(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function GE(e){var t=Yo(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function XE(e){return qi(e,"binary").toString("utf8")}var t0="foo bar baz",Rf=Qe&&(XE(t0)==oy(t0)&&XE||GE(t0)==oy(t0)&&GE)||oy,hd=Qe?function(e){return qi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},YB=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),f4=/(^\s|\s$|\n)/;function Or(e,t){return"<"+e+(t.match(f4)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function pd(e){return kr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function me(e,t,r){return"<"+e+(r!=null?pd(r):"")+(t!=null?(t.match(f4)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function c1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function QB(e,t){switch(typeof e){case"string":var r=me("vt:lpwstr",it(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return me((e|0)==e?"vt:i4":"vt:r8",it(String(e)));case"boolean":return me("vt:bool",e?"true":"false")}if(e instanceof Date)return me("vt:filetime",c1(e));throw new Error("Unable to serialize "+e)}var pr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Nn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function JB(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function ZB(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var YE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},QE=Qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:qi(t)})):YE(e)}:YE,JE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(yf(e,a)));return n.join("").replace(Pf,"")},f_=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Pf,""):JE(e,t,r)}:JE,ZE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},d4=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ZE(e,t,r)}:ZE,eT=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Rl(e,a)));return n.join("")},hh=Qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):eT(t,r,n)}:eT,h4=function(e,t){var r=kn(e,t);return r>0?hh(e,t+4,t+4+r-1):""},p4=h4,m4=function(e,t){var r=kn(e,t);return r>0?hh(e,t+4,t+4+r-1):""},v4=m4,g4=function(e,t){var r=2*kn(e,t);return r>0?hh(e,t+4,t+4+r-1):""},y4=g4,x4=function(t,r){var n=kn(t,r);return n>0?f_(t,r+4,r+4+n):""},b4=x4,w4=function(e,t){var r=kn(e,t);return r>0?hh(e,t+4,t+4+r):""},_4=w4,S4=function(e,t){return JB(e,t)},Tp=S4,d_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qe&&(p4=function(t,r){if(!Buffer.isBuffer(t))return h4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},v4=function(t,r){if(!Buffer.isBuffer(t))return m4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},y4=function(t,r){if(!Buffer.isBuffer(t))return g4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},b4=function(t,r){if(!Buffer.isBuffer(t))return x4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},_4=function(t,r){if(!Buffer.isBuffer(t))return w4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Tp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):S4(t,r)},d_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Rl=function(e,t){return e[t]},yf=function(e,t){return e[t+1]*256+e[t]},e7=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},kn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},mo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},t7=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function If(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(yf(this,c)),c+=2;e*=2;break;case"utf8":r=hh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=f_(this,this.l,this.l+e);break;case"wstr":return If.call(this,e,"dbcs");case"lpstr-ansi":r=p4(this,this.l),e=4+kn(this,this.l);break;case"lpstr-cp":r=v4(this,this.l),e=4+kn(this,this.l);break;case"lpwstr":r=y4(this,this.l),e=4+2*kn(this,this.l);break;case"lpp4":e=4+kn(this,this.l),r=b4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+kn(this,this.l),r=_4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Rl(this,this.l+e++))!==0;)i.push(Jh(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=yf(this,this.l+e))!==0;)i.push(Jh(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Rl(this,c),this.l=c+1,o=If.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Jh(yf(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Rl(this,c),this.l=c+1,o=If.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Jh(Rl(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Rl(this,this.l),this.l++,n;case 2:return n=(t==="i"?e7:yf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?mo:t7)(this,this.l),this.l+=4,n):(a=kn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Tp(this,this.l):a=Tp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=d4(this,this.l,e);break}}return this.l+=e,r}var r7=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},n7=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},a7=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function i7(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)a7(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,r7(this,t,this.l);break;case 8:if(n=8,r==="f"){ZB(this,t,this.l);break}case 16:break;case-4:n=4,n7(this,t,this.l);break}return this.l+=n,this}function E4(e,t){var r=d4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Cn(e,t){e.l=t,e.read_shift=If,e.chk=E4,e.write_shift=i7}function Za(e,t){e.l+=t}function ne(e){var t=Yo(e);return Cn(t,0),t}function xn(){var e=[],t=Qe?256:2048,r=function(c){var f=ne(c);return Cn(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Ar(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function ce(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=JH[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&d_(r)&&e.push(r)}}function Df(e,t,r){var n=wn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tT(e,t,r){var n=wn(e);return n.s=Df(n.s,t.s,r),n.e=Df(n.e,t.s,r),n}function Mf(e,t){if(e.cRel&&e.c<0)for(e=wn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=wn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ot(e);return!e.cRel&&e.cRel!=null&&(r=l7(r)),!e.rRel&&e.rRel!=null&&(r=s7(r)),r}function ly(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+zr(e.s.c)+":"+(e.e.cRel?"":"$")+zr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Cr(e.s.r)+":"+(e.e.rRel?"":"$")+Cr(e.e.r):Mf(e.s,t.biff)+":"+Mf(e.e,t.biff)}function h_(e){return parseInt(o7(e),10)-1}function Cr(e){return""+(e+1)}function s7(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function o7(e){return e.replace(/\$(\d+)$/,"$1")}function p_(e){for(var t=c7(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function zr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function l7(e){return e.replace(/^([A-Z])/,"$$$1")}function c7(e){return e.replace(/^\$([A-Z])/,"$1")}function u7(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ot(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Fn(e){var t=e.indexOf(":");return t==-1?{s:mr(e),e:mr(e)}:{s:mr(e.slice(0,t)),e:mr(e.slice(t+1))}}function Qt(e,t){return typeof t>"u"||typeof t=="number"?Qt(e.s,e.e):(typeof e!="string"&&(e=ot(e)),typeof t!="string"&&(t=ot(t)),e==t?e:e+":"+t)}function _t(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function rT(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ls(e.z,r?bn(t):t)}catch{}try{return e.w=Ls((e.XF||{}).numFmtId||(r?14:0),r?bn(t):t)}catch{return""+t}}function Di(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ph[e.v]||e.v:t==null?rT(e,e.v):rT(e,t))}function ul(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function T4(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=_t(i["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(c.e.r=s=f.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Bt[14],n.cellDates?(p.t="d",p.w=Ls(p.z,bn(p.v))):(p.t="n",p.v=bn(p.v),p.w=Ls(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var y=ot({c:m,r:g});i[y]&&i[y].z&&(p.z=i[y].z),i[y]=p}}}return c.s.c<1e7&&(i["!ref"]=Qt(c)),i}function wu(e,t){return T4(null,e,t)}function f7(e){return e.read_shift(4,"i")}function Na(e,t){return t||(t=ne(4)),t.write_shift(4,e),t}function Wr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function vr(e,t){var r=!1;return t==null&&(r=!0,t=ne(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function d7(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function h7(e,t){return t||(t=ne(4)),t.write_shift(2,0),t.write_shift(2,0),t}function m_(e,t){var r=e.l,n=e.read_shift(1),a=Wr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(d7(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function p7(e,t){var r=!1;return t==null&&(r=!0,t=ne(15+4*e.t.length)),t.write_shift(1,0),vr(e.t,t),r?t.slice(0,t.l):t}var m7=m_;function v7(e,t){var r=!1;return t==null&&(r=!0,t=ne(23+4*e.t.length)),t.write_shift(1,1),vr(e.t,t),t.write_shift(4,1),h7({},t),r?t.slice(0,t.l):t}function la(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function fl(e,t){return t==null&&(t=ne(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function dl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function hl(e,t){return t==null&&(t=ne(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var g7=Wr,A4=vr;function v_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ap(e,t){var r=!1;return t==null&&(r=!0,t=ne(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var y7=Wr,u1=v_,g_=Ap;function O4(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Tp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):mo(t,0)>>2;return r?a/100:a}function j4(e,t){t==null&&(t=ne(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function C4(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function x7(e,t){return t||(t=ne(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var pl=C4,_u=x7;function Su(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Qo(e,t){return(t||ne(8)).write_shift(8,e,"f")}function b7(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=C7[a];c&&(t.rgb=hT(c));break;case 2:t.rgb=hT([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Op(e,t){if(t||(t=ne(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function w7(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function _7(e,t){t||(t=ne(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var N4=2,An=3,r0=11,jp=19,n0=64,S7=65,E7=71,T7=4108,A7=4126,Tr=80,nT={1:{n:"CodePage",t:N4},2:{n:"Category",t:Tr},3:{n:"PresentationFormat",t:Tr},4:{n:"ByteCount",t:An},5:{n:"LineCount",t:An},6:{n:"ParagraphCount",t:An},7:{n:"SlideCount",t:An},8:{n:"NoteCount",t:An},9:{n:"HiddenCount",t:An},10:{n:"MultimediaClipCount",t:An},11:{n:"ScaleCrop",t:r0},12:{n:"HeadingPairs",t:T7},13:{n:"TitlesOfParts",t:A7},14:{n:"Manager",t:Tr},15:{n:"Company",t:Tr},16:{n:"LinksUpToDate",t:r0},17:{n:"CharacterCount",t:An},19:{n:"SharedDoc",t:r0},22:{n:"HyperlinksChanged",t:r0},23:{n:"AppVersion",t:An,p:"version"},24:{n:"DigSig",t:S7},26:{n:"ContentType",t:Tr},27:{n:"ContentStatus",t:Tr},28:{n:"Language",t:Tr},29:{n:"Version",t:Tr},255:{},2147483648:{n:"Locale",t:jp},2147483651:{n:"Behavior",t:jp},1919054434:{}},aT={1:{n:"CodePage",t:N4},2:{n:"Title",t:Tr},3:{n:"Subject",t:Tr},4:{n:"Author",t:Tr},5:{n:"Keywords",t:Tr},6:{n:"Comments",t:Tr},7:{n:"Template",t:Tr},8:{n:"LastAuthor",t:Tr},9:{n:"RevNumber",t:Tr},10:{n:"EditTime",t:n0},11:{n:"LastPrinted",t:n0},12:{n:"CreatedDate",t:n0},13:{n:"ModifiedDate",t:n0},14:{n:"PageCount",t:An},15:{n:"WordCount",t:An},16:{n:"CharCount",t:An},17:{n:"Thumbnail",t:E7},18:{n:"Application",t:Tr},19:{n:"DocSecurity",t:An},255:{},2147483648:{n:"Locale",t:jp},2147483651:{n:"Behavior",t:jp},1919054434:{}};function O7(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var j7=O7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),C7=wn(j7),ph={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},N7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},a0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function k4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function P4(e,t){var r=BB(N7),n=[],a;n[n.length]=Zt,n[n.length]=me("Types",null,{xmlns:pr.CT,"xmlns:xsd":pr.xsd,"xmlns:xsi":pr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return me("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=me("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:a0[l][t.bookType]||a0[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=me("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:a0[l][t.bookType]||a0[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=me("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Xe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function oc(e){var t=[Zt,me("Relationships",null,{xmlns:pr.RELS})];return kr(e["!id"]).forEach(function(r){t[t.length]=me("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Xe.HLINK,Xe.XPATH,Xe.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function k7(e){var t=[Zt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function iT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function P7(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function R7(e){var t=[Zt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(iT(e[r][0],e[r][1])),t.push(P7("",e[r][0]));return t.push(iT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function I4(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xp.version+"</meta:generator></office:meta></office:document-meta>"}var Bo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cy(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=it(t),n[n.length]=r?me(e,t,r):Or(e,t))}function D4(e,t){var r=t||{},n=[Zt,me("cp:coreProperties",null,{"xmlns:cp":pr.CORE_PROPS,"xmlns:dc":pr.dc,"xmlns:dcterms":pr.dcterms,"xmlns:dcmitype":pr.dcmitype,"xmlns:xsi":pr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&cy("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:c1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&cy("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:c1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Bo.length;++i){var s=Bo[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&cy(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var lc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],M4=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $4(e){var t=[],r=me;return e||(e={}),e.Application="SheetJS",t[t.length]=Zt,t[t.length]=me("Properties",null,{xmlns:pr.EXT_PROPS,"xmlns:vt":pr.vt}),lc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=it(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+it(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function L4(e){var t=[Zt,me("Properties",null,{xmlns:pr.CUST_PROPS,"xmlns:vt":pr.vt})];if(!e)return t.join("");var r=1;return kr(e).forEach(function(a){++r,t[t.length]=me("property",QB(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:it(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var sT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function I7(e,t){var r=[];return kr(sT).map(function(n){for(var a=0;a<Bo.length;++a)if(Bo[a][1]==n)return Bo[a];for(a=0;a<lc.length;++a)if(lc[a][1]==n)return lc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Or(sT[n[1]]||n[1],a))}}),me("DocumentProperties",r.join(""),{xmlns:Nn.o})}function D7(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&kr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Bo.length;++s)if(i==Bo[s][1])return;for(s=0;s<lc.length;++s)if(i==lc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(me(KE(i),o,{"dt:dt":l}))}}),t&&kr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(me(KE(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Nn.o+'">'+a.join("")+"</"+n+">"}function M7(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ne(8);return s.write_shift(4,n),s.write_shift(4,a),s}function oT(e,t){var r=ne(4),n=ne(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ne(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=M7(t);break;case 31:case 80:for(n=ne(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ar([r,n])}var F4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $7(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function lT(e,t,r){var n=ne(8),a=[],i=[],s=8,o=0,l=ne(8),c=ne(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=ne(8),c.write_shift(4,0),a.unshift(c);var f=[ne(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for(l=ne(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=Ar(f),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(F4.indexOf(e[o][0])>-1||M4.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=oT(g.t,h)}else{var y=$7(h);y==-1&&(y=31,h=String(h)),l=oT(y,h)}i.push(l),c=ne(8),c.write_shift(4,t?p:2+o),a.push(c),s+=8+l.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Ar([n].concat(a).concat(i))}function cT(e,t,r,n,a,i){var s=ne(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,ct.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=lT(e,r,n);if(o.push(l),a){var c=lT(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Ar(o)}function L7(e,t){t||(t=ne(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function F7(e,t){return e.read_shift(t)===1}function Qr(e,t){return t||(t=ne(2)),t.write_shift(2,+!!e),t}function B4(e){return e.read_shift(2,"u")}function Gn(e,t){return t||(t=ne(2)),t.write_shift(2,e),t}function U4(e,t,r){return r||(r=ne(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function z4(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function B7(e){var t=e.t||"",r=ne(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ne(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ar(a)}function U7(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function z7(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):U7(e,n,r)}function W7(e,t,r){if(r.biff>5)return z7(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function W4(e,t,r){return r||(r=ne(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uT(e,t){t||(t=ne(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function H7(e){var t=ne(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),uT(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&uT(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Jo(e,t,r,n){return n||(n=ne(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function V7(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function q7(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function H4(e,t){return t||(t=ne(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function y_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ne(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function K7(e,t){var r=!t||t.biff==8,n=ne(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function G7(e,t){var r=!t||t.biff>=8?2:1,n=ne(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function X7(e,t){var r=ne(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=B7(e[a]);var i=Ar([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Y7(){var e=ne(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Q7(e){var t=ne(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function J7(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ne(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Z7(e,t,r,n){var a=ne(10);return Jo(e,t,n,a),a.write_shift(4,r),a}function e9(e,t,r,n,a){var i=!a||a.biff==8,s=ne(8+ +i+(1+i)*r.length);return Jo(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function t9(e,t,r,n){var a=r&&r.biff==5;n||(n=ne(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function r9(e,t){var r=t.biff==8||!t.biff?4:2,n=ne(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function fT(e,t,r,n){var a=r&&r.biff==5;n||(n=ne(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function n9(e){var t=ne(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function a9(e,t,r,n,a,i){var s=ne(8);return Jo(e,t,n,s),U4(r,i,s),s}function i9(e,t,r,n){var a=ne(14);return Jo(e,t,n,a),Qo(r,a),a}function s9(e,t,r){if(r.biff<8)return o9(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(V7(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function o9(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=z4(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function l9(e){var t=ne(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)H4(e[r],t);return t}function c9(e){var t=ne(24),r=mr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ar([t,H7(e[1])])}function u9(e){var t=e[1].Tooltip,r=ne(10+2*(t.length+1));r.write_shift(2,2048);var n=mr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function f9(e){return e||(e=ne(4)),e.write_shift(2,1),e.write_shift(2,1),e}function d9(e,t,r){if(!r.cellStyles)return Za(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function h9(e,t){var r=ne(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function p9(e){for(var t=ne(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function m9(e,t,r){var n=ne(15);return vh(n,e,t),n.write_shift(8,r,"f"),n}function v9(e,t,r){var n=ne(9);return vh(n,e,t),n.write_shift(2,r),n}var g9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=o_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],f=Yo(1);switch(l.type){case"base64":f=Ta(Ii(o));break;case"binary":f=Ta(o);break;case"buffer":case"array":f=o;break}Cn(f,0);var d=f.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,y=521;d==2&&(m=f.read_shift(2)),f.l+=3,d!=2&&(m=f.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(y=f.read_shift(2));var b=f.read_shift(2),v=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(v=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var x=[],_={},w=Math.min(f.length,d==2?521:y-10-(p?264:0)),S=g?32:11;f.l<w&&f[f.l]!=13;)switch(_={},_.name=bp.utils.decode(v,f.slice(f.l,f.l+S)).replace(/[\u0000\r\n].*$/g,""),f.l+=S,_.type=String.fromCharCode(f.read_shift(1)),d!=2&&!g&&(_.offset=f.read_shift(4)),_.len=f.read_shift(1),d==2&&(_.offset=f.read_shift(2)),_.dec=f.read_shift(1),_.name.length&&x.push(_),d!=2&&(f.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(f[f.l]!==13&&(f.l=y-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=y;var E=0,T=0;for(c[0]=[],T=0;T!=x.length;++T)c[0][T]=x[T].name;for(;m-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,c[++E]=[],T=0,T=0;T!=x.length;++T){var A=f.slice(f.l,f.l+x[T].len);f.l+=x[T].len,Cn(A,0);var N=bp.utils.decode(v,A);switch(x[T].type){case"C":N.trim().length&&(c[E][T]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[E][T]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[E][T]=N;break;case"F":c[E][T]=parseFloat(N.trim());break;case"+":case"I":c[E][T]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[E][T]=!0;break;case"N":case"F":c[E][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[E][T]="##MEMO##"+(g?parseInt(N.trim(),10):A.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[E][T]=+N||0);break;case"@":c[E][T]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[E][T]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[E][T]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][T]=-A.read_shift(-8,"f");break;case"B":if(p&&x[T].len==8){c[E][T]=A.read_shift(8,"f");break}case"G":case"P":A.l+=x[T].len;break;case"0":if(x[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[T].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=wu(r(o,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function a(o,l){try{return ul(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&ud(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=xn(),d=Rp(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,y=0,b=0,v=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++b;continue}if(h[m]!=null){if(++b,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(y=0;y<1024;++y)if(h.indexOf(h[m]+"_"+y)==-1){h[m]+="_"+y;break}}}}var x=_t(o["!ref"]),_=[],w=[],S=[];for(m=0;m<=x.e.c-x.s.c;++m){var E="",T="",A=0,N=[];for(y=0;y<p.length;++y)p[y][m]!=null&&N.push(p[y][m]);if(N.length==0||h[m]==null){_[m]="?";continue}for(y=0;y<N.length;++y){switch(typeof N[y]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=N[y]instanceof Date?"D":"C";break;default:T="C"}A=Math.max(A,String(N[y]).length),E=E&&E!=T?"C":T}A>250&&(A=250),T=((g[m]||{}).DBF||{}).type,T=="C"&&g[m].DBF.len>A&&(A=g[m].DBF.len),E=="B"&&T=="N"&&(E="N",S[m]=g[m].DBF.dec,A=g[m].DBF.len),w[m]=E=="C"||T=="N"?A:i[E]||0,v+=w[m],_[m]=E}var j=f.next(32);for(j.write_shift(4,318902576),j.write_shift(4,p.length),j.write_shift(2,296+32*b),j.write_shift(2,v),m=0;m<4;++m)j.write_shift(4,0);for(j.write_shift(4,0|(+t[qP]||3)<<8),m=0,y=0;m<h.length;++m)if(h[m]!=null){var L=f.next(32),W=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,W,"sbcs"),L.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),L.write_shift(4,y),L.write_shift(1,w[m]||i[_[m]]||0),L.write_shift(1,S[m]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),y+=w[m]||i[_[m]]||0}var Z=f.next(264);for(Z.write_shift(4,13),m=0;m<65;++m)Z.write_shift(4,0);for(m=0;m<p.length;++m){var G=f.next(v);for(G.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(_[y]){case"L":G.write_shift(1,p[m][y]==null?63:p[m][y]?84:70);break;case"B":G.write_shift(8,p[m][y]||0,"f");break;case"N":var re="0";for(typeof p[m][y]=="number"&&(re=p[m][y].toFixed(S[y]||0)),b=0;b<w[y]-re.length;++b)G.write_shift(1,32);G.write_shift(1,re,"sbcs");break;case"D":p[m][y]?(G.write_shift(4,("0000"+p[m][y].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[m][y].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[m][y].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var q=String(p[m][y]!=null?p[m][y]:"").slice(0,w[y]);for(G.write_shift(1,q,"sbcs"),b=0;b<w[y]-q.length;++b)G.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),y9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+kr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?DE(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:DE(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Ii(h),p);case"binary":return i(h,p);case"buffer":return i(Qe&&Buffer.isBuffer(h)?h.toString("binary"):fh(h),p);case"array":return i(mv(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,y=-1,b=0,v=0,x=[],_=[],w=null,S={},E=[],T=[],A=[],N=0,j;for(+p.codepage>=0&&ud(+p.codepage);b!==g.length;++b){N=0;var L=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),W=L.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Z=W[0],G;if(L.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&_.push(L.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,q=!1,V=!1,K=!1,ae=-1,de=-1;for(v=1;v<W.length;++v)switch(W[v].charAt(0)){case"A":break;case"X":y=parseInt(W[v].slice(1))-1,q=!0;break;case"Y":for(m=parseInt(W[v].slice(1))-1,q||(y=0),j=x.length;j<=m;++j)x[j]=[];break;case"K":G=W[v].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(_i(G))?isNaN(dd(G).getDate())||(G=nn(G)):(G=_i(G),w!==null&&a4(w)&&(G=l4(G))),re=!0;break;case"E":K=!0;var P=vU(W[v].slice(1),{r:m,c:y});x[m][y]=[x[m][y],P];break;case"S":V=!0,x[m][y]=[x[m][y],"S5S"];break;case"G":break;case"R":ae=parseInt(W[v].slice(1))-1;break;case"C":de=parseInt(W[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}if(re&&(x[m][y]&&x[m][y].length==2?x[m][y][0]=G:x[m][y]=G,w=null),V){if(K)throw new Error("SYLK shared formula cannot have own formula");var H=ae>-1&&x[ae][de];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");x[m][y][1]=gU(H[1],{r:m-ae,c:y-de})}break;case"F":var U=0;for(v=1;v<W.length;++v)switch(W[v].charAt(0)){case"X":y=parseInt(W[v].slice(1))-1,++U;break;case"Y":for(m=parseInt(W[v].slice(1))-1,j=x.length;j<=m;++j)x[j]=[];break;case"M":N=parseInt(W[v].slice(1))/20;break;case"F":break;case"G":break;case"P":w=_[parseInt(W[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=W[v].slice(1).split(" "),j=parseInt(A[0],10);j<=parseInt(A[1],10);++j)N=parseInt(A[2],10),T[j-1]=N===0?{hidden:!0}:{wch:N},x_(T[j-1]);break;case"C":y=parseInt(W[v].slice(1))-1,T[y]||(T[y]={});break;case"R":m=parseInt(W[v].slice(1))-1,E[m]||(E[m]={}),N>0?(E[m].hpt=N,E[m].hpx=X4(N)):N===0&&(E[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}U<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}}return E.length>0&&(S["!rows"]=E),T.length>0&&(S["!cols"]=T),p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),[x,S]}function s(h,p){var g=a(h,p),m=g[0],y=g[1],b=wu(m,p);return kr(y).forEach(function(v){b[v]=y[v]}),b}function o(h,p){return ul(s(h,p),p)}function l(h,p,g,m){var y="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+w_(h.f,{r:g,c:m}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(g,m){var y="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Cp(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Np(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function f(h,p){p.forEach(function(g,m){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*kp(g.hpx)+";"),y.length>2&&h.push(y+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],y=_t(h["!ref"]),b,v=Array.isArray(h),x=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&f(g,h["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var _=y.s.r;_<=y.e.r;++_)for(var w=y.s.c;w<=y.e.c;++w){var S=ot({r:_,c:w});b=v?(h[_]||[])[w]:h[S],!(!b||b.v==null&&(!b.f||b.F))&&m.push(l(b,h,_,w))}return g.join(x)+x+m.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),x9=function(){function e(i,s){switch(s.type){case"base64":return t(Ii(i),s);case"binary":return t(i,s);case"buffer":return t(Qe&&Buffer.isBuffer(i)?i.toString("binary"):fh(i),s);case"array":return t(mv(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[f].trim().split(","),p=h[0],g=h[1];++f;for(var m=o[f]||"";(m.match(/["]/g)||[]).length&1&&f<o.length-1;)m+=`
`+o[++f];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(_i(g))?isNaN(dd(g).getDate())?d[l][c]=g:d[l][c]=nn(g):d[l][c]=_i(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return wu(e(i,s),s)}function n(i,s){return ul(r(i,s),s)}var a=function(){var i=function(l,c,f,d,h){l.push(c),l.push(f+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=_t(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,f.e.r-f.s.r+1,""),i(c,"TUPLES",0,f.e.c-f.s.c+1,""),i(c,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){s(c,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var m=ot({r:p,c:g});if(d=h?(l[p]||[])[g]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var y=d.w;!y&&d.v!=null&&(y=d.v),y==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,y,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Ls(d.z||Bt[14],bn(nn(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var b=`\r
`,v=c.join(b);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),V4=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,y=0,b=[];y!==p.length;++y){var v=p[y].trim().split(":");if(v[0]==="cell"){var x=mr(v[1]);if(b.length<=x.r)for(g=b.length;g<=x.r;++g)b[g]||(b[g]=[]);switch(g=x.r,m=x.c,v[2]){case"t":b[g][m]=e(v[3]);break;case"v":b[g][m]=+v[3];break;case"vtf":var _=v[v.length-1];case"vtc":switch(v[3]){case"nl":b[g][m]=!!+v[4];break;default:b[g][m]=+v[4];break}v[2]=="vtf"&&(b[g][m]=[b[g][m],_])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(d,h){return wu(r(d,h),h)}function a(d,h){return ul(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",y=Fn(d["!ref"]),b=Array.isArray(d),v=y.s.r;v<=y.e.r;++v)for(var x=y.s.c;x<=y.e.c;++x)if(m=ot({r:v,c:x}),g=b?(d[v]||[])[x]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=bn(nn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||Ls(g.z||Bt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function f(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),b9=function(){function e(f,d,h,p,g){g.raw?d[h][p]=f:f===""||(f==="TRUE"?d[h][p]=!0:f==="FALSE"?d[h][p]=!1:isNaN(_i(f))?isNaN(dd(f).getDate())?d[h][p]=f:d[h][p]=nn(f):d[h][p]=_i(f))}function t(f,d){var h=d||{},p=[];if(!f||f.length===0)return p;for(var g=f.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var y=10,b=0,v=0;v<=m;++v)b=g[v].indexOf(" "),b==-1?b=g[v].length:b++,y=Math.max(y,b);for(v=0;v<=m;++v){p[v]=[];var x=0;for(e(g[v].slice(0,y).trim(),p,v,x,h),x=1;x<=(g[v].length-y)/10+1;++x)e(g[v].slice(y+(x-1)*10,y+x*10).trim(),p,v,x,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var d={},h=!1,p=0,g=0;p<f.length;++p)(g=f.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),r[g.pop()[1]]||44}function i(f,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=a(f.slice(0,1024)):h&&h.FS?p=h.FS:p=a(f.slice(0,1024));var y=0,b=0,v=0,x=0,_=0,w=p.charCodeAt(0),S=!1,E=0,T=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?MB(h.dateNF):null;function N(){var j=f.slice(x,_),L={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)L.t="z";else if(h.raw)L.t="s",L.v=j;else if(j.trim().length===0)L.t="s",L.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(L.t="s",L.v=j.slice(2,-1).replace(/""/g,'"')):yU(j)?(L.t="n",L.f=j.slice(1)):(L.t="s",L.v=j);else if(j=="TRUE")L.t="b",L.v=!0;else if(j=="FALSE")L.t="b",L.v=!1;else if(!isNaN(v=_i(j)))L.t="n",h.cellText!==!1&&(L.w=j),L.v=v;else if(!isNaN(dd(j).getDate())||A&&j.match(A)){L.z=h.dateNF||Bt[14];var W=0;A&&j.match(A)&&(j=$B(j,h.dateNF,j.match(A)||[]),W=1),h.cellDates?(L.t="d",L.v=nn(j,W)):(L.t="n",L.v=bn(nn(j,W))),h.cellText!==!1&&(L.w=Ls(L.z,L.v instanceof Date?bn(L.v):L.v)),h.cellNF||delete L.z}else L.t="s",L.v=j;if(L.t=="z"||(h.dense?(g[y]||(g[y]=[]),g[y][b]=L):g[ot({c:b,r:y})]=L),x=_+1,T=f.charCodeAt(x),m.e.c<b&&(m.e.c=b),m.e.r<y&&(m.e.r=y),E==w)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;_<f.length;++_)switch(E=f.charCodeAt(_)){case 34:T===34&&(S=!S);break;case w:case 10:case 13:if(!S&&N())break e;break}return _-x>0&&N(),g["!ref"]=Qt(m),g}function s(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):wu(t(f,d),d)}function o(f,d){var h="",p=d.type=="string"?[0,0,0,0]:PV(f,d);switch(d.type){case"base64":h=Ii(f);break;case"binary":h=f;break;case"buffer":d.codepage==65001?h=f.toString("utf8"):d.codepage&&typeof bp<"u"||(h=Qe&&Buffer.isBuffer(f)?f.toString("binary"):fh(f));break;case"array":h=mv(f);break;case"string":h=f;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Rf(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Rf(h):d.type=="binary"&&typeof bp<"u",h.slice(0,19)=="socialcalc:version:"?V4.to_sheet(d.type=="string"?h:Rf(h),d):s(h,d)}function l(f,d){return ul(o(f,d),d)}function c(f){for(var d=[],h=_t(f["!ref"]),p,g=Array.isArray(f),m=h.s.r;m<=h.e.r;++m){for(var y=[],b=h.s.c;b<=h.e.c;++b){var v=ot({r:m,c:b});if(p=g?(f[m]||[])[b]:f[v],!p||p.v==null){y.push("          ");continue}for(var x=(p.w||(Di(p),p.w)||"").slice(0,10);x.length<10;)x+=" ";y.push(x+(b===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),dT=function(){function e(P,H,U){if(P){Cn(P,P.l||0);for(var z=U.Enum||ae;P.l<P.length;){var ie=P.read_shift(2),we=z[ie]||z[65535],_e=P.read_shift(2),ee=P.l+_e,le=we.f&&we.f(P,_e,U);if(P.l=ee,H(le,we,ie))return}}}function t(P,H){switch(H.type){case"base64":return r(Ta(Ii(P)),H);case"binary":return r(Ta(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var U=H||{},z=U.dense?[]:{},ie="Sheet1",we="",_e=0,ee={},le=[],Ee=[],te={s:{r:0,c:0},e:{r:0,c:0}},ze=U.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)U.Enum=ae,e(P,function(ge,Ut,Ir){switch(Ir){case 0:U.vers=ge,ge>=4096&&(U.qpro=!0);break;case 6:te=ge;break;case 204:ge&&(we=ge);break;case 222:we=ge;break;case 15:case 51:U.qpro||(ge[1].v=ge[1].v.slice(1));case 13:case 14:case 16:Ir==14&&(ge[2]&112)==112&&(ge[2]&15)>1&&(ge[2]&15)<15&&(ge[1].z=U.dateNF||Bt[14],U.cellDates&&(ge[1].t="d",ge[1].v=l4(ge[1].v))),U.qpro&&ge[3]>_e&&(z["!ref"]=Qt(te),ee[ie]=z,le.push(ie),z=U.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},_e=ge[3],ie=we||"Sheet"+(_e+1),we="");var zn=U.dense?(z[ge[0].r]||[])[ge[0].c]:z[ot(ge[0])];if(zn){zn.t=ge[1].t,zn.v=ge[1].v,ge[1].z!=null&&(zn.z=ge[1].z),ge[1].f!=null&&(zn.f=ge[1].f);break}U.dense?(z[ge[0].r]||(z[ge[0].r]=[]),z[ge[0].r][ge[0].c]=ge[1]):z[ot(ge[0])]=ge[1];break}},U);else if(P[2]==26||P[2]==14)U.Enum=de,P[2]==14&&(U.qpro=!0,P.l=0),e(P,function(ge,Ut,Ir){switch(Ir){case 204:ie=ge;break;case 22:ge[1].v=ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ge[3]>_e&&(z["!ref"]=Qt(te),ee[ie]=z,le.push(ie),z=U.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},_e=ge[3],ie="Sheet"+(_e+1)),ze>0&&ge[0].r>=ze)break;U.dense?(z[ge[0].r]||(z[ge[0].r]=[]),z[ge[0].r][ge[0].c]=ge[1]):z[ot(ge[0])]=ge[1],te.e.c<ge[0].c&&(te.e.c=ge[0].c),te.e.r<ge[0].r&&(te.e.r=ge[0].r);break;case 27:ge[14e3]&&(Ee[ge[14e3][0]]=ge[14e3][1]);break;case 1537:Ee[ge[0]]=ge[1],ge[0]==_e&&(ie=ge[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(z["!ref"]=Qt(te),ee[we||ie]=z,le.push(we||ie),!Ee.length)return{SheetNames:le,Sheets:ee};for(var Ce={},tt=[],Le=0;Le<Ee.length;++Le)ee[le[Le]]?(tt.push(Ee[Le]||le[Le]),Ce[Ee[Le]]=ee[Ee[Le]]||ee[le[Le]]):(tt.push(Ee[Le]),Ce[Ee[Le]]={"!ref":"A1"});return{SheetNames:tt,Sheets:Ce}}function n(P,H){var U=H||{};if(+U.codepage>=0&&ud(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var z=xn(),ie=_t(P["!ref"]),we=Array.isArray(P),_e=[];ve(z,0,i(1030)),ve(z,6,l(ie));for(var ee=Math.min(ie.e.r,8191),le=ie.s.r;le<=ee;++le)for(var Ee=Cr(le),te=ie.s.c;te<=ie.e.c;++te){le===ie.s.r&&(_e[te]=zr(te));var ze=_e[te]+Ee,Ce=we?(P[le]||[])[te]:P[ze];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?ve(z,13,p(le,te,Ce.v)):ve(z,14,m(le,te,Ce.v));else{var tt=Di(Ce);ve(z,15,d(le,te,tt.slice(0,239)))}}return ve(z,1),z.end()}function a(P,H){var U=H||{};if(+U.codepage>=0&&ud(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var z=xn();ve(z,0,s(P));for(var ie=0,we=0;ie<P.SheetNames.length;++ie)(P.Sheets[P.SheetNames[ie]]||{})["!ref"]&&ve(z,27,K(P.SheetNames[ie],we++));var _e=0;for(ie=0;ie<P.SheetNames.length;++ie){var ee=P.Sheets[P.SheetNames[ie]];if(!(!ee||!ee["!ref"])){for(var le=_t(ee["!ref"]),Ee=Array.isArray(ee),te=[],ze=Math.min(le.e.r,8191),Ce=le.s.r;Ce<=ze;++Ce)for(var tt=Cr(Ce),Le=le.s.c;Le<=le.e.c;++Le){Ce===le.s.r&&(te[Le]=zr(Le));var ge=te[Le]+tt,Ut=Ee?(ee[Ce]||[])[Le]:ee[ge];if(!(!Ut||Ut.t=="z"))if(Ut.t=="n")ve(z,23,N(Ce,Le,_e,Ut.v));else{var Ir=Di(Ut);ve(z,22,E(Ce,Le,_e,Ir.slice(0,239)))}}++_e}}return ve(z,1),z.end()}function i(P){var H=ne(2);return H.write_shift(2,P),H}function s(P){var H=ne(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var U=0,z=0,ie=0,we=0;we<P.SheetNames.length;++we){var _e=P.SheetNames[we],ee=P.Sheets[_e];if(!(!ee||!ee["!ref"])){++ie;var le=Fn(ee["!ref"]);U<le.e.r&&(U=le.e.r),z<le.e.c&&(z=le.e.c)}}return U>8191&&(U=8191),H.write_shift(2,U),H.write_shift(1,ie),H.write_shift(1,z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,U){var z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&U.qpro?(z.s.c=P.read_shift(1),P.l++,z.s.r=P.read_shift(2),z.e.c=P.read_shift(1),P.l++,z.e.r=P.read_shift(2),z):(z.s.c=P.read_shift(2),z.s.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),z.e.c=P.read_shift(2),z.e.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(P){var H=ne(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function c(P,H,U){var z=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(z[0].c=P.read_shift(1),z[3]=P.read_shift(1),z[0].r=P.read_shift(2),P.l+=2):(z[2]=P.read_shift(1),z[0].c=P.read_shift(2),z[0].r=P.read_shift(2)),z}function f(P,H,U){var z=P.l+H,ie=c(P,H,U);if(ie[1].t="s",U.vers==20768){P.l++;var we=P.read_shift(1);return ie[1].v=P.read_shift(we,"utf8"),ie}return U.qpro&&P.l++,ie[1].v=P.read_shift(z-P.l,"cstr"),ie}function d(P,H,U){var z=ne(7+U.length);z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(1,39);for(var ie=0;ie<z.length;++ie){var we=U.charCodeAt(ie);z.write_shift(1,we>=128?95:we)}return z.write_shift(1,0),z}function h(P,H,U){var z=c(P,H,U);return z[1].v=P.read_shift(2,"i"),z}function p(P,H,U){var z=ne(7);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(2,U,"i"),z}function g(P,H,U){var z=c(P,H,U);return z[1].v=P.read_shift(8,"f"),z}function m(P,H,U){var z=ne(13);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,P),z.write_shift(8,U,"f"),z}function y(P,H,U){var z=P.l+H,ie=c(P,H,U);if(ie[1].v=P.read_shift(8,"f"),U.qpro)P.l=z;else{var we=P.read_shift(2);_(P.slice(P.l,P.l+we),ie),P.l+=we}return ie}function b(P,H,U){var z=H&32768;return H&=-32769,H=(z?P:0)+(H>=8192?H-16384:H),(z?"":"$")+(U?zr(H):Cr(H))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,H){Cn(P,0);for(var U=[],z=0,ie="",we="",_e="",ee="";P.l<P.length;){var le=P[P.l++];switch(le){case 0:U.push(P.read_shift(8,"f"));break;case 1:we=b(H[0].c,P.read_shift(2),!0),ie=b(H[0].r,P.read_shift(2),!1),U.push(we+ie);break;case 2:{var Ee=b(H[0].c,P.read_shift(2),!0),te=b(H[0].r,P.read_shift(2),!1);we=b(H[0].c,P.read_shift(2),!0),ie=b(H[0].r,P.read_shift(2),!1),U.push(Ee+te+":"+we+ie)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(P.read_shift(2));break;case 6:{for(var ze="";le=P[P.l++];)ze+=String.fromCharCode(le);U.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ee=U.pop(),_e=U.pop(),U.push(["AND","OR"][le-20]+"("+_e+","+ee+")");break;default:if(le<32&&x[le])ee=U.pop(),_e=U.pop(),U.push(_e+x[le]+ee);else if(v[le]){if(z=v[le][1],z==69&&(z=P[P.l++]),z>U.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+U.join("|")+"|");return}var Ce=U.slice(-z);U.length-=z,U.push(v[le][0]+"("+Ce.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}U.length==1?H[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function w(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function S(P,H){var U=w(P);return U[1].t="s",U[1].v=P.read_shift(H-4,"cstr"),U}function E(P,H,U,z){var ie=ne(6+z.length);ie.write_shift(2,P),ie.write_shift(1,U),ie.write_shift(1,H),ie.write_shift(1,39);for(var we=0;we<z.length;++we){var _e=z.charCodeAt(we);ie.write_shift(1,_e>=128?95:_e)}return ie.write_shift(1,0),ie}function T(P,H){var U=w(P);U[1].v=P.read_shift(2);var z=U[1].v>>1;if(U[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return U[1].v=z,U}function A(P,H){var U=w(P),z=P.read_shift(4),ie=P.read_shift(4),we=P.read_shift(2);if(we==65535)return z===0&&ie===3221225472?(U[1].t="e",U[1].v=15):z===0&&ie===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var _e=we&32768;return we=(we&32767)-16446,U[1].v=(1-_e*2)*(ie*Math.pow(2,we+32)+z*Math.pow(2,we)),U}function N(P,H,U,z){var ie=ne(14);if(ie.write_shift(2,P),ie.write_shift(1,U),ie.write_shift(1,H),z==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var we=0,_e=0,ee=0,le=0;return z<0&&(we=1,z=-z),_e=Math.log2(z)|0,z/=Math.pow(2,_e-31),le=z>>>0,le&2147483648||(z/=2,++_e,le=z>>>0),z-=le,le|=2147483648,le>>>=0,z*=Math.pow(2,32),ee=z>>>0,ie.write_shift(4,ee),ie.write_shift(4,le),_e+=16383+(we?32768:0),ie.write_shift(2,_e),ie}function j(P,H){var U=A(P);return P.l+=H-14,U}function L(P,H){var U=w(P),z=P.read_shift(4);return U[1].v=z>>6,U}function W(P,H){var U=w(P),z=P.read_shift(8,"f");return U[1].v=z,U}function Z(P,H){var U=W(P);return P.l+=H-10,U}function G(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function re(P,H){var U=P[P.l++];U>H-1&&(U=H-1);for(var z="";z.length<U;)z+=String.fromCharCode(P[P.l++]);return z}function q(P,H,U){if(!(!U.qpro||H<21)){var z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ie=P.read_shift(H-21,"cstr");return[z,ie]}}function V(P,H){for(var U={},z=P.l+H;P.l<z;){var ie=P.read_shift(2);if(ie==14e3){for(U[ie]=[0,""],U[ie][0]=P.read_shift(2);P[P.l];)U[ie][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return U}function K(P,H){var U=ne(5+P.length);U.write_shift(2,14e3),U.write_shift(2,H);for(var z=0;z<P.length;++z){var ie=P.charCodeAt(z);U[U.l++]=ie>127?95:ie}return U[U.l++]=0,U}var ae={0:{n:"BOF",f:B4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),w9=/^\s|\s$|[\t\n\r]/;function q4(e,t){if(!t.bookSST)return"";var r=[Zt];r[r.length]=me("sst",null,{xmlns:bu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(w9)&&(i+=' xml:space="preserve"'),i+=">"+it(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function _9(e){return[e.read_shift(4),e.read_shift(4)]}function S9(e,t){return t||(t=ne(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var E9=p7;function T9(e){var t=xn();ce(t,159,S9(e));for(var r=0;r<e.length;++r)ce(t,19,E9(e[r]));return ce(t,160),t.end()}function A9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function K4(e){var t=0,r,n=A9(e),a=n.length+1,i,s,o,l,c;for(r=Yo(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var O9=function(){function e(a,i){switch(i.type){case"base64":return t(Ii(a),i);case"binary":return t(a,i);case"buffer":return t(Qe&&Buffer.isBuffer(a)?a.toString("binary"):fh(a),i);case"array":return t(mv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(f);){switch(g[0]){case"\\cell":var y=f.slice(p,h.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[d][m]=b:o[ot({r:d,c:m})]=b}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Qt(c),o}function r(a,i){return ul(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=_t(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var d=ot({r:c,c:f});o=l?(a[c]||[])[f]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Di(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function hT(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var j9=6,Si=j9;function Cp(e){return Math.floor((e+Math.round(128/Si)/256)*Si)}function Np(e){return Math.floor((e-5)/Si*100+.5)/100}function f1(e){return Math.round((e*Si+5)/Si*256)/256}function x_(e){e.width?(e.wpx=Cp(e.width),e.wch=Np(e.wpx),e.MDW=Si):e.wpx?(e.wch=Np(e.wpx),e.width=f1(e.wch),e.MDW=Si):typeof e.wch=="number"&&(e.width=f1(e.wch),e.wpx=Cp(e.width),e.MDW=Si),e.customWidth&&delete e.customWidth}var C9=96,G4=C9;function kp(e){return e*96/G4}function X4(e){return e*G4/96}function N9(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=me("numFmt",null,{numFmtId:n,formatCode:it(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=me("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function k9(e){var t=[];return t[t.length]=me("cellXfs",null),e.forEach(function(r){t[t.length]=me("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=me("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Y4(e,t){var r=[Zt,me("styleSheet",null,{xmlns:bu[0],"xmlns:vt":pr.vt})],n;return e.SSF&&(n=N9(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=k9(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function P9(e,t){var r=e.read_shift(2),n=Wr(e);return[r,n]}function R9(e,t,r){r||(r=ne(6+4*t.length)),r.write_shift(2,e),vr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function I9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=w7(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=b7(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wr(e),n}function D9(e,t){t||(t=ne(25+4*32)),t.write_shift(2,e.sz*20),_7(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Op(e.color,t);var n=0;return n=2,t.write_shift(1,n),vr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var M9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],uy,$9=Za;function pT(e,t){t||(t=ne(4*3+8*7+16*1)),uy||(uy=o_(M9));var r=uy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Op({auto:1},t),Op({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function L9(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Q4(e,t,r){r||(r=ne(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Zu(e,t){return t||(t=ne(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var F9=Za;function B9(e,t){return t||(t=ne(51)),t.write_shift(1,0),Zu(null,t),Zu(null,t),Zu(null,t),Zu(null,t),Zu(null,t),t.length>t.l?t.slice(0,t.l):t}function U9(e,t){return t||(t=ne(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Ap(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function z9(e,t,r){var n=ne(2052);return n.write_shift(4,e),Ap(t,n),Ap(r,n),n.length>n.l?n.slice(0,n.l):n}function W9(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ce(e,615,Na(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ce(e,44,R9(a,t[a]))}),ce(e,616))}}function H9(e){var t=1;ce(e,611,Na(t)),ce(e,43,D9({sz:12,color:{theme:1},name:"Calibri",family:2})),ce(e,612)}function V9(e){var t=2;ce(e,603,Na(t)),ce(e,45,pT({patternType:"none"})),ce(e,45,pT({patternType:"gray125"})),ce(e,604)}function q9(e){var t=1;ce(e,613,Na(t)),ce(e,46,B9()),ce(e,614)}function K9(e){var t=1;ce(e,626,Na(t)),ce(e,47,Q4({numFmtId:0},65535)),ce(e,627)}function G9(e,t){ce(e,617,Na(t.length)),t.forEach(function(r){ce(e,47,Q4(r,0))}),ce(e,618)}function X9(e){var t=1;ce(e,619,Na(t)),ce(e,48,U9({xfId:0,name:"Normal"})),ce(e,620)}function Y9(e){var t=0;ce(e,505,Na(t)),ce(e,506)}function Q9(e){var t=0;ce(e,508,z9(t,"TableStyleMedium9","PivotStyleMedium4")),ce(e,509)}function J9(e,t){var r=xn();return ce(r,278),W9(r,e.SSF),H9(r),V9(r),q9(r),K9(r),G9(r,t.cellXfs),X9(r),Y9(r),Q9(r),ce(r,279),r.end()}function J4(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Zt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Z9(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wr(e)}}function eU(e){var t=ne(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),vr(e.name,t),t.slice(0,t.l)}function tU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function rU(e){var t=ne(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function nU(e,t){var r=ne(8+2*t.length);return r.write_shift(4,e),vr(t,r),r.slice(0,r.l)}function aU(e){return e.l+=4,e.read_shift(4)!=0}function iU(e,t){var r=ne(8);return r.write_shift(4,e),r.write_shift(4,1),r}function sU(){var e=xn();return ce(e,332),ce(e,334,Na(1)),ce(e,335,eU({name:"XLDAPR",version:12e4,flags:3496657072})),ce(e,336),ce(e,339,nU(1,"XLDAPR")),ce(e,52),ce(e,35,Na(514)),ce(e,4096,Na(0)),ce(e,4097,Gn(1)),ce(e,36),ce(e,53),ce(e,340),ce(e,337,iU(1)),ce(e,51,rU([[1,0]])),ce(e,338),ce(e,333),e.end()}function Z4(){var e=[Zt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function oU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ot(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Gl=1024;function e3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[me("xml",null,{"xmlns:v":Nn.v,"xmlns:o":Nn.o,"xmlns:x":Nn.x,"xmlns:mv":Nn.mv}).replace(/\/>/,">"),me("o:shapelayout",me("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),me("v:shapetype",[me("v:stroke",null,{joinstyle:"miter"}),me("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Gl<e*1e3;)Gl+=1e3;return t.forEach(function(i){var s=mr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?me("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=me("v:fill",l,o),f={on:"t",obscured:"t"};++Gl,a=a.concat(["<v:shape"+pd({id:"_x0000_s"+Gl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,me("v:shadow",null,f),me("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Or("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Or("x:AutoFill","False"),Or("x:Row",String(s.r)),Or("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function t3(e){var t=[Zt,me("comments",null,{xmlns:bu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=it(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(it(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Or("t",it(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Or("t",it(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function lU(e,t,r){var n=[Zt,me("ThreadedComments",null,{xmlns:pr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(me("threadedComment",Or("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function cU(e){var t=[Zt,me("personList",null,{xmlns:pr.TCMNT,"xmlns:x":bu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(me("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function uU(e){var t={};t.iauthor=e.read_shift(4);var r=pl(e);return t.rfx=r.s,t.ref=ot(r.s),e.l+=16,t}function fU(e,t){return t==null&&(t=ne(36)),t.write_shift(4,e[1].iauthor),_u(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var dU=Wr;function hU(e){return vr(e.slice(0,54))}function pU(e){var t=xn(),r=[];return ce(t,628),ce(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ce(t,632,hU(a.a)))})}),ce(t,631),ce(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:mr(n[0]),e:mr(n[0])};ce(t,635,fU([i,a])),a.t&&a.t.length>0&&ce(t,637,v7(a)),ce(t,636),delete a.iauthor})}),ce(t,634),ce(t,629),t.end()}function mU(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ct.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var r3=["xlsb","xlsm","xlam","biff8","xla"],vU=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,l?c+=t.r:--c,a+(o?"":"$")+zr(f)+(l?"":"$")+Cr(c)}return function(a,i){return t=i,a.replace(e,r)}}(),b_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w_=function(){return function(t,r){return t.replace(b_,function(n,a,i,s,o,l){var c=p_(s)-(i?0:r.c),f=h_(l)-(o?0:r.r),d=f==0?"":o?f+1:"["+f+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function gU(e,t){return e.replace(b_,function(r,n,a,i,s,o){return n+(a=="$"?a+i:zr(p_(i)+t.c))+(s=="$"?s+o:Cr(h_(o)+t.r))})}function yU(e){return e.length!=1}function Vt(e){e.l+=1}function Fs(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function n3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return a3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Fs(e),o=Fs(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function a3(e){var t=Fs(e),r=Fs(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function xU(e,t,r){if(r.biff<8)return a3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Fs(e),s=Fs(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function i3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return bU(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fs(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function bU(e){var t=Fs(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function wU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function _U(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return SU(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function SU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function EU(e,t,r){var n=(e[e.l++]&96)>>5,a=n3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function TU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=n3(e,i,r);return[n,a,s]}function AU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function OU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function jU(e,t,r){var n=(e[e.l++]&96)>>5,a=xU(e,t-1,r);return[n,a]}function CU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function mT(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function NU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function kU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function PU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function RU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function IU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function s3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function DU(e){return e.read_shift(2),s3(e)}function MU(e){return e.read_shift(2),s3(e)}function $U(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=i3(e,0,r);return[n,a]}function LU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=_U(e,0,r);return[n,a]}function FU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=i3(e,0,r);return[n,a,i]}function BU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Bz[a],c3[a],n]}function UU(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:zU(e);return[a,(i[0]===0?c3:Fz)[i[1]]]}function zU(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function WU(e,t,r){e.l+=r&&r.biff==2?3:4}function HU(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function VU(e){return e.l++,ph[e.read_shift(1)]}function qU(e){return e.l++,e.read_shift(2)}function KU(e){return e.l++,e.read_shift(1)!==0}function GU(e){return e.l++,Su(e)}function XU(e,t,r){return e.l++,z4(e,t-1,r)}function YU(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=F7(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ph[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Su(e);break;case 2:r[1]=W7(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function QU(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?pl:q7)(e));return a}function JU(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=YU(e,r.biff);return s}function ZU(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function ez(e,t,r){if(r.biff==5)return tz(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function tz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function rz(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nz(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function az(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function iz(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var sz=Za,oz=Za,lz=Za;function mh(e,t,r){return e.l+=2,[wU(e)]}function __(e){return e.l+=6,[]}var cz=mh,uz=__,fz=__,dz=mh;function o3(e){return e.l+=2,[B4(e),e.read_shift(2)&1]}var hz=mh,pz=o3,mz=__,vz=mh,gz=mh,yz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xz(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=yz[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function bz(e){return e.l+=2,[e.read_shift(4)]}function wz(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function _z(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Sz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ez(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Tz(e){return e.l+=4,[0,0]}var vT={1:{n:"PtgExp",f:HU},2:{n:"PtgTbl",f:lz},3:{n:"PtgAdd",f:Vt},4:{n:"PtgSub",f:Vt},5:{n:"PtgMul",f:Vt},6:{n:"PtgDiv",f:Vt},7:{n:"PtgPower",f:Vt},8:{n:"PtgConcat",f:Vt},9:{n:"PtgLt",f:Vt},10:{n:"PtgLe",f:Vt},11:{n:"PtgEq",f:Vt},12:{n:"PtgGe",f:Vt},13:{n:"PtgGt",f:Vt},14:{n:"PtgNe",f:Vt},15:{n:"PtgIsect",f:Vt},16:{n:"PtgUnion",f:Vt},17:{n:"PtgRange",f:Vt},18:{n:"PtgUplus",f:Vt},19:{n:"PtgUminus",f:Vt},20:{n:"PtgPercent",f:Vt},21:{n:"PtgParen",f:Vt},22:{n:"PtgMissArg",f:Vt},23:{n:"PtgStr",f:XU},26:{n:"PtgSheet",f:wz},27:{n:"PtgEndSheet",f:_z},28:{n:"PtgErr",f:VU},29:{n:"PtgBool",f:KU},30:{n:"PtgInt",f:qU},31:{n:"PtgNum",f:GU},32:{n:"PtgArray",f:CU},33:{n:"PtgFunc",f:BU},34:{n:"PtgFuncVar",f:UU},35:{n:"PtgName",f:ZU},36:{n:"PtgRef",f:$U},37:{n:"PtgArea",f:EU},38:{n:"PtgMemArea",f:rz},39:{n:"PtgMemErr",f:sz},40:{n:"PtgMemNoMem",f:oz},41:{n:"PtgMemFunc",f:nz},42:{n:"PtgRefErr",f:az},43:{n:"PtgAreaErr",f:AU},44:{n:"PtgRefN",f:LU},45:{n:"PtgAreaN",f:jU},46:{n:"PtgMemAreaN",f:Sz},47:{n:"PtgMemNoMemN",f:Ez},57:{n:"PtgNameX",f:ez},58:{n:"PtgRef3d",f:FU},59:{n:"PtgArea3d",f:TU},60:{n:"PtgRefErr3d",f:iz},61:{n:"PtgAreaErr3d",f:OU},255:{}},Az={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oz={1:{n:"PtgElfLel",f:o3},2:{n:"PtgElfRw",f:vz},3:{n:"PtgElfCol",f:cz},6:{n:"PtgElfRwV",f:gz},7:{n:"PtgElfColV",f:dz},10:{n:"PtgElfRadical",f:hz},11:{n:"PtgElfRadicalS",f:mz},13:{n:"PtgElfColS",f:uz},15:{n:"PtgElfColSV",f:fz},16:{n:"PtgElfRadicalLel",f:pz},25:{n:"PtgList",f:xz},29:{n:"PtgSxName",f:bz},255:{}},jz={0:{n:"PtgAttrNoop",f:Tz},1:{n:"PtgAttrSemi",f:IU},2:{n:"PtgAttrIf",f:PU},4:{n:"PtgAttrChoose",f:NU},8:{n:"PtgAttrGoto",f:kU},16:{n:"PtgAttrSum",f:WU},32:{n:"PtgAttrBaxcel",f:mT},33:{n:"PtgAttrBaxcel",f:mT},64:{n:"PtgAttrSpace",f:DU},65:{n:"PtgAttrSpaceSemi",f:MU},128:{n:"PtgAttrIfError",f:RU},255:{}};function Cz(e,t,r,n){if(n.biff<8)return Za(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=JU(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=QU(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Za(e,t)),i}function Nz(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=vT[i]||vT[Az[i]],(i===24||i===25)&&(a=(i===24?Oz:jz)[e[e.l+1]]),!a||!a.f?Za(e,t):s.push([a.n,a.f(e,t,r)]);return s}function kz(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Pz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rz(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function l3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function gT(e,t,r){var n=l3(e,t,r);return n=="#REF"?n:Rz(n,r)}function Lc(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,f,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,y="",b=0,v=e[0].length;b<v;++b){var x=e[0][b];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:y=Mt(" ",e[0][m][1][1]);break;case 1:y=Mt("\r",e[0][m][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+y,m=-1}o.push(c+Pz[x[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Df(x[1][1],s,a),o.push(Mf(f,i));break;case"PtgRefN":f=r?Df(x[1][1],r,a):x[1][1],o.push(Mf(f,i));break;case"PtgRef3d":d=x[1][1],f=Df(x[1][2],s,a),g=gT(n,d,a),o.push(g+"!"+Mf(f,i));break;case"PtgFunc":case"PtgFuncVar":var _=x[1][0],w=x[1][1];_||(_=0),_&=127;var S=_==0?[]:o.slice(-_);o.length-=_,w==="User"&&(w=S.shift()),o.push(w+"("+S.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":p=tT(x[1][1],r?{s:r}:s,a),o.push(ly(p,a));break;case"PtgArea":p=tT(x[1][1],s,a),o.push(ly(p,a));break;case"PtgArea3d":d=x[1][1],p=x[1][2],g=gT(n,d,a),o.push(g+"!"+ly(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],T=E?E.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var A=x[1][1];h=x[1][2];var N;if(a.biff<=5)A<0&&(A=-A),n[A]&&(N=n[A][h]);else{var j="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(j=n.SheetNames[n[A][h].itab-1]+"!"):j=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])j+=n[A][h].Name;else if(n[0]&&n[0][h])j+=n[0][h].Name;else{var L=(l3(n,A,a)||"").split(";;");L[h-1]?j=L[h-1]:j+="SH33TJSERRX"}o.push(j);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var W="(",Z=")";if(m>=0){switch(y="",e[0][m][1][0]){case 2:W=Mt(" ",e[0][m][1][1])+W;break;case 3:W=Mt("\r",e[0][m][1][1])+W;break;case 4:Z=Mt(" ",e[0][m][1][1])+Z;break;case 5:Z=Mt("\r",e[0][m][1][1])+Z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(W+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:x[1][1],r:x[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[ot(f)]){var re=n.sharedf[ot(f)];o.push(Lc(re,s,G,n,a))}else{var q=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(Lc(c[1],s,G,n,a)),q=!0;break}q||o.push(x[1])}break;case"PtgArray":o.push("{"+kz(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&V.indexOf(e[0][b][0])==-1){x=e[0][m];var K=!0;switch(x[1][0]){case 4:K=!1;case 0:y=Mt(" ",x[1][1]);break;case 5:K=!1;case 1:y=Mt("\r",x[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((K?y:"")+o.pop()+(K?"":y)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Iz(e){if(e==null){var t=ne(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Qo(e);return Qo(0)}function Dz(e,t,r,n,a){var i=Jo(t,r,a),s=Iz(e.v),o=ne(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ne(e.bf.length),f=0;f<e.bf.length;++f)c[f]=e.bf[f];var d=Ar([i,s,o,c]);return d}function vv(e,t,r){var n=e.read_shift(4),a=Nz(e,n,r),i=e.read_shift(4),s=i>0?Cz(e,i,a,r):null;return[a,s]}var Mz=vv,gv=vv,$z=vv,Lz=vv,Fz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Uz(e){var t="of:="+e.replace(b_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zz(e){return e.replace(/\./,"!")}var $f=typeof Map<"u";function S_(e,t,r){var n=0,a=e.length;if(r){if($f?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=$f?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&($f?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function yv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Si=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Np(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=f1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function u3(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function qs(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){i4(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Wz(e,t,r){if(e&&e["!ref"]){var n=_t(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Hz(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Qt(e[r])+'"/>';return t+"</mergeCells>"}function Vz(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=hd(it(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+me("outlinePr",null,c)}!i&&!o||(a[a.length]=me("sheetPr",o,s))}var qz=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Kz=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Gz(e){var t={sheet:1};return qz.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Kz.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=K4(e.password).toString(16).toUpperCase()),me("sheetProtection",null,t)}function Xz(e){return u3(e),me("pageMargins",null,e)}function Yz(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=me("col",null,yv(a,n)));return r[r.length]="</cols>",r.join("")}function Qz(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Qt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Fn(a);s.s.r==s.e.r&&(s.e.r=Fn(t["!ref"]).e.r,a=Qt(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),me("autoFilter",null,{ref:a})}function Jz(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),me("sheetViews",me("sheetView",null,a),{})}function Zz(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=ph[e.v];break;case"d":n&&n.cellDates?a=nn(e.v,-1).toISOString():(e=wn(e),e.t="n",a=""+(e.v=bn(nn(e.v)))),typeof e.z>"u"&&(e.z=Bt[14]);break;default:a=e.v;break}var o=Or("v",it(a)),l={r:t},c=qs(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Or("v",""+S_(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=me("f",it(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),me("c",o,l)}function eW(e,t,r,n){var a=[],i=[],s=_t(e["!ref"]),o="",l,c="",f=[],d=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:c},y,b=-1;for(h=s.s.c;h<=s.e.c;++h)f[h]=zr(h);for(d=s.s.r;d<=s.e.r;++d){for(i=[],c=Cr(d),h=s.s.c;h<=s.e.c;++h){l=f[h]+c;var v=g?(e[d]||[])[h]:e[l];v!==void 0&&(o=Zz(v,l,e,t))!=null&&i.push(o)}(i.length>0||p&&p[d])&&(m={r:c},p&&p[d]&&(y=p[d],y.hidden&&(m.hidden=1),b=-1,y.hpx?b=kp(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(m.ht=b,m.customHeight=1),y.level&&(m.outlineLevel=y.level)),a[a.length]=me("row",i.join(""),m))}if(p)for(;d<p.length;++d)p&&p[d]&&(m={r:d+1},y=p[d],y.hidden&&(m.hidden=1),b=-1,y.hpx?b=kp(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(m.ht=b,m.customHeight=1),y.level&&(m.outlineLevel=y.level),a[a.length]=me("row","",m));return a.join("")}function f3(e,t,r,n){var a=[Zt,me("worksheet",null,{xmlns:bu[0],"xmlns:r":pr.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",f=_t(c);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Qt(f)}n||(n={}),l["!comments"]=[];var d=[];Vz(l,r,e,t,a),a[a.length]=me("dimension",null,{ref:c}),a[a.length]=Jz(l,t,e,r),t.sheetFormat&&(a[a.length]=me("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=Yz(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=eW(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=Gz(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=Qz(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=Hz(l["!merges"]));var h=-1,p,g=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=nt(n,-1,it(m[1].Target).replace(/#.*$/,""),Xe.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=it(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=it(m[1].Tooltip)),a[a.length]=me("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=Xz(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Or("ignoredErrors",me("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(g=nt(n,-1,"../drawings/drawing"+(e+1)+".xml",Xe.DRAW),a[a.length]=me("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=d),l["!comments"].length>0&&(g=nt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xe.VML),a[a.length]=me("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function tW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function rW(e,t,r){var n=ne(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=kp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var d=-1,h=-1,p=f<<10;p<f+1<<10;++p){c.c=p;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[ot(c)];g&&(d<0&&(d=p),h=p)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function nW(e,t,r,n){var a=rW(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ce(e,0,a)}var aW=pl,iW=_u;function sW(){}function oW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=g7(e),r}function lW(e,t,r){r==null&&(r=ne(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Op({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),A4(e,r),r.slice(0,r.l)}function cW(e){var t=la(e);return[t]}function uW(e,t,r){return r==null&&(r=ne(8)),fl(t,r)}function fW(e){var t=dl(e);return[t]}function dW(e,t,r){return r==null&&(r=ne(4)),hl(t,r)}function hW(e){var t=la(e),r=e.read_shift(1);return[t,r,"b"]}function pW(e,t,r){return r==null&&(r=ne(9)),fl(t,r),r.write_shift(1,e.v?1:0),r}function mW(e){var t=dl(e),r=e.read_shift(1);return[t,r,"b"]}function vW(e,t,r){return r==null&&(r=ne(5)),hl(t,r),r.write_shift(1,e.v?1:0),r}function gW(e){var t=la(e),r=e.read_shift(1);return[t,r,"e"]}function yW(e,t,r){return r==null&&(r=ne(9)),fl(t,r),r.write_shift(1,e.v),r}function xW(e){var t=dl(e),r=e.read_shift(1);return[t,r,"e"]}function bW(e,t,r){return r==null&&(r=ne(8)),hl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function wW(e){var t=la(e),r=e.read_shift(4);return[t,r,"s"]}function _W(e,t,r){return r==null&&(r=ne(12)),fl(t,r),r.write_shift(4,t.v),r}function SW(e){var t=dl(e),r=e.read_shift(4);return[t,r,"s"]}function EW(e,t,r){return r==null&&(r=ne(8)),hl(t,r),r.write_shift(4,t.v),r}function TW(e){var t=la(e),r=Su(e);return[t,r,"n"]}function AW(e,t,r){return r==null&&(r=ne(16)),fl(t,r),Qo(e.v,r),r}function OW(e){var t=dl(e),r=Su(e);return[t,r,"n"]}function jW(e,t,r){return r==null&&(r=ne(12)),hl(t,r),Qo(e.v,r),r}function CW(e){var t=la(e),r=O4(e);return[t,r,"n"]}function NW(e,t,r){return r==null&&(r=ne(12)),fl(t,r),j4(e.v,r),r}function kW(e){var t=dl(e),r=O4(e);return[t,r,"n"]}function PW(e,t,r){return r==null&&(r=ne(8)),hl(t,r),j4(e.v,r),r}function RW(e){var t=la(e),r=m_(e);return[t,r,"is"]}function IW(e){var t=la(e),r=Wr(e);return[t,r,"str"]}function DW(e,t,r){return r==null&&(r=ne(12+4*e.v.length)),fl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function MW(e){var t=dl(e),r=Wr(e);return[t,r,"str"]}function $W(e,t,r){return r==null&&(r=ne(8+4*e.v.length)),hl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function LW(e,t,r){var n=e.l+t,a=la(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=gv(e,n-e.l,r);s[3]=Lc(o,null,a,r.supbooks,r)}else e.l=n;return s}function FW(e,t,r){var n=e.l+t,a=la(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=gv(e,n-e.l,r);s[3]=Lc(o,null,a,r.supbooks,r)}else e.l=n;return s}function BW(e,t,r){var n=e.l+t,a=la(e);a.r=r["!row"];var i=Su(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=gv(e,n-e.l,r);s[3]=Lc(o,null,a,r.supbooks,r)}else e.l=n;return s}function UW(e,t,r){var n=e.l+t,a=la(e);a.r=r["!row"];var i=Wr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=gv(e,n-e.l,r);s[3]=Lc(o,null,a,r.supbooks,r)}else e.l=n;return s}var zW=pl,WW=_u;function HW(e,t){return t==null&&(t=ne(4)),t.write_shift(4,e),t}function VW(e,t){var r=e.l+t,n=pl(e),a=v_(e),i=Wr(e),s=Wr(e),o=Wr(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function qW(e,t){var r=ne(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));_u({s:mr(e[0]),e:mr(e[0])},r),g_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return vr(a||"",r),vr(e[1].Tooltip||"",r),vr("",r),r.slice(0,r.l)}function KW(){}function GW(e,t,r){var n=e.l+t,a=C4(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Mz(e,n-e.l,r);s[1]=o}else e.l=n;return s}function XW(e,t,r){var n=e.l+t,a=pl(e),i=[a];if(r.cellFormula){var s=Lz(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function YW(e,t,r){r==null&&(r=ne(18));var n=yv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var d3=["left","right","top","bottom","header","footer"];function QW(e){var t={};return d3.forEach(function(r){t[r]=Su(e)}),t}function JW(e,t){return t==null&&(t=ne(6*8)),u3(e),d3.forEach(function(r){Qo(e[r],t)}),t}function ZW(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function eH(e,t,r){r==null&&(r=ne(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function tH(e){var t=ne(24);return t.write_shift(4,4),t.write_shift(4,1),_u(e,t),t}function rH(e,t){return t==null&&(t=ne(16*4+2)),t.write_shift(2,e.password?K4(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function nH(){}function aH(){}function iH(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=wn(t),t.z=t.z||Bt[14],t.v=bn(nn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=qs(a.cellXfs,t,a),t.l&&i["!links"].push([ot(l),t.l]),t.c&&i["!comments"].push([ot(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=S_(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?ce(e,18,EW(t,l)):ce(e,7,_W(t,l))):(l.t="str",s?ce(e,17,$W(t,l)):ce(e,6,DW(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?ce(e,13,PW(t,l)):ce(e,2,NW(t,l)):s?ce(e,16,jW(t,l)):ce(e,5,AW(t,l)),!0;case"b":return l.t="b",s?ce(e,15,vW(t,l)):ce(e,4,pW(t,l)),!0;case"e":return l.t="e",s?ce(e,14,bW(t,l)):ce(e,3,yW(t,l)),!0}return s?ce(e,12,dW(t,l)):ce(e,1,uW(t,l)),!0}function sH(e,t,r,n){var a=_t(t["!ref"]||"A1"),i,s="",o=[];ce(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=c;++f){s=Cr(f),nW(e,t,a,f);var d=!1;if(f<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(o[h]=zr(h)),i=o[h]+s;var p=l?(t[f]||[])[h]:t[i];if(!p){d=!1;continue}d=iH(e,p,f,h,n,t,d)}}ce(e,146)}function oH(e,t){!t||!t["!merges"]||(ce(e,177,HW(t["!merges"].length)),t["!merges"].forEach(function(r){ce(e,176,WW(r))}),ce(e,178))}function lH(e,t){!t||!t["!cols"]||(ce(e,390),t["!cols"].forEach(function(r,n){r&&ce(e,60,YW(n,r))}),ce(e,391))}function cH(e,t){!t||!t["!ref"]||(ce(e,648),ce(e,649,tH(_t(t["!ref"]))),ce(e,650))}function uH(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=nt(r,-1,n[1].Target.replace(/#.*$/,""),Xe.HLINK);ce(e,494,qW(n,a))}}),delete t["!links"]}function fH(e,t,r,n){if(t["!comments"].length>0){var a=nt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Xe.VML);ce(e,551,g_("rId"+a)),t["!legacy"]=a}}function dH(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Qt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Fn(i);o.s.r==o.e.r&&(o.e.r=Fn(t["!ref"]).e.r,i=Qt(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ce(e,161,_u(_t(i))),ce(e,162)}}function hH(e,t,r){ce(e,133),ce(e,137,eH(t,r)),ce(e,138),ce(e,134)}function pH(e,t){t["!protect"]&&ce(e,535,rH(t["!protect"]))}function mH(e,t,r,n){var a=xn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=_t(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ce(a,129),(r.vbaraw||s["!outline"])&&ce(a,147,lW(o,s["!outline"])),ce(a,148,iW(l)),hH(a,s,r.Workbook),lH(a,s),sH(a,s,e,t),pH(a,s),dH(a,s,r,e),oH(a,s),uH(a,s,n),s["!margins"]&&ce(a,476,JW(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&cH(a,s),fH(a,s,e,n),ce(a,130),a.end()}function vH(e,t){e.l+=10;var r=Wr(e);return{name:r}}var gH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function yH(e){return!e.Workbook||!e.Workbook.WBProps?"false":XB(e.Workbook.WBProps.date1904)?"true":"false"}var xH="][*?/\\".split("");function h3(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xH.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function bH(e,t,r){e.forEach(function(n,a){h3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function wH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];bH(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Wz(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function p3(e){var t=[Zt];t[t.length]=me("workbook",null,{xmlns:bu[0],"xmlns:r":pr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gH.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=me("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:it(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=me("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=me("definedName",it(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function _H(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=u1(e),r.name=Wr(e),r}function SH(e,t){return t||(t=ne(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),g_(e.strRelID,t),vr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function EH(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Wr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function TH(e,t){t||(t=ne(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),A4(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function AH(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=y7(e),s=$z(e,0,r),o=v_(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function OH(e,t){ce(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ce(e,156,SH(a))}ce(e,144)}function jH(e,t){t||(t=ne(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return vr("SheetJS",t),vr(xp.version,t),vr(xp.version,t),vr("7262",t),t.length>t.l?t.slice(0,t.l):t}function CH(e,t){t||(t=ne(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function NH(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ce(e,135),ce(e,158,CH(a)),ce(e,136))}}function kH(e,t){var r=xn();return ce(r,131),ce(r,128,jH()),ce(r,153,TH(e.Workbook&&e.Workbook.WBProps||null)),NH(r,e),OH(r,e),ce(r,132),r.end()}function PH(e,t,r){return(t.slice(-4)===".bin"?kH:p3)(e)}function RH(e,t,r,n,a){return(t.slice(-4)===".bin"?mH:f3)(e,r,n,a)}function IH(e,t,r){return(t.slice(-4)===".bin"?J9:Y4)(e,r)}function DH(e,t,r){return(t.slice(-4)===".bin"?T9:q4)(e,r)}function MH(e,t,r){return(t.slice(-4)===".bin"?pU:t3)(e)}function $H(e){return(e.slice(-4)===".bin"?sU:Z4)()}function LH(e,t){var r=[];return e.Props&&r.push(I7(e.Props,t)),e.Custprops&&r.push(D7(e.Props,e.Custprops)),r.join("")}function FH(){return""}function BH(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(me("NumberFormat",null,{"ss:Format":it(Bt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(me("Style",i.join(""),s))}),me("Styles",r.join(""))}function m3(e){return me("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+w_(e.Ref,{r:0,c:0})})}function UH(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(m3(a)))}return me("Names",r.join(""))}function zH(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(m3(o)))}return i.join("")}function WH(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(me("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(me("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(me("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(me("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Or("ProtectContents","True")),e["!protect"].objects&&a.push(Or("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Or("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Or("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Or("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":me("WorksheetOptions",a.join(""),{xmlns:Nn.x})}function HH(e){return e.map(function(t){var r=GB(t.t||""),n=me("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return me("Comment",n,{"ss:Author":t.a})}).join("")}function VH(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+it(w_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=mr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=it(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=it(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],f=0;f!=c.length;++f)c[f].s.c!=s.c||c[f].s.r!=s.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=ph[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Bt[14]);break;case"s":d="String",h=KB(e.v||"");break}var p=qs(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=HH(e.c)),me("Cell",m,o)}function qH(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=X4(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function KH(e,t,r,n){if(!e["!ref"])return"";var a=_t(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(y,b){x_(y);var v=!!y.width,x=yv(b,y),_={"ss:Index":b+1};v&&(_["ss:Width"]=Cp(x.width)),y.hidden&&(_["ss:Hidden"]="1"),o.push(me("Column",null,_))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var f=[qH(c,(e["!rows"]||[])[c])],d=a.s.c;d<=a.e.c;++d){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>d)&&!(i[s].s.r>c)&&!(i[s].e.c<d)&&!(i[s].e.r<c)){(i[s].s.c!=d||i[s].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:d},g=ot(p),m=l?(e[c]||[])[d]:e[g];f.push(VH(m,g,e,t,r,n,p))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function GH(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?zH(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?KH(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(WH(i,t,e,r)),n.join("")}function XH(e,t){t||(t={}),e.SSF||(e.SSF=wn(Bt)),e.SSF&&(hv(),dv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],qs(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(LH(e,t)),r.push(FH()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(me("Worksheet",GH(n,t,e),{"ss:Name":it(e.SheetNames[n])}));return r[2]=BH(e,t),r[3]=UH(e),Zt+me("Workbook",r.join(""),{xmlns:Nn.ss,"xmlns:o":Nn.o,"xmlns:x":Nn.x,"xmlns:ss":Nn.ss,"xmlns:dt":Nn.dt,"xmlns:html":Nn.html})}var fy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function YH(e,t){var r=[],n=[],a=[],i=0,s,o=HE(nT,"n"),l=HE(aT,"n");if(e.Props)for(s=kr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=kr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)F4.indexOf(a[i][0])>-1||M4.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&ct.utils.cfb_add(t,"/SummaryInformation",cT(n,fy.SI,l,aT)),(r.length||c.length)&&ct.utils.cfb_add(t,"/DocumentSummaryInformation",cT(r,fy.DSI,o,nT,c.length?c:null,fy.UDI))}function QH(e,t){var r=t||{},n=ct.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ct.utils.cfb_add(n,a,v3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&YH(e,n),r.biff==8&&e.vbaraw&&mU(n,ct.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var JH={0:{f:tW},1:{f:cW},2:{f:CW},3:{f:gW},4:{f:hW},5:{f:TW},6:{f:IW},7:{f:wW},8:{f:UW},9:{f:BW},10:{f:LW},11:{f:FW},12:{f:fW},13:{f:kW},14:{f:xW},15:{f:mW},16:{f:OW},17:{f:MW},18:{f:SW},19:{f:m_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:AH},40:{},42:{},43:{f:I9},44:{f:P9},45:{f:$9},46:{f:F9},47:{f:L9},48:{},49:{f:f7},50:{},51:{f:tU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:d9},62:{f:RW},63:{f:oU},64:{f:nH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Za,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ZW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oW},148:{f:aW,p:16},151:{f:KW},152:{},153:{f:EH},154:{},155:{},156:{f:_H},157:{},158:{},159:{T:1,f:_9},160:{T:-1},161:{T:1,f:pl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Z9},336:{T:-1},337:{f:aU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:u1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:s9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:GW},427:{f:XW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:QW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:VW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:u1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:dU},633:{T:1},634:{T:-1},635:{T:1,f:uU},636:{T:-1},637:{f:m7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:vH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ve(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&d_(r)&&e.push(r)}}function ZH(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ve(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(f=e.next(4),f.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;f.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function vh(e,t,r){return e||(e=ne(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function eV(e,t,r,n){var a=ne(9);return vh(a,e,t),U4(r,n||"b",a),a}function tV(e,t,r){var n=ne(8+2*r.length);return vh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function rV(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?bn(nn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ve(e,2,v9(r,n,a)):ve(e,3,m9(r,n,a));return;case"b":case"e":ve(e,5,eV(r,n,t.v,t.t));return;case"s":case"str":ve(e,4,tV(r,n,(t.v||"").slice(0,255)));return}ve(e,1,vh(null,r,n))}function nV(e,t,r,n){var a=Array.isArray(t),i=_t(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Qt(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Cr(c);for(var f=i.s.c;f<=i.e.c;++f){c===i.s.r&&(l[f]=zr(f)),s=l[f]+o;var d=a?(t[c]||[])[f]:t[s];d&&rV(e,d,c,f)}}}function aV(e,t){for(var r=t||{},n=xn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ve(n,r.biff==4?1033:r.biff==3?521:9,y_(e,16,r)),nV(n,e.Sheets[e.SheetNames[a]],a,r),ve(n,10),n.end()}function iV(e,t,r){ve(e,49,J7({sz:12,name:"Arial"},r))}function sV(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ve(e,1054,t9(a,t[a],r))})}function oV(e,t){var r=ne(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ve(e,2151,r),r=ne(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),H4(_t(t["!ref"]||"A1"),r),r.write_shift(4,4),ve(e,2152,r)}function lV(e,t){for(var r=0;r<16;++r)ve(e,224,fT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ve(e,224,fT(n,0,t))})}function cV(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ve(e,440,c9(n)),n[1].Tooltip&&ve(e,2048,u9(n))}delete t["!links"]}function uV(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ve(e,125,h9(yv(a,n),a))})}}function fV(e,t,r,n,a){var i=16+qs(a.cellXfs,t,a);if(t.v==null&&!t.bf){ve(e,513,Jo(r,n,i));return}if(t.bf)ve(e,6,Dz(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?bn(nn(t.v)):t.v;ve(e,515,i9(r,n,s,i));break;case"b":case"e":ve(e,517,a9(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=S_(a.Strings,t.v,a.revStrings);ve(e,253,Z7(r,n,o,i))}else ve(e,516,e9(r,n,(t.v||"").slice(0,255),i,a));break;default:ve(e,513,Jo(r,n,i))}}function dV(e,t,r){var n=xn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,f,d="",h=[],p=_t(i["!ref"]||"A1"),g=c?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}ve(n,2057,y_(r,16,t)),ve(n,13,Gn(1)),ve(n,12,Gn(100)),ve(n,15,Qr(!0)),ve(n,17,Qr(!1)),ve(n,16,Qo(.001)),ve(n,95,Qr(!0)),ve(n,42,Qr(!1)),ve(n,43,Qr(!1)),ve(n,130,Gn(1)),ve(n,128,n9()),ve(n,131,Qr(!1)),ve(n,132,Qr(!1)),c&&uV(n,i["!cols"]),ve(n,512,r9(p,t)),c&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){d=Cr(m);for(var y=p.s.c;y<=p.e.c;++y){m===p.s.r&&(h[y]=zr(y)),f=h[y]+d;var b=l?(i[m]||[])[y]:i[f];b&&(fV(n,b,m,y,t),c&&b.l&&i["!links"].push([f,b.l]))}}var v=o.CodeName||o.name||a;return c&&ve(n,574,Q7((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&ve(n,229,l9(i["!merges"])),c&&cV(n,i),ve(n,442,W4(v)),c&&oV(n,i),ve(n,10),n.end()}function hV(e,t,r){var n=xn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(ve(n,2057,y_(e,5,r)),r.bookType=="xla"&&ve(n,135),ve(n,225,o?Gn(1200):null),ve(n,193,L7(2)),l&&ve(n,191),l&&ve(n,192),ve(n,226),ve(n,92,K7("SheetJS",r)),ve(n,66,Gn(o?1200:1252)),o&&ve(n,353,Gn(0)),o&&ve(n,448),ve(n,317,p9(e.SheetNames.length)),o&&e.vbaraw&&ve(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ve(n,442,W4(c))}ve(n,156,Gn(17)),ve(n,25,Qr(!1)),ve(n,18,Qr(!1)),ve(n,19,Gn(0)),o&&ve(n,431,Qr(!1)),o&&ve(n,444,Gn(0)),ve(n,61,Y7()),ve(n,64,Qr(!1)),ve(n,141,Gn(0)),ve(n,34,Qr(yH(e)=="true")),ve(n,14,Qr(!0)),o&&ve(n,439,Qr(!1)),ve(n,218,Gn(0)),iV(n,e,r),sV(n,e.SSF,r),lV(n,r),o&&ve(n,352,Qr(!1));var f=n.end(),d=xn();o&&ve(d,140,f9()),o&&r.Strings&&ZH(d,252,X7(r.Strings)),ve(d,10);var h=d.end(),p=xn(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var y=f.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var b=i[m]||{};ve(p,133,G7({pos:y,hs:b.Hidden||0,dt:0,name:e.SheetNames[m]},r)),y+=t[m].length}var v=p.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var x=[];return f.length&&x.push(f),v.length&&x.push(v),h.length&&x.push(h),Ar(x)}function pV(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=wn(Bt)),e&&e.SSF&&(hv(),dv(e.SSF),r.revssf=pv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,E_(r),r.cellXfs=[],qs(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=dV(a,r,e);return n.unshift(hV(e,n,r)),Ar(n)}function v3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Fn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return pV(e,t);case 4:case 3:case 2:return aV(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function mV(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var f=ot({r,c:s}),d=n.dense?(e[r]||[])[s]:e[f],h=d&&d.v!=null&&(d.h||qB(d.w||(Di(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+f,i.push(me("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var vV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gV="</body></html>";function yV(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function g3(e,t){var r=t||{},n=r.header!=null?r.header:vV,a=r.footer!=null?r.footer:gV,i=[n],s=Fn(e["!ref"]);r.dense=Array.isArray(e),i.push(yV(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(mV(e,s,o,r));return i.push("</table>"+a),i.join("")}function y3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?mr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=Fn(e["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),a==-1&&(c.e.r=a=f.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,y=0,b=0,v=0,x=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var _=o[g];if(yT(_)){if(n.display)continue;p[m]={hidden:!0}}var w=_.children;for(y=b=0;y<w.length;++y){var S=w[y];if(!(n.display&&yT(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):YB(S.innerHTML),T=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<d.length;++h){var A=d[h];A.s.c==b+i&&A.s.r<m+a&&m+a<=A.e.r&&(b=A.e.c+1-i,h=-1)}x=+S.getAttribute("colspan")||1,((v=+S.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:m+a,c:b+i},e:{r:m+a+(v||1)-1,c:b+i+(x||1)-1}});var N={t:"s",v:E},j=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?N.t=j||"z":n.raw||E.trim().length==0||j=="s"||(E==="TRUE"?N={t:"b",v:!0}:E==="FALSE"?N={t:"b",v:!1}:isNaN(_i(E))?isNaN(dd(E).getDate())||(N={t:"d",v:nn(E)},n.cellDates||(N={t:"n",v:bn(N.v)}),N.z=n.dateNF||Bt[14]):N={t:"n",v:_i(E)})),N.z===void 0&&T!=null&&(N.z=T);var L="",W=S.getElementsByTagName("A");if(W&&W.length)for(var Z=0;Z<W.length&&!(W[Z].hasAttribute("href")&&(L=W[Z].getAttribute("href"),L.charAt(0)!="#"));++Z);L&&L.charAt(0)!="#"&&(N.l={Target:L}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][b+i]=N):e[ot({c:b+i,r:m+a})]=N,c.e.c<b+i&&(c.e.c=b+i),b+=x}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Qt(c),m>=l&&(e["!fullref"]=Qt((c.e.r=o.length-g+m-1+a,c))),e}function x3(e,t){var r=t||{},n=r.dense?[]:{};return y3(n,e,t)}function xV(e,t){return ul(x3(e,t),t)}function yT(e){var t="",r=bV(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function bV(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var wV=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+pd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Zt+t}}(),xT=function(){var e=function(i){return it(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+it(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,d=Fn(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)l.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var m="",y=i["!rows"]||[];for(c=0;c<d.s.r;++c)m=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=d.e.r;++c){for(m=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),f=0;f<d.s.c;++f)l.push(t);for(;f<=d.e.c;++f){var b=!1,v={},x="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>f)&&!(h[p].s.r>c)&&!(h[p].e.c<f)&&!(h[p].e.r<c)){(h[p].s.c!=f||h[p].s.r!=c)&&(b=!0),v["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,v["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(r);continue}var _=ot({r:c,c:f}),w=g?(i[c]||[])[f]:i[_];if(w&&w.f&&(v["table:formula"]=it(Uz(w.f)),w.F&&w.F.slice(0,_.length)==_)){var S=Fn(w.F);v["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,v["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!w){l.push(t);continue}switch(w.t){case"b":x=w.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=w.v?"true":"false";break;case"n":x=w.w||String(w.v||0),v["office:value-type"]="float",v["office:value"]=w.v||0;break;case"s":case"str":x=w.v==null?"":w.v,v["office:value-type"]="string";break;case"d":x=w.w||nn(w.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=nn(w.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var E=e(x);if(w.l&&w.l.Target){var T=w.l.Target;T=T.charAt(0)=="#"?"#"+zz(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),E=me("text:a",E,{"xlink:href":T.replace(/&/g,"&amp;")})}l.push("          "+me("table:table-cell",me("text:p",E,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var d=c["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;x_(d),d.ods=o;var h=c["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var d=c["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Zt],c=pd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=pd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(I4().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)l.push(n(s.Sheets[s.SheetNames[d]],s,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function b3(e,t){if(t.bookType=="fods")return xT(e,t);var r=l_(),n="",a=[],i=[];return n="mimetype",Be(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Be(r,n,xT(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Be(r,n,wV(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Be(r,n,Zt+I4()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Be(r,n,R7(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Be(r,n,k7(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Pp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _V(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ta(hd(e))}function SV(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Bs(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function EV(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function md(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function cc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function nr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=md(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=md(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function wr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(rt(n*8+a.type)),a.type==2&&t.push(rt(a.data.length)),t.push(a.data))})}),Bs(t)}function da(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=md(e,n),i=nr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:cc(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=nr(o.data),c=cc(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=cc(i[3][0].data)>>>0>0),r.push(s)}return r}function El(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:rt(s.data.length)}],n[2].push({data:wr(s.meta),type:2})});var i=wr(n);t.push(rt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Bs(t)}function TV(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=md(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Bs(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var f=Bs(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function ha(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(TV(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Bs(t)}function Tl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=rt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Bs(t)}function dy(e,t){var r=new Uint8Array(32),n=Pp(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,EV(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function hy(e,t){var r=new Uint8Array(32),n=Pp(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ji(e){var t=nr(e);return md(t[1][0].data)}function AV(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&cc(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Pp(e[7][0].data),f=0,d=[],h=Pp(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}c.setUint16(m*2,f,!0),h.setUint16(m*2,p,!0);var y,b;switch(typeof t[m]){case"string":y=dy({t:"s",v:t[m]},r),b=hy({t:"s",v:t[m]},r);break;case"number":y=dy({t:"n",v:t[m]},r),b=hy({t:"n",v:t[m]},r);break;case"boolean":y=dy({t:"b",v:t[m]},r),b=hy({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}d.push(y),f+=y.length,g.push(b),p+=b.length,++l}for(e[2][0].data=rt(l);m<e[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Bs(d),e[3][0].data=Bs(g),l}function OV(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Qt(n)));var i=Rp(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},l=[],c=ct.read(t.numbers,{type:"base64"});c.FileIndex.map(function(H,U){return[H,c.FullPaths[U]]}).forEach(function(H){var U=H[0],z=H[1];if(U.type==2&&U.name.match(/\.iwa/)){var ie=U.content,we=ha(ie),_e=da(we);_e.forEach(function(ee){l.push(ee.id),o[ee.id]={deps:[],location:z,type:cc(ee.messages[0].meta[1][0].data)}})}}),l.sort(function(H,U){return H-U});var f=l.filter(function(H){return H>1}).map(function(H){return[H,rt(H)]});c.FileIndex.map(function(H,U){return[H,c.FullPaths[U]]}).forEach(function(H){var U=H[0];if(H[1],!!U.name.match(/\.iwa/)){var z=da(ha(U.content));z.forEach(function(ie){ie.messages.forEach(function(we){f.forEach(function(_e){ie.messages.some(function(ee){return cc(ee.meta[1][0].data)!=11006&&SV(ee.data,_e[1])})&&o[_e[0]].deps.push(ie.id)})})})}});for(var d=ct.find(c,o[1].location),h=da(ha(d.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var y=Ji(nr(p.messages[0].data)[1][0].data);for(d=ct.find(c,o[y].location),h=da(ha(d.content)),g=0;g<h.length;++g)m=h[g],m.id==y&&(p=m);for(y=Ji(nr(p.messages[0].data)[2][0].data),d=ct.find(c,o[y].location),h=da(ha(d.content)),g=0;g<h.length;++g)m=h[g],m.id==y&&(p=m);for(y=Ji(nr(p.messages[0].data)[2][0].data),d=ct.find(c,o[y].location),h=da(ha(d.content)),g=0;g<h.length;++g)m=h[g],m.id==y&&(p=m);var b=nr(p.messages[0].data);{b[6][0].data=rt(n.e.r+1),b[7][0].data=rt(n.e.c+1);var v=Ji(b[46][0].data),x=ct.find(c,o[v].location),_=da(ha(x.content));{for(var w=0;w<_.length&&_[w].id!=v;++w);if(_[w].id!=v)throw"Bad ColumnRowUIDMapArchive";var S=nr(_[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=n.e.c;++E){var T=[];T[1]=T[2]=[{type:0,data:rt(E+420690)}],S[1].push({type:2,data:wr(T)}),S[2].push({type:0,data:rt(E)}),S[3].push({type:0,data:rt(E)})}S[4]=[],S[5]=[],S[6]=[];for(var A=0;A<=n.e.r;++A)T=[],T[1]=T[2]=[{type:0,data:rt(A+726270)}],S[4].push({type:2,data:wr(T)}),S[5].push({type:0,data:rt(A)}),S[6].push({type:0,data:rt(A)});_[w].messages[0].data=wr(S)}x.content=Tl(El(_)),x.size=x.content.length,delete b[46];var N=nr(b[4][0].data);{N[7][0].data=rt(n.e.r+1);var j=nr(N[1][0].data),L=Ji(j[2][0].data);x=ct.find(c,o[L].location),_=da(ha(x.content));{if(_[0].id!=L)throw"Bad HeaderStorageBucket";var W=nr(_[0].messages[0].data);for(A=0;A<i.length;++A){var Z=nr(W[2][0].data);Z[1][0].data=rt(A),Z[4][0].data=rt(i[A].length),W[2][A]={type:W[2][0].type,data:wr(Z)}}_[0].messages[0].data=wr(W)}x.content=Tl(El(_)),x.size=x.content.length;var G=Ji(N[2][0].data);x=ct.find(c,o[G].location),_=da(ha(x.content));{if(_[0].id!=G)throw"Bad HeaderStorageBucket";for(W=nr(_[0].messages[0].data),E=0;E<=n.e.c;++E)Z=nr(W[2][0].data),Z[1][0].data=rt(E),Z[4][0].data=rt(n.e.r+1),W[2][E]={type:W[2][0].type,data:wr(Z)};_[0].messages[0].data=wr(W)}x.content=Tl(El(_)),x.size=x.content.length;var re=Ji(N[4][0].data);(function(){for(var H=ct.find(c,o[re].location),U=da(ha(H.content)),z,ie=0;ie<U.length;++ie){var we=U[ie];we.id==re&&(z=we)}var _e=nr(z.messages[0].data);{_e[3]=[];var ee=[];s.forEach(function(te,ze){ee[1]=[{type:0,data:rt(ze)}],ee[2]=[{type:0,data:rt(1)}],ee[3]=[{type:2,data:_V(te)}],_e[3].push({type:2,data:wr(ee)})})}z.messages[0].data=wr(_e);var le=El(U),Ee=Tl(le);H.content=Ee,H.size=H.content.length})();var q=nr(N[3][0].data);{var V=q[1][0];delete q[2];var K=nr(V.data);{var ae=Ji(K[2][0].data);(function(){for(var H=ct.find(c,o[ae].location),U=da(ha(H.content)),z,ie=0;ie<U.length;++ie){var we=U[ie];we.id==ae&&(z=we)}var _e=nr(z.messages[0].data);{delete _e[6],delete q[7];var ee=new Uint8Array(_e[5][0].data);_e[5]=[];for(var le=0,Ee=0;Ee<=n.e.r;++Ee){var te=nr(ee);le+=AV(te,i[Ee],s),te[1][0].data=rt(Ee),_e[5].push({data:wr(te),type:2})}_e[1]=[{type:0,data:rt(n.e.c+1)}],_e[2]=[{type:0,data:rt(n.e.r+1)}],_e[3]=[{type:0,data:rt(le)}],_e[4]=[{type:0,data:rt(n.e.r+1)}]}z.messages[0].data=wr(_e);var ze=El(U),Ce=Tl(ze);H.content=Ce,H.size=H.content.length})()}V.data=wr(K)}N[3][0].data=wr(q)}b[4][0].data=wr(N)}p.messages[0].data=wr(b);var de=El(h),P=Tl(de);return d.content=P,d.size=d.content.length,c}function jV(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function E_(e){jV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function CV(e,t){return t.bookType=="ods"?b3(e,t):t.bookType=="numbers"?OV(e,t):t.bookType=="xlsb"?NV(e,t):kV(e,t)}function NV(e,t){Gl=1024,e&&!e.SSF&&(e.SSF=wn(Bt)),e&&e.SSF&&(hv(),dv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$f?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=r3.indexOf(t.bookType)>-1,a=k4();E_(t=t||{});var i=l_(),s="",o=0;if(t.cellXfs=[],qs(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Be(i,s,D4(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Be(i,s,$4(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Be(i,s,L4(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Be(i,s,RH(o-1,s,t,e,f)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(d){var p=d["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,Be(i,m,MH(p,m)),a.comments.push(m),nt(f,-1,"../comments"+o+"."+r,Xe.CMNT),g=!0),d["!legacy"]&&g&&Be(i,"xl/drawings/vmlDrawing"+o+".vml",e3(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Be(i,R4(s),oc(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Be(i,s,DH(t.Strings,s,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Be(i,s,PH(e,s)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Be(i,s,J4(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Be(i,s,IH(e,s,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Be(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Be(i,s,$H(s)),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),Be(i,"[Content_Types].xml",P4(a,t)),Be(i,"_rels/.rels",oc(t.rels)),Be(i,"xl/_rels/workbook."+r+".rels",oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function kV(e,t){Gl=1024,e&&!e.SSF&&(e.SSF=wn(Bt)),e&&e.SSF&&(hv(),dv(e.SSF),t.revssf=pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$f?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=r3.indexOf(t.bookType)>-1,a=k4();E_(t=t||{});var i=l_(),s="",o=0;if(t.cellXfs=[],qs(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Be(i,s,D4(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Be(i,s,$4(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Be(i,s,L4(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Be(i,s,f3(o-1,t,e,d)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(h){var g=h["!comments"],m=!1,y="";if(g&&g.length>0){var b=!1;g.forEach(function(v){v[1].forEach(function(x){x.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+r,Be(i,y,lU(g,f,t)),a.threadedcomments.push(y),nt(d,-1,"../threadedComments/threadedComment"+o+"."+r,Xe.TCMNT)),y="xl/comments"+o+"."+r,Be(i,y,t3(g)),a.comments.push(y),nt(d,-1,"../comments"+o+"."+r,Xe.CMNT),m=!0}h["!legacy"]&&m&&Be(i,"xl/drawings/vmlDrawing"+o+".vml",e3(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Be(i,R4(s),oc(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Be(i,s,q4(t.Strings,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Be(i,s,p3(e)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Be(i,s,J4(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Be(i,s,Y4(e,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Be(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Be(i,s,Z4()),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),f.length>1&&(s="xl/persons/person.xml",Be(i,s,cU(f)),a.people.push(s),nt(t.wbrels,-1,"persons/person.xml",Xe.PEOPLE)),Be(i,"[Content_Types].xml",P4(a,t)),Be(i,"_rels/.rels",oc(t.rels)),Be(i,"xl/_rels/workbook."+r+".rels",oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function PV(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ii(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function w3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return dh(t.file,ct.write(e,{type:Qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ct.write(e,t)}function RV(e,t){var r=wn(t||{}),n=CV(e,r);return IV(n,r)}function IV(e,t){var r={},n=Qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ct.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(fv(a))}return t.password&&typeof encrypt_agile<"u"?w3(encrypt_agile(a,t.password),t):t.type==="file"?dh(t.file,a):t.type=="string"?Rf(a):a}function DV(e,t){var r=t||{},n=QH(e,r);return w3(n,r)}function Ua(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return fd(hd(n));case"binary":return hd(n);case"string":return e;case"file":return dh(t.file,n,"utf8");case"buffer":return Qe?qi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ua(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function MV(e,t){switch(t.type){case"base64":return fd(e);case"binary":return e;case"string":return e;case"file":return dh(t.file,e,"binary");case"buffer":return Qe?qi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function i0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?fd(r):t.type=="string"?Rf(r):r;case"file":return dh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function _3(e,t){uB(),wH(e);var r=wn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=_3(e,r);return r.type="array",fv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ua(XH(e,r),r);case"slk":case"sylk":return Ua(y9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ua(g3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return MV(S3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ua(T_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ua(x9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return i0(g9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ua(b9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ua(O9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ua(V4.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ua(b3(e,r),r);case"wk1":return i0(dT.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return i0(dT.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),i0(v3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),DV(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return RV(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $V(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function LV(e,t,r){var n={};return n.type="file",n.file=t,$V(n),_3(e,n)}function FV(e,t,r,n,a,i,s,o){var l=Cr(r),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(f&&m===null)h[i[p]]=null;else continue;else h[i[p]]=f&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Di(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function Rp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},f=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof f){case"string":l=_t(f);break;case"number":l=_t(e["!ref"]),l.s.r=f;break;default:l=f}n>0&&(a=0);var d=Cr(l.s.r),h=[],p=[],g=0,m=0,y=Array.isArray(e),b=l.s.r,v=0,x={};y&&!e[b]&&(e[b]=[]);var _=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(_[v]||{}).hidden)switch(h[v]=zr(v),r=y?e[b][v]:e[h[v]+d],n){case 1:i[v]=v-l.s.c;break;case 2:i[v]=h[v];break;case 3:i[v]=c.header[v-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Di(r,null,c),m=x[s]||0,!m)x[s]=1;else{do o=s+"_"+m++;while(x[o]);x[s]=m,x[o]=1}i[v]=o}for(b=l.s.r+a;b<=l.e.r;++b)if(!(w[b]||{}).hidden){var S=FV(e,l,b,h,n,i,y,c);(S.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=S.row)}return p.length=g,p}var bT=/"/g;function BV(e,t,r,n,a,i,s,o){for(var l=!0,c=[],f="",d=Cr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)f="";else if(p.v!=null){l=!1,f=""+(o.rawNumbers&&p.t=="n"?p.v:Di(p,null,o));for(var g=0,m=0;g!==f.length;++g)if((m=f.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){f='"'+f.replace(bT,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(l=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(bT,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(s)}function T_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=_t(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=zr(g));for(var m=0,y=a.s.r;y<=a.e.r;++y)(p[y]||{}).hidden||(f=BV(e,a,y,d,s,l,i,n),f!=null&&(n.strip&&(f=f.replace(c,"")),(f||n.blankrows!==!1)&&r.push((m++?o:"")+f)));return delete n.dense,r.join("")}function S3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=T_(e,t);return r}function UV(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=_t(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=zr(o);for(var f=a.s.r;f<=a.e.r;++f)for(i=Cr(f),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function E3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=_t(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(s=d.e.r+1,f.e.r=s+t.length-1+a)}else s==-1&&(s=0,f.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,y){kr(m).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var v=m[b],x="z",_="",w=ot({c:o+p,r:s+y+a});c=vd(i,w),v&&typeof v=="object"&&!(v instanceof Date)?i[w]=v:(typeof v=="number"?x="n":typeof v=="boolean"?x="b":typeof v=="string"?x="s":v instanceof Date?(x="d",n.cellDates||(x="n",v=bn(v)),_=n.dateNF||Bt[14]):v===null&&n.nullError&&(x="e",v=0),c?(c.t=x,c.v=v,delete c.w,delete c.R,_&&(c.z=_)):i[w]=c={t:x,v},_&&(c.z=_))})}),f.e.c=Math.max(f.e.c,o+h.length-1);var g=Cr(s);if(a)for(p=0;p<h.length;++p)i[zr(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Qt(f),i}function zV(e,t){return E3(null,e,t)}function vd(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=mr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vd(e,ot(t)):vd(e,ot({r:t,c:r||0}))}function WV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function HV(){return{SheetNames:[],Sheets:{}}}function VV(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(h3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function qV(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=WV(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function KV(e,t){return e.z=t,e}function T3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function GV(e,t,r){return T3(e,"#"+t,r)}function XV(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function YV(e,t,r,n){for(var a=typeof t!="string"?t:_t(t),i=typeof t=="string"?t:Qt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=vd(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var py={encode_col:zr,encode_row:Cr,encode_cell:ot,encode_range:Qt,decode_col:p_,decode_row:h_,split_cell:u7,decode_cell:mr,decode_range:Fn,format_cell:Di,sheet_add_aoa:T4,sheet_add_json:E3,sheet_add_dom:y3,aoa_to_sheet:wu,json_to_sheet:zV,table_to_sheet:x3,table_to_book:xV,sheet_to_csv:T_,sheet_to_txt:S3,sheet_to_json:Rp,sheet_to_html:g3,sheet_to_formulae:UV,sheet_to_row_object_array:Rp,sheet_get_cell:vd,book_new:HV,book_append_sheet:VV,book_set_sheet_visibility:qV,cell_set_number_format:KV,cell_set_hyperlink:T3,cell_set_internal_link:GV,cell_add_comment:XV,sheet_set_array_formula:YV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ft=({filename:e,sheetName:t,rows:r,columns:n})=>{const a=e.endsWith(".xlsx")?e:`${e}.xlsx`,i=n.map(c=>c.header),s=r.map(c=>n.map(f=>(f.value?f.value(c):c[f.key])??"")),o=py.aoa_to_sheet([i,...s]),l=py.book_new();py.book_append_sheet(l,o,t),LV(l,a)},ml=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),_n=e=>{const t=ml(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},QV=e=>{const t=e.replace(/\D/g,"");let r=0,n=2;for(let i=t.length-1;i>=0;i--)r+=parseInt(t[i],10)*n,n=n===7?2:n+1;const a=11-r%11;return a===11?"0":a===10?"K":String(a)},d1=e=>{if(!e||e.trim()==="")return{valid:!1,error:"RUT es requerido"};const t=ml(e);if(!/^\d{7,9}[0-9K]$/i.test(t))return{valid:!1,error:"Formato de RUT invlido"};const r=t.slice(0,-1),n=t.slice(-1).toUpperCase(),a=QV(r);return n!==a?{valid:!1,error:"Dgito verificador invlido"}:{valid:!0}};var h1=function(e,t){return h1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},h1(e,t)};function A3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");h1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ip=function(){return Ip=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ip.apply(this,arguments)};function Eu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function O3(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function j3(e,t){return function(r,n){t(r,n,e)}}function C3(e,t,r,n,a,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,f=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var y=(0,r[p])(o==="accessor"?{get:f.get,set:f.set}:f[l],g);if(o==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(f.get=d),(d=s(y.set))&&(f.set=d),(d=s(y.init))&&a.unshift(d)}else(d=s(y))&&(o==="field"?a.unshift(d):f[l]=d)}c&&Object.defineProperty(c,n.name,f),h=!0}function N3(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function k3(e){return typeof e=="symbol"?e:"".concat(e)}function P3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function R3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Oe(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function I3(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var xv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function D3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xv(t,e,r)}function Dp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function M3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A_(arguments[t]));return e}function $3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function L3(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Fc(e){return this instanceof Fc?(this.v=e,this):new Fc(e)}function F3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,d)}}function o(p,g){n[p]&&(a[p]=function(m){return new Promise(function(y,b){i.push([p,m,y,b])>1||l(p,m)})},g&&(a[p]=g(a[p])))}function l(p,g){try{c(n[p](g))}catch(m){h(i[0][3],m)}}function c(p){p.value instanceof Fc?Promise.resolve(p.value.v).then(f,d):h(i[0][2],p)}function f(p){l("next",p)}function d(p){l("throw",p)}function h(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function B3(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:Fc(e[a](s)),done:!1}:i?i(s):s}:i}}function U3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dp=="function"?Dp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(c){i({value:c,done:o})},s)}}function z3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var JV=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},p1=function(e){return p1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},p1(e)};function W3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=p1(e),n=0;n<r.length;n++)r[n]!=="default"&&xv(t,e,r[n]);return JV(t,e),t}function H3(e){return e&&e.__esModule?e:{default:e}}function V3(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function q3(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function K3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function G3(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var ZV=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function X3(e){function t(i){e.error=e.hasError?new ZV(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function Y3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const eq={__extends:A3,__assign:Ip,__rest:Eu,__decorate:O3,__param:j3,__esDecorate:C3,__runInitializers:N3,__propKey:k3,__setFunctionName:P3,__metadata:R3,__awaiter:Oe,__generator:I3,__createBinding:xv,__exportStar:D3,__values:Dp,__read:A_,__spread:M3,__spreadArrays:$3,__spreadArray:L3,__await:Fc,__asyncGenerator:F3,__asyncDelegator:B3,__asyncValues:U3,__makeTemplateObject:z3,__importStar:W3,__importDefault:H3,__classPrivateFieldGet:V3,__classPrivateFieldSet:q3,__classPrivateFieldIn:K3,__addDisposableResource:G3,__disposeResources:X3,__rewriteRelativeImportExtension:Y3},tq=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:G3,get __assign(){return Ip},__asyncDelegator:B3,__asyncGenerator:F3,__asyncValues:U3,__await:Fc,__awaiter:Oe,__classPrivateFieldGet:V3,__classPrivateFieldIn:K3,__classPrivateFieldSet:q3,__createBinding:xv,__decorate:O3,__disposeResources:X3,__esDecorate:C3,__exportStar:D3,__extends:A3,__generator:I3,__importDefault:H3,__importStar:W3,__makeTemplateObject:z3,__metadata:R3,__param:j3,__propKey:k3,__read:A_,__rest:Eu,__rewriteRelativeImportExtension:Y3,__runInitializers:N3,__setFunctionName:P3,__spread:M3,__spreadArray:L3,__spreadArrays:$3,__values:Dp,default:eq},Symbol.toStringTag,{value:"Module"})),rq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Q3 extends bv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class m1 extends bv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class v1 extends bv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mp||(Mp={}));class nq{constructor(t,{headers:r={},customFetch:n,region:a=Mp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=rq(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Oe(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:l,body:c,signal:f,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let y=f;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),f?(y=s.signal,f.addEventListener("abort",()=>s.abort())):y=s.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m,signal:y}).catch(w=>{throw new Q3(w)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new m1(b);if(!b.ok)throw new v1(b);let x=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield b.json():x==="application/octet-stream"||x==="application/pdf"?_=yield b.blob():x==="text/event-stream"?_=b:x==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof v1||o instanceof m1?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Jr={};const Tu=a6(tq);var s0={},o0={},l0={},c0={},u0={},f0={},wT;function J3(){if(wT)return f0;wT=1,Object.defineProperty(f0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return f0.default=e,f0}var _T;function Z3(){if(_T)return u0;_T=1,Object.defineProperty(u0,"__esModule",{value:!0});const t=Tu.__importDefault(J3());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,f,d,h;let p=null,g=null,m=null,y=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const x=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(g=[],p=null,y=200,b="OK")}catch{l.status===404&&x===""?(y=204,b="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,y=200,b="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,f,d,h,p,g;let m="";const y=l==null?void 0:l.cause;if(y){const b=(c=y==null?void 0:y.message)!==null&&c!==void 0?c:"",v=(f=y==null?void 0:y.code)!==null&&f!==void 0?f:"";m=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(h=y==null?void 0:y.name)!==null&&h!==void 0?h:"Error"}: ${b}`,v&&(m+=` (${v})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return u0.default=r,u0}var ST;function eR(){if(ST)return c0;ST=1,Object.defineProperty(c0,"__esModule",{value:!0});const t=Tu.__importDefault(Z3());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var f;const d=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return c0.default=r,c0}var ET;function O_(){if(ET)return l0;ET=1,Object.defineProperty(l0,"__esModule",{value:!0});const t=Tu.__importDefault(eR()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${f}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return l0.default=n,l0}var TT;function tR(){if(TT)return o0;TT=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=Tu.__importDefault(O_());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},l=s?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return o0.default=r,o0}var AT;function aq(){if(AT)return s0;AT=1,Object.defineProperty(s0,"__esModule",{value:!0});const e=Tu,t=e.__importDefault(tR()),r=e.__importDefault(O_());class n{constructor(i,{headers:s={},schema:o,fetch:l}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:l=!1,count:c}={}){var f;let d;const h=new URL(`${this.url}/rpc/${i}`);let p;o||l?(d=o?"HEAD":"GET",Object.entries(s).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{h.searchParams.append(m,y)})):(d="POST",p=s);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:g,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return s0.default=n,s0}Object.defineProperty(Jr,"__esModule",{value:!0});var rR=Jr.PostgrestError=dR=Jr.PostgrestBuilder=uR=Jr.PostgrestTransformBuilder=lR=Jr.PostgrestFilterBuilder=sR=Jr.PostgrestQueryBuilder=aR=Jr.PostgrestClient=void 0;const Au=Tu,nR=Au.__importDefault(aq());var aR=Jr.PostgrestClient=nR.default;const iR=Au.__importDefault(tR());var sR=Jr.PostgrestQueryBuilder=iR.default;const oR=Au.__importDefault(O_());var lR=Jr.PostgrestFilterBuilder=oR.default;const cR=Au.__importDefault(eR());var uR=Jr.PostgrestTransformBuilder=cR.default;const fR=Au.__importDefault(Z3());var dR=Jr.PostgrestBuilder=fR.default;const hR=Au.__importDefault(J3());rR=Jr.PostgrestError=hR.default;var pR=Jr.default={PostgrestClient:nR.default,PostgrestQueryBuilder:iR.default,PostgrestFilterBuilder:oR.default,PostgrestTransformBuilder:cR.default,PostgrestBuilder:fR.default,PostgrestError:hR.default};const iq=nN({__proto__:null,get PostgrestBuilder(){return dR},get PostgrestClient(){return aR},get PostgrestError(){return rR},get PostgrestFilterBuilder(){return lR},get PostgrestQueryBuilder(){return sR},get PostgrestTransformBuilder(){return uR},default:pR},[Jr]),{PostgrestClient:sq,PostgrestQueryBuilder:Y2e,PostgrestFilterBuilder:Q2e,PostgrestTransformBuilder:J2e,PostgrestBuilder:Z2e,PostgrestError:oq}=pR||iq;class mR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lq="2.87.3",cq=`realtime-js/${lq}`,vR="1.0.0",uq="2.0.0",OT=vR,g1=1e4,fq=1e3,dq=100;var vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vo||(vo={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wa||(wa={}));var y1;(function(e){e.websocket="websocket"})(y1||(y1={}));var go;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(go||(go={}));class hq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,s.length),g.setUint8(m++,c.length),g.setUint8(m++,d.length),g.setUint8(m++,r),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(m++,b.charCodeAt(0)));var y=new Uint8Array(p.byteLength+n.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(n),p.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,l]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:f,payload:p};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class gR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const jT=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=pq(s,e,t,a),i),{}):{}},pq=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?yR(i,s):x1(s)},yR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yq(t,r)}switch(e){case ht.bool:return mq(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return vq(t);case ht.json:case ht.jsonb:return gq(t);case ht.timestamp:return xq(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return x1(t);default:return x1(t)}},x1=e=>e,mq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yq=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>yR(t,o))}return e},xq=e=>typeof e=="string"?e.replace(" ","T"):e,xR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class my{constructor(t,r,n={},a=g1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var b1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(b1||(b1={}));class uc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=uc.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=uc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(c,f)=>{s[c]||(l[c]=f)}),this.map(s,(c,f)=>{const d=i[c];if(d){const h=f.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(o[c]=g),m.length>0&&(l[c]=m)}else o[c]=f}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const f=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),f.length>0){const d=t[o].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,f,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const f=l.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(w1||(w1={}));var fc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fc||(fc={}));var Wa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wa||(Wa={}));const bq=qt;class So{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new my(this,wa.join,this.params,this.timeout),this.rejoinTimer=new gR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wa.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new uc(this),this.broadcastEndpointURL=xR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[fc.PRESENCE]&&this.bindings[fc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Wa.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Wa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Wa.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<y;v++){const x=m[v],{filter:{event:_,schema:w,table:S,filter:E}}=x,T=p&&p[v];if(T&&T.event===_&&So.isFilterValueEqual(T.schema,w)&&So.isFilterValueEqual(T.table,S)&&So.isFilterValueEqual(T.filter,E))b.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=qt.errored,t==null||t(Wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Wa.SUBSCRIBED);return}}).receive("error",p=>{this.state=qt.errored,t==null||t(Wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qt.joined&&t===fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new my(this,wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new my(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:f}=wa;if(n&&[o,l,c,f].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,y,b,v,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:y,commit_timestamp:b,type:v,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&So.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wa.close,{},t)}_onError(t){this._on(wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jT(t.columns,t.old_record)),r}}const vy=()=>{},d0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wq=[1e3,2e3,5e3,1e4],_q=1e4,Sq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g1,this.transport=null,this.heartbeatIntervalMs=d0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vy,this.ref=0,this.reconnectTimer=null,this.vsn=OT,this.logger=vy,this.conn=null,this.sendBuffer=[],this.serializer=new hq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${y1.websocket}`,this.httpEndpoint=xR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return go.Connecting;case vo.open:return go.Open;case vo.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new So(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},d0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===vo.open||this.conn.readyState===vo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Sq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:cq};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},d0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,l,c,f,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:g1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:d0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:vy,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:OT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:g=>wq[g-1]||_q,this.vsn){case vR:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(g,m)=>m(JSON.stringify(g)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case uq:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Eq extends wv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _1 extends wv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const j_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tq=()=>Response,S1=e=>{if(Array.isArray(e))return e.map(r=>S1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=S1(n)}),t},Aq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),gy=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},jq=(e,t,r)=>Oe(void 0,void 0,void 0,function*(){const n=yield Tq();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new Eq(gy(a),i,s))}).catch(a=>{t(new _1(gy(a),a))}):t(new _1(gy(e),e))}),Cq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Aq(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function gh(e,t,r,n,a,i){return Oe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Cq(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>jq(l,o,n))})})}function gd(e,t,r,n){return Oe(this,void 0,void 0,function*(){return gh(e,"GET",t,r,n)})}function ga(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return gh(e,"POST",t,n,a,r)})}function E1(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return gh(e,"PUT",t,n,a,r)})}function Nq(e,t,r,n){return Oe(this,void 0,void 0,function*(){return gh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function C_(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return gh(e,"DELETE",t,n,a,r)})}class kq{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var wR;class Pq{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[wR]="BlobDownloadBuilder",this.promise=null}asStream(){return new kq(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}wR=Symbol.toStringTag;const Rq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iq{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=j_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Oe(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},CT),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),d=yield(t=="PUT"?E1:ga)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:CT.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield E1(this.fetch,o.toString(),l,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ga(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new wv("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield ga(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Oe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ga(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Oe(this,void 0,void 0,function*(){try{const a=yield ga(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),l=()=>gd(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Pq(l,this.shouldThrowOnError)}info(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:S1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}exists(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Nq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n)&&n instanceof _1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Rq),r),{prefix:t||""});return{data:yield ga(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}listV2(t,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ga(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _R="2.87.3",SR={"X-Client-Info":`storage-js/${_R}`};class Dq{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SR),r),this.fetch=j_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Oe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield gd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t){return Oe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield E1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var yd=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mq(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function $q(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Lq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=Mq(e.baseUrl,n,a),l=await $q(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),f=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&f?JSON.parse(f):f;if(!c.ok){const p=d?h:void 0,g=p==null?void 0:p.error;throw new yd((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function h0(e){return e.join("")}var Fq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:h0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${h0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${h0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${h0(e.namespace)}`}),!0}catch(t){if(t instanceof yd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof yd&&r.status===409)return;throw r}}};function Al(e){return e.join("")}var Bq=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof yd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof yd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Uq=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Lq({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Fq(this.client,t),this.tableOps=new Bq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class zq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SR),r),this.fetch=j_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(t){return Oe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gd(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}from(t){if(!Oq(t))throw new wv("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Uq({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:(...l)=>Oe(this,void 0,void 0,function*(){try{return{data:yield o.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const N_={"X-Client-Info":`storage-js/${_R}`,"Content-Type":"application/json"};class ER extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Pn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class yy extends ER{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wq extends ER{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var NT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(NT||(NT={}));const k_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vq=(e,t,r)=>Oe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new yy(kT(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new yy(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new yy(o,a,s))}}else t(new Wq(kT(e),e))}),qq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Hq(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Kq(e,t,r,n,a,i){return Oe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,qq(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Vq(l,o,n))})})}function Rn(e,t,r,n,a){return Oe(this,void 0,void 0,function*(){return Kq(e,"POST",t,n,a,r)})}class Gq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Rn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Rn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}})}}class Xq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Rn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getVectors(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}listVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Rn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Oe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Rn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}}class Yq{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N_),r),this.fetch=k_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Rn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}listBuckets(){return Oe(this,arguments,void 0,function*(t={}){try{return{data:yield Rn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Rn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}}class Qq extends Yq{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Jq(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Oe(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Oe(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Oe(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Oe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class Jq extends Gq{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Zq(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Zq extends Xq{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class eK extends Dq{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Iq(this.url,this.headers,t,this.fetch)}get vectors(){return new Qq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zq(this.url+"/iceberg",this.headers,this.fetch)}}const tK="2.87.3";let xf="";typeof Deno<"u"?xf="deno":typeof document<"u"?xf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xf="react-native":xf="node";const rK={"X-Client-Info":`supabase-js-${xf}/${tK}`},nK={headers:rK},aK={schema:"public"},iK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sK={},oK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lK=()=>Headers,cK=(e,t,r)=>{const n=oK(r),a=lK();return async(i,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))}};function uK(e){return e.endsWith("/")?e:e+"/"}function fK(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function dK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TR="2.87.3",Il=30*1e3,T1=3,xy=T1*Il,hK="http://localhost:9999",pK="supabase.auth.token",mK={"X-Client-Info":`gotrue-js/${TR}`},A1="X-Supabase-Api-Version",AR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gK=10*60*1e3;class Bc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OR extends Bc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jR(e){return Ne(e)&&e.name==="AuthApiError"}class ss extends Bc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ti extends Bc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ln extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CR(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class lo extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bf extends ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wf extends ti{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NR(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class O1 extends ti{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kR extends ti{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function yK(e){return Ne(e)&&e.name==="AuthPKCECodeVerifierMissingError"}class $p extends ti{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function U0(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class j1 extends ti{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function xK(e){return Ne(e)&&e.name==="AuthWeakPasswordError"}class Lp extends ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PT=` 	
\r=`.split(""),bK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<PT.length;t+=1)e[PT[t].charCodeAt(0)]=-2;for(let t=0;t<Fp.length;t+=1)e[Fp[t].charCodeAt(0)]=t;return e})();function RT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fp[n]),t.queuedBits-=6}}function PR(e,t,r){const n=bK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IT(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{SK(s,n,r)};for(let s=0;s<e.length;s+=1)PR(e.charCodeAt(s),a,i);return t.join("")}function wK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _K(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wK(n,t)}}function SK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)PR(e.charCodeAt(a),r,n);return new Uint8Array(t)}function EK(e){const t=[];return _K(e,r=>t.push(r)),new Uint8Array(t)}function Eo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RT(a,r,n)),RT(null,r,n),t.join("")}function TK(e){return Math.round(Date.now()/1e3)+e}function AK(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",to={tested:!1,writable:!1},RR=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(to.tested)return to.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),to.tested=!0,to.writable=!0}catch{to.tested=!0,to.writable=!1}return to.writable};function OK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const IR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ro=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},br=async(e,t)=>{await e.removeItem(t)};class _v{constructor(){this.promise=new _v.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_v.promiseConstructor=Promise;function by(e){const t=e.split(".");if(t.length!==3)throw new Lp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vK.test(t[n]))throw new Lp("JWT not in base64url format");return{header:JSON.parse(IT(t[0])),payload:JSON.parse(IT(t[1])),signature:dc(t[2]),raw:{header:t[0],payload:t[1]}}}async function CK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NK(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function kK(e){return("0"+e.toString(16)).substr(-2)}function PK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kK).join("")}async function RK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function IK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ol(e,t,r=!1){const n=PK();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Dl(e,`${t}-code-verifier`,a);const i=await IK(n);return[i,n===i?"plain":"s256"]}const DK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MK(e){const t=e.headers.get(A1);if(!t||!t.match(DK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $K(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jl(e){if(!FK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BK(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function DT(e){return JSON.parse(JSON.stringify(e))}const co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UK=[502,503,504];async function MT(e){var t;if(!jK(e))throw new $p(co(e),0);if(UK.includes(e.status))throw new $p(co(e),e.status);let r;try{r=await e.json()}catch(i){throw new ss(co(i),i)}let n;const a=MK(e);if(a&&a.getTime()>=AR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new j1(co(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ln}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new j1(co(r),e.status,r.weak_password.reasons);throw new OR(co(r),e.status||500,n)}const zK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[A1]||(i[A1]=AR["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await WK(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function WK(e,t,r,n,a,i){const s=zK(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new $p(co(l),0)}if(o.ok||await MT(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await MT(l)}}function ma(e){var t;let r=null;qK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $T(e){const t=ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HK(e){return{data:e,error:null}}function VK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Eu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function LT(e){return e}function qK(e){return e.access_token&&e.refresh_token&&e.expires_in}const z0=["global","local","others"];class P_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=IR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=z0[0]){if(z0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${z0.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Eu(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:VK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:os})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LT});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){jl(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:os})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jl(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jl(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jl(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jl(t.userId),jl(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LT});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ne(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function FT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const uo={debug:!!(globalThis&&RR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class R_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DR extends R_{}class KK extends R_{}async function MR(e,t,r){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const BT={};async function GK(e,t,r){var n;const a=(n=BT[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((s,o)=>{setTimeout(()=>{o(new KK(`Acquiring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return BT[e]=i.catch(async s=>{if(s&&s.isAcquireTimeout)return await a,null;throw s}),await i}function XK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $R(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function YK(e){return parseInt(e,16)}function QK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function JK(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=$R(e.address),g=f?`${f}://${n}`:n,m=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}b+=v}return`${y}
${b}`}class Gt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Bp extends Gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ZK({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(LR(s)){if(i.rp.id!==s)return new Gt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LR(n)){if(r.rpId!==n)return new Gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rG=new tG;function nG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Eu(e,["challenge","user","excludeCredentials"]),i=dc(t).buffer,s=Object.assign(Object.assign({},r),{id:dc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:dc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function aG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Eu(e,["challenge","allowCredentials"]),a=dc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:dc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function iG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Eo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Eo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Eo(new Uint8Array(a.authenticatorData)),clientDataJSON:Eo(new Uint8Array(a.clientDataJSON)),signature:Eo(new Uint8Array(a.signature)),userHandle:a.userHandle?Eo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function UT(){var e,t;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bp("Browser returned unexpected credential type",t)}:{data:null,error:new Bp("Empty credential response",t)}}catch(t){return{data:null,error:ZK({error:t,options:e})}}}async function lG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bp("Browser returned unexpected credential type",t)}:{data:null,error:new Bp("Empty credential response",t)}}catch(t){return{data:null,error:eG({error:t,options:e})}}}const cG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Up(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Up(o,s):n[i]=Up(s)}else n[i]=s}return n}function fG(e,t){return Up(cG,e,t||{})}function dG(e,t){return Up(uG,e,t||{})}class hG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=a??rG.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=fG(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:d}=await oG({publicKey:c,signal:l});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const c=dG(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:d}=await lG(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(s){return Ne(s)?{data:null,error:s}:{data:null,error:new ss("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bc("rpId is required for WebAuthn authentication")};try{if(!UT())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return Ne(s)?{data:null,error:s}:{data:null,error:new ss("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bc("rpId is required for WebAuthn registration")};try{if(!UT())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return Ne(s)?{data:null,error:s}:{data:null,error:new ss("Unexpected error in register",s)}}}}XK();const pG={url:hK,storageKey:pK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zT(e,t,r){return await r()}const Cl={};class Uc{get jwks(){var t,r;return(r=(t=Cl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cl[this.storageKey]=Object.assign(Object.assign({},Cl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cl[this.storageKey]=Object.assign(Object.assign({},Cl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pG),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Uc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_r()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new P_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IR(i.fetch),this.lock=i.lock||zT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&_r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MR:this.lock=zT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:RR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=FT(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(_r()&&(r=OK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_r()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),NR(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new ss("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ma}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ol(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ma})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ma})}else throw new bf("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return await br(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$T})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$T})}else throw new bf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new lo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,l,c,f,d,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:y,statement:b,options:v}=t;let x;if(_r())if(typeof y=="object")x=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")x=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=$R(w[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await x.request({method:"eth_chainId"});E=YK(A)}const T={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:E,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=v==null?void 0:v.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=JK(T),g=await x.request({method:"personal_sign",params:[QK(p),S]})}try{const{data:m,error:y}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ma});if(y)throw y;if(!m||!m.session||!m.user){const b=new lo;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(Ne(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,o,l,c,f,d,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:y,wallet:b,statement:v,options:x}=t;let _;if(_r())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),v?{statement:v}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:y,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Eo(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ma});if(b)throw b;if(!y||!y.session||!y.user){const v=new lo;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await ro(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kR;const{data:i,error:s}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ma});if(await br(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ma}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new lo;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Ol(this.storage,this.storageKey));const{error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new bf("You must provide either an email or phone number.")}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ma});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ol(this.storage,this.storageKey));const c=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:HK});return!((i=c.data)===null||i===void 0)&&i.url&&_r()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ln;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new bf("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await ro(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=wy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=BK(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:os}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:os})})}catch(r){if(Ne(r))return CR(r)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ln;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Ol(this.storage,this.storageKey));const{data:c,error:f}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:os});if(f)throw f;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ln;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=by(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ln;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!_r())throw new wf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new O1("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!s||!c)throw new wf("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let h=f+d;l&&(h=parseInt(l));const p=h-f;p*1e3<=Il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ro(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(jR(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=AK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ol(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return _r()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:l,access_token:c,nonce:f}=t,d=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ma}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new lo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await br(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await NK(async a=>(a>0&&await CK(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ma})),(a,i)=>{const s=200*Math.pow(2,a);return i&&U0(i)&&Date.now()+s-n<Il})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ro(this.storage,this.storageKey);if(a&&this.userStorage){let s=await ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Dl(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:wy()}else if(a&&!a.user&&!a.user){const s=await ro(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await br(this.storage,this.storageKey+"-user"),await Dl(this.storage,this.storageKey,a)):a.user=wy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xy;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${xy}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),U0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _v;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Ne(i)){const s={data:null,error:i};return U0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await br(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=DT(a);await Dl(this.storage,this.storageKey,i)}else{const a=DT(r);await Dl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Il);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Il}ms, refresh threshold is ${T1} ticks`),a<=T1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof R_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Ol(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iG(t.webauthn.credential_response):sG(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nG(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:aG(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=by(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ln})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ln});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ln});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ln})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ln})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+gK>a)return n;const{data:i,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=by(n);r!=null&&r.allowExpired||$K(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const f=LK(a.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,s,EK(`${o}.${l}`)))throw new Lp("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}Uc.nextInstanceID={};const mG=P_,FR=Uc;class vG extends FR{constructor(t){super(t)}}class BR{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=dK(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:aK,realtime:sK,auth:Object.assign(Object.assign({},iK),{storageKey:l}),global:nK},f=fK(n??{},c);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=cK(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new sq(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new eK(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new nq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:f},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gG=(e,t,r)=>new BR(e,t,r);function yG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}yG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xG=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:mG,AuthApiError:OR,AuthClient:FR,AuthError:Bc,AuthImplicitGrantRedirectError:wf,AuthInvalidCredentialsError:bf,AuthInvalidJwtError:Lp,AuthInvalidTokenResponseError:lo,AuthPKCECodeVerifierMissingError:kR,AuthPKCEGrantCodeExchangeError:O1,AuthRetryableFetchError:$p,AuthSessionMissingError:ln,AuthUnknownError:ss,AuthWeakPasswordError:j1,CustomAuthError:ti,get FunctionRegion(){return Mp},FunctionsError:bv,FunctionsFetchError:Q3,FunctionsHttpError:v1,FunctionsRelayError:m1,GoTrueAdminApi:P_,GoTrueClient:Uc,NavigatorLockAcquireTimeoutError:DR,PostgrestError:oq,REALTIME_CHANNEL_STATES:bq,get REALTIME_LISTEN_TYPES(){return fc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return w1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return b1},get REALTIME_SUBSCRIBE_STATES(){return Wa},RealtimeChannel:So,RealtimeClient:bR,RealtimePresence:uc,SIGN_OUT_SCOPES:z0,SupabaseClient:BR,WebSocketFactory:mR,createClient:gG,isAuthApiError:jR,isAuthError:Ne,isAuthImplicitGrantRedirectError:NR,isAuthPKCECodeVerifierMissingError:yK,isAuthRetryableFetchError:U0,isAuthSessionMissingError:CR,isAuthWeakPasswordError:xK,lockInternals:uo,navigatorLock:MR,processLock:GK},Symbol.toStringTag,{value:"Module"})),{createClient:UR}=xG,bG="https://kzslhhctjfxsdvcrqvvs.supabase.co",zR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",ke=UR(bG,zR,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),Ou=()=>!!zR,zc=[{value:"conductor",label:"Conductor"},{value:"inspector_patio",label:"Inspector Patio"},{value:"cleaner",label:"Cleaner"},{value:"planillero",label:"Planillero"},{value:"supervisor",label:"Supervisor"}],wG=[{value:"todos",label:"Todos"},{value:"ACTIVO",label:"Activo"},{value:"DESVINCULADO",label:"Desvinculado"}],_G=async(e,t)=>{if(!Ou())return console.warn("Supabase not configured, returning empty array"),[];const r=Vi(e);let n=ke.from("staff").select(`
      *,
      staff_admonitions(count)
    `).in("terminal_code",r).order("nombre",{ascending:!0});if(t!=null&&t.status&&t.status!=="todos"&&(n=n.eq("status",t.status)),t!=null&&t.cargo&&t.cargo!=="todos"&&(n=n.eq("cargo",t.cargo)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw console.error("Error fetching staff:",i),i;return(a||[]).map(s=>{var o,l;return{...s,admonition_count:((l=(o=s.staff_admonitions)==null?void 0:o[0])==null?void 0:l.count)??0}})},SG=async e=>{const t=ml(e),{data:r,error:n}=await ke.from("staff").select("*").eq("rut",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},EG=async e=>{const{data:t,error:r}=await ke.from("staff").insert({rut:ml(e.rut),nombre:e.nombre.trim(),cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno.trim(),horario:e.horario.trim(),contacto:e.contacto.trim()}).select().single();if(r)throw r.code==="23505"?new Error("Ya existe un trabajador con ese RUT"):r;return t},TG=async(e,t)=>{const r={};t.rut!==void 0&&(r.rut=ml(t.rut)),t.nombre!==void 0&&(r.nombre=t.nombre.trim()),t.cargo!==void 0&&(r.cargo=t.cargo),t.terminal_code!==void 0&&(r.terminal_code=t.terminal_code),t.turno!==void 0&&(r.turno=t.turno.trim()),t.horario!==void 0&&(r.horario=t.horario.trim()),t.contacto!==void 0&&(r.contacto=t.contacto.trim());const{data:n,error:a}=await ke.from("staff").update(r).eq("id",e).select().single();if(a)throw a;return n},AG=async(e,t)=>{const{data:r,error:n}=await ke.from("staff").update({status:"DESVINCULADO",terminated_at:new Date().toISOString(),termination_comment:t.trim()}).eq("id",e).select().single();if(n)throw n;return r},OG=async e=>{const t=Vi(e),{data:r,error:n}=await ke.from("staff").select("cargo, terminal_code").eq("status","ACTIVO").in("terminal_code",t);if(n)throw n;const{data:a}=await ke.from("staff_caps").select("*").eq("scope_code","ER_LR"),i=new Map;(a||[]).forEach(f=>{i.set(f.cargo,f.max_q)});const s=new Map;zc.forEach(f=>s.set(f.value,0)),(r||[]).forEach(f=>{const d=s.get(f.cargo)||0;s.set(f.cargo,d+1)});const o=zc.map(f=>({cargo:f.value,count:s.get(f.value)||0,max_q:i.get(f.value)??null})),l=new Map;t.forEach(f=>l.set(f,0)),(r||[]).forEach(f=>{const d=l.get(f.terminal_code)||0;l.set(f.terminal_code,d+1)});const c=t.map(f=>({terminal_code:f,count:l.get(f)||0}));return{byCargo:o,byTerminal:c,total:(r==null?void 0:r.length)||0}},jG=async(e,t,r,n)=>{const a=n.name.split(".").pop(),i=`staff/${e}/admonitions/${Date.now()}.${a}`,{error:s}=await ke.storage.from("staff-docs").upload(i,n);if(s)throw console.error("Upload error:",s),new Error("Error al subir el documento");const{data:o,error:l}=await ke.from("staff_admonitions").insert({staff_id:e,reason:t.trim(),admonition_date:r,document_path:i}).select().single();if(l)throw l;return o},CG=(e,t)=>{const r=ke.channel("staff-changes").on("postgres_changes",{event:"*",schema:"public",table:"staff"},n=>{e({eventType:n.eventType,new:n.new,old:n.old})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"staff_admonitions"},n=>{t({eventType:n.eventType,new:n.new})}).subscribe();return()=>{ke.removeChannel(r)}},St={all:["staff"],lists:()=>[...St.all,"list"],list:(e,t)=>[...St.lists(),e,t],details:()=>[...St.all,"detail"],detail:e=>[...St.details(),e],counts:e=>[...St.all,"counts",e],caps:()=>[...St.all,"caps"],admonitions:e=>[...St.all,"admonitions",e]},NG=(e,t)=>At({queryKey:St.list(e,t),queryFn:()=>_G(e,t)}),kG=e=>At({queryKey:St.counts(e),queryFn:()=>OG(e)}),PG=()=>{const e=Ht();return Yt({mutationFn:t=>EG(t),onSuccess:()=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.counts({})})}})},RG=()=>{const e=Ht();return Yt({mutationFn:({id:t,values:r})=>TG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},IG=()=>{const e=Ht();return Yt({mutationFn:({id:t,comment:r})=>AG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},DG=()=>{const e=Ht();return Yt({mutationFn:({staffId:t,reason:r,admonitionDate:n,file:a})=>jG(t,r,n,a),onSuccess:t=>{e.invalidateQueries({queryKey:St.admonitions(t.staff_id)}),e.invalidateQueries({queryKey:St.lists()})}})},MG=e=>{const t=Ht();C.useEffect(()=>CG(n=>{console.log("Staff change:",n.eventType),t.invalidateQueries({queryKey:St.lists()}),t.invalidateQueries({queryKey:St.counts(e)}),n.new&&t.invalidateQueries({queryKey:St.detail(n.new.id)})},n=>{console.log("Admonition change:",n.eventType),n.new&&(t.invalidateQueries({queryKey:St.admonitions(n.new.staff_id)}),t.invalidateQueries({queryKey:St.lists()}))}),[t,e])},$G=e=>({conductor:"calendar",inspector_patio:"clipboard",cleaner:"check-circle",planillero:"layers",supervisor:"users"})[e]||"users",LG=e=>{var t;return((t=zc.find(r=>r.value===e))==null?void 0:t.label)||e},FG=({terminalContext:e})=>{const{data:t,isLoading:r}=kG(e);if(r)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[...Array(5)].map((a,i)=>u.jsxs("div",{className:"card p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});if(!t)return null;const n=e.mode==="ALL"||e.mode==="TERMINAL"&&(e.value==="EL_ROBLE"||e.value==="LA_REINA");return u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:["Personal por Cargo ",n&&"(ER-LR)"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:t.byCargo.map(a=>{const i=a.max_q?a.count/a.max_q*100:0,s=a.max_q&&a.count>a.max_q,o=a.max_q&&i>=80&&!s;return u.jsxs("div",{className:`card p-4 transition-all ${s?"border-danger-300 bg-danger-50":o?"border-warning-300 bg-warning-50":""}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100",children:u.jsx(be,{name:$G(a.cargo),size:18,className:"text-slate-600"})}),u.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:LG(a.cargo)})]}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:`text-2xl font-bold ${s?"text-danger-600":o?"text-warning-600":"text-slate-900"}`,children:a.count}),a.max_q&&u.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",a.max_q]})]}),a.max_q&&u.jsx("div",{className:"mt-2 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all ${s?"bg-danger-500":o?"bg-warning-500":"bg-brand-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},a.cargo)})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"Personal por Terminal"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.byTerminal.map(a=>u.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3",children:[u.jsx(be,{name:"building",size:18,className:"text-slate-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:Ge(a.terminal_code)}),u.jsx("p",{className:"text-lg font-bold text-slate-900",children:a.count})]})]},a.terminal_code)),u.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3 bg-brand-50 border-brand-200",children:[u.jsx(be,{name:"users",size:18,className:"text-brand-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-brand-600 font-semibold",children:"Total"}),u.jsx("p",{className:"text-lg font-bold text-brand-700",children:t.total})]})]})]})]})]})},BG=e=>{var t;return((t=zc.find(r=>r.value===e))==null?void 0:t.label)||e},UG=({staff:e,onEdit:t,onOffboard:r,onAdmonish:n})=>e.length?u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"table-header-cell",children:"RUT"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Nombre"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Cargo"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Terminal"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Turno"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Horario"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Contacto"}),u.jsx("th",{scope:"col",className:"table-header-cell",children:"Estado"}),u.jsx("th",{scope:"col",className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:e.map(a=>{const i=a.status==="DESVINCULADO";return u.jsxs("tr",{className:`table-row ${i?"bg-danger-50 hover:bg-danger-100":""}`,children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:_n(a.rut)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-slate-900",children:a.nombre}),a.admonition_count>0&&u.jsxs("span",{className:"badge badge-warning text-xs",title:`${a.admonition_count} amonestacin(es)`,children:[" ",a.admonition_count]})]})}),u.jsx("td",{className:"table-cell",children:BG(a.cargo)}),u.jsx("td",{className:"table-cell",children:Ge(a.terminal_code)}),u.jsx("td",{className:"table-cell",children:a.turno}),u.jsx("td",{className:"table-cell font-mono text-xs",children:a.horario}),u.jsx("td",{className:"table-cell text-sm",children:a.contacto}),u.jsx("td",{className:"table-cell",children:u.jsx("span",{className:`badge ${i?"badge-danger":"badge-success"}`,children:a.status})}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[!i&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>t(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-brand-600",title:"Modificar",children:u.jsx(be,{name:"clipboard",size:16})}),u.jsx("button",{onClick:()=>n(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-warning-600",title:"Amonestar",children:u.jsx(be,{name:"megaphone",size:16})}),u.jsx("button",{onClick:()=>r(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-danger-600",title:"Desvincular",children:u.jsx(be,{name:"logout",size:16})})]}),i&&u.jsx("span",{className:"text-xs text-danger-600",children:a.terminated_at?new Date(a.terminated_at).toLocaleDateString("es-CL"):"Desvinculado"})]})})]},a.id)})})]})}):u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:u.jsx(be,{name:"users",size:28,className:"text-slate-400"})}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"No hay personal registrado"}),u.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:'Comienza agregando trabajadores con el botn "Nuevo Trabajador"'})]}),zG=["Maana","Tarde","Noche","Rotativo"],WG=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=C.useState({rut:"",nombre:"",cargo:"conductor",terminal_code:"EL_ROBLE",turno:"Maana",horario:"08:00-18:00",contacto:""}),[s,o]=C.useState(null),[l,c]=C.useState("");C.useEffect(()=>{e&&(i({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,horario:e.horario,contacto:e.contacto}),c(_n(e.rut)))},[e]);const f=g=>{c(g);const m=d1(g);m.valid?(o(null),i(y=>({...y,rut:ml(g)}))):o(m.error||null)},d=()=>{a.rut&&c(_n(a.rut))},h=g=>{g.preventDefault();const m=d1(a.rut);if(!m.valid){o(m.error||"RUT invlido");return}t(a)},p=!!e;return u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input ${s?"border-danger-500 focus:ring-danger-500":""}`,value:l,onChange:g=>f(g.target.value),onBlur:d,placeholder:"12.345.678-9",disabled:p,required:!0}),p&&u.jsx(be,{name:"key",size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),s&&u.jsx("p",{className:"mt-1 text-xs text-danger-600",children:s}),p&&u.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"El RUT no puede modificarse"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre Completo"}),u.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:g=>i(m=>({...m,nombre:g.target.value})),placeholder:"Juan Prez Gonzlez",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("select",{className:"input",value:a.cargo,onChange:g=>i(m=>({...m,cargo:g.target.value})),required:!0,children:zc.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:a.terminal_code,onChange:g=>i(m=>({...m,terminal_code:g.target.value})),required:!0,children:ia.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Turno"}),u.jsx("select",{className:"input",value:a.turno,onChange:g=>i(m=>({...m,turno:g.target.value})),required:!0,children:zG.map(g=>u.jsx("option",{value:g,children:g},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:a.horario,onChange:g=>i(m=>({...m,horario:g.target.value})),placeholder:"08:00-18:00",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contacto"}),u.jsx("input",{type:"text",className:"input",value:a.contacto,onChange:g=>i(m=>({...m,contacto:g.target.value})),placeholder:"Telfono o email",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!!s,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):p?"Guardar Cambios":"Crear Trabajador"})]})]})},HG=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=C.useState(""),s=o=>{o.preventDefault(),a.trim()&&t(a.trim())};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),u.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-danger-100",children:u.jsx(be,{name:"logout",size:24,className:"text-danger-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Desvincular Trabajador"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Ests seguro que deseas desvincular a ",u.jsx("strong",{children:e}),"?"]})]})]}),u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-warning-50 border border-warning-200",children:u.jsxs("p",{className:"text-sm text-warning-800",children:[u.jsx("strong",{children:" Esta accin es irreversible."})," El trabajador quedar marcado como desvinculado y no podr ser eliminado del sistema."]})}),u.jsxs("form",{onSubmit:s,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"label",children:"Motivo de Desvinculacin *"}),u.jsx("textarea",{className:"input min-h-[100px]",value:a,onChange:o=>i(o.target.value),placeholder:"Describe el motivo de la desvinculacin...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-danger",disabled:n||!a.trim(),children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):"Confirmar Desvinculacin"})]})]})]})]})},VG=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=C.useState(""),[s,o]=C.useState(new Date().toISOString().split("T")[0]),[l,c]=C.useState(null),[f,d]=C.useState(!1),h=C.useRef(null),p=v=>{v.preventDefault(),a.trim()&&s&&l&&t(a.trim(),s,l)},g=v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?d(!0):v.type==="dragleave"&&d(!1)},m=v=>{v.preventDefault(),v.stopPropagation(),d(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&c(v.dataTransfer.files[0])},y=v=>{v.target.files&&v.target.files[0]&&c(v.target.files[0])},b=()=>{c(null),h.current&&(h.current.value="")};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),u.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-warning-100",children:u.jsx(be,{name:"megaphone",size:24,className:"text-warning-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Registrar Amonestacin"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Amonestacin para ",u.jsx("strong",{children:e})]})]})]}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Motivo de la Amonestacin *"}),u.jsx("textarea",{className:"input min-h-[80px]",value:a,onChange:v=>i(v.target.value),placeholder:"Describe el motivo de la amonestacin...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha de Amonestacin *"}),u.jsx("input",{type:"date",className:"input",value:s,onChange:v=>o(v.target.value),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Documento Adjunto *"}),u.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${f?"border-brand-500 bg-brand-50":l?"border-success-300 bg-success-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:m,children:[u.jsx("input",{ref:h,type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:y,className:"hidden",id:"admonition-file"}),l?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx(be,{name:"check-circle",size:24,className:"text-success-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:l.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[(l.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{type:"button",onClick:b,className:"ml-4 text-danger-600 hover:text-danger-700",children:u.jsx(be,{name:"x",size:20})})]}):u.jsxs("label",{htmlFor:"admonition-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[u.jsx(be,{name:"image",size:32,className:"text-slate-400"}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-semibold text-brand-600",children:"Haz clic para subir"})," ","o arrastra el archivo aqu"]}),u.jsx("p",{className:"text-xs text-slate-400",children:"PDF, JPG, PNG (mx. 10MB)"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!a.trim()||!s||!l,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):"Registrar Amonestacin"})]})]})]})]})},qG=()=>{const e=Ve(x=>x.context),t=Ve(x=>x.setContext),[r,n]=C.useState({status:"todos",cargo:"todos"}),[a,i]=C.useState({type:"none"}),s=NG(e,r),o=PG(),l=RG(),c=IG(),f=DG();MG(e);const d=[{key:"rut",header:"RUT",value:x=>_n(x.rut)},{key:"nombre",header:"Nombre",value:x=>x.nombre},{key:"cargo",header:"Cargo",value:x=>x.cargo},{key:"terminal_code",header:"Terminal",value:x=>Ge(x.terminal_code)},{key:"turno",header:"Turno",value:x=>x.turno},{key:"horario",header:"Horario",value:x=>x.horario},{key:"contacto",header:"Contacto",value:x=>x.contacto},{key:"status",header:"Estado",value:x=>x.status}],h=()=>{s.data&&ft({filename:"personal_vista",sheetName:"Personal",rows:s.data,columns:d})},p=()=>{s.data&&ft({filename:"personal_completo",sheetName:"Personal",rows:s.data,columns:d})},g=async x=>{try{await o.mutateAsync(x),i({type:"none"})}catch(_){console.error("Error creating staff:",_),alert(_ instanceof Error?_.message:"Error al crear trabajador")}},m=async x=>{if(a.type==="edit")try{await l.mutateAsync({id:a.staff.id,values:x}),i({type:"none"})}catch(_){console.error("Error updating staff:",_),alert(_ instanceof Error?_.message:"Error al actualizar trabajador")}},y=async x=>{if(a.type==="offboard")try{await c.mutateAsync({id:a.staff.id,comment:x}),i({type:"none"})}catch(_){console.error("Error offboarding staff:",_),alert(_ instanceof Error?_.message:"Error al desvincular trabajador")}},b=async(x,_,w)=>{if(a.type==="admonish")try{await f.mutateAsync({staffId:a.staff.id,reason:x,admonitionDate:_,file:w}),i({type:"none"})}catch(S){console.error("Error creating admonition:",S),alert(S instanceof Error?S.message:"Error al registrar amonestacin")}},v=()=>i({type:"none"});return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Personal",description:"Gestin del equipo operativo por terminal.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>i({type:"create"}),children:[u.jsx(be,{name:"users",size:18}),"Nuevo Trabajador"]}),u.jsx(Vr,{onExportView:h,onExportAll:p})]})}),u.jsx(FG,{terminalContext:e}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:r.status,onChange:x=>n(_=>({..._,status:x.target.value})),children:wG.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsxs("select",{className:"input",value:r.cargo||"todos",onChange:x=>n(_=>({..._,cargo:x.target.value})),children:[u.jsx("option",{value:"todos",children:"Todos"}),zc.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))]})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:r.search??"",onChange:x=>n(_=>({..._,search:x.target.value}))})]})]}),s.isLoading&&u.jsx(yr,{label:"Cargando personal..."}),s.isError&&u.jsx(Rr,{onRetry:()=>s.refetch()}),!s.isLoading&&!s.isError&&u.jsx(UG,{staff:s.data||[],onEdit:x=>i({type:"edit",staff:x}),onOffboard:x=>i({type:"offboard",staff:x}),onAdmonish:x=>i({type:"admonish",staff:x})}),(a.type==="create"||a.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:v}),u.jsxs("div",{className:"relative w-full max-w-2xl card p-6 animate-scale-in max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.type==="create"?"Nuevo Trabajador":"Editar Trabajador"}),u.jsx("button",{onClick:v,className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),u.jsx(WG,{initialData:a.type==="edit"?a.staff:null,onSubmit:a.type==="create"?g:m,onCancel:v,isLoading:o.isPending||l.isPending})]})]}),a.type==="offboard"&&u.jsx(HG,{staffName:a.staff.nombre,onConfirm:y,onCancel:v,isLoading:c.isPending}),a.type==="admonish"&&u.jsx(VG,{staffName:a.staff.nombre,onConfirm:b,onCancel:v,isLoading:f.isPending})]})},Ia=({columns:e,rows:t,emptyMessage:r="Sin resultados"})=>t.length?u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsx("tr",{children:e.map(n=>u.jsx("th",{scope:"col",className:"table-header-cell",children:n.header},n.key))})}),u.jsx("tbody",{className:"table-body",children:t.map((n,a)=>u.jsx("tr",{className:"table-row",children:e.map(i=>u.jsx("td",{className:"table-cell",children:i.render?i.render(n):n[i.key]},i.key))},a))})]})}):u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 mb-3",children:u.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-sm font-medium text-slate-600",children:r}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"No hay datos para mostrar en este momento"})]}),Da=({label:e="Sin datos",description:t})=>u.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[u.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:u.jsx("svg",{className:"h-7 w-7 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),t&&u.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:t})]}),ju=(e,t)=>({list:async({terminalContext:r,filters:n,scope:a})=>{const i=ZF(e,r);return a==="all"?i:t?i.filter(s=>t(s,n)):i}}),KG=[{id:"r-1",tema:"Coordinacin semanal",fecha:"2023-12-04T09:00:00Z",responsable:"Ana Prez",participantes:8,estado:"agendada",terminal:"EL_ROBLE"},{id:"r-2",tema:"Operacin nocturna",fecha:"2023-12-03T18:00:00Z",responsable:"Carlos Vega",participantes:6,estado:"en_curso",terminal:"LA_REINA"},{id:"r-3",tema:"Revisin de seguridad",fecha:"2023-12-01T15:30:00Z",responsable:"Laura Soto",participantes:5,estado:"cerrada",terminal:"EL_SALTO"}],WT=ju(KG,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),GG=()=>{var c;const e=Ve(f=>f.context),t=Ve(f=>f.setContext),[r,n]=C.useState({estado:"todas"}),a=At({queryKey:["reuniones",e,r],queryFn:()=>WT.list({terminalContext:e,filters:r,scope:"view"})}),i=C.useMemo(()=>[{key:"tema",header:"Tema"},{key:"fecha",header:"Fecha",render:f=>Ft(f.fecha),value:f=>Ft(f.fecha)},{key:"responsable",header:"Responsable"},{key:"participantes",header:"Asistentes"},{key:"estado",header:"Estado",render:f=>u.jsx("span",{className:"badge capitalize",children:f.estado}),value:f=>f.estado},{key:"terminal",header:"Terminal",render:f=>Ge(f.terminal),value:f=>Ge(f.terminal)}],[]),s=i.map(f=>({key:f.key,header:f.header,value:d=>f.value?f.value(d):d[f.key]})),o=()=>{a.data&&ft({filename:"reuniones_vista",sheetName:"Reuniones",rows:a.data,columns:s})},l=async()=>{const f=await WT.list({terminalContext:e,scope:"all"});ft({filename:"reuniones_completo",sheetName:"Reuniones",rows:f,columns:s})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Reuniones",description:"Agenda y seguimiento de reuniones.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nueva reunin"}),u.jsx(Vr,{onExportView:o,onExportAll:l})]})}),u.jsx(oa,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:f=>n({estado:f.target.value}),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"agendada",children:"Agendada"}),u.jsx("option",{value:"en_curso",children:"En curso"}),u.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),a.isLoading&&u.jsx(yr,{}),a.isError&&u.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&u.jsxs(u.Fragment,{children:[!((c=a.data)!=null&&c.length)&&u.jsx(Da,{description:"No hay reuniones con estos filtros."}),a.data&&a.data.length>0&&u.jsx(Ia,{columns:i,rows:a.data})]})]})},XG=[{id:"t-1",titulo:"Inventario patio",responsable:"Ana Prez",prioridad:"alta",estado:"pendiente",vencimiento:"2023-12-06",terminal:"EL_ROBLE"},{id:"t-2",titulo:"Actualizar checklists",responsable:"Carlos Vega",prioridad:"media",estado:"en_progreso",vencimiento:"2023-12-07",terminal:"EL_SALTO"},{id:"t-3",titulo:"Control de EPIs",responsable:"Laura Soto",prioridad:"baja",estado:"completada",vencimiento:"2023-11-30",terminal:"COLO_COLO"}],HT=ju(XG,(e,t)=>{const r=t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0,n=t!=null&&t.prioridad&&t.prioridad!=="todas"?e.prioridad===t.prioridad:!0;return r&&n}),YG=()=>{var c;const e=Ve(f=>f.context),t=Ve(f=>f.setContext),[r,n]=C.useState({estado:"todas",prioridad:"todas"}),a=At({queryKey:["tareas",e,r],queryFn:()=>HT.list({terminalContext:e,filters:r,scope:"view"})}),i=C.useMemo(()=>[{key:"titulo",header:"Tarea"},{key:"responsable",header:"Responsable"},{key:"prioridad",header:"Prioridad",render:f=>u.jsx("span",{className:"badge capitalize",children:f.prioridad}),value:f=>f.prioridad},{key:"estado",header:"Estado",render:f=>u.jsx("span",{className:"badge capitalize",children:f.estado}),value:f=>f.estado},{key:"vencimiento",header:"Vencimiento",render:f=>Ft(f.vencimiento),value:f=>Ft(f.vencimiento)},{key:"terminal",header:"Terminal",render:f=>Ge(f.terminal),value:f=>Ge(f.terminal)}],[]),s=i.map(f=>({key:f.key,header:f.header,value:d=>f.value?f.value(d):d[f.key]})),o=()=>{a.data&&ft({filename:"tareas_vista",sheetName:"Tareas",rows:a.data,columns:s})},l=async()=>{const f=await HT.list({terminalContext:e,scope:"all"});ft({filename:"tareas_completo",sheetName:"Tareas",rows:f,columns:s})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Tareas",description:"Seguimiento de pendientes y compromisos.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nueva tarea"}),u.jsx(Vr,{onExportView:o,onExportAll:l})]})}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:f=>n(d=>({...d,estado:f.target.value})),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"pendiente",children:"Pendiente"}),u.jsx("option",{value:"en_progreso",children:"En progreso"}),u.jsx("option",{value:"completada",children:"Completada"})]})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Prioridad"}),u.jsxs("select",{className:"input",value:r.prioridad,onChange:f=>n(d=>({...d,prioridad:f.target.value})),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"alta",children:"Alta"}),u.jsx("option",{value:"media",children:"Media"}),u.jsx("option",{value:"baja",children:"Baja"})]})]})]}),a.isLoading&&u.jsx(yr,{}),a.isError&&u.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&u.jsxs(u.Fragment,{children:[!((c=a.data)!=null&&c.length)&&u.jsx(Da,{description:"No hay tareas para mostrar."}),a.data&&a.data.length>0&&u.jsx(Ia,{columns:i,rows:a.data})]})]})},QG=[{id:"i-1",titulo:"Actualizacin de protocolos",fecha:"2023-12-02",enviadoPor:"Equipo Seguridad",alcance:"todos",terminal:"EL_ROBLE"},{id:"i-2",titulo:"Corte programado",fecha:"2023-12-03",enviadoPor:"Operaciones",alcance:"terminal",terminal:"LA_REINA"},{id:"i-3",titulo:"Campaa de seguridad",fecha:"2023-12-01",enviadoPor:"Prevencin",alcance:"segmentado",terminal:"EL_SALTO"}],VT=ju(QG,(e,t)=>t!=null&&t.alcance&&t.alcance!=="todos"?e.alcance===t.alcance:!0),JG="https://kzslhhctjfxsdvcrqvvs.supabase.co/functions/v1/send-email",I_={sendEmail:async e=>{const t=await fetch(JG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Email send failed: ${t.status} ${n}`)}const r=await t.json();return{accepted:r.accepted??!0,messageId:r.messageId??"pending"}}},ZG=()=>{var N;const e=Ve(j=>j.context),t=Ve(j=>j.setContext),[r,n]=C.useState({alcance:"todos"}),[a,i]=C.useState("todos"),[s,o]=C.useState("EL_ROBLE"),[l,c]=C.useState(""),[f,d]=C.useState(""),[h,p]=C.useState(""),[g,m]=C.useState(!1),[y,b]=C.useState(""),[v,x]=C.useState(""),_=At({queryKey:["informativos",e,r],queryFn:()=>VT.list({terminalContext:e,filters:r,scope:"view"})}),w=C.useMemo(()=>[{key:"titulo",header:"Ttulo"},{key:"enviadoPor",header:"Enviado por"},{key:"alcance",header:"Alcance",render:j=>u.jsx("span",{className:"badge",children:j.alcance}),value:j=>j.alcance},{key:"fecha",header:"Fecha",render:j=>Ft(j.fecha),value:j=>Ft(j.fecha)},{key:"terminal",header:"Terminal",render:j=>Ge(j.terminal),value:j=>Ge(j.terminal)}],[]),S=w.map(j=>({key:j.key,header:j.header,value:L=>j.value?j.value(L):L[j.key]})),E=()=>{_.data&&ft({filename:"informativos_vista",sheetName:"Informativos",rows:_.data,columns:S})},T=async()=>{const j=await VT.list({terminalContext:e,scope:"all"});ft({filename:"informativos_completo",sheetName:"Informativos",rows:j,columns:S})},A=async()=>{x(""),m(!0);try{const j=await I_.sendEmail({audience:a,terminalCodes:a==="por_terminal"?[s]:void 0,manualRecipients:a==="manual"?l.split(",").map(L=>L.trim()).filter(Boolean):void 0,subject:f,body:h});b(`Correo enviado (${j.messageId})`),d(""),p(""),c("")}catch(j){x(j.message)}finally{m(!1)}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Informativos",description:"Comunicaciones internas con opciones de envo por terminal.",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nuevo informativo"}),u.jsx(Vr,{onExportView:E,onExportAll:T})]})}),u.jsx(oa,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Alcance"}),u.jsxs("select",{className:"input",value:r.alcance,onChange:j=>n({alcance:j.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"terminal",children:"Por terminal"}),u.jsx("option",{value:"segmentado",children:"Segmentado"})]})]})}),_.isLoading&&u.jsx(yr,{}),_.isError&&u.jsx(Rr,{onRetry:_.refetch}),!_.isLoading&&!_.isError&&u.jsxs(u.Fragment,{children:[!((N=_.data)!=null&&N.length)&&u.jsx(Da,{description:"No hay informativos con los filtros actuales."}),_.data&&_.data.length>0&&u.jsx(Ia,{columns:w,rows:_.data})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Enviar correo interno"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Mdulo preparado para conectar a Edge Function."})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[y&&u.jsx("span",{className:"badge",children:y}),v&&u.jsx("span",{className:"text-xs font-semibold text-red-600",children:v})]})]}),u.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Destinatarios"}),u.jsxs("select",{className:"input",value:a,onChange:j=>i(j.target.value),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"por_terminal",children:"Por terminal"}),u.jsx("option",{value:"manual",children:"Lista manual"})]})]}),a==="por_terminal"&&u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Terminal objetivo"}),u.jsx("select",{className:"input",value:s,onChange:j=>o(j.target.value),children:ia.map(j=>u.jsx("option",{value:j.value,children:j.label},j.value))})]}),a==="manual"&&u.jsxs("div",{className:"space-y-1 md:col-span-2",children:[u.jsx("label",{className:"label",children:"Correos (separados por coma)"}),u.jsx("input",{className:"input",value:l,onChange:j=>c(j.target.value),placeholder:"correo1@dominio.com, correo2@dominio.com"})]}),u.jsxs("div",{className:"md:col-span-3 grid gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Asunto"}),u.jsx("input",{className:"input",value:f,onChange:j=>d(j.target.value)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Mensaje"}),u.jsx("textarea",{className:"input min-h-[120px]",value:h,onChange:j=>p(j.target.value),placeholder:"Contenido del correo"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{className:"btn btn-primary",onClick:A,disabled:g||!f||!h,children:g?"Enviando...":"Enviar (mock)"})})]})]})]})]})},eX=["ISAAC AVILA","CLAUDIO ARRIAGADA","CRISTIAN LURASCHI"],tX={EL_ROBLE:"CRISTIAN LURASCHI",LA_REINA:"CRISTIAN LURASCHI"},vl=e=>e.trim().replace(/\s+/g," ").toUpperCase(),Sv=e=>{const t=vl(e);return eX.includes(t)},rX=e=>tX[e]??"",Ev=({data:e,isLoading:t})=>{if(t)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((n,a)=>u.jsxs("div",{className:"card p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},a))});if(!e)return null;const r=[{label:"Pendientes Hoy",value:e.pendingToday,icon:"clock",bgClass:"bg-warning-50 border-warning-200",textClass:"text-warning-700",iconClass:"text-warning-500"},{label:"Pendientes Total",value:e.pendingTotal,icon:"inbox",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",iconClass:"text-orange-500"},{label:"Autorizados (30d)",value:e.authorizedRange,icon:"check-circle",bgClass:"bg-success-50 border-success-200",textClass:"text-success-700",iconClass:"text-success-500"},{label:"Rechazados (30d)",value:e.rejectedRange,icon:"x",bgClass:"bg-danger-50 border-danger-200",textClass:"text-danger-700",iconClass:"text-danger-500"}];return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map(n=>u.jsxs("div",{className:`card p-4 ${n.bgClass}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(be,{name:n.icon,size:18,className:n.iconClass}),u.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:n.label})]}),u.jsx("p",{className:`text-2xl font-bold ${n.textClass}`,children:n.value})]},n.label))})},Us=({mode:e,itemName:t,onConfirm:r,onCancel:n,isLoading:a})=>{const[i,s]=C.useState(""),o=c=>{c.preventDefault(),!(e==="reject"&&!i.trim())&&r(i.trim()||void 0)},l=e==="authorize";return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),u.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${l?"bg-success-100":"bg-danger-100"}`,children:u.jsx(be,{name:l?"check-circle":"x",size:24,className:l?"text-success-600":"text-danger-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900",children:l?"Autorizar Registro":"Rechazar Registro"}),u.jsx("p",{className:"text-sm text-slate-600",children:l?`Confirmas la autorizacin de "${t}"?`:`Confirmas el rechazo de "${t}"?`})]})]}),u.jsxs("form",{onSubmit:o,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"label",children:l?"Comentario (opcional)":"Motivo del rechazo *"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i,onChange:c=>s(c.target.value),placeholder:l?"Agregar comentario...":"Describe el motivo del rechazo...",required:!l})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:`btn ${l?"btn-success":"btn-danger"}`,disabled:a||!l&&!i.trim(),children:a?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):l?"Autorizar":"Rechazar"})]})]})]})]})},Tv=({value:e,onChange:t,onStaffFound:r,disabled:n})=>{const[a,i]=C.useState(""),[s,o]=C.useState(!1),[l,c]=C.useState(null),[f,d]=C.useState(!1);C.useEffect(()=>{e&&i(_n(e))},[e]);const h=m=>{if(i(m),c(null),d(!1),d1(m).valid){const b=ml(m);t(b),p(b)}else t(""),r(null)},p=async m=>{o(!0);try{const y=await SG(m);y?(d(!0),r(y)):(c("RUT no encontrado en Personal"),r(null))}catch{c("Error al buscar RUT"),r(null)}finally{o(!1)}},g=()=>{e&&i(_n(e))};return u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input pr-10 ${l?"border-danger-500":f?"border-success-500":""}`,value:a,onChange:m=>h(m.target.value),onBlur:g,placeholder:"12.345.678-9",disabled:n}),u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s?u.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-400",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):f?u.jsx(be,{name:"check-circle",size:18,className:"text-success-500"}):l?u.jsx(be,{name:"x",size:18,className:"text-danger-500"}):u.jsx(be,{name:"search",size:18,className:"text-slate-400"})})]}),l&&u.jsx("p",{className:"mt-1 text-xs text-danger-600",children:l}),f&&u.jsx("p",{className:"mt-1 text-xs text-success-600",children:"Datos cargados desde Personal"})]})},nX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=C.useState({rut:"",nombre:"",area:"Logstica",cargo:"",jefe_terminal:"",terminal_code:"EL_ROBLE",cabezal:"",incident_state:"",schedule_in_out:"",date:new Date().toISOString().split("T")[0],time_range:"",observations:"",informed_by:t,...e});C.useEffect(()=>{const c=rX(i.terminal_code);c&&s(f=>({...f,jefe_terminal:c}))},[i.terminal_code]);const o=c=>{c&&s(f=>({...f,nombre:c.nombre,cargo:c.cargo,terminal_code:c.terminal_code}))},l=c=>{c.preventDefault(),r(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Tv,{value:i.rut,onChange:c=>s(f=>({...f,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(f=>({...f,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"rea"}),u.jsx("input",{type:"text",className:"input",value:i.area,onChange:c=>s(f=>({...f,area:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:c=>s(f=>({...f,cargo:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(f=>({...f,terminal_code:c.target.value})),required:!0,children:ia.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Jefe de Terminal"}),u.jsx("input",{type:"text",className:"input",value:i.jefe_terminal,onChange:c=>s(f=>({...f,jefe_terminal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(f=>({...f,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Estado (Incidente)"}),u.jsx("input",{type:"text",className:"input",value:i.incident_state,onChange:c=>s(f=>({...f,incident_state:c.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario Entrada/Salida"}),u.jsx("input",{type:"text",className:"input",value:i.schedule_in_out,onChange:c=>s(f=>({...f,schedule_in_out:c.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(f=>({...f,date:c.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario (Rango)"}),u.jsx("input",{type:"text",className:"input",value:i.time_range,onChange:c=>s(f=>({...f,time_range:c.target.value})),placeholder:"10:00-14:00"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Observaciones"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i.observations,onChange:c=>s(f=>({...f,observations:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Informado Por"}),u.jsx("input",{type:"text",className:"input",value:i.informed_by,onChange:c=>s(f=>({...f,informed_by:c.target.value}))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},D_=async e=>{const{data:t,error:r}=await ke.from("app_configuration").select("value").eq("key",e).single();return r?(r.code==="PGRST116"||console.error(`Error fetching config ${e}:`,r),null):t.value},aX=async(e,t,r)=>{const{error:n}=await ke.from("app_configuration").upsert({key:e,value:t,description:r},{onConflict:"key"});if(n)throw console.error(`Error updating config ${e}:`,n),n},iX=async(e,t)=>{if(!Ou())return[];const r=Vi(e);let n=ke.from("attendance_no_marcaciones").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}t!=null&&t.date_from&&(n=n.gte("date",t.date_from)),t!=null&&t.date_to&&(n=n.lte("date",t.date_to));const{data:a,error:i}=await n;if(i)throw i;return a||[]},sX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_no_marcaciones").insert({...e,created_by_supervisor:vl(t)}).select().single();if(n)throw vi("Error al crear registro","No se pudo guardar el registro de No Marcacin"),n;try{await Av("No Marcaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{rea:e.area||"",Cargo:e.cargo||"","Jefe Terminal":e.jefe_terminal||"",Observaciones:e.observations||""}}),Ri("Registro creado exitosamente",`No Marcacin para ${e.nombre} guardado y correo enviado`,t)}catch{Ri("Registro creado",`No Marcacin para ${e.nombre} guardado (correo no enviado)`,t)}return r},oX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_no_marcaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},lX=async(e,t)=>{if(!Ou())return[];const r=Vi(e);let n=ke.from("attendance_sin_credenciales").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},cX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_sin_credenciales").insert({...e,created_by_supervisor:vl(t)}).select().single();if(n)throw vi("Error al crear registro","No se pudo guardar el registro de Sin Credenciales"),n;try{await Av("Sin Credenciales",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{Cabezal:e.cabezal||"",Horario:`${e.start_time||""} - ${e.end_time||""}`,Cargo:e.cargo||"","Supervisor Autoriza":e.supervisor_autoriza||""}}),Ri("Registro creado exitosamente",`Sin Credenciales para ${e.nombre} guardado y correo enviado`,t)}catch{Ri("Registro creado",`Sin Credenciales para ${e.nombre} guardado (correo no enviado)`,t)}return r},uX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_sin_credenciales").update(t).eq("id",e).select().single();if(n)throw n;return r},fX=async(e,t)=>{if(!Ou())return[];const r=Vi(e);let n=ke.from("attendance_cambios_dia").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},dX=async(e,t)=>{let r=null;if(e.document){const c=e.document.name.split(".").pop(),f=`cambios-dia/${Date.now()}.${c}`,{error:d}=await ke.storage.from("attendance-docs").upload(f,e.document);if(d)throw console.error("Storage Upload Error Detail:",d),vi("Error al subir documento","Verifica que el archivo sea imagen o PDF y menor a 5MB"),new Error(`Error al subir documento: ${d.message}`);r=f}const{document:n,...a}=e,i={...a,document_path:r,created_by_supervisor:vl(t)};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(c=>{i[c]===""&&(i[c]=null)});const{data:o,error:l}=await ke.from("attendance_cambios_dia").insert(i).select().single();if(l)throw vi("Error al crear registro","No se pudo guardar el registro de Cambio de Da"),l;try{let c="No adjunto";if(r){const{data:f}=ke.storage.from("attendance-docs").getPublicUrl(r);c=`<a href="${f.publicUrl}" target="_blank" style="color: #2563eb; text-decoration: underline; font-weight: 700;">Ver Documento Adjunto</a>`}await Av("Cambios de Da",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{"Jornada Programada":`${e.prog_start||""} - ${e.prog_end||""}`,"Da No Trabaja":e.day_off_date||"","Da Trabaja":e.day_on_date||"",Documento:c}}),Ri("Registro creado exitosamente",`Cambio de Da para ${e.nombre} guardado y correo enviado`,t)}catch{Ri("Registro creado",`Cambio de Da para ${e.nombre} guardado (correo no enviado)`,t)}return o},hX=async(e,t)=>{const{document:r,...n}=t,a={...n};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(l=>{a[l]===""&&(a[l]=null)});const{data:s,error:o}=await ke.from("attendance_cambios_dia").update(a).eq("id",e).select().single();if(o)throw o;return s},pX=async e=>{const{data:t,error:r}=await ke.storage.from("attendance-docs").createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},mX=async(e,t)=>{if(!Ou())return[];const r=Vi(e);let n=ke.from("attendance_autorizaciones").select("*").in("terminal_code",r).order("authorization_date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},vX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_autorizaciones").insert({...e,created_by_supervisor:vl(t)}).select().single();if(n)throw vi("Error al crear registro","No se pudo guardar la autorizacin"),n;try{await Av("Autorizaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.authorization_date,createdBy:t,details:{Tipo:e.entry_or_exit==="ENTRADA"?"Llegada Tarda":"Retiro Anticipado",Horario:e.horario||"",Turno:e.turno||"",Motivo:e.motivo||""}}),Ri("Registro creado exitosamente",`Autorizacin para ${e.nombre} guardada y correo enviado`,t)}catch{Ri("Registro creado",`Autorizacin para ${e.nombre} guardada (correo no enviado)`,t)}return r},gX=async(e,t)=>{const{data:r,error:n}=await ke.from("attendance_autorizaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},yX=async(e,t,r)=>{const{error:n}=await ke.from(e).update({auth_status:"AUTORIZADO",authorized_by:vl(r),authorized_at:new Date().toISOString()}).eq("id",t);if(n)throw n},xX=async(e,t,r,n)=>{const{error:a}=await ke.from(e).update({auth_status:"RECHAZADO",authorized_by:vl(r),authorized_at:new Date().toISOString(),rejection_reason:n}).eq("id",t);if(a)throw a},bX=async(e,t,r="date")=>{if(!Ou())return{pendingToday:0,pendingTotal:0,authorizedRange:0,rejectedRange:0};const n=Vi(t),a=new Date().toISOString().split("T")[0],{count:i}=await ke.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE").eq(r,a),{count:s}=await ke.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE"),o=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],{count:l}=await ke.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","AUTORIZADO").gte(r,o),{count:c}=await ke.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","RECHAZADO").gte(r,o);return{pendingToday:i??0,pendingTotal:s??0,authorizedRange:l??0,rejectedRange:c??0}},wX=(e,t)=>{const r=ke.channel("attendance-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_no_marcaciones"},()=>e("attendance_no_marcaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_no_marcaciones"},()=>t("attendance_no_marcaciones")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_sin_credenciales"},()=>e("attendance_sin_credenciales")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_sin_credenciales"},()=>t("attendance_sin_credenciales")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_cambios_dia"},()=>e("attendance_cambios_dia")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_cambios_dia"},()=>t("attendance_cambios_dia")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_autorizaciones"},()=>e("attendance_autorizaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_autorizaciones"},()=>t("attendance_autorizaciones")).subscribe();return()=>{ke.removeChannel(r)}},WR="isaac.avila@transdev.cl",fn={check:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
        <path d="M18 28L24 34L38 20" stroke="#16a34a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,x:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fee2e2" stroke="#ef4444" stroke-width="3"/>
        <path d="M20 20L36 36M36 20L20 36" stroke="#dc2626" stroke-width="4" stroke-linecap="round"/>
    </svg>`,clock:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <circle cx="28" cy="28" r="3" fill="#d97706"/>
        <path d="M28 16V28L36 33" stroke="#d97706" stroke-width="3" stroke-linecap="round"/>
    </svg>`,user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`},HR=e=>new Date(e+"T12:00:00").toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ea=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,VR=async(e,t,r,n,a,i,s)=>{const o=e==="AUTORIZADO",l=o?"#16a34a":"#dc2626",c=o?"#f0fdf4":"#fef2f2",f=o?"#bbf7d0":"#fecaca",d=o?fn.check:fn.x,h=`${t} ${e} - ${n}`,p=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: ${c}; border: 1px solid ${f}; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${d}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 20px; font-weight: 800; color: ${l}; letter-spacing: -0.5px;">${e}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Ea(fn.id,"Subseccin",t,!0)}
            ${Ea(fn.id,"RUT",r)}
            ${Ea(fn.user,"Trabajador",n)}
            ${Ea(fn.building,"Terminal",Ge(a))}
            ${Ea(fn.calendar,"Fecha",HR(i))}
            ${s?Ea(fn.id,"Motivo",s,!0):""}
        </table>
    `.trim(),g=await D_("email_notifications"),m=g!=null&&g.to&&g.to.length>0?g.to:[WR],y=(g==null?void 0:g.cc)||[];try{await I_.sendEmail({audience:"manual",manualRecipients:m,cc:y,subject:h,body:p})}catch(b){console.error("Error sending authorization email:",b)}},Av=async(e,t)=>{const r=t.details?Object.entries(t.details).filter(([l,c])=>c&&c.trim()).map(([l,c])=>Ea(fn.id,l,c)).join(""):"",n=`Nuevo Registro: ${e} - ${t.nombre}`,a=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: #fffbeb; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${fn.clock}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">PENDIENTE DE AUTORIZACIN</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Subsection Badge -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td align="center">
                    <span style="display: inline-block; padding: 8px 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 100px; color: #2563eb; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${e}</span>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Ea(fn.id,"RUT",t.rut)}
            ${Ea(fn.user,"Trabajador",t.nombre,!0)}
            ${Ea(fn.building,"Terminal",Ge(t.terminal))}
            ${Ea(fn.calendar,"Fecha",HR(t.date))}
            ${r}
        </table>
        
        <!-- Registered By -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top: 24px;">
            <tr>
                <td style="padding: 16px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                        <tr>
                            <td width="40" style="padding-right: 12px; vertical-align: middle;">
                                <div style="width: 40px; height: 40px; background: #2563eb; border-radius: 50%; text-align: center; line-height: 40px; color: white; font-weight: 700; font-size: 16px;">${t.createdBy.charAt(0)}</div>
                            </td>
                            <td style="vertical-align: middle;">
                                <span style="display: block; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;">Registrado por</span>
                                <span style="display: block; font-size: 14px; font-weight: 700; color: #0f172a;">${t.createdBy}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    `.trim(),i=await D_("email_notifications"),s=i!=null&&i.to&&i.to.length>0?i.to:[WR],o=(i==null?void 0:i.cc)||[];try{await I_.sendEmail({audience:"manual",manualRecipients:s,cc:o,subject:n,body:a})}catch(l){console.error("Error sending record created email:",l)}},Ov=[{value:"todos",label:"Todos"},{value:"PENDIENTE",label:"Pendiente"},{value:"AUTORIZADO",label:"Autorizado"},{value:"RECHAZADO",label:"Rechazado"}],qR=[{value:"ENTRADA",label:"Llegada Tarda"},{value:"SALIDA",label:"Retiro Anticipado"}],KR={"no-marcaciones":"No Marcaciones","sin-credenciales":"Sin Credenciales","cambios-dia":"Cambios de Da",autorizaciones:"Autorizaciones"},Lt={all:["attendance"],noMarcaciones:(e,t)=>[...Lt.all,"no-marcaciones",e,t],sinCredenciales:(e,t)=>[...Lt.all,"sin-credenciales",e,t],cambiosDia:(e,t)=>[...Lt.all,"cambios-dia",e,t],autorizaciones:(e,t)=>[...Lt.all,"autorizaciones",e,t],kpis:(e,t)=>[...Lt.all,"kpis",e,t]},_X=(e,t)=>At({queryKey:Lt.noMarcaciones(e,t),queryFn:()=>iX(e,t)}),SX=(e,t)=>At({queryKey:Lt.sinCredenciales(e,t),queryFn:()=>lX(e,t)}),EX=(e,t)=>At({queryKey:Lt.cambiosDia(e,t),queryFn:()=>fX(e,t)}),TX=(e,t)=>At({queryKey:Lt.autorizaciones(e,t),queryFn:()=>mX(e,t)}),M_={"no-marcaciones":"attendance_no_marcaciones","sin-credenciales":"attendance_sin_credenciales","cambios-dia":"attendance_cambios_dia",autorizaciones:"attendance_autorizaciones"},AX={"no-marcaciones":"date","sin-credenciales":"date","cambios-dia":"date",autorizaciones:"authorization_date"},jv=(e,t)=>At({queryKey:Lt.kpis(e,t),queryFn:()=>bX(M_[e],t,AX[e])}),OX=()=>{const e=Ht();return Yt({mutationFn:({values:t,createdBy:r})=>sX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},jX=()=>{const e=Ht();return Yt({mutationFn:({values:t,createdBy:r})=>cX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},CX=()=>{const e=Ht();return Yt({mutationFn:({values:t,createdBy:r})=>dX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},NX=()=>{const e=Ht();return Yt({mutationFn:({values:t,createdBy:r})=>vX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},kX=()=>{const e=Ht();return Yt({mutationFn:({id:t,values:r})=>oX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},PX=()=>{const e=Ht();return Yt({mutationFn:({id:t,values:r})=>uX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},RX=()=>{const e=Ht();return Yt({mutationFn:({id:t,values:r})=>hX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},IX=()=>{const e=Ht();return Yt({mutationFn:({id:t,values:r})=>gX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},Cv=()=>{const e=Ht();return Yt({mutationFn:async({subsection:t,id:r,authorizedBy:n,rut:a,nombre:i,terminal:s,date:o})=>{await yX(M_[t],r,n),await VR("AUTORIZADO",KR[t],a,i,s,o)},onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},Nv=()=>{const e=Ht();return Yt({mutationFn:async({subsection:t,id:r,authorizedBy:n,reason:a,rut:i,nombre:s,terminal:o,date:l})=>{await xX(M_[t],r,n,a),await VR("RECHAZADO",KR[t],i,s,o,l,a)},onSuccess:()=>e.invalidateQueries({queryKey:Lt.all})})},kv=()=>{const e=Ht();C.useEffect(()=>{const t=wX(()=>e.invalidateQueries({queryKey:Lt.all}),()=>e.invalidateQueries({queryKey:Lt.all}));return()=>{t()}},[e])},DX=()=>{const e=Ve(w=>w.context),t=Ve(w=>w.setContext),r=Ra(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Sv(n),[i,s]=C.useState({auth_status:"todos"}),[o,l]=C.useState({type:"none"}),c=_X(e,i),f=jv("no-marcaciones",e),d=OX(),h=kX(),p=Cv(),g=Nv();kv();const m=[{key:"rut",header:"RUT",value:w=>_n(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"area",header:"rea",value:w=>w.area},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"jefe_terminal",header:"Jefe Terminal",value:w=>w.jefe_terminal},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"incident_state",header:"Estado",value:w=>w.incident_state},{key:"date",header:"Fecha",value:w=>w.date},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],y=async w=>{await d.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"no-marcaciones",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},x=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"no-marcaciones",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:w});default:return u.jsx("span",{className:"badge badge-warning",children:w})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"No Marcaciones",description:"Registros de no marcacin de personal",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(be,{name:"clipboard",size:18})," Nuevo Registro"]}),u.jsx(Vr,{onExportView:()=>ft({filename:"no_marcaciones",sheetName:"Datos",rows:c.data||[],columns:m}),onExportAll:()=>ft({filename:"no_marcaciones_all",sheetName:"Datos",rows:c.data||[],columns:m})})]})}),u.jsx(Ev,{data:f.data,isLoading:f.isLoading}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Ov.map(w=>u.jsx("option",{value:w.value,children:w.label},w.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),c.isLoading&&u.jsx(yr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Estado"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(w=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:_n(w.rut)}),u.jsx("td",{className:"table-cell font-medium",children:w.nombre}),u.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),u.jsx("td",{className:"table-cell",children:w.date}),u.jsx("td",{className:"table-cell",children:w.incident_state||"-"}),u.jsx("td",{className:"table-cell",children:_(w.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(be,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(be,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(be,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),u.jsx(nX,{initialData:o.type==="edit"?{...o.record,area:o.record.area??"Logstica",cargo:o.record.cargo??"",jefe_terminal:o.record.jefe_terminal??"",cabezal:o.record.cabezal??"",incident_state:o.record.incident_state??"",schedule_in_out:o.record.schedule_in_out??"",time_range:o.record.time_range??"",observations:o.record.observations??"",informed_by:o.record.informed_by??n}:void 0,supervisorName:n,onSubmit:o.type==="create"?y:b,onCancel:()=>l({type:"none"}),isLoading:d.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(Us,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(Us,{mode:"reject",itemName:o.record.nombre,onConfirm:x,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},MX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=C.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",cargo:"",supervisor_autoriza:t,area:"Logstica",responsable:"",observacion:"",...e}),o=c=>{c&&s(f=>({...f,nombre:c.nombre,cargo:c.cargo,terminal_code:c.terminal_code}))},l=c=>{c.preventDefault(),r(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Tv,{value:i.rut,onChange:c=>s(f=>({...f,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(f=>({...f,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(f=>({...f,terminal_code:c.target.value})),required:!0,children:ia.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(f=>({...f,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(f=>({...f,date:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Hora Inicio"}),u.jsx("input",{type:"time",className:"input",value:i.start_time,onChange:c=>s(f=>({...f,start_time:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Hora Fin"}),u.jsx("input",{type:"time",className:"input",value:i.end_time,onChange:c=>s(f=>({...f,end_time:c.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:c=>s(f=>({...f,cargo:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Supervisor Autoriza"}),u.jsx("input",{type:"text",className:"input",value:i.supervisor_autoriza,onChange:c=>s(f=>({...f,supervisor_autoriza:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"rea"}),u.jsx("input",{type:"text",className:"input",value:i.area,onChange:c=>s(f=>({...f,area:c.target.value}))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Responsable"}),u.jsx("input",{type:"text",className:"input",value:i.responsable,onChange:c=>s(f=>({...f,responsable:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Observacin"}),u.jsx("textarea",{className:"input min-h-[80px]",value:i.observacion,onChange:c=>s(f=>({...f,observacion:c.target.value}))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},$X=()=>{const e=Ve(w=>w.context),t=Ve(w=>w.setContext),r=Ra(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Sv(n),[i,s]=C.useState({auth_status:"todos"}),[o,l]=C.useState({type:"none"}),c=SX(e,i),f=jv("sin-credenciales",e),d=jX(),h=PX(),p=Cv(),g=Nv();kv();const m=[{key:"rut",header:"RUT",value:w=>_n(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"date",header:"Fecha",value:w=>w.date},{key:"start_time",header:"Hora Inicio",value:w=>w.start_time},{key:"end_time",header:"Hora Fin",value:w=>w.end_time},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"supervisor_autoriza",header:"Supervisor Autoriza",value:w=>w.supervisor_autoriza},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],y=async w=>{await d.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"sin-credenciales",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},x=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"sin-credenciales",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:w});default:return u.jsx("span",{className:"badge badge-warning",children:w})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Sin Credenciales",description:"Registros de personal sin credencial",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(be,{name:"key",size:18})," Nuevo Registro"]}),u.jsx(Vr,{onExportView:()=>ft({filename:"sin_credenciales",sheetName:"Datos",rows:c.data||[],columns:m}),onExportAll:()=>ft({filename:"sin_credenciales_all",sheetName:"Datos",rows:c.data||[],columns:m})})]})}),u.jsx(Ev,{data:f.data,isLoading:f.isLoading}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Ov.map(w=>u.jsx("option",{value:w.value,children:w.label},w.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),c.isLoading&&u.jsx(yr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Cabezal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Hora"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(w=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:_n(w.rut)}),u.jsx("td",{className:"table-cell font-medium",children:w.nombre}),u.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),u.jsx("td",{className:"table-cell",children:w.cabezal||"-"}),u.jsx("td",{className:"table-cell",children:w.date}),u.jsxs("td",{className:"table-cell",children:[w.start_time," - ",w.end_time]}),u.jsx("td",{className:"table-cell",children:_(w.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(be,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(be,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(be,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),u.jsx(MX,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",start_time:o.record.start_time??"",end_time:o.record.end_time??"",cargo:o.record.cargo??"",supervisor_autoriza:o.record.supervisor_autoriza??"",area:o.record.area??"",responsable:o.record.responsable??"",observacion:o.record.observacion??""}:void 0,supervisorName:n,onSubmit:o.type==="create"?y:b,onCancel:()=>l({type:"none"}),isLoading:d.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(Us,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(Us,{mode:"reject",itemName:o.record.nombre,onConfirm:x,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},LX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const a=C.useRef(null),[i,s]=C.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],prog_start:"",prog_end:"",reprogram_start:"",reprogram_end:"",day_off_date:"",day_off_start:"",day_off_end:"",day_on_date:"",day_on_start:"",day_on_end:"",document:null,...e}),o=c=>{if(c){const[f,d]=(c.horario||"").split("-"),h=(f==null?void 0:f.trim())||"",p=(d==null?void 0:d.trim())||"";s(g=>({...g,nombre:c.nombre,terminal_code:c.terminal_code,prog_start:h,prog_end:p,day_off_start:h,day_off_end:p,day_on_start:h,day_on_end:p}))}},l=c=>{c.preventDefault(),t(i)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Tv,{value:i.rut,onChange:c=>s(f=>({...f,rut:c})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:c=>s(f=>({...f,nombre:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:i.terminal_code,onChange:c=>s(f=>({...f,terminal_code:c.target.value})),required:!0,children:ia.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cabezal"}),u.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:c=>s(f=>({...f,cabezal:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha Registro"}),u.jsx("input",{type:"date",className:"input",value:i.date,onChange:c=>s(f=>({...f,date:c.target.value})),required:!0})]})]}),u.jsxs("div",{className:"card p-4 bg-brand-50 border-brand-200",children:[u.jsx("h4",{className:"font-semibold text-brand-800 mb-3",children:"Jornada Programada (desde Personal)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Entrada"}),u.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_start,onChange:c=>s(f=>({...f,prog_start:c.target.value})),placeholder:"--:--",readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Salida"}),u.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_end,onChange:c=>s(f=>({...f,prog_end:c.target.value})),placeholder:"--:--",readOnly:!0})]})]})]}),u.jsxs("div",{className:"card p-4 bg-slate-50",children:[u.jsx("h4",{className:"font-semibold text-slate-700 mb-3",children:"Da Programado (No Trabaja)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.day_off_date,onChange:c=>s(f=>({...f,day_off_date:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inicio"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_start,onChange:c=>s(f=>({...f,day_off_start:c.target.value})),placeholder:"--:--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Trmino"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_end,onChange:c=>s(f=>({...f,day_off_end:c.target.value})),placeholder:"--:--"})]})]})]}),u.jsxs("div",{className:"card p-4 bg-success-50 border-success-200",children:[u.jsx("h4",{className:"font-semibold text-success-800 mb-3",children:"Da ReProgramado (Trabaja)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha"}),u.jsx("input",{type:"date",className:"input",value:i.day_on_date,onChange:c=>s(f=>({...f,day_on_date:c.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inicio"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_start,onChange:c=>s(f=>({...f,day_on_start:c.target.value})),placeholder:"--:--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Trmino"}),u.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_end,onChange:c=>s(f=>({...f,day_on_end:c.target.value})),placeholder:"--:--"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Documento Adjunto (opcional)"}),u.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-center",children:[u.jsx("input",{ref:a,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:c=>s(f=>{var d;return{...f,document:((d=c.target.files)==null?void 0:d[0])||null}})}),i.document?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx(be,{name:"check-circle",size:20,className:"text-success-600"}),u.jsx("span",{className:"text-sm",children:i.document.name}),u.jsx("button",{type:"button",onClick:()=>{s(c=>({...c,document:null})),a.current&&(a.current.value="")},className:"text-danger-600",children:u.jsx(be,{name:"x",size:18})})]}):u.jsxs("button",{type:"button",onClick:()=>{var c;return(c=a.current)==null?void 0:c.click()},className:"btn btn-secondary",children:[u.jsx(be,{name:"image",size:18})," Seleccionar Archivo"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},FX=()=>{const e=Ve(S=>S.context),t=Ve(S=>S.setContext),r=Ra(S=>S.session),n=(r==null?void 0:r.supervisorName)??"",a=Sv(n),[i,s]=C.useState({auth_status:"todos"}),[o,l]=C.useState({type:"none"}),c=EX(e,i),f=jv("cambios-dia",e),d=CX(),h=RX(),p=Cv(),g=Nv();kv();const m=[{key:"rut",header:"RUT",value:S=>_n(S.rut)},{key:"nombre",header:"Nombre",value:S=>S.nombre},{key:"terminal",header:"Terminal",value:S=>Ge(S.terminal_code)},{key:"cabezal",header:"Cabezal",value:S=>S.cabezal},{key:"date",header:"Fecha",value:S=>S.date},{key:"prog_start",header:"Prog. Inicio",value:S=>S.prog_start},{key:"prog_end",header:"Prog. Fin",value:S=>S.prog_end},{key:"reprogram_start",header:"Reprog. Inicio",value:S=>S.reprogram_start},{key:"reprogram_end",header:"Reprog. Fin",value:S=>S.reprogram_end},{key:"auth_status",header:"Autorizacin",value:S=>S.auth_status}],y=async S=>{await d.mutateAsync({values:S,createdBy:n}),l({type:"none"})},b=async S=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:S}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const S=o.record;await p.mutateAsync({subsection:"cambios-dia",id:S.id,authorizedBy:n,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},x=async S=>{if(o.type!=="reject"||!S)return;const E=o.record;await g.mutateAsync({subsection:"cambios-dia",id:E.id,authorizedBy:n,reason:S,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.date}),l({type:"none"})},_=async S=>{try{const E=await pX(S);window.open(E,"_blank")}catch(E){console.error("Error getting document URL:",E)}},w=S=>{switch(S){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:S});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:S});default:return u.jsx("span",{className:"badge badge-warning",children:S})}};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Cambios de Da",description:"Reprogramaciones de jornada laboral",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(be,{name:"calendar",size:18})," Nuevo Registro"]}),u.jsx(Vr,{onExportView:()=>ft({filename:"cambios_dia",sheetName:"Datos",rows:c.data||[],columns:m}),onExportAll:()=>ft({filename:"cambios_dia_all",sheetName:"Datos",rows:c.data||[],columns:m})})]})}),u.jsx(Ev,{data:f.data,isLoading:f.isLoading}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:S=>s(E=>({...E,auth_status:S.target.value})),children:Ov.map(S=>u.jsx("option",{value:S.value,children:S.label},S.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:S=>s(E=>({...E,search:S.target.value}))})]})]}),c.isLoading&&u.jsx(yr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Jornada Prog."}),u.jsx("th",{className:"table-header-cell",children:"Jornada Reprog."}),u.jsx("th",{className:"table-header-cell",children:"Doc"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(S=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:_n(S.rut)}),u.jsx("td",{className:"table-cell font-medium",children:S.nombre}),u.jsx("td",{className:"table-cell",children:Ge(S.terminal_code)}),u.jsx("td",{className:"table-cell",children:S.date}),u.jsxs("td",{className:"table-cell text-xs",children:[S.prog_start," - ",S.prog_end]}),u.jsxs("td",{className:"table-cell text-xs",children:[S.reprogram_start," - ",S.reprogram_end]}),u.jsx("td",{className:"table-cell",children:S.document_path?u.jsx("button",{onClick:()=>_(S.document_path),className:"text-brand-600 hover:underline",children:u.jsx(be,{name:"image",size:16})}):"-"}),u.jsx("td",{className:"table-cell",children:w(S.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:S}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(be,{name:"clipboard",size:16})}),a&&S.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:S}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(be,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:S}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(be,{name:"x",size:16})})]})]})})]},S.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-4xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),u.jsx(LX,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",prog_start:o.record.prog_start??"",prog_end:o.record.prog_end??"",reprogram_start:o.record.reprogram_start??"",reprogram_end:o.record.reprogram_end??"",day_off_date:o.record.day_off_date??"",day_off_start:o.record.day_off_start??"",day_off_end:o.record.day_off_end??"",day_on_date:o.record.day_on_date??"",day_on_start:o.record.day_on_start??"",day_on_end:o.record.day_on_end??"",document:null}:void 0,onSubmit:o.type==="create"?y:b,onCancel:()=>l({type:"none"}),isLoading:d.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(Us,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(Us,{mode:"reject",itemName:o.record.nombre,onConfirm:x,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},BX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=C.useState({rut:"",nombre:"",cargo:"",terminal_code:"EL_ROBLE",turno:"",horario:"",authorization_date:new Date().toISOString().split("T")[0],entry_or_exit:"ENTRADA",motivo:"",...e}),s=l=>{l&&i(c=>({...c,nombre:l.nombre,cargo:l.cargo,terminal_code:l.terminal_code,turno:l.turno,horario:l.horario}))},o=l=>{l.preventDefault(),t(a)};return u.jsxs("form",{onSubmit:o,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Tv,{value:a.rut,onChange:l=>i(c=>({...c,rut:l})),onStaffFound:s,disabled:!!(e!=null&&e.rut)}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:l=>i(c=>({...c,nombre:l.target.value})),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:a.cargo,onChange:l=>i(c=>({...c,cargo:l.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Terminal"}),u.jsx("select",{className:"input",value:a.terminal_code,onChange:l=>i(c=>({...c,terminal_code:l.target.value})),required:!0,children:ia.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Turno"}),u.jsx("input",{type:"text",className:"input",value:a.turno,onChange:l=>i(c=>({...c,turno:l.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:a.horario,onChange:l=>i(c=>({...c,horario:l.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Fecha de Autorizacin"}),u.jsx("input",{type:"date",className:"input",value:a.authorization_date,onChange:l=>i(c=>({...c,authorization_date:l.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Tipo"}),u.jsx("select",{className:"input",value:a.entry_or_exit,onChange:l=>i(c=>({...c,entry_or_exit:l.target.value})),required:!0,children:qR.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Motivo"}),u.jsx("textarea",{className:"input min-h-[80px]",value:a.motivo,onChange:l=>i(c=>({...c,motivo:l.target.value})),placeholder:"Describe el motivo de la autorizacin...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},UX=()=>{const e=Ve(E=>E.context),t=Ve(E=>E.setContext),r=Ra(E=>E.session),n=(r==null?void 0:r.supervisorName)??"",a=Sv(n),[i,s]=C.useState({auth_status:"todos"}),[o,l]=C.useState({type:"none"}),c=TX(e,i),f=jv("autorizaciones",e),d=NX(),h=IX(),p=Cv(),g=Nv();kv();const m=E=>{var T;return((T=qR.find(A=>A.value===E))==null?void 0:T.label)||E},y=[{key:"rut",header:"RUT",value:E=>_n(E.rut)},{key:"nombre",header:"Nombre",value:E=>E.nombre},{key:"cargo",header:"Cargo",value:E=>E.cargo},{key:"terminal",header:"Terminal",value:E=>Ge(E.terminal_code)},{key:"turno",header:"Turno",value:E=>E.turno},{key:"horario",header:"Horario",value:E=>E.horario},{key:"authorization_date",header:"Fecha",value:E=>E.authorization_date},{key:"entry_or_exit",header:"Tipo",value:E=>m(E.entry_or_exit)},{key:"motivo",header:"Motivo",value:E=>E.motivo},{key:"auth_status",header:"Autorizacin",value:E=>E.auth_status}],b=async E=>{await d.mutateAsync({values:E,createdBy:n}),l({type:"none"})},v=async E=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:E}),l({type:"none"}))},x=async()=>{if(o.type!=="authorize")return;const E=o.record;await p.mutateAsync({subsection:"autorizaciones",id:E.id,authorizedBy:n,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.authorization_date}),l({type:"none"})},_=async E=>{if(o.type!=="reject"||!E)return;const T=o.record;await g.mutateAsync({subsection:"autorizaciones",id:T.id,authorizedBy:n,reason:E,rut:T.rut,nombre:T.nombre,terminal:T.terminal_code,date:T.authorization_date}),l({type:"none"})},w=E=>{switch(E){case"AUTORIZADO":return u.jsx("span",{className:"badge badge-success",children:E});case"RECHAZADO":return u.jsx("span",{className:"badge badge-danger",children:E});default:return u.jsx("span",{className:"badge badge-warning",children:E})}},S=E=>E==="ENTRADA"?u.jsx("span",{className:"badge bg-blue-100 text-blue-700",children:"Llegada Tarda"}):u.jsx("span",{className:"badge bg-purple-100 text-purple-700",children:"Retiro Anticipado"});return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Autorizaciones",description:"Retiros anticipados y llegadas tardas",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[u.jsx(be,{name:"check-circle",size:18})," Nueva Solicitud"]}),u.jsx(Vr,{onExportView:()=>ft({filename:"autorizaciones",sheetName:"Datos",rows:c.data||[],columns:y}),onExportAll:()=>ft({filename:"autorizaciones_all",sheetName:"Datos",rows:c.data||[],columns:y})})]})}),u.jsx(Ev,{data:f.data,isLoading:f.isLoading}),u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsx("select",{className:"input",value:i.auth_status,onChange:E=>s(T=>({...T,auth_status:E.target.value})),children:Ov.map(E=>u.jsx("option",{value:E.value,children:E.label},E.value))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Buscar"}),u.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:E=>s(T=>({...T,search:E.target.value}))})]})]}),c.isLoading&&u.jsx(yr,{label:"Cargando registros..."}),c.isError&&u.jsx(Rr,{onRetry:()=>c.refetch()}),!c.isLoading&&!c.isError&&u.jsx("div",{className:"table-container overflow-x-auto",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{className:"table-header",children:u.jsxs("tr",{children:[u.jsx("th",{className:"table-header-cell",children:"RUT"}),u.jsx("th",{className:"table-header-cell",children:"Nombre"}),u.jsx("th",{className:"table-header-cell",children:"Terminal"}),u.jsx("th",{className:"table-header-cell",children:"Fecha"}),u.jsx("th",{className:"table-header-cell",children:"Tipo"}),u.jsx("th",{className:"table-header-cell",children:"Motivo"}),u.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),u.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),u.jsx("tbody",{className:"table-body",children:(c.data||[]).map(E=>u.jsxs("tr",{className:"table-row",children:[u.jsx("td",{className:"table-cell font-mono text-sm",children:_n(E.rut)}),u.jsx("td",{className:"table-cell font-medium",children:E.nombre}),u.jsx("td",{className:"table-cell",children:Ge(E.terminal_code)}),u.jsx("td",{className:"table-cell",children:E.authorization_date}),u.jsx("td",{className:"table-cell",children:S(E.entry_or_exit)}),u.jsx("td",{className:"table-cell max-w-[200px] truncate",title:E.motivo,children:E.motivo}),u.jsx("td",{className:"table-cell",children:w(E.auth_status)}),u.jsx("td",{className:"table-cell",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[E.auth_status==="PENDIENTE"&&u.jsx("button",{onClick:()=>l({type:"edit",record:E}),className:"btn btn-ghost btn-icon",title:"Editar",children:u.jsx(be,{name:"clipboard",size:16})}),a&&E.auth_status==="PENDIENTE"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l({type:"authorize",record:E}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:u.jsx(be,{name:"check-circle",size:16})}),u.jsx("button",{onClick:()=>l({type:"reject",record:E}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:u.jsx(be,{name:"x",size:16})})]})]})})]},E.id))})]})}),(o.type==="create"||o.type==="edit")&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),u.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nueva Solicitud":"Editar Solicitud"}),u.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),u.jsx(BX,{initialData:o.type==="edit"?{...o.record,cargo:o.record.cargo??"",turno:o.record.turno??"",horario:o.record.horario??""}:void 0,onSubmit:o.type==="create"?b:v,onCancel:()=>l({type:"none"}),isLoading:d.isPending||h.isPending})]})]}),o.type==="authorize"&&u.jsx(Us,{mode:"authorize",itemName:o.record.nombre,onConfirm:x,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&u.jsx(Us,{mode:"reject",itemName:o.record.nombre,onConfirm:_,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},qT="email_notifications",zX=({isOpen:e,onClose:t})=>{const[r,n]=C.useState({to:[],cc:[]}),[a,i]=C.useState(!0),[s,o]=C.useState(!1),[l,c]=C.useState(""),[f,d]=C.useState("");C.useEffect(()=>{e&&h()},[e]);const h=async()=>{i(!0);try{const v=await D_(qT);n(v||{to:["isaac.avila@transdev.cl"],cc:[]})}catch(v){console.error("Error loading config:",v),vi("Error","No se pudo cargar la configuracin")}finally{i(!1)}},p=async()=>{o(!0);try{await aX(qT,r,"Configuracin de destinatarios para notificaciones"),Ri("Configuracin guardada","Los correos se enviarn a los nuevos destinatarios"),t()}catch(v){console.error("Error saving config:",v),vi("Error","No se pudo guardar la configuracin")}finally{o(!1)}},g=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),m=v=>{const x=v==="to"?l:f,_=v==="to"?c:d,w=x.trim();if(w){if(!g(w)){vi("Email invlido","Por favor ingresa un correo electrnico vlido");return}if(r[v].includes(w)){vi("Email duplicado","Este correo ya est en la lista");return}n(S=>({...S,[v]:[...S[v],w]})),_("")}},y=(v,x)=>{n(_=>({..._,[v]:_[v].filter(w=>w!==x)}))},b=(v,x)=>{v.key==="Enter"&&(v.preventDefault(),m(x))};return e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-brand-100 p-2 rounded-lg text-brand-600",children:u.jsx(be,{name:"settings",size:24})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Configuracin de Correos"})]}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:u.jsx(be,{name:"x",size:24})})]}),a?u.jsx("div",{className:"py-12 flex justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"label mb-2 flex justify-between",children:[u.jsx("span",{children:"Destinatarios Principales (Para)"}),u.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben el correo directamente"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"email",className:"input flex-1",placeholder:"ejemplo@transdev.cl",value:l,onChange:v=>c(v.target.value),onKeyDown:v=>b(v,"to")}),u.jsx("button",{type:"button",onClick:()=>m("to"),className:"btn btn-secondary px-3",disabled:!l.trim(),children:u.jsx(be,{name:"plus",size:18})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.to.length===0&&u.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin destinatarios"}),r.to.map(v=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[v,u.jsx("button",{onClick:()=>y("to",v),className:"text-slate-400 hover:text-danger-500 ml-1",children:u.jsx(be,{name:"x",size:14})})]},v))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"label mb-2 flex justify-between",children:[u.jsx("span",{children:"En Copia (CC)"}),u.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben una copia"})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"email",className:"input flex-1",placeholder:"jefe@transdev.cl",value:f,onChange:v=>d(v.target.value),onKeyDown:v=>b(v,"cc")}),u.jsx("button",{type:"button",onClick:()=>m("cc"),className:"btn btn-secondary px-3",disabled:!f.trim(),children:u.jsx(be,{name:"plus",size:18})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.cc.length===0&&u.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin copias"}),r.cc.map(v=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[v,u.jsx("button",{onClick:()=>y("cc",v),className:"text-slate-400 hover:text-danger-500 ml-1",children:u.jsx(be,{name:"x",size:14})})]},v))]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),u.jsx("button",{onClick:p,className:"btn btn-primary min-w-[120px]",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]}):null},WX=[{id:"no-marcaciones",label:"No Marcaciones",icon:"clock"},{id:"sin-credenciales",label:"Sin Credenciales",icon:"key"},{id:"cambios-dia",label:"Cambios de Da",icon:"calendar"},{id:"autorizaciones",label:"Autorizaciones",icon:"check-circle"}],HX=()=>{const[e,t]=C.useState("no-marcaciones"),[r,n]=C.useState(!1),a=()=>{switch(e){case"no-marcaciones":return u.jsx(DX,{});case"sin-credenciales":return u.jsx($X,{});case"cambios-dia":return u.jsx(FX,{});case"autorizaciones":return u.jsx(UX,{});default:return null}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 border-b border-slate-200 pb-4",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:WX.map(i=>u.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===i.id?"bg-brand-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(be,{name:i.icon,size:18}),u.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.id))}),u.jsxs("button",{onClick:()=>n(!0),className:"btn btn-secondary text-sm flex items-center gap-2 shrink-0",children:[u.jsx(be,{name:"settings",size:16}),u.jsx("span",{children:"Configurar Correos"})]})]}),a(),u.jsx(zX,{isOpen:r,onClose:()=>n(!1)})]})},VX=[{id:"ai-1",area:"interior",responsable:"Equipo Aseo 1",fecha:"2023-12-04T08:00:00Z",estado:"pendiente",observaciones:"Pendiente zona comedor",terminal:"EL_ROBLE"},{id:"ae-1",area:"exterior",responsable:"Equipo Aseo 2",fecha:"2023-12-03T15:00:00Z",estado:"completado",observaciones:"Patio listo",terminal:"LA_REINA"},{id:"ar-1",area:"rodillo",responsable:"Equipo Rodillo",fecha:"2023-12-02T17:00:00Z",estado:"pendiente",terminal:"EL_SALTO"}],qX=e=>ju(VX.filter(t=>t.area===e),(t,r)=>r!=null&&r.estado&&r.estado!=="todos"?t.estado===r.estado:!0),$_=({area:e,title:t})=>{var h;const r=Ve(p=>p.context),n=Ve(p=>p.setContext),[a,i]=C.useState({estado:"todos"}),s=C.useMemo(()=>qX(e),[e]),o=At({queryKey:["aseo",e,r,a],queryFn:()=>s.list({terminalContext:r,filters:a,scope:"view"})}),l=C.useMemo(()=>[{key:"responsable",header:"Responsable"},{key:"fecha",header:"Fecha",render:p=>Ft(p.fecha),value:p=>Ft(p.fecha)},{key:"estado",header:"Estado",render:p=>u.jsx("span",{className:"badge capitalize",children:p.estado}),value:p=>p.estado},{key:"observaciones",header:"Observaciones",render:p=>p.observaciones??"",value:p=>p.observaciones??""},{key:"terminal",header:"Terminal",render:p=>Ge(p.terminal),value:p=>Ge(p.terminal)}],[]),c=l.map(p=>({key:p.key,header:p.header,value:g=>p.value?p.value(g):g[p.key]})),f=()=>{o.data&&ft({filename:`aseo_${e}_vista`,sheetName:`Aseo ${e}`,rows:o.data,columns:c})},d=async()=>{const p=await s.list({terminalContext:r,scope:"all"});ft({filename:`aseo_${e}_completo`,sheetName:`Aseo ${e}`,rows:p,columns:c})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:`Aseo - ${t}`,description:"Control de aseo por rea",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Nuevo registro"}),u.jsx(Vr,{onExportView:f,onExportAll:d})]})}),u.jsx(oa,{terminalContext:r,onTerminalChange:n,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:a.estado,onChange:p=>i({estado:p.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"pendiente",children:"Pendiente"}),u.jsx("option",{value:"completado",children:"Completado"})]})]})}),o.isLoading&&u.jsx(yr,{}),o.isError&&u.jsx(Rr,{onRetry:o.refetch}),!o.isLoading&&!o.isError&&u.jsxs(u.Fragment,{children:[!((h=o.data)!=null&&h.length)&&u.jsx(Da,{description:"Sin registros"}),o.data&&o.data.length>0&&u.jsx(Ia,{columns:l,rows:o.data})]})]})},KX=()=>u.jsx($_,{area:"interior",title:"Interior"}),GX=()=>u.jsx($_,{area:"exterior",title:"Exterior"}),XX=()=>u.jsx($_,{area:"rodillo",title:"Rodillo"});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),KT=e=>{const t=QX(e);return t.charAt(0).toUpperCase()+t.slice(1)},GR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),JX=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>C.createElement("svg",{ref:l,...ZX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:GR("lucide",a),...!i&&!JX(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,f])=>C.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(eY,{ref:i,iconNode:t,className:GR(`lucide-${YX(KT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=KT(e),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rY=er("calendar",tY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XR=er("clock",nY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xd=er("credit-card",aY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],YR=er("dollar-sign",iY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oY=er("download",sY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cY=er("eye",lY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fY=er("funnel",uY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QR=er("mail",dY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JR=er("plus",hY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mY=er("printer",pY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ZR=er("rotate-ccw",vY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yY=er("save",gY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bY=er("search",xY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_Y=er("settings",wY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],EY=er("square-pen",SY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AY=er("trash-2",TY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jY=er("trending-up",OY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pv=er("triangle-alert",CY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kY=er("user",NY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gl=er("x",PY),zs=["El Roble","La Reina","Maria Angelica"],e5=[{value:"PERDIDA",label:"Perdida"},{value:"DETERIORO",label:"Deterioro"}],RY=[{value:"ASIGNADA",label:"Asignada"},{value:"RECUPERADA",label:"Recuperada"},{value:"CERRADA",label:"Cerrada"},{value:"CANCELADA",label:"Cancelada"}],IY=[{value:"LIBRE",label:"Libre"},{value:"ASIGNADA",label:"Asignada"},{value:"INACTIVA",label:"Inactiva"}],ef=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-slate-50 text-slate-600"})=>u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:e}),u.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:t}),r&&u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]}),u.jsx("div",{className:`p-2 rounded-lg ${a}`,children:n})]})}),DY=({kpis:e,isLoading:t})=>{if(t)return u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Array.from({length:5}).map((a,i)=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm animate-pulse",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),u.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});const r=zs.reduce((a,i)=>a+(e.availableByTerminal[i]||0),0),n=zs.map(a=>`${a.split(" ")[0]}: ${e.availableByTerminal[a]||0}`).join(" | ");return u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[u.jsx(ef,{title:"Disponibles",value:r,subtitle:n,icon:u.jsx(xd,{className:"w-5 h-5"}),colorClass:"bg-emerald-50 text-emerald-600"}),u.jsx(ef,{title:"Prestamos Activos",value:e.activeLoans,icon:u.jsx(XR,{className:"w-5 h-5"}),colorClass:"bg-blue-50 text-blue-600"}),u.jsx(ef,{title:"Atrasados (+7d)",value:e.overdueLoans,icon:u.jsx(Pv,{className:"w-5 h-5"}),colorClass:e.overdueLoans>0?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}),u.jsx(ef,{title:"Tiempo Promedio",value:`${e.avgReturnDays} dias`,subtitle:"Ultimos 30 dias",icon:u.jsx(jY,{className:"w-5 h-5"}),colorClass:"bg-indigo-50 text-indigo-600"}),u.jsx(ef,{title:"Descuentos",value:`$${e.totalDiscounts.toLocaleString("es-CL")}`,icon:u.jsx(YR,{className:"w-5 h-5"}),colorClass:"bg-violet-50 text-violet-600"})]})};function t5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=t5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=t5(e))&&(n&&(n+=" "),n+=t);return n}var MY=Array.isArray,Sn=MY,$Y=typeof kh=="object"&&kh&&kh.Object===Object&&kh,r5=$Y,LY=r5,FY=typeof self=="object"&&self&&self.Object===Object&&self,BY=LY||FY||Function("return this")(),ri=BY,UY=ri,zY=UY.Symbol,yh=zY,GT=yh,n5=Object.prototype,WY=n5.hasOwnProperty,HY=n5.toString,tf=GT?GT.toStringTag:void 0;function VY(e){var t=WY.call(e,tf),r=e[tf];try{e[tf]=void 0;var n=!0}catch{}var a=HY.call(e);return n&&(t?e[tf]=r:delete e[tf]),a}var qY=VY,KY=Object.prototype,GY=KY.toString;function XY(e){return GY.call(e)}var YY=XY,XT=yh,QY=qY,JY=YY,ZY="[object Null]",eQ="[object Undefined]",YT=XT?XT.toStringTag:void 0;function tQ(e){return e==null?e===void 0?eQ:ZY:YT&&YT in Object(e)?QY(e):JY(e)}var Ki=tQ;function rQ(e){return e!=null&&typeof e=="object"}var Gi=rQ,nQ=Ki,aQ=Gi,iQ="[object Symbol]";function sQ(e){return typeof e=="symbol"||aQ(e)&&nQ(e)==iQ}var Cu=sQ,oQ=Sn,lQ=Cu,cQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uQ=/^\w*$/;function fQ(e,t){if(oQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||lQ(e)?!0:uQ.test(e)||!cQ.test(e)||t!=null&&e in Object(t)}var L_=fQ;function dQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ks=dQ;const Nu=et(Ks);var hQ=Ki,pQ=Ks,mQ="[object AsyncFunction]",vQ="[object Function]",gQ="[object GeneratorFunction]",yQ="[object Proxy]";function xQ(e){if(!pQ(e))return!1;var t=hQ(e);return t==vQ||t==gQ||t==mQ||t==yQ}var F_=xQ;const Me=et(F_);var bQ=ri,wQ=bQ["__core-js_shared__"],_Q=wQ,_y=_Q,QT=function(){var e=/[^.]+$/.exec(_y&&_y.keys&&_y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function SQ(e){return!!QT&&QT in e}var EQ=SQ,TQ=Function.prototype,AQ=TQ.toString;function OQ(e){if(e!=null){try{return AQ.call(e)}catch{}try{return e+""}catch{}}return""}var a5=OQ,jQ=F_,CQ=EQ,NQ=Ks,kQ=a5,PQ=/[\\^$.*+?()[\]{}|]/g,RQ=/^\[object .+?Constructor\]$/,IQ=Function.prototype,DQ=Object.prototype,MQ=IQ.toString,$Q=DQ.hasOwnProperty,LQ=RegExp("^"+MQ.call($Q).replace(PQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FQ(e){if(!NQ(e)||CQ(e))return!1;var t=jQ(e)?LQ:RQ;return t.test(kQ(e))}var BQ=FQ;function UQ(e,t){return e==null?void 0:e[t]}var zQ=UQ,WQ=BQ,HQ=zQ;function VQ(e,t){var r=HQ(e,t);return WQ(r)?r:void 0}var yl=VQ,qQ=yl,KQ=qQ(Object,"create"),Rv=KQ,JT=Rv;function GQ(){this.__data__=JT?JT(null):{},this.size=0}var XQ=GQ;function YQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var QQ=YQ,JQ=Rv,ZQ="__lodash_hash_undefined__",eJ=Object.prototype,tJ=eJ.hasOwnProperty;function rJ(e){var t=this.__data__;if(JQ){var r=t[e];return r===ZQ?void 0:r}return tJ.call(t,e)?t[e]:void 0}var nJ=rJ,aJ=Rv,iJ=Object.prototype,sJ=iJ.hasOwnProperty;function oJ(e){var t=this.__data__;return aJ?t[e]!==void 0:sJ.call(t,e)}var lJ=oJ,cJ=Rv,uJ="__lodash_hash_undefined__";function fJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cJ&&t===void 0?uJ:t,this}var dJ=fJ,hJ=XQ,pJ=QQ,mJ=nJ,vJ=lJ,gJ=dJ;function ku(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ku.prototype.clear=hJ;ku.prototype.delete=pJ;ku.prototype.get=mJ;ku.prototype.has=vJ;ku.prototype.set=gJ;var yJ=ku;function xJ(){this.__data__=[],this.size=0}var bJ=xJ;function wJ(e,t){return e===t||e!==e&&t!==t}var B_=wJ,_J=B_;function SJ(e,t){for(var r=e.length;r--;)if(_J(e[r][0],t))return r;return-1}var Iv=SJ,EJ=Iv,TJ=Array.prototype,AJ=TJ.splice;function OJ(e){var t=this.__data__,r=EJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():AJ.call(t,r,1),--this.size,!0}var jJ=OJ,CJ=Iv;function NJ(e){var t=this.__data__,r=CJ(t,e);return r<0?void 0:t[r][1]}var kJ=NJ,PJ=Iv;function RJ(e){return PJ(this.__data__,e)>-1}var IJ=RJ,DJ=Iv;function MJ(e,t){var r=this.__data__,n=DJ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var $J=MJ,LJ=bJ,FJ=jJ,BJ=kJ,UJ=IJ,zJ=$J;function Pu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pu.prototype.clear=LJ;Pu.prototype.delete=FJ;Pu.prototype.get=BJ;Pu.prototype.has=UJ;Pu.prototype.set=zJ;var Dv=Pu,WJ=yl,HJ=ri,VJ=WJ(HJ,"Map"),U_=VJ,ZT=yJ,qJ=Dv,KJ=U_;function GJ(){this.size=0,this.__data__={hash:new ZT,map:new(KJ||qJ),string:new ZT}}var XJ=GJ;function YJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var QJ=YJ,JJ=QJ;function ZJ(e,t){var r=e.__data__;return JJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Mv=ZJ,eZ=Mv;function tZ(e){var t=eZ(this,e).delete(e);return this.size-=t?1:0,t}var rZ=tZ,nZ=Mv;function aZ(e){return nZ(this,e).get(e)}var iZ=aZ,sZ=Mv;function oZ(e){return sZ(this,e).has(e)}var lZ=oZ,cZ=Mv;function uZ(e,t){var r=cZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var fZ=uZ,dZ=XJ,hZ=rZ,pZ=iZ,mZ=lZ,vZ=fZ;function Ru(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ru.prototype.clear=dZ;Ru.prototype.delete=hZ;Ru.prototype.get=pZ;Ru.prototype.has=mZ;Ru.prototype.set=vZ;var z_=Ru,i5=z_,gZ="Expected a function";function W_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gZ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(W_.Cache||i5),r}W_.Cache=i5;var s5=W_;const yZ=et(s5);var xZ=s5,bZ=500;function wZ(e){var t=xZ(e,function(n){return r.size===bZ&&r.clear(),n}),r=t.cache;return t}var _Z=wZ,SZ=_Z,EZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TZ=/\\(\\)?/g,AZ=SZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(EZ,function(r,n,a,i){t.push(a?i.replace(TZ,"$1"):n||r)}),t}),OZ=AZ;function jZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var H_=jZ,eA=yh,CZ=H_,NZ=Sn,kZ=Cu,tA=eA?eA.prototype:void 0,rA=tA?tA.toString:void 0;function o5(e){if(typeof e=="string")return e;if(NZ(e))return CZ(e,o5)+"";if(kZ(e))return rA?rA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var PZ=o5,RZ=PZ;function IZ(e){return e==null?"":RZ(e)}var l5=IZ,DZ=Sn,MZ=L_,$Z=OZ,LZ=l5;function FZ(e,t){return DZ(e)?e:MZ(e,t)?[e]:$Z(LZ(e))}var c5=FZ,BZ=Cu;function UZ(e){if(typeof e=="string"||BZ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $v=UZ,zZ=c5,WZ=$v;function HZ(e,t){t=zZ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[WZ(t[r++])];return r&&r==n?e:void 0}var V_=HZ,VZ=V_;function qZ(e,t,r){var n=e==null?void 0:VZ(e,t);return n===void 0?r:n}var u5=qZ;const $n=et(u5);function KZ(e){return e==null}var GZ=KZ;const We=et(GZ);var XZ=Ki,YZ=Sn,QZ=Gi,JZ="[object String]";function ZZ(e){return typeof e=="string"||!YZ(e)&&QZ(e)&&XZ(e)==JZ}var eee=ZZ;const Zo=et(eee);var f5={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=Symbol.for("react.element"),K_=Symbol.for("react.portal"),Lv=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),tee=Symbol.for("react.server_context"),Wv=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Kv=Symbol.for("react.lazy"),ree=Symbol.for("react.offscreen"),d5;d5=Symbol.for("react.module.reference");function ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q_:switch(e=e.type,e){case Lv:case Bv:case Fv:case Hv:case Vv:return e;default:switch(e=e&&e.$$typeof,e){case tee:case zv:case Wv:case Kv:case qv:case Uv:return e;default:return t}}case K_:return t}}}lt.ContextConsumer=zv;lt.ContextProvider=Uv;lt.Element=q_;lt.ForwardRef=Wv;lt.Fragment=Lv;lt.Lazy=Kv;lt.Memo=qv;lt.Portal=K_;lt.Profiler=Bv;lt.StrictMode=Fv;lt.Suspense=Hv;lt.SuspenseList=Vv;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return ca(e)===zv};lt.isContextProvider=function(e){return ca(e)===Uv};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q_};lt.isForwardRef=function(e){return ca(e)===Wv};lt.isFragment=function(e){return ca(e)===Lv};lt.isLazy=function(e){return ca(e)===Kv};lt.isMemo=function(e){return ca(e)===qv};lt.isPortal=function(e){return ca(e)===K_};lt.isProfiler=function(e){return ca(e)===Bv};lt.isStrictMode=function(e){return ca(e)===Fv};lt.isSuspense=function(e){return ca(e)===Hv};lt.isSuspenseList=function(e){return ca(e)===Vv};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lv||e===Bv||e===Fv||e===Hv||e===Vv||e===ree||typeof e=="object"&&e!==null&&(e.$$typeof===Kv||e.$$typeof===qv||e.$$typeof===Uv||e.$$typeof===zv||e.$$typeof===Wv||e.$$typeof===d5||e.getModuleId!==void 0)};lt.typeOf=ca;f5.exports=lt;var nee=f5.exports,aee=Ki,iee=Gi,see="[object Number]";function oee(e){return typeof e=="number"||iee(e)&&aee(e)==see}var h5=oee;const lee=et(h5);var cee=h5;function uee(e){return cee(e)&&e!=+e}var fee=uee;const xh=et(fee);var Zr=function(t){return t===0?0:t>0?1:-1},To=function(t){return Zo(t)&&t.indexOf("%")===t.length-1},pe=function(t){return lee(t)&&!xh(t)},dee=function(t){return We(t)},or=function(t){return pe(t)||Zo(t)},hee=0,bh=function(t){var r=++hee;return"".concat(t||"").concat(r)},en=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!Zo(t))return n;var i;if(To(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return xh(i)&&(i=n),a&&i>r&&(i=r),i},ls=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},pee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},rs=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function C1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$n(n,t))===r})}var mee=function(t,r){return pe(t)&&pe(r)?t-r:Zo(t)&&Zo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function hc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}var vee=["viewBox","children"],gee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nA=["points","pathLength"],Sy={svg:vee,polygon:nA,polyline:nA},G_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!Nu(n))return null;var a={};return Object.keys(n).forEach(function(i){G_.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},yee=function(t,r,n){return function(a){return t(r,n,a),null}},el=function(t,r,n){if(!Nu(t)||N1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];G_.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=yee(s,r,n))}),a},xee=["children"],bee=["children"];function aA(e,t){if(e==null)return{};var r=wee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ei=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sA=null,Ey=null,X_=function e(t){if(t===sA&&Array.isArray(Ey))return Ey;var r=[];return C.Children.forEach(t,function(n){We(n)||(nee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ey=r,sA=t,r};function ra(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ei(a)}):n=[Ei(t)],X_(e).forEach(function(a){var i=$n(a,"type.displayName")||$n(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function jn(e,t){var r=ra(e,t);return r&&r[0]}var oA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},_ee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],See=function(t){return t&&t.type&&Zo(t.type)&&_ee.indexOf(t.type)>=0},Eee=function(t,r,n,a){var i,s=(i=Sy==null?void 0:Sy[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Me(t)&&(a&&s.includes(r)||gee.includes(r))||n&&G_.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!Nu(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Eee((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},k1=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!lA(i,s))return!1}return!0},lA=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,i=aA(n,xee),s=r.props||{},o=s.children,l=aA(s,bee);return a&&o?hc(i,l)&&k1(a,o):!a&&!o?hc(i,l):!1}return!1},cA=function(t,r){var n=[],a={};return X_(t).forEach(function(i,s){if(See(i))n.push(i);else if(i){var o=Ei(i.type),l=r[o]||{},c=l.handler,f=l.once;if(c&&(!f||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},Tee=function(t){var r=t&&t.type;return r&&iA[r]?iA[r]:null},Aee=function(t,r){return X_(r).indexOf(t)},Oee=["children","width","height","viewBox","className","style","title","desc"];function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(this,arguments)}function jee(e,t){if(e==null)return{};var r=Cee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=jee(e,Oee),f=a||{width:r,height:n,x:0,y:0},d=Ue("recharts-surface",i);return B.createElement("svg",P1({},De(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),B.createElement("title",null,o),B.createElement("desc",null,l),t)}var Nee=["children","className"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(this,arguments)}function kee(e,t){if(e==null)return{};var r=Pee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var at=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=kee(e,Nee),i=Ue("recharts-layer",n);return B.createElement("g",I1({className:i},De(a,!0),{ref:t}),r)}),ka=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Ree(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Iee=Ree,Dee=Iee;function Mee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Dee(e,t,r)}var $ee=Mee,Lee="\\ud800-\\udfff",Fee="\\u0300-\\u036f",Bee="\\ufe20-\\ufe2f",Uee="\\u20d0-\\u20ff",zee=Fee+Bee+Uee,Wee="\\ufe0e\\ufe0f",Hee="\\u200d",Vee=RegExp("["+Hee+Lee+zee+Wee+"]");function qee(e){return Vee.test(e)}var p5=qee;function Kee(e){return e.split("")}var Gee=Kee,m5="\\ud800-\\udfff",Xee="\\u0300-\\u036f",Yee="\\ufe20-\\ufe2f",Qee="\\u20d0-\\u20ff",Jee=Xee+Yee+Qee,Zee="\\ufe0e\\ufe0f",ete="["+m5+"]",D1="["+Jee+"]",M1="\\ud83c[\\udffb-\\udfff]",tte="(?:"+D1+"|"+M1+")",v5="[^"+m5+"]",g5="(?:\\ud83c[\\udde6-\\uddff]){2}",y5="[\\ud800-\\udbff][\\udc00-\\udfff]",rte="\\u200d",x5=tte+"?",b5="["+Zee+"]?",nte="(?:"+rte+"(?:"+[v5,g5,y5].join("|")+")"+b5+x5+")*",ate=b5+x5+nte,ite="(?:"+[v5+D1+"?",D1,g5,y5,ete].join("|")+")",ste=RegExp(M1+"(?="+M1+")|"+ite+ate,"g");function ote(e){return e.match(ste)||[]}var lte=ote,cte=Gee,ute=p5,fte=lte;function dte(e){return ute(e)?fte(e):cte(e)}var hte=dte,pte=$ee,mte=p5,vte=hte,gte=l5;function yte(e){return function(t){t=gte(t);var r=mte(t)?vte(t):void 0,n=r?r[0]:t.charAt(0),a=r?pte(r,1).join(""):t.slice(1);return n[e]()+a}}var xte=yte,bte=xte,wte=bte("toUpperCase"),_te=wte;const Gv=et(_te);function mt(e){return function(){return e}}const w5=Math.cos,Wp=Math.sin,Ma=Math.sqrt,Hp=Math.PI,Xv=2*Hp,$1=Math.PI,L1=2*$1,fo=1e-6,Ste=L1-fo;function _5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ete(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Tte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_5:Ete(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,f=s-t,d=o-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fo)if(!(Math.abs(d*l-c*f)>fo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,y=p*p+g*g,b=Math.sqrt(m),v=Math.sqrt(h),x=i*Math.tan(($1-Math.acos((m+h-y)/(2*b*v)))/2),_=x/v,w=x/b;Math.abs(_-1)>fo&&this._append`L${t+_*f},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*p>f*g)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,f=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>fo||Math.abs(this._y1-f)>fo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%L1+L1),h>Ste?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>fo&&this._append`A${n},${n},0,${+(h>=$1)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Y_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Tte(t)}function Q_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S5(e){this._context=e}S5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yv(e){return new S5(e)}function E5(e){return e[0]}function T5(e){return e[1]}function A5(e,t){var r=mt(!0),n=null,a=Yv,i=null,s=Y_(o);e=typeof e=="function"?e:e===void 0?E5:mt(e),t=typeof t=="function"?t:t===void 0?T5:mt(t);function o(l){var c,f=(l=Q_(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:mt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:mt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:mt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function p0(e,t,r){var n=null,a=mt(!0),i=null,s=Yv,o=null,l=Y_(c);e=typeof e=="function"?e:e===void 0?E5:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?T5:mt(+r);function c(d){var h,p,g,m=(d=Q_(d)).length,y,b=!1,v,x=new Array(m),_=new Array(m);for(i==null&&(o=s(v=l())),h=0;h<=m;++h){if(!(h<m&&a(y=d[h],h,d))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(x[g],_[g]);o.lineEnd(),o.areaEnd()}b&&(x[h]=+e(y,h,d),_[h]=+t(y,h,d),o.point(n?+n(y,h,d):x[h],r?+r(y,h,d):_[h]))}if(v)return o=null,v+""||null}function f(){return A5().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:mt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:mt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:mt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:mt(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:mt(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class O5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ate(e){return new O5(e,!0)}function Ote(e){return new O5(e,!1)}const J_={draw(e,t){const r=Ma(t/Hp);e.moveTo(r,0),e.arc(0,0,r,0,Xv)}},jte={draw(e,t){const r=Ma(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},j5=Ma(1/3),Cte=j5*2,Nte={draw(e,t){const r=Ma(t/Cte),n=r*j5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kte={draw(e,t){const r=Ma(t),n=-r/2;e.rect(n,n,r,r)}},Pte=.8908130915292852,C5=Wp(Hp/10)/Wp(7*Hp/10),Rte=Wp(Xv/10)*C5,Ite=-w5(Xv/10)*C5,Dte={draw(e,t){const r=Ma(t*Pte),n=Rte*r,a=Ite*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Xv*i/5,o=w5(s),l=Wp(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Ty=Ma(3),Mte={draw(e,t){const r=-Ma(t/(Ty*3));e.moveTo(0,r*2),e.lineTo(-Ty*r,-r),e.lineTo(Ty*r,-r),e.closePath()}},Wn=-.5,Hn=Ma(3)/2,F1=1/Ma(12),$te=(F1/2+1)*3,Lte={draw(e,t){const r=Ma(t/$te),n=r/2,a=r*F1,i=n,s=r*F1+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Wn*n-Hn*a,Hn*n+Wn*a),e.lineTo(Wn*i-Hn*s,Hn*i+Wn*s),e.lineTo(Wn*o-Hn*l,Hn*o+Wn*l),e.lineTo(Wn*n+Hn*a,Wn*a-Hn*n),e.lineTo(Wn*i+Hn*s,Wn*s-Hn*i),e.lineTo(Wn*o+Hn*l,Wn*l-Hn*o),e.closePath()}};function Fte(e,t){let r=null,n=Y_(a);e=typeof e=="function"?e:mt(e||J_),t=typeof t=="function"?t:mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Vp(){}function qp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function N5(e){this._context=e}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bte(e){return new N5(e)}function k5(e){this._context=e}k5.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ute(e){return new k5(e)}function P5(e){this._context=e}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zte(e){return new P5(e)}function R5(e){this._context=e}R5.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Wte(e){return new R5(e)}function uA(e){return e<0?-1:1}function fA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(uA(i)+uA(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function dA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ay(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Kp(e){this._context=e}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ay(this,this._t0,dA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ay(this,dA(this,r=fA(this,e,t)),r);break;default:Ay(this,this._t0,r=fA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function I5(e){this._context=new D5(e)}(I5.prototype=Object.create(Kp.prototype)).point=function(e,t){Kp.prototype.point.call(this,t,e)};function D5(e){this._context=e}D5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Hte(e){return new Kp(e)}function Vte(e){return new I5(e)}function M5(e){this._context=e}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hA(e),a=hA(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qte(e){return new M5(e)}function Qv(e,t){this._context=e,this._t=t}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Kte(e){return new Qv(e,.5)}function Gte(e){return new Qv(e,0)}function Xte(e){return new Qv(e,1)}function Wc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function B1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Yte(e,t){return e[t]}function Qte(e){const t=[];return t.key=e,t}function Jte(){var e=mt([]),t=B1,r=Wc,n=Yte;function a(i){var s=Array.from(e.apply(this,arguments),Qte),o,l=s.length,c=-1,f;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,f=Q_(t(s));o<l;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?B1:typeof i=="function"?i:mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Wc,a):r},a}function Zte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Wc(e,t)}}function ere(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Wc(e,t)}}function tre(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],y=m[n][1]||0,b=m[n-1][1]||0;p+=y-b}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Wc(e,t)}}function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}var rre=["type","size","sizeType"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return t=are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=ire(e,"string");return bd(t)=="symbol"?t:t+""}function ire(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sre(e,t){if(e==null)return{};var r=ore(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ore(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $5={symbolCircle:J_,symbolCross:jte,symbolDiamond:Nte,symbolSquare:kte,symbolStar:Dte,symbolTriangle:Mte,symbolWye:Lte},lre=Math.PI/180,cre=function(t){var r="symbol".concat(Gv(t));return $5[r]||J_},ure=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*lre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fre=function(t,r){$5["symbol".concat(Gv(t))]=r},Z_=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=sre(t,rre),c=mA(mA({},l),{},{type:n,size:i,sizeType:o}),f=function(){var y=cre(n),b=Fte().type(y).size(ure(i,o,n));return b()},d=c.className,h=c.cx,p=c.cy,g=De(c,!0);return h===+h&&p===+p&&i===+i?B.createElement("path",U1({},g,{className:Ue("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Z_.registerSymbol=fre;function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){wd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F5(n.key),n)}}function mre(e,t,r){return t&&pre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vre(e,t,r){return t=Gp(t),gre(e,L5()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function gre(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yre(e)}function yre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function xre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(e,t)}function wd(e,t,r){return t=F5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=bre(e,"string");return Hc(t)=="symbol"?t:t+""}function bre(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vn=32,e2=function(e){function t(){return hre(this,t),vre(this,t,arguments)}return xre(t,e),mre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Vn/2,s=Vn/6,o=Vn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Vn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Vn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var c=dre({},n);return delete c.legendIcon,B.cloneElement(n.legendIcon,c)}return B.createElement(Z_,{fill:l,cx:i,cy:i,size:Vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Vn,height:Vn},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,y=Ue(wd(wd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Me(p.value)?null:p.value;ka(!Me(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?c:p.color;return B.createElement("li",z1({className:y,style:d,key:"legend-item-".concat(g)},el(n.props,p,g)),B.createElement(R1,{width:s,height:s,viewBox:f,style:h},n.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);wd(e2,"displayName","Legend");wd(e2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wre=Dv;function _re(){this.__data__=new wre,this.size=0}var Sre=_re;function Ere(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Tre=Ere;function Are(e){return this.__data__.get(e)}var Ore=Are;function jre(e){return this.__data__.has(e)}var Cre=jre,Nre=Dv,kre=U_,Pre=z_,Rre=200;function Ire(e,t){var r=this.__data__;if(r instanceof Nre){var n=r.__data__;if(!kre||n.length<Rre-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pre(n)}return r.set(e,t),this.size=r.size,this}var Dre=Ire,Mre=Dv,$re=Sre,Lre=Tre,Fre=Ore,Bre=Cre,Ure=Dre;function Iu(e){var t=this.__data__=new Mre(e);this.size=t.size}Iu.prototype.clear=$re;Iu.prototype.delete=Lre;Iu.prototype.get=Fre;Iu.prototype.has=Bre;Iu.prototype.set=Ure;var B5=Iu,zre="__lodash_hash_undefined__";function Wre(e){return this.__data__.set(e,zre),this}var Hre=Wre;function Vre(e){return this.__data__.has(e)}var qre=Vre,Kre=z_,Gre=Hre,Xre=qre;function Xp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kre;++t<r;)this.add(e[t])}Xp.prototype.add=Xp.prototype.push=Gre;Xp.prototype.has=Xre;var U5=Xp;function Yre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var z5=Yre;function Qre(e,t){return e.has(t)}var W5=Qre,Jre=U5,Zre=z5,ene=W5,tne=1,rne=2;function nne(e,t,r,n,a,i){var s=r&tne,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&rne?new Jre:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],m=t[d];if(n)var y=s?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Zre(t,function(b,v){if(!ene(p,v)&&(g===b||a(g,b,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var H5=nne,ane=ri,ine=ane.Uint8Array,sne=ine;function one(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var lne=one;function cne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var t2=cne,gA=yh,yA=sne,une=B_,fne=H5,dne=lne,hne=t2,pne=1,mne=2,vne="[object Boolean]",gne="[object Date]",yne="[object Error]",xne="[object Map]",bne="[object Number]",wne="[object RegExp]",_ne="[object Set]",Sne="[object String]",Ene="[object Symbol]",Tne="[object ArrayBuffer]",Ane="[object DataView]",xA=gA?gA.prototype:void 0,Oy=xA?xA.valueOf:void 0;function One(e,t,r,n,a,i,s){switch(r){case Ane:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tne:return!(e.byteLength!=t.byteLength||!i(new yA(e),new yA(t)));case vne:case gne:case bne:return une(+e,+t);case yne:return e.name==t.name&&e.message==t.message;case wne:case Sne:return e==t+"";case xne:var o=dne;case _ne:var l=n&pne;if(o||(o=hne),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=mne,s.set(e,t);var f=fne(o(e),o(t),n,a,i,s);return s.delete(e),f;case Ene:if(Oy)return Oy.call(e)==Oy.call(t)}return!1}var jne=One;function Cne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var V5=Cne,Nne=V5,kne=Sn;function Pne(e,t,r){var n=t(e);return kne(e)?n:Nne(n,r(e))}var Rne=Pne;function Ine(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Dne=Ine;function Mne(){return[]}var $ne=Mne,Lne=Dne,Fne=$ne,Bne=Object.prototype,Une=Bne.propertyIsEnumerable,bA=Object.getOwnPropertySymbols,zne=bA?function(e){return e==null?[]:(e=Object(e),Lne(bA(e),function(t){return Une.call(e,t)}))}:Fne,Wne=zne;function Hne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Vne=Hne,qne=Ki,Kne=Gi,Gne="[object Arguments]";function Xne(e){return Kne(e)&&qne(e)==Gne}var Yne=Xne,wA=Yne,Qne=Gi,q5=Object.prototype,Jne=q5.hasOwnProperty,Zne=q5.propertyIsEnumerable,eae=wA(function(){return arguments}())?wA:function(e){return Qne(e)&&Jne.call(e,"callee")&&!Zne.call(e,"callee")},r2=eae,Yp={exports:{}};function tae(){return!1}var rae=tae;Yp.exports;(function(e,t){var r=ri,n=rae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Yp,Yp.exports);var K5=Yp.exports,nae=9007199254740991,aae=/^(?:0|[1-9]\d*)$/;function iae(e,t){var r=typeof e;return t=t??nae,!!t&&(r=="number"||r!="symbol"&&aae.test(e))&&e>-1&&e%1==0&&e<t}var n2=iae,sae=9007199254740991;function oae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sae}var a2=oae,lae=Ki,cae=a2,uae=Gi,fae="[object Arguments]",dae="[object Array]",hae="[object Boolean]",pae="[object Date]",mae="[object Error]",vae="[object Function]",gae="[object Map]",yae="[object Number]",xae="[object Object]",bae="[object RegExp]",wae="[object Set]",_ae="[object String]",Sae="[object WeakMap]",Eae="[object ArrayBuffer]",Tae="[object DataView]",Aae="[object Float32Array]",Oae="[object Float64Array]",jae="[object Int8Array]",Cae="[object Int16Array]",Nae="[object Int32Array]",kae="[object Uint8Array]",Pae="[object Uint8ClampedArray]",Rae="[object Uint16Array]",Iae="[object Uint32Array]",xt={};xt[Aae]=xt[Oae]=xt[jae]=xt[Cae]=xt[Nae]=xt[kae]=xt[Pae]=xt[Rae]=xt[Iae]=!0;xt[fae]=xt[dae]=xt[Eae]=xt[hae]=xt[Tae]=xt[pae]=xt[mae]=xt[vae]=xt[gae]=xt[yae]=xt[xae]=xt[bae]=xt[wae]=xt[_ae]=xt[Sae]=!1;function Dae(e){return uae(e)&&cae(e.length)&&!!xt[lae(e)]}var Mae=Dae;function $ae(e){return function(t){return e(t)}}var G5=$ae,Qp={exports:{}};Qp.exports;(function(e,t){var r=r5,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Qp,Qp.exports);var Lae=Qp.exports,Fae=Mae,Bae=G5,_A=Lae,SA=_A&&_A.isTypedArray,Uae=SA?Bae(SA):Fae,X5=Uae,zae=Vne,Wae=r2,Hae=Sn,Vae=K5,qae=n2,Kae=X5,Gae=Object.prototype,Xae=Gae.hasOwnProperty;function Yae(e,t){var r=Hae(e),n=!r&&Wae(e),a=!r&&!n&&Vae(e),i=!r&&!n&&!a&&Kae(e),s=r||n||a||i,o=s?zae(e.length,String):[],l=o.length;for(var c in e)(t||Xae.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qae(c,l)))&&o.push(c);return o}var Qae=Yae,Jae=Object.prototype;function Zae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jae;return e===r}var eie=Zae;function tie(e,t){return function(r){return e(t(r))}}var Y5=tie,rie=Y5,nie=rie(Object.keys,Object),aie=nie,iie=eie,sie=aie,oie=Object.prototype,lie=oie.hasOwnProperty;function cie(e){if(!iie(e))return sie(e);var t=[];for(var r in Object(e))lie.call(e,r)&&r!="constructor"&&t.push(r);return t}var uie=cie,fie=F_,die=a2;function hie(e){return e!=null&&die(e.length)&&!fie(e)}var wh=hie,pie=Qae,mie=uie,vie=wh;function gie(e){return vie(e)?pie(e):mie(e)}var Jv=gie,yie=Rne,xie=Wne,bie=Jv;function wie(e){return yie(e,bie,xie)}var _ie=wie,EA=_ie,Sie=1,Eie=Object.prototype,Tie=Eie.hasOwnProperty;function Aie(e,t,r,n,a,i){var s=r&Sie,o=EA(e),l=o.length,c=EA(t),f=c.length;if(l!=f&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:Tie.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=s;++d<l;){h=o[d];var b=e[h],v=t[h];if(n)var x=s?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(x===void 0?b===v||a(b,v,r,n,i):x)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var Oie=Aie,jie=yl,Cie=ri,Nie=jie(Cie,"DataView"),kie=Nie,Pie=yl,Rie=ri,Iie=Pie(Rie,"Promise"),Die=Iie,Mie=yl,$ie=ri,Lie=Mie($ie,"Set"),Q5=Lie,Fie=yl,Bie=ri,Uie=Fie(Bie,"WeakMap"),zie=Uie,H1=kie,V1=U_,q1=Die,K1=Q5,G1=zie,J5=Ki,Du=a5,TA="[object Map]",Wie="[object Object]",AA="[object Promise]",OA="[object Set]",jA="[object WeakMap]",CA="[object DataView]",Hie=Du(H1),Vie=Du(V1),qie=Du(q1),Kie=Du(K1),Gie=Du(G1),ho=J5;(H1&&ho(new H1(new ArrayBuffer(1)))!=CA||V1&&ho(new V1)!=TA||q1&&ho(q1.resolve())!=AA||K1&&ho(new K1)!=OA||G1&&ho(new G1)!=jA)&&(ho=function(e){var t=J5(e),r=t==Wie?e.constructor:void 0,n=r?Du(r):"";if(n)switch(n){case Hie:return CA;case Vie:return TA;case qie:return AA;case Kie:return OA;case Gie:return jA}return t});var Xie=ho,jy=B5,Yie=H5,Qie=jne,Jie=Oie,NA=Xie,kA=Sn,PA=K5,Zie=X5,ese=1,RA="[object Arguments]",IA="[object Array]",m0="[object Object]",tse=Object.prototype,DA=tse.hasOwnProperty;function rse(e,t,r,n,a,i){var s=kA(e),o=kA(t),l=s?IA:NA(e),c=o?IA:NA(t);l=l==RA?m0:l,c=c==RA?m0:c;var f=l==m0,d=c==m0,h=l==c;if(h&&PA(e)){if(!PA(t))return!1;s=!0,f=!1}if(h&&!f)return i||(i=new jy),s||Zie(e)?Yie(e,t,r,n,a,i):Qie(e,t,l,r,n,a,i);if(!(r&ese)){var p=f&&DA.call(e,"__wrapped__"),g=d&&DA.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return i||(i=new jy),a(m,y,r,n,i)}}return h?(i||(i=new jy),Jie(e,t,r,n,a,i)):!1}var nse=rse,ase=nse,MA=Gi;function Z5(e,t,r,n,a){return e===t?!0:e==null||t==null||!MA(e)&&!MA(t)?e!==e&&t!==t:ase(e,t,r,n,Z5,a)}var i2=Z5,ise=B5,sse=i2,ose=1,lse=2;function cse(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new ise;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?sse(f,c,ose|lse,n,d):h))return!1}}return!0}var use=cse,fse=Ks;function dse(e){return e===e&&!fse(e)}var eI=dse,hse=eI,pse=Jv;function mse(e){for(var t=pse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,hse(a)]}return t}var vse=mse;function gse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tI=gse,yse=use,xse=vse,bse=tI;function wse(e){var t=xse(e);return t.length==1&&t[0][2]?bse(t[0][0],t[0][1]):function(r){return r===e||yse(r,e,t)}}var _se=wse;function Sse(e,t){return e!=null&&t in Object(e)}var Ese=Sse,Tse=c5,Ase=r2,Ose=Sn,jse=n2,Cse=a2,Nse=$v;function kse(e,t,r){t=Tse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=Nse(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Cse(a)&&jse(s,a)&&(Ose(e)||Ase(e)))}var Pse=kse,Rse=Ese,Ise=Pse;function Dse(e,t){return e!=null&&Ise(e,t,Rse)}var Mse=Dse,$se=i2,Lse=u5,Fse=Mse,Bse=L_,Use=eI,zse=tI,Wse=$v,Hse=1,Vse=2;function qse(e,t){return Bse(e)&&Use(t)?zse(Wse(e),t):function(r){var n=Lse(r,e);return n===void 0&&n===t?Fse(r,e):$se(t,n,Hse|Vse)}}var Kse=qse;function Gse(e){return e}var Mu=Gse;function Xse(e){return function(t){return t==null?void 0:t[e]}}var Yse=Xse,Qse=V_;function Jse(e){return function(t){return Qse(t,e)}}var Zse=Jse,eoe=Yse,toe=Zse,roe=L_,noe=$v;function aoe(e){return roe(e)?eoe(noe(e)):toe(e)}var ioe=aoe,soe=_se,ooe=Kse,loe=Mu,coe=Sn,uoe=ioe;function foe(e){return typeof e=="function"?e:e==null?loe:typeof e=="object"?coe(e)?ooe(e[0],e[1]):soe(e):uoe(e)}var ni=foe;function doe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var rI=doe;function hoe(e){return e!==e}var poe=hoe;function moe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var voe=moe,goe=rI,yoe=poe,xoe=voe;function boe(e,t,r){return t===t?xoe(e,t,r):goe(e,yoe,r)}var woe=boe,_oe=woe;function Soe(e,t){var r=e==null?0:e.length;return!!r&&_oe(e,t,0)>-1}var Eoe=Soe;function Toe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Aoe=Toe;function Ooe(){}var joe=Ooe,Cy=Q5,Coe=joe,Noe=t2,koe=1/0,Poe=Cy&&1/Noe(new Cy([,-0]))[1]==koe?function(e){return new Cy(e)}:Coe,Roe=Poe,Ioe=U5,Doe=Eoe,Moe=Aoe,$oe=W5,Loe=Roe,Foe=t2,Boe=200;function Uoe(e,t,r){var n=-1,a=Doe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Moe;else if(i>=Boe){var c=t?null:Loe(e);if(c)return Foe(c);s=!1,a=$oe,l=new Ioe}else l=t?[]:o;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(f)}else a(l,d,r)||(l!==o&&l.push(d),o.push(f))}return o}var zoe=Uoe,Woe=ni,Hoe=zoe;function Voe(e,t){return e&&e.length?Hoe(e,Woe(t)):[]}var qoe=Voe;const $A=et(qoe);function nI(e,t,r){return t===!0?$A(e,r):Me(t)?$A(e,t):e}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var Koe=["ref"];function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iI(n.key),n)}}function Xoe(e,t,r){return t&&FA(e.prototype,t),r&&FA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yoe(e,t,r){return t=Jp(t),Qoe(e,aI()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function Qoe(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(e)}function Joe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aI=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function Zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X1(e,t)}function X1(e,t){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X1(e,t)}function Zv(e,t,r){return t=iI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=ele(e,"string");return Vc(t)=="symbol"?t:t+""}function ele(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tle(e,t){if(e==null)return{};var r=rle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nle(e){return e.value}function ale(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=tle(t,Koe);return B.createElement(e2,r)}var BA=1,Ti=function(e){function t(){var r;Goe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yoe(this,t,[].concat(a)),Zv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Zoe(t,e),Xoe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>BA||Math.abs(a.height-this.lastBoundingBox.height)>BA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ii({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((f||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ii(ii({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=ii(ii({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},ale(i,ii(ii({},this.props),{},{payload:nI(f,c,nle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ii(ii({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&pe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(C.PureComponent);Zv(Ti,"displayName","Legend");Zv(Ti,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UA=yh,ile=r2,sle=Sn,zA=UA?UA.isConcatSpreadable:void 0;function ole(e){return sle(e)||ile(e)||!!(zA&&e&&e[zA])}var lle=ole,cle=V5,ule=lle;function sI(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=ule),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?sI(o,t-1,r,n,a):cle(a,o):n||(a[a.length]=o)}return a}var oI=sI;function fle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var dle=fle,hle=dle,ple=hle(),mle=ple,vle=mle,gle=Jv;function yle(e,t){return e&&vle(e,t,gle)}var lI=yle,xle=wh;function ble(e,t){return function(r,n){if(r==null)return r;if(!xle(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var wle=ble,_le=lI,Sle=wle,Ele=Sle(_le),s2=Ele,Tle=s2,Ale=wh;function Ole(e,t){var r=-1,n=Ale(e)?Array(e.length):[];return Tle(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var cI=Ole;function jle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Cle=jle,WA=Cu;function Nle(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=WA(e),s=t!==void 0,o=t===null,l=t===t,c=WA(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var kle=Nle,Ple=kle;function Rle(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=Ple(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var Ile=Rle,Ny=H_,Dle=V_,Mle=ni,$le=cI,Lle=Cle,Fle=G5,Ble=Ile,Ule=Mu,zle=Sn;function Wle(e,t,r){t.length?t=Ny(t,function(i){return zle(i)?function(s){return Dle(s,i.length===1?i[0]:i)}:i}):t=[Ule];var n=-1;t=Ny(t,Fle(Mle));var a=$le(e,function(i,s,o){var l=Ny(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return Lle(a,function(i,s){return Ble(i,s,r)})}var Hle=Wle;function Vle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qle=Vle,Kle=qle,HA=Math.max;function Gle(e,t,r){return t=HA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=HA(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),Kle(e,this,o)}}var Xle=Gle;function Yle(e){return function(){return e}}var Qle=Yle,Jle=yl,Zle=function(){try{var e=Jle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uI=Zle,ece=Qle,VA=uI,tce=Mu,rce=VA?function(e,t){return VA(e,"toString",{configurable:!0,enumerable:!1,value:ece(t),writable:!0})}:tce,nce=rce,ace=800,ice=16,sce=Date.now;function oce(e){var t=0,r=0;return function(){var n=sce(),a=ice-(n-r);if(r=n,a>0){if(++t>=ace)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lce=oce,cce=nce,uce=lce,fce=uce(cce),dce=fce,hce=Mu,pce=Xle,mce=dce;function vce(e,t){return mce(pce(e,t,hce),e+"")}var gce=vce,yce=B_,xce=wh,bce=n2,wce=Ks;function _ce(e,t,r){if(!wce(r))return!1;var n=typeof t;return(n=="number"?xce(r)&&bce(t,r.length):n=="string"&&t in r)?yce(r[t],e):!1}var eg=_ce,Sce=oI,Ece=Hle,Tce=gce,qA=eg,Ace=Tce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qA(e,t[0],t[1])?t=[]:r>2&&qA(t[0],t[1],t[2])&&(t=[t[0]]),Ece(e,Sce(t,1),[])}),Oce=Ace;const o2=et(Oce);function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function jce(e,t){return Pce(e)||kce(e,t)||Nce(e,t)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Pce(e){if(Array.isArray(e))return e}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){Rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rce(e,t,r){return t=Ice(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=Dce(e,"string");return _d(t)=="symbol"?t:t+""}function Dce(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mce(e){return Array.isArray(e)&&or(e[0])&&or(e[1])?e.join(" ~ "):e}var $ce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,y=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,x=function(){if(f&&f.length){var L={padding:0,margin:0},W=(h?o2(f,h):f).map(function(Z,G){if(Z.type==="none")return null;var re=ky({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},o),q=Z.formatter||d||Mce,V=Z.value,K=Z.name,ae=V,de=K;if(q&&ae!=null&&de!=null){var P=q(V,K,Z,G,f);if(Array.isArray(P)){var H=jce(P,2);ae=H[0],de=H[1]}else ae=P}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:re},or(de)?B.createElement("span",{className:"recharts-tooltip-item-name"},de):null,or(de)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},ae),B.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:L},W)}return null},_=ky({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=ky({margin:0},c),S=!We(m),E=S?m:"",T=Ue("recharts-default-tooltip",p),A=Ue("recharts-tooltip-label",g);S&&y&&f!==void 0&&f!==null&&(E=y(m,f));var N=v?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",Y1({className:T,style:_},N),B.createElement("p",{className:A,style:w},B.isValidElement(E)?E:"".concat(E)),x())};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function v0(e,t,r){return t=Lce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lce(e){var t=Fce(e,"string");return Sd(t)=="symbol"?t:t+""}function Fce(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rf="recharts-tooltip-wrapper",Bce={visibility:"hidden"};function Uce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ue(rf,v0(v0(v0(v0({},"".concat(rf,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(rf,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(rf,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(rf,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function XA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var f=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(f,l[n]):Math.max(d,l[n])}function zce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Wce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,f,d;return s.height>0&&s.width>0&&r?(f=XA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=XA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=zce({translateX:f,translateY:d,useTranslate3d:o})):c=Bce,{cssProperties:c,cssClasses:Uce({translateX:f,translateY:d,coordinate:r})}}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){J1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dI(n.key),n)}}function qce(e,t,r){return t&&Vce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kce(e,t,r){return t=Zp(t),Gce(e,fI()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function Gce(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(e)}function Xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function Yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(e,t)}function J1(e,t,r){return t=dI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dI(e){var t=Qce(e,"string");return qc(t)=="symbol"?t:t+""}function Qce(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JA=1,Jce=function(e){function t(){var r;Hce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Kce(this,t,[].concat(a)),J1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),J1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return Yce(t,e),qce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>JA||Math.abs(n.height-this.state.lastBoundingBox.height)>JA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,x=Wce({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),_=x.cssClasses,w=x.cssProperties,S=QA(QA({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return B.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(T){n.wrapperNode=T}},c)}}])}(C.PureComponent),Zce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$u={isSsr:Zce()};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){l2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pI(n.key),n)}}function rue(e,t,r){return t&&tue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nue(e,t,r){return t=em(t),aue(e,hI()?Reflect.construct(t,r||[],em(e).constructor):t.apply(e,r))}function aue(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iue(e)}function iue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(e)}function sue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z1(e,t)}function Z1(e,t){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z1(e,t)}function l2(e,t,r){return t=pI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=oue(e,"string");return Kc(t)=="symbol"?t:t+""}function oue(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lue(e){return e.dataKey}function cue(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement($ce,t)}var dr=function(e){function t(){return eue(this,t),nue(this,t,arguments)}return sue(t,e),rue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,y=a.position,b=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,_=a.wrapperStyle,w=g??[];d&&w.length&&(w=nI(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,lue));var S=w.length>0;return B.createElement(Jce,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:f,hasPayload:S,offset:p,position:y,reverseDirection:b,useTranslate3d:v,viewBox:x,wrapperStyle:_},cue(c,eO(eO({},this.props),{},{payload:w})))}}])}(C.PureComponent);l2(dr,"displayName","Tooltip");l2(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$u.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uue=ri,fue=function(){return uue.Date.now()},due=fue,hue=/\s/;function pue(e){for(var t=e.length;t--&&hue.test(e.charAt(t)););return t}var mue=pue,vue=mue,gue=/^\s+/;function yue(e){return e&&e.slice(0,vue(e)+1).replace(gue,"")}var xue=yue,bue=xue,tO=Ks,wue=Cu,rO=NaN,_ue=/^[-+]0x[0-9a-f]+$/i,Sue=/^0b[01]+$/i,Eue=/^0o[0-7]+$/i,Tue=parseInt;function Aue(e){if(typeof e=="number")return e;if(wue(e))return rO;if(tO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bue(e);var r=Sue.test(e);return r||Eue.test(e)?Tue(e.slice(2),r?2:8):_ue.test(e)?rO:+e}var mI=Aue,Oue=Ks,Py=due,nO=mI,jue="Expected a function",Cue=Math.max,Nue=Math.min;function kue(e,t,r){var n,a,i,s,o,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(jue);t=nO(t)||0,Oue(r)&&(f=!!r.leading,d="maxWait"in r,i=d?Cue(nO(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var E=n,T=a;return n=a=void 0,c=S,s=e.apply(T,E),s}function g(S){return c=S,o=setTimeout(b,t),f?p(S):s}function m(S){var E=S-l,T=S-c,A=t-E;return d?Nue(A,i-T):A}function y(S){var E=S-l,T=S-c;return l===void 0||E>=t||E<0||d&&T>=i}function b(){var S=Py();if(y(S))return v(S);o=setTimeout(b,m(S))}function v(S){return o=void 0,h&&n?p(S):(n=a=void 0,s)}function x(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function _(){return o===void 0?s:v(Py())}function w(){var S=Py(),E=y(S);if(n=arguments,a=this,l=S,E){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(b,t),p(l)}return o===void 0&&(o=setTimeout(b,t)),s}return w.cancel=x,w.flush=_,w}var Pue=kue,Rue=Pue,Iue=Ks,Due="Expected a function";function Mue(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Due);return Iue(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Rue(e,t,{leading:n,maxWait:t,trailing:a})}var $ue=Mue;const vI=et($ue);function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Lue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lue(e,t,r){return t=Fue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=Bue(e,"string");return Ed(t)=="symbol"?t:t+""}function Bue(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uue(e,t){return Vue(e)||Hue(e,t)||Wue(e,t)||zue()}function zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(e,t){if(e){if(typeof e=="string")return iO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,t)}}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Vue(e){if(Array.isArray(e))return e}var Ai=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,y=e.id,b=e.className,v=e.onResize,x=e.style,_=x===void 0?{}:x,w=C.useRef(null),S=C.useRef();S.current=v,C.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=C.useState({containerWidth:a.width,containerHeight:a.height}),T=Uue(E,2),A=T[0],N=T[1],j=C.useCallback(function(W,Z){N(function(G){var re=Math.round(W),q=Math.round(Z);return G.containerWidth===re&&G.containerHeight===q?G:{containerWidth:re,containerHeight:q}})},[]);C.useEffect(function(){var W=function(K){var ae,de=K[0].contentRect,P=de.width,H=de.height;j(P,H),(ae=S.current)===null||ae===void 0||ae.call(S,P,H)};m>0&&(W=vI(W,m,{trailing:!0,leading:!1}));var Z=new ResizeObserver(W),G=w.current.getBoundingClientRect(),re=G.width,q=G.height;return j(re,q),Z.observe(w.current),function(){Z.disconnect()}},[j,m]);var L=C.useMemo(function(){var W=A.containerWidth,Z=A.containerHeight;if(W<0||Z<0)return null;ka(To(s)||To(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=To(s)?W:s,re=To(l)?Z:l;r&&r>0&&(G?re=G/r:re&&(G=re*r),h&&re>h&&(re=h)),ka(G>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,re,s,l,f,d,r);var q=!Array.isArray(p)&&Ei(p.type).endsWith("Chart");return B.Children.map(p,function(V){return B.isValidElement(V)?C.cloneElement(V,g0({width:G,height:re},q?{style:g0({height:"100%",width:"100%",maxHeight:re,maxWidth:G},V.props.style)}:{})):V})},[r,p,l,h,d,f,A,s]);return B.createElement("div",{id:y?"".concat(y):void 0,className:Ue("recharts-responsive-container",b),style:g0(g0({},_),{},{width:s,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},L)}),Xi=function(t){return null};Xi.displayName="Cell";function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){que(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function que(e,t,r){return t=Kue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kue(e){var t=Gue(e,"string");return Td(t)=="symbol"?t:t+""}function Gue(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nl={widthCache:{},cacheCount:0},Xue=2e3,Yue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oO="recharts_measurement_span";function Que(e){var t=eb({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Lf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$u.isSsr)return{width:0,height:0};var n=Que(r),a=JSON.stringify({text:t,copyStyle:n});if(Nl.widthCache[a])return Nl.widthCache[a];try{var i=document.getElementById(oO);i||(i=document.createElement("span"),i.setAttribute("id",oO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=eb(eb({},Yue),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Nl.widthCache[a]=l,++Nl.cacheCount>Xue&&(Nl.cacheCount=0,Nl.widthCache={}),l}catch{return{width:0,height:0}}},Jue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function tm(e,t){return rfe(e)||tfe(e,t)||efe(e,t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(e,t){if(e){if(typeof e=="string")return lO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(e,t)}}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function rfe(e){if(Array.isArray(e))return e}function nfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ife(n.key),n)}}function afe(e,t,r){return t&&cO(e.prototype,t),r&&cO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ife(e){var t=sfe(e,"string");return Ad(t)=="symbol"?t:t+""}function sfe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ofe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cfe=Object.keys(gI),Xl="NaN";function ufe(e,t){return e*gI[t]}var y0=function(){function e(t,r){nfe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ofe.test(r)&&(this.num=NaN,this.unit=""),cfe.includes(r)&&(this.num=ufe(t,r),this.unit="px")}return afe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=lfe.exec(r))!==null&&n!==void 0?n:[],i=tm(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function yI(e){if(e.includes(Xl))return Xl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uO.exec(t))!==null&&r!==void 0?r:[],a=tm(n,4),i=a[1],s=a[2],o=a[3],l=y0.parse(i??""),c=y0.parse(o??""),f=s==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Xl;t=t.replace(uO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=fO.exec(t))!==null&&d!==void 0?d:[],p=tm(h,4),g=p[1],m=p[2],y=p[3],b=y0.parse(g??""),v=y0.parse(y??""),x=m==="+"?b.add(v):b.subtract(v);if(x.isNaN())return Xl;t=t.replace(fO,x.toString())}return t}var dO=/\(([^()]*)\)/;function ffe(e){for(var t=e;t.includes("(");){var r=dO.exec(t),n=tm(r,2),a=n[1];t=t.replace(dO,yI(a))}return t}function dfe(e){var t=e.replace(/\s+/g,"");return t=ffe(t),t=yI(t),t}function hfe(e){try{return dfe(e)}catch{return Xl}}function Ry(e){var t=hfe(e.slice(5,-1));return t===Xl?"":t}var pfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mfe=["dx","dy","angle","className","breakAll"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function hO(e,t){if(e==null)return{};var r=vfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pO(e,t){return bfe(e)||xfe(e,t)||yfe(e,t)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yfe(e,t){if(e){if(typeof e=="string")return mO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(e,t)}}function mO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function bfe(e){if(Array.isArray(e))return e}var xI=/[ \f\n\r\t\v\u2028\u2029]+/,bI=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];We(r)||(n?i=r.toString().split(""):i=r.toString().split(xI));var s=i.map(function(l){return{word:l,width:Lf(l,a).width}}),o=n?0:Lf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},wfe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,f=pe(s),d=o,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(re,q){var V=q.word,K=q.width,ae=re[re.length-1];if(ae&&(a==null||i||ae.width+K+n<Number(a)))ae.words.push(V),ae.width+=K+n;else{var de={words:[V],width:K};re.push(de)}return re},[])},p=h(r),g=function(G){return G.reduce(function(re,q){return re.width>q.width?re:q})};if(!f)return p;for(var m="",y=function(G){var re=d.slice(0,G),q=bI({breakAll:c,style:l,children:re+m}).wordsWithComputedWidth,V=h(q),K=V.length>s||g(V).width>Number(a);return[K,V]},b=0,v=d.length-1,x=0,_;b<=v&&x<=d.length-1;){var w=Math.floor((b+v)/2),S=w-1,E=y(S),T=pO(E,2),A=T[0],N=T[1],j=y(w),L=pO(j,1),W=L[0];if(!A&&!W&&(b=w+1),A&&W&&(v=w-1),!A&&W){_=N;break}x++}return _||p},vO=function(t){var r=We(t)?[]:t.toString().split(xI);return[{words:r}]},_fe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!$u.isSsr){var l,c,f=bI({breakAll:s,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return vO(a);return wfe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return vO(a)},gO="#808080",tl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,y=t.fill,b=y===void 0?gO:y,v=hO(t,pfe),x=C.useMemo(function(){return _fe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),_=v.dx,w=v.dy,S=v.angle,E=v.className,T=v.breakAll,A=hO(v,mfe);if(!or(n)||!or(i))return null;var N=n+(pe(_)?_:0),j=i+(pe(w)?w:0),L;switch(m){case"start":L=Ry("calc(".concat(c,")"));break;case"middle":L=Ry("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:L=Ry("calc(".concat(x.length-1," * -").concat(o,")"));break}var W=[];if(d){var Z=x[0].width,G=v.width;W.push("scale(".concat((pe(G)?G/Z:1)/Z,")"))}return S&&W.push("rotate(".concat(S,", ").concat(N,", ").concat(j,")")),W.length&&(A.transform=W.join(" ")),B.createElement("text",tb({},De(A,!0),{x:N,y:j,className:Ue("recharts-text",E),textAnchor:p,fill:b.includes("url")?gO:b}),x.map(function(re,q){var V=re.words.join(T?"":" ");return B.createElement("tspan",{x:N,dy:q===0?L:o,key:"".concat(V,"-").concat(q)},V)}))};function Is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function c2(e){let t,r,n;e.length!==2?(t=Is,r=(o,l)=>Is(e(o),l),n=(o,l)=>e(o)-l):(t=e===Is||e===Sfe?e:Efe,r=e,n=e);function a(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<0?c=d+1:f=d}while(c<f)}return c}function i(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(o,l,c=0,f=o.length){const d=a(o,l,c,f-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function Efe(){return 0}function wI(e){return e===null?NaN:+e}function*Tfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Afe=c2(Is),_h=Afe.right;c2(wI).center;class yO extends Map{constructor(t,r=Cfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(xO(this,t))}has(t){return super.has(xO(this,t))}set(t,r){return super.set(Ofe(this,t),r)}delete(t){return super.delete(jfe(this,t))}}function xO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ofe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Cfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nfe(e=Is){if(e===Is)return _I;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _I(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kfe=Math.sqrt(50),Pfe=Math.sqrt(10),Rfe=Math.sqrt(2);function rm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=kfe?10:i>=Pfe?5:i>=Rfe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?rm(e,t,r*2):[o,l,c]}function rb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?rm(t,e,r):rm(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function nb(e,t,r){return t=+t,e=+e,r=+r,rm(e,t,r)[2]}function ab(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?nb(t,e,r):nb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function bO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_I:Nfe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));SI(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(nf(e,r,t),a(e[n],i)>0&&nf(e,r,n);s<o;){for(nf(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?nf(e,r,o):(++o,nf(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function nf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ife(e,t,r){if(e=Float64Array.from(Tfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wO(e);if(t>=1)return bO(e);var n,a=(n-1)*t,i=Math.floor(a),s=bO(SI(e,i).subarray(0,i+1)),o=wO(e.subarray(i+1));return s+(o-s)*(a-i)}}function Dfe(e,t,r=wI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function Mfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ib=Symbol("implicit");function u2(){var e=new yO,t=[],r=[],n=ib;function a(i){let s=e.get(i);if(s===void 0){if(n!==ib)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new yO;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return u2(t,r).unknown(n)},ua.apply(a,arguments),a}function Od(){var e=u2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*f,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=Mfe(h).map(function(b){return g+i*b});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Od(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(f)},ua.apply(d(),arguments)}function EI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EI(t())},e}function Ff(){return EI(Od.apply(null,arguments).paddingInner(1))}function f2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sh(){}var jd=.7,nm=1/jd,pc="\\s*([+-]?\\d+)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$fe=/^#([0-9a-f]{3,8})$/,Lfe=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),Ffe=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),Bfe=new RegExp(`^rgba\\(${pc},${pc},${pc},${Cd}\\)$`),Ufe=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${Cd}\\)$`),zfe=new RegExp(`^hsl\\(${Cd},${Qa},${Qa}\\)$`),Wfe=new RegExp(`^hsla\\(${Cd},${Qa},${Qa},${Cd}\\)$`),_O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f2(Sh,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SO,formatHex:SO,formatHex8:Hfe,formatHsl:Vfe,formatRgb:EO,toString:EO});function SO(){return this.rgb().formatHex()}function Hfe(){return this.rgb().formatHex8()}function Vfe(){return AI(this).formatHsl()}function EO(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$fe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TO(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?x0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?x0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lfe.exec(e))?new pn(t[1],t[2],t[3],1):(t=Ffe.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bfe.exec(e))?x0(t[1],t[2],t[3],t[4]):(t=Ufe.exec(e))?x0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zfe.exec(e))?jO(t[1],t[2]/100,t[3]/100,1):(t=Wfe.exec(e))?jO(t[1],t[2]/100,t[3]/100,t[4]):_O.hasOwnProperty(e)?TO(_O[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function TO(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function x0(e,t,r,n){return n<=0&&(e=t=r=NaN),new pn(e,t,r,n)}function qfe(e){return e instanceof Sh||(e=Nd(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function sb(e,t,r,n){return arguments.length===1?qfe(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}f2(pn,sb,TI(Sh,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jd:Math.pow(jd,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Uo(this.r),Uo(this.g),Uo(this.b),am(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AO,formatHex:AO,formatHex8:Kfe,formatRgb:OO,toString:OO}));function AO(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}`}function Kfe(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}${Ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function OO(){const e=am(this.opacity);return`${e===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${e===1?")":`, ${e})`}`}function am(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ao(e){return e=Uo(e),(e<16?"0":"")+e.toString(16)}function jO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,n)}function AI(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof Sh||(e=Nd(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Aa(s,o,l,e.opacity)}function Gfe(e,t,r,n){return arguments.length===1?AI(e):new Aa(e,t,r,n??1)}function Aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}f2(Aa,Gfe,TI(Sh,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jd:Math.pow(jd,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pn(Iy(e>=240?e-240:e+120,a,n),Iy(e,a,n),Iy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Aa(CO(this.h),b0(this.s),b0(this.l),am(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=am(this.opacity);return`${e===1?"hsl(":"hsla("}${CO(this.h)}, ${b0(this.s)*100}%, ${b0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CO(e){return e=(e||0)%360,e<0?e+360:e}function b0(e){return Math.max(0,Math.min(1,e||0))}function Iy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const d2=e=>()=>e;function Xfe(e,t){return function(r){return e+r*t}}function Yfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qfe(e){return(e=+e)==1?OI:function(t,r){return r-t?Yfe(t,r,e):d2(isNaN(t)?r:t)}}function OI(e,t){var r=t-e;return r?Xfe(e,r):d2(isNaN(e)?t:e)}const NO=function e(t){var r=Qfe(t);function n(a,i){var s=r((a=sb(a)).r,(i=sb(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=OI(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function Jfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Zfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ede(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Lu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function tde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function im(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Lu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ob=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dy=new RegExp(ob.source,"g");function nde(e){return function(){return e}}function ade(e){return function(t){return e(t)+""}}function ide(e,t){var r=ob.lastIndex=Dy.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=ob.exec(e))&&(a=Dy.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:im(n,a)})),r=Dy.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?ade(l[0].x):nde(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)o[(d=l[f]).i]=d.x(c);return o.join("")})}function Lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?d2(t):(r==="number"?im:r==="string"?(n=Nd(t))?(t=n,NO):ide:t instanceof Nd?NO:t instanceof Date?tde:Zfe(t)?Jfe:Array.isArray(t)?ede:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rde:im)(e,t)}function h2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sde(e,t){t===void 0&&(t=e,e=Lu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function ode(e){return function(){return e}}function sm(e){return+e}var kO=[0,1];function tn(e){return e}function lb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ode(isNaN(t)?NaN:.5)}function lde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cde(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=lb(a,n),i=r(s,i)):(n=lb(n,a),i=r(i,s)),function(o){return i(n(o))}}function ude(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=lb(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=_h(e,o,1,n)-1;return i[l](a[l](o))}}function Eh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tg(){var e=kO,t=kO,r=Lu,n,a,i,s=tn,o,l,c;function f(){var h=Math.min(e.length,t.length);return s!==tn&&(s=lde(e[0],e[h-1])),o=h>2?ude:cde,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),im)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,sm),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=h2,f()},d.clamp=function(h){return arguments.length?(s=h?!0:tn,f()):s!==tn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,f()}}function p2(){return tg()(tn,tn)}function fde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function om(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gc(e){return e=om(Math.abs(e)),e?e[1]:NaN}function dde(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function hde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(e){if(!(t=pde.exec(e)))throw new Error("invalid format: "+e);var t;return new m2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kd.prototype=m2.prototype;function m2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var jI;function vde(e,t){var r=om(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(jI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+om(e,Math.max(0,t+i-1))[0]}function PO(e,t){var r=om(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const RO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PO(e*100,t),r:PO,s:vde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IO(e){return e}var DO=Array.prototype.map,MO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gde(e){var t=e.grouping===void 0||e.thousands===void 0?IO:dde(DO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?IO:hde(DO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=kd(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,y=d.zero,b=d.width,v=d.comma,x=d.precision,_=d.trim,w=d.type;w==="n"?(v=!0,w="g"):RO[w]||(x===void 0&&(x=12),_=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?n:/[%p]/.test(w)?s:"",T=RO[w],A=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(j){var L=S,W=E,Z,G,re;if(w==="c")W=T(j)+W,j="";else{j=+j;var q=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),x),_&&(j=mde(j)),q&&+j==0&&g!=="+"&&(q=!1),L=(q?g==="("?g:o:g==="-"||g==="("?"":g)+L,W=(w==="s"?MO[8+jI/3]:"")+W+(q&&g==="("?")":""),A){for(Z=-1,G=j.length;++Z<G;)if(re=j.charCodeAt(Z),48>re||re>57){W=(re===46?a+j.slice(Z+1):j.slice(Z))+W,j=j.slice(0,Z);break}}}v&&!y&&(j=t(j,1/0));var V=L.length+j.length+W.length,K=V<b?new Array(b-V+1).join(h):"";switch(v&&y&&(j=t(K+j,K.length?b-W.length:1/0),K=""),p){case"<":j=L+j+W+K;break;case"=":j=L+K+j+W;break;case"^":j=K.slice(0,V=K.length>>1)+L+j+W+K.slice(V);break;default:j=K+L+j+W;break}return i(j)}return N.toString=function(){return d+""},N}function f(d,h){var p=c((d=kd(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Gc(h)/3)))*3,m=Math.pow(10,-g),y=MO[8+g/3];return function(b){return p(m*b)+y}}return{format:c,formatPrefix:f}}var w0,v2,CI;yde({thousands:",",grouping:[3],currency:["$",""]});function yde(e){return w0=gde(e),v2=w0.format,CI=w0.formatPrefix,w0}function xde(e){return Math.max(0,-Gc(Math.abs(e)))}function bde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(t)/3)))*3-Gc(Math.abs(e)))}function wde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gc(t)-Gc(e))+1}function NI(e,t,r,n){var a=ab(e,t,r),i;switch(n=kd(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=bde(a,s))&&(n.precision=i),CI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=wde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=xde(a))&&(n.precision=i-(n.type==="%")*2);break}}return v2(n)}function Gs(e){var t=e.domain;return e.ticks=function(r){var n=t();return rb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);f-- >0;){if(c=nb(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function lm(){var e=p2();return e.copy=function(){return Eh(e,lm())},ua.apply(e,arguments),Gs(e)}function kI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kI(e).unknown(t)},e=arguments.length?Array.from(e,sm):[0,1],Gs(r)}function PI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function $O(e){return Math.log(e)}function LO(e){return Math.exp(e)}function _de(e){return-Math.log(-e)}function Sde(e){return-Math.exp(-e)}function Ede(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Tde(e){return e===10?Ede:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ade(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FO(e){return(t,r)=>-e(-t,r)}function g2(e){const t=e($O,LO),r=t.domain;let n=10,a,i;function s(){return a=Ade(n),i=Tde(n),r()[0]<0?(a=FO(a),i=FO(i),e(_de,Sde)):e($O,LO),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),g,m;const y=o==null?10:+o;let b=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>f)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>f)break;b.push(m)}b.length*2<y&&(b=rb(c,f,y))}else b=rb(h,p,Math.min(p-h,y)).map(i);return d?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=kd(l)).precision==null&&(l.trim=!0),l=v2(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(PI(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function RI(){const e=g2(tg()).domain([1,10]);return e.copy=()=>Eh(e,RI()).base(e.base()),ua.apply(e,arguments),e}function BO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y2(e){var t=1,r=e(BO(t),UO(t));return r.constant=function(n){return arguments.length?e(BO(t=+n),UO(t)):t},Gs(r)}function II(){var e=y2(tg());return e.copy=function(){return Eh(e,II()).constant(e.constant())},ua.apply(e,arguments)}function zO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ode(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jde(e){return e<0?-e*e:e*e}function x2(e){var t=e(tn,tn),r=1;function n(){return r===1?e(tn,tn):r===.5?e(Ode,jde):e(zO(r),zO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Gs(t)}function b2(){var e=x2(tg());return e.copy=function(){return Eh(e,b2()).exponent(e.exponent())},ua.apply(e,arguments),e}function Cde(){return b2.apply(null,arguments).exponent(.5)}function WO(e){return Math.sign(e)*e*e}function Nde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DI(){var e=p2(),t=[0,1],r=!1,n;function a(i){var s=Nde(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(WO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sm)).map(WO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return DI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ua.apply(a,arguments),Gs(a)}function MI(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Dfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[_h(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Is),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return MI().domain(e).range(t).unknown(n)},ua.apply(i,arguments)}function $I(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[_h(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $I().domain([e,t]).range(a).unknown(i)},ua.apply(Gs(s),arguments)}function LI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[_h(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return LI().domain(e).range(t).unknown(r)},ua.apply(a,arguments)}const My=new Date,$y=new Date;function lr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>lr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(My.setTime(+i),$y.setTime(+s),e(My),e($y),Math.floor(r(My,$y))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const cm=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cm);cm.range;const gi=1e3,ea=gi*60,yi=ea*60,Mi=yi*24,w2=Mi*7,HO=Mi*30,Ly=Mi*365,Oo=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());Oo.range;const _2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());_2.range;const S2=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());S2.range;const E2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());E2.range;const T2=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());T2.range;const Th=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Mi,e=>e.getDate()-1);Th.range;const rg=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>e.getUTCDate()-1);rg.range;const FI=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>Math.floor(e/Mi));FI.range;function xl(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/w2)}const ng=xl(0),um=xl(1),kde=xl(2),Pde=xl(3),Xc=xl(4),Rde=xl(5),Ide=xl(6);ng.range;um.range;kde.range;Pde.range;Xc.range;Rde.range;Ide.range;function bl(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/w2)}const ag=bl(0),fm=bl(1),Dde=bl(2),Mde=bl(3),Yc=bl(4),$de=bl(5),Lde=bl(6);ag.range;fm.range;Dde.range;Mde.range;Yc.range;$de.range;Lde.range;const A2=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());A2.range;const O2=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());O2.range;const $i=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$i.range;const Li=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Li.range;function BI(e,t,r,n,a,i){const s=[[Oo,1,gi],[Oo,5,5*gi],[Oo,15,15*gi],[Oo,30,30*gi],[i,1,ea],[i,5,5*ea],[i,15,15*ea],[i,30,30*ea],[a,1,yi],[a,3,3*yi],[a,6,6*yi],[a,12,12*yi],[n,1,Mi],[n,2,2*Mi],[r,1,w2],[t,1,HO],[t,3,3*HO],[e,1,Ly]];function o(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),g=p?p.range(c,+f+1):[];return h?g.reverse():g}function l(c,f,d){const h=Math.abs(f-c)/d,p=c2(([,,y])=>y).right(s,h);if(p===s.length)return e.every(ab(c/Ly,f/Ly,d));if(p===0)return cm.every(Math.max(ab(c,f,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[Fde,Bde]=BI(Li,O2,ag,FI,T2,S2),[Ude,zde]=BI($i,A2,ng,Th,E2,_2);function Fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function By(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function af(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=sf(a),f=of(a),d=sf(i),h=of(i),p=sf(s),g=of(s),m=sf(o),y=of(o),b=sf(l),v=of(l),x={a:q,A:V,b:K,B:ae,c:null,d:YO,e:YO,f:dhe,g:_he,G:Ehe,H:che,I:uhe,j:fhe,L:UI,m:hhe,M:phe,p:de,q:P,Q:ZO,s:ej,S:mhe,u:vhe,U:ghe,V:yhe,w:xhe,W:bhe,x:null,X:null,y:whe,Y:She,Z:The,"%":JO},_={a:H,A:U,b:z,B:ie,c:null,d:QO,e:QO,f:Che,g:Fhe,G:Uhe,H:Ahe,I:Ohe,j:jhe,L:WI,m:Nhe,M:khe,p:we,q:_e,Q:ZO,s:ej,S:Phe,u:Rhe,U:Ihe,V:Dhe,w:Mhe,W:$he,x:null,X:null,y:Lhe,Y:Bhe,Z:zhe,"%":JO},w={a:N,A:j,b:L,B:W,c:Z,d:GO,e:GO,f:ihe,g:KO,G:qO,H:XO,I:XO,j:the,L:ahe,m:ehe,M:rhe,p:A,q:Zde,Q:ohe,s:lhe,S:nhe,u:Gde,U:Xde,V:Yde,w:Kde,W:Qde,x:G,X:re,y:KO,Y:qO,Z:Jde,"%":she};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ee,le){return function(Ee){var te=[],ze=-1,Ce=0,tt=ee.length,Le,ge,Ut;for(Ee instanceof Date||(Ee=new Date(+Ee));++ze<tt;)ee.charCodeAt(ze)===37&&(te.push(ee.slice(Ce,ze)),(ge=VO[Le=ee.charAt(++ze)])!=null?Le=ee.charAt(++ze):ge=Le==="e"?" ":"0",(Ut=le[Le])&&(Le=Ut(Ee,ge)),te.push(Le),Ce=ze+1);return te.push(ee.slice(Ce,ze)),te.join("")}}function E(ee,le){return function(Ee){var te=af(1900,void 0,1),ze=T(te,ee,Ee+="",0),Ce,tt;if(ze!=Ee.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(le&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ce=By(af(te.y,0,1)),tt=Ce.getUTCDay(),Ce=tt>4||tt===0?fm.ceil(Ce):fm(Ce),Ce=rg.offset(Ce,(te.V-1)*7),te.y=Ce.getUTCFullYear(),te.m=Ce.getUTCMonth(),te.d=Ce.getUTCDate()+(te.w+6)%7):(Ce=Fy(af(te.y,0,1)),tt=Ce.getDay(),Ce=tt>4||tt===0?um.ceil(Ce):um(Ce),Ce=Th.offset(Ce,(te.V-1)*7),te.y=Ce.getFullYear(),te.m=Ce.getMonth(),te.d=Ce.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),tt="Z"in te?By(af(te.y,0,1)).getUTCDay():Fy(af(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(tt+5)%7:te.w+te.U*7-(tt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,By(te)):Fy(te)}}function T(ee,le,Ee,te){for(var ze=0,Ce=le.length,tt=Ee.length,Le,ge;ze<Ce;){if(te>=tt)return-1;if(Le=le.charCodeAt(ze++),Le===37){if(Le=le.charAt(ze++),ge=w[Le in VO?le.charAt(ze++):Le],!ge||(te=ge(ee,Ee,te))<0)return-1}else if(Le!=Ee.charCodeAt(te++))return-1}return te}function A(ee,le,Ee){var te=c.exec(le.slice(Ee));return te?(ee.p=f.get(te[0].toLowerCase()),Ee+te[0].length):-1}function N(ee,le,Ee){var te=p.exec(le.slice(Ee));return te?(ee.w=g.get(te[0].toLowerCase()),Ee+te[0].length):-1}function j(ee,le,Ee){var te=d.exec(le.slice(Ee));return te?(ee.w=h.get(te[0].toLowerCase()),Ee+te[0].length):-1}function L(ee,le,Ee){var te=b.exec(le.slice(Ee));return te?(ee.m=v.get(te[0].toLowerCase()),Ee+te[0].length):-1}function W(ee,le,Ee){var te=m.exec(le.slice(Ee));return te?(ee.m=y.get(te[0].toLowerCase()),Ee+te[0].length):-1}function Z(ee,le,Ee){return T(ee,t,le,Ee)}function G(ee,le,Ee){return T(ee,r,le,Ee)}function re(ee,le,Ee){return T(ee,n,le,Ee)}function q(ee){return s[ee.getDay()]}function V(ee){return i[ee.getDay()]}function K(ee){return l[ee.getMonth()]}function ae(ee){return o[ee.getMonth()]}function de(ee){return a[+(ee.getHours()>=12)]}function P(ee){return 1+~~(ee.getMonth()/3)}function H(ee){return s[ee.getUTCDay()]}function U(ee){return i[ee.getUTCDay()]}function z(ee){return l[ee.getUTCMonth()]}function ie(ee){return o[ee.getUTCMonth()]}function we(ee){return a[+(ee.getUTCHours()>=12)]}function _e(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var le=S(ee+="",x);return le.toString=function(){return ee},le},parse:function(ee){var le=E(ee+="",!1);return le.toString=function(){return ee},le},utcFormat:function(ee){var le=S(ee+="",_);return le.toString=function(){return ee},le},utcParse:function(ee){var le=E(ee+="",!0);return le.toString=function(){return ee},le}}}var VO={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,Hde=/^%/,Vde=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function qde(e){return e.replace(Vde,"\\$&")}function sf(e){return new RegExp("^(?:"+e.map(qde).join("|")+")","i")}function of(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Kde(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Gde(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xde(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Yde(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qO(e,t,r){var n=xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function KO(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Zde(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ehe(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GO(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function the(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function XO(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rhe(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nhe(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ahe(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ihe(e,t,r){var n=xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function she(e,t,r){var n=Hde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ohe(e,t,r){var n=xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lhe(e,t,r){var n=xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YO(e,t){return Ye(e.getDate(),t,2)}function che(e,t){return Ye(e.getHours(),t,2)}function uhe(e,t){return Ye(e.getHours()%12||12,t,2)}function fhe(e,t){return Ye(1+Th.count($i(e),e),t,3)}function UI(e,t){return Ye(e.getMilliseconds(),t,3)}function dhe(e,t){return UI(e,t)+"000"}function hhe(e,t){return Ye(e.getMonth()+1,t,2)}function phe(e,t){return Ye(e.getMinutes(),t,2)}function mhe(e,t){return Ye(e.getSeconds(),t,2)}function vhe(e){var t=e.getDay();return t===0?7:t}function ghe(e,t){return Ye(ng.count($i(e)-1,e),t,2)}function zI(e){var t=e.getDay();return t>=4||t===0?Xc(e):Xc.ceil(e)}function yhe(e,t){return e=zI(e),Ye(Xc.count($i(e),e)+($i(e).getDay()===4),t,2)}function xhe(e){return e.getDay()}function bhe(e,t){return Ye(um.count($i(e)-1,e),t,2)}function whe(e,t){return Ye(e.getFullYear()%100,t,2)}function _he(e,t){return e=zI(e),Ye(e.getFullYear()%100,t,2)}function She(e,t){return Ye(e.getFullYear()%1e4,t,4)}function Ehe(e,t){var r=e.getDay();return e=r>=4||r===0?Xc(e):Xc.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function The(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function QO(e,t){return Ye(e.getUTCDate(),t,2)}function Ahe(e,t){return Ye(e.getUTCHours(),t,2)}function Ohe(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function jhe(e,t){return Ye(1+rg.count(Li(e),e),t,3)}function WI(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function Che(e,t){return WI(e,t)+"000"}function Nhe(e,t){return Ye(e.getUTCMonth()+1,t,2)}function khe(e,t){return Ye(e.getUTCMinutes(),t,2)}function Phe(e,t){return Ye(e.getUTCSeconds(),t,2)}function Rhe(e){var t=e.getUTCDay();return t===0?7:t}function Ihe(e,t){return Ye(ag.count(Li(e)-1,e),t,2)}function HI(e){var t=e.getUTCDay();return t>=4||t===0?Yc(e):Yc.ceil(e)}function Dhe(e,t){return e=HI(e),Ye(Yc.count(Li(e),e)+(Li(e).getUTCDay()===4),t,2)}function Mhe(e){return e.getUTCDay()}function $he(e,t){return Ye(fm.count(Li(e)-1,e),t,2)}function Lhe(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function Fhe(e,t){return e=HI(e),Ye(e.getUTCFullYear()%100,t,2)}function Bhe(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function Uhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yc(e):Yc.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function zhe(){return"+0000"}function JO(){return"%"}function ZO(e){return+e}function ej(e){return Math.floor(+e/1e3)}var kl,VI,qI;Whe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Whe(e){return kl=Wde(e),VI=kl.format,kl.parse,qI=kl.utcFormat,kl.utcParse,kl}function Hhe(e){return new Date(e)}function Vhe(e){return e instanceof Date?+e:+new Date(+e)}function j2(e,t,r,n,a,i,s,o,l,c){var f=p2(),d=f.invert,h=f.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),v=c("%b %d"),x=c("%B"),_=c("%Y");function w(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?m:i(S)<S?y:n(S)<S?a(S)<S?b:v:r(S)<S?x:_)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,Vhe)):h().map(Hhe)},f.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},f.tickFormat=function(S,E){return E==null?w:c(E)},f.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(PI(E,S)):f},f.copy=function(){return Eh(f,j2(e,t,r,n,a,i,s,o,l,c))},f}function qhe(){return ua.apply(j2(Ude,zde,$i,A2,ng,Th,E2,_2,Oo,VI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Khe(){return ua.apply(j2(Fde,Bde,Li,O2,ag,rg,T2,S2,Oo,qI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var e=0,t=1,r,n,a,i,s=tn,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=f(Lu),c.rangeRound=f(h2),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KI(){var e=Gs(ig()(tn));return e.copy=function(){return Xs(e,KI())},Yi.apply(e,arguments)}function GI(){var e=g2(ig()).domain([1,10]);return e.copy=function(){return Xs(e,GI()).base(e.base())},Yi.apply(e,arguments)}function XI(){var e=y2(ig());return e.copy=function(){return Xs(e,XI()).constant(e.constant())},Yi.apply(e,arguments)}function C2(){var e=x2(ig());return e.copy=function(){return Xs(e,C2()).exponent(e.exponent())},Yi.apply(e,arguments)}function Ghe(){return C2.apply(null,arguments).exponent(.5)}function YI(){var e=[],t=tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((_h(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Is),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ife(e,i/n))},r.copy=function(){return YI(t).domain(e)},Yi.apply(r,arguments)}function sg(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=tn,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-i)*(n*m<n*i?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var b,v,x;return arguments.length?([b,v,x]=y,c=sde(m,[b,v,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(Lu),p.rangeRound=g(h2),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function QI(){var e=Gs(sg()(tn));return e.copy=function(){return Xs(e,QI())},Yi.apply(e,arguments)}function JI(){var e=g2(sg()).domain([.1,1,10]);return e.copy=function(){return Xs(e,JI()).base(e.base())},Yi.apply(e,arguments)}function ZI(){var e=y2(sg());return e.copy=function(){return Xs(e,ZI()).constant(e.constant())},Yi.apply(e,arguments)}function N2(){var e=x2(sg());return e.copy=function(){return Xs(e,N2()).exponent(e.exponent())},Yi.apply(e,arguments)}function Xhe(){return N2.apply(null,arguments).exponent(.5)}const tj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Od,scaleDiverging:QI,scaleDivergingLog:JI,scaleDivergingPow:N2,scaleDivergingSqrt:Xhe,scaleDivergingSymlog:ZI,scaleIdentity:kI,scaleImplicit:ib,scaleLinear:lm,scaleLog:RI,scaleOrdinal:u2,scalePoint:Ff,scalePow:b2,scaleQuantile:MI,scaleQuantize:$I,scaleRadial:DI,scaleSequential:KI,scaleSequentialLog:GI,scaleSequentialPow:C2,scaleSequentialQuantile:YI,scaleSequentialSqrt:Ghe,scaleSequentialSymlog:XI,scaleSqrt:Cde,scaleSymlog:II,scaleThreshold:LI,scaleTime:qhe,scaleUtc:Khe,tickFormat:NI},Symbol.toStringTag,{value:"Module"}));var Yhe=Cu;function Qhe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!Yhe(s):r(s,o)))var o=s,l=i}return l}var og=Qhe;function Jhe(e,t){return e>t}var eD=Jhe,Zhe=og,e0e=eD,t0e=Mu;function r0e(e){return e&&e.length?Zhe(e,t0e,e0e):void 0}var n0e=r0e;const lg=et(n0e);function a0e(e,t){return e<t}var tD=a0e,i0e=og,s0e=tD,o0e=Mu;function l0e(e){return e&&e.length?i0e(e,o0e,s0e):void 0}var c0e=l0e;const cg=et(c0e);var u0e=H_,f0e=ni,d0e=cI,h0e=Sn;function p0e(e,t){var r=h0e(e)?u0e:d0e;return r(e,f0e(t))}var m0e=p0e,v0e=oI,g0e=m0e;function y0e(e,t){return v0e(g0e(e,t),1)}var x0e=y0e;const b0e=et(x0e);var w0e=i2;function _0e(e,t){return w0e(e,t)}var S0e=_0e;const ug=et(S0e);var Fu=1e9,E0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P2,Tt=!0,sa="[DecimalError] ",zo=sa+"Invalid argument: ",k2=sa+"Exponent out of range: ",Bu=Math.floor,po=Math.pow,T0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,ur=1e7,bt=7,rD=9007199254740991,dm=Bu(rD/bt),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return Oi(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return dt(Oi(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Jt(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(In))throw Error(sa+"NaN");if(r.s<1)throw Error(sa+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(Tt=!1,t=Oi(Pd(r,i),Pd(e,i),i),Tt=!0,dt(t,a))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iD(t,e):nD(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(sa+"NaN");return r.s?(Tt=!1,t=Oi(r,e,0,1).times(e),Tt=!0,r.minus(t)):dt(new n(r),a)};je.naturalExponential=je.exp=function(){return aD(this)};je.naturalLogarithm=je.ln=function(){return Pd(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nD(t,e):iD(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=Jt(a)+1,n=a.d.length-1,r=n*bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(sa+"NaN")}for(e=Jt(o),Tt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ga(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Bu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Oi(o,i,s+2)).times(.5),Ga(i.d).slice(0,s)===(t=Ga(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(dt(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Tt=!0,dt(n,r)};je.times=je.mul=function(e){var t,r,n,a,i,s,o,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ur|0,t=o/ur|0;i[a]=(i[a]+t)%ur|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Tt?dt(e,d.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ei(e,0,Fu),t===void 0?t=n.rounding:ei(t,0,8),dt(r,e+Jt(r)+1,t))};je.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rl(n,!0):(ei(e,0,Fu),t===void 0?t=a.rounding:ei(t,0,8),n=dt(new a(n),e+1,t),r=rl(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?rl(a):(ei(e,0,Fu),t===void 0?t=i.rounding:ei(t,0,8),n=dt(new i(a),e+Jt(a)+1,t),r=rl(n.abs(),!1,e+Jt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Jt(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(In);if(o=new l(o),!o.s){if(e.s<1)throw Error(sa+"Infinity");return o}if(o.eq(In))return o;if(n=l.precision,e.eq(In))return dt(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=rD){for(a=new l(In),t=Math.ceil(n/bt+4),Tt=!1;r%2&&(a=a.times(o),nj(a.d,t)),r=Bu(r/2),r!==0;)o=o.times(o),nj(o.d,t);return Tt=!0,e.s<0?new l(In).div(a):dt(a,n)}}else if(i<0)throw Error(sa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Tt=!1,a=e.times(Pd(o,n+c)),Tt=!0,a=aD(a),a.s=i,a};je.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Jt(a),n=rl(a,r<=i.toExpNeg||r>=i.toExpPos)):(ei(e,1,Fu),t===void 0?t=i.rounding:ei(t,0,8),a=dt(new i(a),e,t),r=Jt(a),n=rl(a,e<=r||r<=i.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ei(e,1,Fu),t===void 0?t=n.rounding:ei(t,0,8)),dt(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),r=e.constructor;return rl(e,t<=r.toExpNeg||t>=r.toExpPos)};function nD(e,t){var r,n,a,i,s,o,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Tt?dt(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/bt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ur|0,l[i]%=ur;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Tt?dt(t,d):t}function ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zo+e)}function Ga(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=bt-n.length,r&&(i+=ns(r)),i+=n;s=e[t],n=s+"",r=bt-n.length,r&&(i+=ns(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Oi=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ur|0,s=i/ur|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ur+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,f,d,h,p,g,m,y,b,v,x,_,w,S,E,T,A=n.constructor,N=n.s==a.s?1:-1,j=n.d,L=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(sa+"Division by zero");for(l=n.e-a.e,E=L.length,w=j.length,p=new A(N),g=p.d=[],c=0;L[c]==(j[c]||0);)++c;if(L[c]>(j[c]||0)&&--l,i==null?v=i=A.precision:s?v=i+(Jt(n)-Jt(a))+1:v=i,v<0)return new A(0);if(v=v/bt+2|0,c=0,E==1)for(f=0,L=L[0],v++;(c<w||f)&&v--;c++)x=f*ur+(j[c]||0),g[c]=x/L|0,f=x%L|0;else{for(f=ur/(L[0]+1)|0,f>1&&(L=e(L,f),j=e(j,f),E=L.length,w=j.length),_=E,m=j.slice(0,E),y=m.length;y<E;)m[y++]=0;T=L.slice(),T.unshift(0),S=L[0],L[1]>=ur/2&&++S;do f=0,o=t(L,m,E,y),o<0?(b=m[0],E!=y&&(b=b*ur+(m[1]||0)),f=b/S|0,f>1?(f>=ur&&(f=ur-1),d=e(L,f),h=d.length,y=m.length,o=t(d,m,h,y),o==1&&(f--,r(d,E<h?T:L,h))):(f==0&&(o=f=1),d=L.slice()),h=d.length,h<y&&d.unshift(0),r(m,d,y),o==-1&&(y=m.length,o=t(L,m,E,y),o<1&&(f++,r(m,E<y?T:L,y))),y=m.length):o===0&&(f++,m=[0]),g[c++]=f,o&&m[0]?m[y++]=j[_]||0:(m=[j[_]],y=1);while((_++<w||m[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=l,dt(p,s?i+Jt(p)+1:i)}}();function aD(e,t){var r,n,a,i,s,o,l=0,c=0,f=e.constructor,d=f.precision;if(Jt(e)>16)throw Error(k2+Jt(e));if(!e.s)return new f(In);for(Tt=!1,o=d,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(po(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new f(In),f.precision=o;;){if(a=dt(a.times(e),o),r=r.times(++l),s=i.plus(Oi(a,r,o)),Ga(s.d).slice(0,o)===Ga(i.d).slice(0,o)){for(;c--;)i=dt(i.times(i),o);return f.precision=d,t==null?(Tt=!0,dt(i,d)):i}i=s}}function Jt(e){for(var t=e.e*bt,r=e.d[0];r>=10;r/=10)t++;return t}function Uy(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(sa+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function ns(e){for(var t="";e--;)t+="0";return t}function Pd(e,t){var r,n,a,i,s,o,l,c,f,d=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(sa+(p.s?"NaN":"-Infinity"));if(p.eq(In))return new m(0);if(t==null?(Tt=!1,c=y):c=t,p.eq(10))return t==null&&(Tt=!0),Uy(m,c);if(c+=h,m.precision=c,r=Ga(g),n=r.charAt(0),i=Jt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ga(p.d),n=r.charAt(0),d++;i=Jt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=Uy(m,c+2,y).times(i+""),p=Pd(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?(Tt=!0,dt(p,y)):p;for(o=s=p=Oi(p.minus(In),p.plus(In),c),f=dt(p.times(p),c),a=3;;){if(s=dt(s.times(f),c),l=o.plus(Oi(s,new m(a),c)),Ga(l.d).slice(0,c)===Ga(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Uy(m,c+2,y).times(i+""))),o=Oi(o,new m(d),c),m.precision=y,t==null?(Tt=!0,dt(o,y)):o;o=l,a+=2}}function rj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Bu(r/bt),e.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=bt;n<a;)e.d.push(+t.slice(n,n+=bt));t=t.slice(n),n=bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>dm||e.e<-dm))throw Error(k2+r)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,r){var n,a,i,s,o,l,c,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=bt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/bt),i=d.length,f>=i)return e;for(c=i=d[f],s=1;i>=10;i/=10)s++;n%=bt,a=n-bt+s}if(r!==void 0&&(i=po(10,s-a-1),o=c/i%10|0,l=t<0||d[f+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/po(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Jt(e),d.length=1,t=t-i-1,d[0]=po(10,(bt-t%bt)%bt),e.e=Bu(-t/bt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=po(10,bt-n),d[f]=a>0?(c/po(10,s-a)%po(10,a)|0)*i:0),l)for(;;)if(f==0){(d[0]+=i)==ur&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=ur)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Tt&&(e.e>dm||e.e<-dm))throw Error(k2+Jt(e));return e}function iD(e,t){var r,n,a,i,s,o,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tt?dt(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(f=s<0,f?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/bt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}s=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=ur-1;--l[i],l[a]+=ur}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Tt?dt(t,p):t):new h(0)}function rl(e,t,r){var n,a=Jt(e),i=Ga(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ns(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ns(-a-1)+i,r&&(n=r-s)>0&&(i+=ns(n))):a>=s?(i+=ns(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ns(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ns(n))),e.s<0?"-"+i:i}function nj(e,t){if(e.length>t)return e.length=t,!0}function sD(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return rj(s,i.toString())}else if(typeof i!="string")throw Error(zo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,T0e.test(i))rj(s,i);else throw Error(zo+i)}if(a.prototype=je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sD,a.config=a.set=A0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function A0e(e){if(!e||typeof e!="object")throw Error(sa+"Object expected");var t,r,n,a=["precision",1,Fu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Bu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zo+r+": "+n);return this}var P2=sD(E0e);In=new P2(1);const ut=P2;function O0e(e){return k0e(e)||N0e(e)||C0e(e)||j0e()}function j0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e,t){if(e){if(typeof e=="string")return cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(e,t)}}function N0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function k0e(e){if(Array.isArray(e))return cb(e)}function cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P0e=function(t){return t},oD={},lD=function(t){return t===oD},aj=function(t){return function r(){return arguments.length===0||arguments.length===1&&lD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},R0e=function e(t,r){return t===1?r:aj(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==oD}).length;return s>=t?r.apply(void 0,a):e(t-s,aj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=a.map(function(d){return lD(d)?l.shift():d});return r.apply(void 0,O0e(f).concat(l))}))})},fg=function(t){return R0e(t.length,t)},ub=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},I0e=fg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),D0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return P0e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},fb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cD=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function M0e(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function $0e(e,t,r){for(var n=new ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var L0e=fg(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),F0e=fg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),B0e=fg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dg={rangeStep:$0e,getDigitCount:M0e,interpolateNumber:L0e,uninterpolateNumber:F0e,uninterpolateTruncation:B0e};function db(e){return W0e(e)||z0e(e)||uD(e)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W0e(e){if(Array.isArray(e))return hb(e)}function Rd(e,t){return q0e(e)||V0e(e,t)||uD(e,t)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uD(e,t){if(e){if(typeof e=="string")return hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hb(e,t)}}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function q0e(e){if(Array.isArray(e))return e}function fD(e){var t=Rd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function dD(e,t,r){if(e.lte(0))return new ut(0);var n=dg.getDigitCount(e.toNumber()),a=new ut(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new ut(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new ut(Math.ceil(l))}function K0e(e,t,r){var n=1,a=new ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ut(10).pow(dg.getDigitCount(e)-1),a=new ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ut(Math.floor(e)))}else e===0?a=new ut(Math.floor((t-1)/2)):r||(a=new ut(Math.floor(e)));var s=Math.floor((t-1)/2),o=D0e(I0e(function(l){return a.add(new ut(l-s).mul(n)).toNumber()}),ub);return o(0,t)}function hD(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var i=dD(new ut(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new ut(0):(s=new ut(e).add(t).div(2),s=s.sub(new ut(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new ut(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?hD(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new ut(o).mul(i)),tickMax:s.add(new ut(l).mul(i))})}function G0e(e){var t=Rd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=fD([r,n]),l=Rd(o,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(db(ub(0,a-1).map(function(){return 1/0}))):[].concat(db(ub(0,a-1).map(function(){return-1/0})),[f]);return r>n?fb(d):d}if(c===f)return K0e(c,a,i);var h=hD(c,f,s,i),p=h.step,g=h.tickMin,m=h.tickMax,y=dg.rangeStep(g,m.add(new ut(.1).mul(p)),p);return r>n?fb(y):y}function X0e(e,t){var r=Rd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=fD([n,a]),o=Rd(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=dD(new ut(c).sub(l).div(f-1),i,0),h=[].concat(db(dg.rangeStep(new ut(l),new ut(c).sub(new ut(.99).mul(d)),d)),[c]);return n>a?fb(h):h}var Y0e=cD(G0e),Q0e=cD(X0e),J0e="Invariant failed";function nl(e,t){throw new Error(J0e)}var Z0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function epe(e,t){return ape(e)||npe(e,t)||rpe(e,t)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(e,t){if(e){if(typeof e=="string")return ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(e,t)}}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function npe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ape(e){if(Array.isArray(e))return e}function ipe(e,t){if(e==null)return{};var r=spe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function spe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ope(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vD(n.key),n)}}function cpe(e,t,r){return t&&lpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function upe(e,t,r){return t=pm(t),fpe(e,pD()?Reflect.construct(t,r||[],pm(e).constructor):t.apply(e,r))}function fpe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(e)}function dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!e})()}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(e)}function hpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pb(e,t)}function pb(e,t){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pb(e,t)}function mD(e,t,r){return t=vD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=ppe(e,"string");return Qc(t)=="symbol"?t:t+""}function ppe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hg=function(e){function t(){return ope(this,t),upe(this,t,arguments)}return hpe(t,e),cpe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=ipe(n,Z0e),p=De(h,!1);this.props.direction==="x"&&f.type!=="number"&&nl();var g=l.map(function(m){var y=c(m,o),b=y.x,v=y.y,x=y.value,_=y.errorVal;if(!_)return null;var w=[],S,E;if(Array.isArray(_)){var T=epe(_,2);S=T[0],E=T[1]}else S=E=_;if(i==="vertical"){var A=f.scale,N=v+a,j=N+s,L=N-s,W=A(x-S),Z=A(x+E);w.push({x1:Z,y1:j,x2:Z,y2:L}),w.push({x1:W,y1:N,x2:Z,y2:N}),w.push({x1:W,y1:j,x2:W,y2:L})}else if(i==="horizontal"){var G=d.scale,re=b+a,q=re-s,V=re+s,K=G(x-S),ae=G(x+E);w.push({x1:q,y1:ae,x2:V,y2:ae}),w.push({x1:re,y1:K,x2:re,y2:ae}),w.push({x1:q,y1:K,x2:V,y2:K})}return B.createElement(at,hm({className:"recharts-errorBar",key:"bar-".concat(w.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},p),w.map(function(de){return B.createElement("line",hm({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return B.createElement(at,{className:"recharts-errorBars"},g)}}])}(B.Component);mD(hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mD(hg,"displayName","ErrorBar");function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t,r){return t=vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vpe(e){var t=gpe(e,"string");return Id(t)=="symbol"?t:t+""}function gpe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gD=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=jn(r,Ti);if(!s)return null;var o=Ti.defaultProps,l=o!==void 0?no(no({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return f.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?no(no({},h),d.props):{},g=p.dataKey,m=p.name,y=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||y||"square",color:R2(d),value:m||g,payload:p}}),no(no(no({},l),Ti.getWithHeight(s,a)),{},{payload:c,item:s})};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function oj(e){return wpe(e)||bpe(e)||xpe(e)||ype()}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(e,t){if(e){if(typeof e=="string")return mb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mb(e,t)}}function bpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wpe(e){if(Array.isArray(e))return mb(e)}function mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){mc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mc(e,t,r){return t=_pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _pe(e){var t=Spe(e,"string");return Dd(t)=="symbol"?t:t+""}function Spe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t,r){return We(e)||We(t)?r:or(t)?$n(e,t,r):Me(t)?t(e):r}function Bf(e,t,r,n){var a=b0e(e,function(o){return Ur(o,t)});if(r==="number"){var i=a.filter(function(o){return pe(o)||parseFloat(o)});return i.length?[cg(i),lg(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!We(o)}):a;return s.map(function(o){return or(o)||o instanceof Date?o:""})}var Epe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var f=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Zr(d-f)!==Zr(h-d)){var g=[];if(Zr(h-d)===Zr(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+f)/2),g[1]=Math.max(m,(m+f)/2)}else{p=f;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var v=Math.min(f,h),x=Math.max(f,h);if(t>(v+d)/2&&t<=(x+d)/2){s=a[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},R2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Tpe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var f=i[o[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var g=f[d[h]],m=g.items,y=g.cateAxisId,b=m.filter(function(E){return Ei(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,x=v!==void 0?$t($t({},v),b[0].props):b[0].props,_=x.barSize,w=x[y];s[w]||(s[w]=[]);var S=We(_)?r:_;s[w].push({item:b[0],stackList:b.slice(1),barSize:We(S)?void 0:en(S,n,0)})}}return s},Ape=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=en(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(_,w){return _+w.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,y={offset:m-c,size:0};f=s.reduce(function(_,w){var S={item:w.item,position:{offset:y.offset+y.size+c,size:h?p:w.barSize}},E=[].concat(oj(_),[S]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){E.push({item:T,position:y})}),E},d)}else{var b=en(n,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var v=(a-2*b-(l-1)*c)/l;v>1&&(v>>=0);var x=o===+o?Math.min(v,o):v;f=s.reduce(function(_,w,S){var E=[].concat(oj(_),[{item:w.item,position:{offset:b+(v+c)*S+(v-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},d)}return f},Ope=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=gD({children:i,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&pe(t[p]))return $t($t({},t),{},mc({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&pe(t[g]))return $t($t({},t),{},mc({},g,t[g]+(h||0)))}return t},jpe=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yD=function(t,r,n,a,i){var s=r.props.children,o=ra(s,hg).filter(function(c){return jpe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Ur(f,n);if(We(d))return c;var h=Array.isArray(d)?[cg(d),lg(d)]:[d,d],p=l.reduce(function(g,m){var y=Ur(f,m,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),v=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Cpe=function(t,r,n,a,i){var s=r.map(function(o){return yD(t,o,n,i,a)}).filter(function(o){return!We(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},xD=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&yD(t,l,c,a)||Bf(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)o[c[f]]||(o[c[f]]=!0,l.push(c[f]));return l},[])},bD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},wD=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},xi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Zr(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!xh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},zy=new WeakMap,_0=function(t,r){if(typeof r!="function")return t;zy.has(t)||zy.set(t,new WeakMap);var n=zy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},_D=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Od(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:lm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ff(),realScaleType:"point"}:i==="category"?{scale:Od(),realScaleType:"band"}:{scale:lm(),realScaleType:"linear"};if(Zo(a)){var l="scale".concat(Gv(a));return{scale:(tj[l]||Ff)(),realScaleType:tj[l]?l:"point"}}return Me(a)?{scale:a}:{scale:Ff(),realScaleType:"point"}},cj=1e-4,SD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-cj,s=Math.max(a[0],a[1])+cj,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},Npe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kpe=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Ppe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=xh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},Rpe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=xh(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Ipe={sign:Ppe,expand:Zte,none:Wc,silhouette:ere,wiggle:tre,positive:Rpe},Dpe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Ipe[n],s=Jte().keys(a).value(function(o,l){return+Ur(o,l,0)}).order(B1).offset(i);return s(t)},Mpe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?$t($t({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return d;var b=g[n],v=d[b]||{hasStack:!1,stackGroups:{}};if(or(m)){var x=v.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),v.hasStack=!0,v.stackGroups[m]=x}else v.stackGroups[bh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return $t($t({},d),{},mc({},b,v))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var b=p.stackGroups[y];return $t($t({},m),{},mc({},y,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Dpe(t,b.items,i)}))},g)}return $t($t({},d),{},mc({},h,p))},f)},ED=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=Y0e(c,i,o);return t.domain([cg(f),lg(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=Q0e(d,i,o);return{niceTicks:h}}return null},uj=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Ur(s,r.dataKey,r.domain[o]);return We(l)?null:r.scale(l)-i/2+a},$pe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Lpe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(or(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},Fpe=function(t){return t.reduce(function(r,n){return[cg(n.concat([r[0]]).filter(pe)),lg(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},TD=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,f){var d=Fpe(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},fj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vb=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(fj.test(t[0])){var i=+fj.exec(t[0])[1];a[0]=r[0]-i}else Me(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(dj.test(t[1])){var s=+dj.exec(t[1])[1];a[1]=r[1]+s}else Me(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},mm=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=o2(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];s=Math.min((c.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hj=function(t,r,n){return!t||!t.length||ug(t,$n(n,"type.defaultProps.domain"))?r:t},AD=function(t,r){var n=t.type.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return $t($t({},De(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:R2(t),value:Ur(r,a),type:l,payload:r,chartType:c,hide:f})};function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){OD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t,r){return t=Bpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=Upe(e,"string");return Md(t)=="symbol"?t:t+""}function Upe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpe(e,t){return qpe(e)||Vpe(e,t)||Hpe(e,t)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function qpe(e){if(Array.isArray(e))return e}var vm=Math.PI/180,Kpe=function(t){return t*180/Math.PI},gt=function(t,r,n,a){return{x:t+Math.cos(-vm*a)*n,y:r+Math.sin(-vm*a)*n}},jD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Gpe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.startAngle,c=t.endAngle,f=en(t.cx,s,s/2),d=en(t.cy,o,o/2),h=jD(s,o,n),p=en(t.innerRadius,h,0),g=en(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(y,b){var v=r[b],x=v.domain,_=v.reversed,w;if(We(v.range))a==="angleAxis"?w=[l,c]:a==="radiusAxis"&&(w=[p,g]),_&&(w=[w[1],w[0]]);else{w=v.range;var S=w,E=zpe(S,2);l=E[0],c=E[1]}var T=_D(v,i),A=T.realScaleType,N=T.scale;N.domain(x).range(w),SD(N);var j=ED(N,li(li({},v),{},{realScaleType:A})),L=li(li(li({},v),j),{},{range:w,radius:g,realScaleType:A,scale:N,cx:f,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return li(li({},y),{},OD({},b,L))},{})},Xpe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Ype=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=Xpe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:Kpe(c),angleInRadian:c}},Qpe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Jpe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},vj=function(t,r){var n=t.x,a=t.y,i=Ype({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var f=Qpe(r),d=f.startAngle,h=f.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?li(li({},r),{},{radius:s,angle:Jpe(p,r)}):null},CD=function(t){return!C.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}var Zpe=["offset"];function eme(e){return ame(e)||nme(e)||rme(e)||tme()}function tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rme(e,t){if(e){if(typeof e=="string")return gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(e,t)}}function nme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ame(e){if(Array.isArray(e))return gb(e)}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ime(e,t){if(e==null)return{};var r=sme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){ome(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ome(e,t,r){return t=lme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e){var t=cme(e,"string");return $d(t)=="symbol"?t:t+""}function cme(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}var ume=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Me(n)?n(a):a},fme=function(t,r){var n=Zr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},dme=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,y=(d+h)/2,b=fme(p,g),v=b>=0?1:-1,x,_;a==="insideStart"?(x=p+v*s,_=m):a==="insideEnd"?(x=g-v*s,_=!m):a==="end"&&(x=g+v*s,_=m),_=b<=0?_:!_;var w=gt(c,f,y,x),S=gt(c,f,y,x+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),T=We(t.id)?bh("recharts-radial-line-"):t.id;return B.createElement("text",Ld({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:T,d:E})),B.createElement("textPath",{xlinkHref:"#".concat(T)},r))},hme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var p=gt(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=gt(s,o,y,h),v=b.x,x=b.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},pme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,f=s.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,y=m*a,b=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var x={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return rr(rr({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var _={x:o+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:g};return rr(rr({},_),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(i==="left"){var w={x:o-y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return rr(rr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(i==="right"){var S={x:o+c+y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"};return rr(rr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var E=n?{width:c,height:f}:{};return i==="insideLeft"?rr({x:o+y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideRight"?rr({x:o+c-y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?rr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?rr({x:o+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?rr({x:o+y,y:l+h,textAnchor:v,verticalAnchor:g},E):i==="insideTopRight"?rr({x:o+c-y,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideBottomLeft"?rr({x:o+y,y:l+f-h,textAnchor:v,verticalAnchor:p},E):i==="insideBottomRight"?rr({x:o+c-y,y:l+f-h,textAnchor:b,verticalAnchor:p},E):Nu(i)&&(pe(i.x)||To(i.x))&&(pe(i.y)||To(i.y))?rr({x:o+en(i.x,c),y:l+en(i.y,f),textAnchor:"end",verticalAnchor:"end"},E):rr({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},mme=function(t){return"cx"in t&&pe(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=ime(e,Zpe),a=rr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||We(o)&&We(l)&&!C.isValidElement(c)&&!Me(c))return null;if(C.isValidElement(c))return C.cloneElement(c,a);var p;if(Me(c)){if(p=C.createElement(c,a),C.isValidElement(p))return p}else p=ume(a);var g=mme(i),m=De(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return dme(a,p,m);var y=g?hme(a):pme(a);return B.createElement(tl,Ld({className:Ue("recharts-label",d)},m,y,{breakAll:h}),p)}hr.displayName="Label";var ND=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,y=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(pe(m)&&pe(y)){if(pe(d)&&pe(h))return{x:d,y:h,width:m,height:y};if(pe(p)&&pe(g))return{x:p,y:g,width:m,height:y}}return pe(d)&&pe(h)?{x:d,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:f||l||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},vme=function(t,r){return t?t===!0?B.createElement(hr,{key:"label-implicit",viewBox:r}):or(t)?B.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===hr?C.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Me(t)?B.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Nu(t)?B.createElement(hr,Ld({viewBox:r},t,{key:"label-implicit"})):null:null},gme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=ND(t),s=ra(a,hr).map(function(l,c){return C.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=vme(t.label,r||i);return[o].concat(eme(s))};hr.parseViewBox=ND;hr.renderCallByParent=gme;function yme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xme=yme;const bme=et(xme);function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}var wme=["valueAccessor"],_me=["data","dataKey","clockWise","id","textBreakAll"];function Sme(e){return Ome(e)||Ame(e)||Tme(e)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tme(e,t){if(e){if(typeof e=="string")return yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yb(e,t)}}function Ame(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ome(e){if(Array.isArray(e))return yb(e)}function yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t,r){return t=Cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=Nme(e,"string");return Fd(t)=="symbol"?t:t+""}function Nme(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(e,t){if(e==null)return{};var r=kme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pme=function(t){return Array.isArray(t.value)?bme(t.value):t.value};function Ds(e){var t=e.valueAccessor,r=t===void 0?Pme:t,n=bj(e,wme),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=bj(n,_me);return!a||!a.length?null:B.createElement(at,{className:"recharts-label-list"},a.map(function(f,d){var h=We(i)?r(f,d):Ur(f&&f.payload,i),p=We(o)?{}:{id:"".concat(o,"-").concat(d)};return B.createElement(hr,gm({},De(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:hr.parseViewBox(We(s)?f:xj(xj({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ds.displayName="LabelList";function Rme(e,t){return e?e===!0?B.createElement(Ds,{key:"labelList-implicit",data:t}):B.isValidElement(e)||Me(e)?B.createElement(Ds,{key:"labelList-implicit",data:t,content:e}):Nu(e)?B.createElement(Ds,gm({data:t},e,{key:"labelList-implicit"})):null:null}function Ime(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ra(n,Ds).map(function(s,o){return C.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Rme(e.label,t);return[i].concat(Sme(a))}Ds.renderCallByParent=Ime;function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){Dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dme(e,t,r){return t=Mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=$me(e,"string");return Bd(t)=="symbol"?t:t+""}function $me(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lme=function(t,r){var n=Zr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},S0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(o?1:-1)+a,d=Math.asin(l/f)/vm,h=c?i:i+s*d,p=gt(r,n,f,h),g=gt(r,n,a,h),m=c?i-s*d:i,y=gt(r,n,f*Math.cos(d*vm),m);return{center:p,circleTangency:g,lineTangency:y,theta:d}},kD=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Lme(s,o),c=s+l,f=gt(r,n,i,s),d=gt(r,n,i,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=gt(r,n,a,s),g=gt(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Fme=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=Zr(f-c),h=S0({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=S0({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=y.circleTangency,v=y.lineTangency,x=y.theta,_=l?Math.abs(c-f):Math.abs(c-f)-m-x;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):kD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:f});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var S=S0({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=S.circleTangency,T=S.lineTangency,A=S.theta,N=S0({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=N.circleTangency,L=N.lineTangency,W=N.theta,Z=l?Math.abs(c-f):Math.abs(c-f)-A-W;if(Z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Z>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Bme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PD=function(t){var r=_j(_j({},Bme),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<i||f===d)return null;var p=Ue("recharts-sector",h),g=s-i,m=en(o,g,0,!0),y;return m>0&&Math.abs(f-d)<360?y=Fme({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):y=kD({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),B.createElement("path",xb({},De(r,!0),{className:p,d:y,role:"img"}))};function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Ume(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ume(e,t,r){return t=zme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Wme(e,"string");return Ud(t)=="symbol"?t:t+""}function Wme(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tj={curveBasisClosed:Ute,curveBasisOpen:zte,curveBasis:Bte,curveBumpX:Ate,curveBumpY:Ote,curveLinearClosed:Wte,curveLinear:Yv,curveMonotoneX:Hte,curveMonotoneY:Vte,curveNatural:qte,curveStep:Kte,curveStepAfter:Xte,curveStepBefore:Gte},E0=function(t){return t.x===+t.x&&t.y===+t.y},lf=function(t){return t.x},cf=function(t){return t.y},Hme=function(t,r){if(Me(t))return t;var n="curve".concat(Gv(t));return(n==="curveMonotone"||n==="curveBump")&&r?Tj["".concat(n).concat(r==="vertical"?"Y":"X")]:Tj[n]||Yv},Vme=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=Hme(n,o),d=c?i.filter(function(m){return E0(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return E0(m)}):s,g=d.map(function(m,y){return Ej(Ej({},m),{},{base:p[y]})});return o==="vertical"?h=p0().y(cf).x1(lf).x0(function(m){return m.base.x}):h=p0().x(lf).y1(cf).y0(function(m){return m.base.y}),h.defined(E0).curve(f),h(g)}return o==="vertical"&&pe(s)?h=p0().y(cf).x1(lf).x0(s):pe(s)?h=p0().x(lf).y1(cf).y0(s):h=A5().x(lf).y(cf),h.defined(E0).curve(f),h(d)},wb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Vme(t):a;return C.createElement("path",bb({},De(t,!1),zp(t),{className:Ue("recharts-curve",r),d:s,ref:i}))},RD={exports:{}},qme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kme=qme,Gme=Kme;function ID(){}function DD(){}DD.resetWarningCache=ID;var Xme=function(){function e(n,a,i,s,o,l){if(l!==Gme){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DD,resetWarningCache:ID};return r.PropTypes=r,r};RD.exports=Xme();var Yme=RD.exports;const Je=et(Yme),{getOwnPropertyNames:Qme,getOwnPropertySymbols:Jme}=Object,{hasOwnProperty:Zme}=Object.prototype;function Wy(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function T0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);const l=e(r,n,a);return i.delete(r),i.delete(n),l}}function eve(e){return e!=null?e[Symbol.toStringTag]:void 0}function Aj(e){return Qme(e).concat(Jme(e))}const tve=Object.hasOwn||((e,t)=>Zme.call(e,t));function wl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const rve="__v",nve="__o",ave="_owner",{getOwnPropertyDescriptor:Oj,keys:jj}=Object;function ive(e,t){return e.byteLength===t.byteLength&&ym(new Uint8Array(e),new Uint8Array(t))}function sve(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ove(e,t){return e.byteLength===t.byteLength&&ym(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function lve(e,t){return wl(e.getTime(),t.getTime())}function cve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uve(e,t){return e===t}function Cj(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,o,l=0;for(;(s=i.next())&&!s.done;){const c=t.entries();let f=!1,d=0;for(;(o=c.next())&&!o.done;){if(a[d]){d++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const fve=wl;function dve(e,t,r){const n=jj(e);let a=n.length;if(jj(t).length!==a)return!1;for(;a-- >0;)if(!MD(e,t,r,n[a]))return!1;return!0}function uf(e,t,r){const n=Aj(e);let a=n.length;if(Aj(t).length!==a)return!1;let i,s,o;for(;a-- >0;)if(i=n[a],!MD(e,t,r,i)||(s=Oj(e,i),o=Oj(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function hve(e,t){return wl(e.valueOf(),t.valueOf())}function pve(e,t){return e.source===t.source&&e.flags===t.flags}function Nj(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const l=t.values();let c=!1,f=0;for(;(o=l.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function ym(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function MD(e,t,r,n){return(n===ave||n===nve||n===rve)&&(e.$$typeof||t.$$typeof)?!0:tve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const vve="[object ArrayBuffer]",gve="[object Arguments]",yve="[object Boolean]",xve="[object DataView]",bve="[object Date]",wve="[object Error]",_ve="[object Map]",Sve="[object Number]",Eve="[object Object]",Tve="[object RegExp]",Ave="[object Set]",Ove="[object String]",jve={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Cve="[object URL]",Nve=Object.prototype.toString;function kve({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;const x=typeof y;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?o(y,b,v):x==="function"?i(y,b,v):!1;const _=y.constructor;if(_!==b.constructor)return!1;if(_===Object)return l(y,b,v);if(Array.isArray(y))return t(y,b,v);if(_===Date)return n(y,b,v);if(_===RegExp)return f(y,b,v);if(_===Map)return s(y,b,v);if(_===Set)return d(y,b,v);const w=Nve.call(y);if(w===bve)return n(y,b,v);if(w===Tve)return f(y,b,v);if(w===_ve)return s(y,b,v);if(w===Ave)return d(y,b,v);if(w===Eve)return typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,v);if(w===Cve)return p(y,b,v);if(w===wve)return a(y,b,v);if(w===gve)return l(y,b,v);if(jve[w])return h(y,b,v);if(w===vve)return e(y,b,v);if(w===xve)return r(y,b,v);if(w===yve||w===Sve||w===Ove)return c(y,b,v);if(g){let S=g[w];if(!S){const E=eve(y);E&&(S=g[E])}if(S)return S(y,b,v)}return!1}}function Pve({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:ive,areArraysEqual:r?uf:sve,areDataViewsEqual:ove,areDatesEqual:lve,areErrorsEqual:cve,areFunctionsEqual:uve,areMapsEqual:r?Wy(Cj,uf):Cj,areNumbersEqual:fve,areObjectsEqual:r?uf:dve,arePrimitiveWrappersEqual:hve,areRegExpsEqual:pve,areSetsEqual:r?Wy(Nj,uf):Nj,areTypedArraysEqual:r?Wy(ym,uf):ym,areUrlsEqual:mve,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=T0(n.areArraysEqual),i=T0(n.areMapsEqual),s=T0(n.areObjectsEqual),o=T0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:o})}return n}function Rve(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function Ive({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(o,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(o,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(o,l){return t(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(o,l){return t(o,l,i)}}const Dve=Ys();Ys({strict:!0});Ys({circular:!0});Ys({circular:!0,strict:!0});Ys({createInternalComparator:()=>wl});Ys({strict:!0,createInternalComparator:()=>wl});Ys({circular:!0,createInternalComparator:()=>wl});Ys({circular:!0,createInternalComparator:()=>wl,strict:!0});function Ys(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=Pve(e),s=kve(i),o=r?r(s):Rve(s);return Ive({circular:t,comparator:s,createState:n,equals:o,strict:a})}function Mve(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Mve(a)};requestAnimationFrame(n)}function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}function $ve(e){return Uve(e)||Bve(e)||Fve(e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(e,t){if(e){if(typeof e=="string")return Pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pj(e,t)}}function Pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uve(e){if(Array.isArray(e))return e}function zve(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=$ve(s),l=o[0],c=o.slice(1);if(typeof l=="number"){kj(a.bind(null,c),l);return}a(l),kj(a.bind(null,c));return}_b(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){$D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $D(e,t,r){return t=Wve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wve(e){var t=Hve(e,"string");return zd(t)==="symbol"?t:String(t)}function Hve(e,t){if(zd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vve=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},qve=function(t){return t},Kve=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Uf=function(t,r){return Object.keys(r).reduce(function(n,a){return Ij(Ij({},n),{},$D({},a,t(a,r[a])))},{})},Dj=function(t,r,n){return t.map(function(a){return"".concat(Kve(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Gve(e,t){return Qve(e)||Yve(e,t)||LD(e,t)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Qve(e){if(Array.isArray(e))return e}function Jve(e){return tge(e)||ege(e)||LD(e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function ege(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tge(e){if(Array.isArray(e))return Sb(e)}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xm=1e-4,FD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},BD=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mj=function(t,r){return function(n){var a=FD(t,r);return BD(a,n)}},rge=function(t,r){return function(n){var a=FD(t,r),i=[].concat(Jve(a.map(function(s,o){return s*o}).slice(1)),[0]);return BD(i,n)}},$j=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=Gve(c,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var d=Mj(a,s),h=Mj(i,o),p=rge(a,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var v=b>1?1:b,x=v,_=0;_<8;++_){var w=d(x)-v,S=p(x);if(Math.abs(w-v)<xm||S<xm)return h(x);x=g(x-w/S)}return h(x)};return m.isStepper=!1,m},nge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(f,d,h){var p=-(f-d)*n,g=h*i,m=h+(p-g)*o/1e3,y=h*o/1e3+f;return Math.abs(y-d)<xm&&Math.abs(m)<xm?[d,0]:[y,m]};return l.isStepper=!0,l.dt=o,l},age=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $j(a);case"spring":return nge();default:if(a.split("(")[0]==="cubic-bezier")return $j(a)}return typeof a=="function"?a:null};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function Lj(e){return oge(e)||sge(e)||UD(e)||ige()}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oge(e){if(Array.isArray(e))return Tb(e)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eb(e,t,r){return t=lge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lge(e){var t=cge(e,"string");return Wd(t)==="symbol"?t:String(t)}function cge(e,t){if(Wd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uge(e,t){return hge(e)||dge(e,t)||UD(e,t)||fge()}function fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UD(e,t){if(e){if(typeof e=="string")return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hge(e){if(Array.isArray(e))return e}var bm=function(t,r,n){return t+(r-t)*n},Ab=function(t){var r=t.from,n=t.to;return r!==n},pge=function e(t,r,n){var a=Uf(function(i,s){if(Ab(s)){var o=t(s.from,s.to,s.velocity),l=uge(o,2),c=l[0],f=l[1];return Sr(Sr({},s),{},{from:c,velocity:f})}return s},r);return n<1?Uf(function(i,s){return Ab(s)?Sr(Sr({},s),{},{velocity:bm(s.velocity,a[i].velocity,n),from:bm(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const mge=function(e,t,r,n,a){var i=Vve(e,t),s=i.reduce(function(y,b){return Sr(Sr({},y),{},Eb({},b,[e[b],t[b]]))},{}),o=i.reduce(function(y,b){return Sr(Sr({},y),{},Eb({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Uf(function(b,v){return v.from},o)},p=function(){return!Object.values(o).filter(Ab).length},g=function(b){c||(c=b);var v=b-c,x=v/r.dt;o=pge(r,o,x),a(Sr(Sr(Sr({},e),t),h())),c=b,p()||(l=requestAnimationFrame(d))},m=function(b){f||(f=b);var v=(b-f)/n,x=Uf(function(w,S){return bm.apply(void 0,Lj(S).concat([r(v)]))},s);if(a(Sr(Sr(Sr({},e),t),x)),v<1)l=requestAnimationFrame(d);else{var _=Uf(function(w,S){return bm.apply(void 0,Lj(S).concat([r(1)]))},s);a(Sr(Sr(Sr({},e),t),_))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var vge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gge(e,t){if(e==null)return{};var r=yge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yge(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Hy(e){return _ge(e)||wge(e)||bge(e)||xge()}function xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(e,t){if(e){if(typeof e=="string")return Ob(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ob(e,t)}}function wge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ge(e){if(Array.isArray(e))return Ob(e)}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){_f(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _f(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ege(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zD(n.key),n)}}function Tge(e,t,r){return t&&Ege(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zD(e){var t=Age(e,"string");return Jc(t)==="symbol"?t:String(t)}function Age(e,t){if(Jc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jb(e,t)}function jb(e,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jb(e,t)}function jge(e){var t=Cge();return function(){var n=wm(e),a;if(t){var i=wm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Cb(this,a)}}function Cb(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nb(e)}function Nb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}var Fi=function(e){Oge(r,e);var t=jge(r);function r(n,a){var i;Sge(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,f=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Nb(i)),i.changeStyle=i.changeStyle.bind(Nb(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Cb(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},Cb(i);i.state={style:l?_f({},l,c):c}}else i.state={style:{}};return i}return Tge(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?_f({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(Dve(a.to,f)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var y={style:l?_f({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation(pa(pa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=mge(s,o,age(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,f,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,y,b){if(b===0)return m;var v=y.duration,x=y.easing,_=x===void 0?"ease":x,w=y.style,S=y.properties,E=y.onAnimationEnd,T=b>0?s[b-1]:y,A=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Hy(m),[i.runJSAnimation.bind(i,{from:T.style,to:w,duration:v,easing:_}),v]);var N=Dj(A,v,_),j=pa(pa(pa({},T.style),w),{},{transition:N});return[].concat(Hy(m),[j,v,E]).filter(qve)};return this.manager.start([l].concat(Hy(s.reduce(p,[f,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=zve());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?_f({},o,l):l,y=Dj(Object.keys(m),s,c);g.start([f,i,pa(pa({},m),{},{transition:y}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=gge(a,vge),c=C.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||c===0||s<=0)return i;var d=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,b=g.className,v=C.cloneElement(p,pa(pa({},l),{},{style:pa(pa({},y),f),className:b}));return v};return c===1?d(C.Children.only(i)):B.createElement("div",null,C.Children.map(i,function(h){return d(h)}))}}]),r}(C.PureComponent);Fi.displayName="Animate";Fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fi.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}function Nge(e,t){return Ige(e)||Rge(e,t)||Pge(e,t)||kge()}function kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pge(e,t){if(e){if(typeof e=="string")return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}}function Uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Ige(e){if(Array.isArray(e))return e}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Dge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dge(e,t,r){return t=Mge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mge(e){var t=$ge(e,"string");return Hd(t)=="symbol"?t:t+""}function $ge(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hj=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];f="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),f+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);f="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Lge=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),f=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},Fge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I2=function(t){var r=Wj(Wj({},Fge),t),n=C.useRef(),a=C.useState(-1),i=Nge(a,2),s=i[0],o=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var x=Ue("recharts-rectangle",p);return v?B.createElement(Fi,{canBegin:s>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:v},function(_){var w=_.width,S=_.height,E=_.x,T=_.y;return B.createElement(Fi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:b,easing:g},B.createElement("path",_m({},De(r,!0),{className:x,d:Hj(E,T,w,S,h),ref:n})))}):B.createElement("path",_m({},De(r,!0),{className:x,d:Hj(l,c,f,d,h)}))},Bge=["points","className","baseLinePoints","connectNulls"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function Uge(e,t){if(e==null)return{};var r=zge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vj(e){return qge(e)||Vge(e)||Hge(e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(e,t){if(e){if(typeof e=="string")return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qge(e){if(Array.isArray(e))return kb(e)}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Kge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){qj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},zf=function(t,r){var n=Kge(t);r&&(n=[n.reduce(function(i,s){return[].concat(Vj(i),Vj(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Gge=function(t,r,n){var a=zf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(zf(r.reverse(),n).slice(1))},Xge=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=Uge(t,Bge);if(!r||!r.length)return null;var o=Ue("recharts-polygon",n);if(a&&a.length){var l=s.stroke&&s.stroke!=="none",c=Gge(r,a,i);return B.createElement("g",{className:o},B.createElement("path",Yl({},De(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?B.createElement("path",Yl({},De(s,!0),{fill:"none",d:zf(r,i)})):null,l?B.createElement("path",Yl({},De(s,!0),{fill:"none",d:zf(a,i)})):null)}var f=zf(r,i);return B.createElement("path",Yl({},De(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:o,d:f}))};function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}var D2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Ue("recharts-dot",i);return r===+r&&n===+n&&a===+a?C.createElement("circle",Pb({},De(t,!1),zp(t),{className:s,cx:r,cy:n,r:a})):null};function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}var Yge=["x","y","top","left","width","height","className"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Jge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jge(e,t,r){return t=Zge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zge(e){var t=eye(e,"string");return Vd(t)=="symbol"?t:t+""}function eye(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tye(e,t){if(e==null)return{};var r=rye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nye=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},aye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,g=t.className,m=tye(t,Yge),y=Qge({x:n,y:i,top:o,left:c,width:d,height:p},m);return!pe(n)||!pe(i)||!pe(d)||!pe(p)||!pe(o)||!pe(c)?null:B.createElement("path",Rb({},De(y,!0),{className:Ue("recharts-cross",g),d:nye(n,i,d,p,o,c)}))},iye=og,sye=eD,oye=ni;function lye(e,t){return e&&e.length?iye(e,oye(t),sye):void 0}var cye=lye;const uye=et(cye);var fye=og,dye=ni,hye=tD;function pye(e,t){return e&&e.length?fye(e,dye(t),hye):void 0}var mye=pye;const vye=et(mye);var gye=["cx","cy","angle","ticks","axisLine"],yye=["ticks","tick","angle","tickFormatter","stroke"];function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(this,arguments)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xj(e,t){if(e==null)return{};var r=xye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HD(n.key),n)}}function wye(e,t,r){return t&&Yj(e.prototype,t),r&&Yj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,r){return t=Sm(t),Sye(e,WD()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function Sye(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(e)}function Eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function Tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}function Ib(e,t){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ib(e,t)}function pg(e,t,r){return t=HD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=Aye(e,"string");return Zc(t)=="symbol"?t:t+""}function Aye(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mg=function(e){function t(){return bye(this,t),_ye(this,t,arguments)}return Tye(t,e),wye(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,l=i.cy;return gt(o,l,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=uye(o,function(f){return f.coordinate||0}),c=vye(o,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=Xj(n,gye),f=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=gt(a,i,f[0],s),h=gt(a,i,f[1],s),p=ao(ao(ao({},De(c,!1)),{},{fill:"none"},De(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return B.createElement("line",Wf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,l=a.tickFormatter,c=a.stroke,f=Xj(a,yye),d=this.getTickTextAnchor(),h=De(f,!1),p=De(s,!1),g=i.map(function(m,y){var b=n.getTickValueCoord(m),v=ao(ao(ao(ao({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:y},b),{},{payload:m});return B.createElement(at,Wf({className:Ue("recharts-polar-radius-axis-tick",CD(s)),key:"tick-".concat(m.coordinate)},el(n.props,m,y)),t.renderTickItem(s,v,l?l(m.value,y):m.value))});return B.createElement(at,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:B.createElement(at,{className:Ue("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return B.isValidElement(n)?s=B.cloneElement(n,a):Me(n)?s=n(a):s=B.createElement(tl,Wf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(C.PureComponent);pg(mg,"displayName","PolarRadiusAxis");pg(mg,"axisType","radiusAxis");pg(mg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(this,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qD(n.key),n)}}function jye(e,t,r){return t&&Jj(e.prototype,t),r&&Jj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cye(e,t,r){return t=Em(t),Nye(e,VD()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function Nye(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(e)}function kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function Pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Db(e,t)}function vg(e,t,r){return t=qD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=Rye(e,"string");return eu(t)=="symbol"?t:t+""}function Rye(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iye=Math.PI/180,Zj=1e-5,gg=function(e){function t(){return Oye(this,t),Cye(this,t,arguments)}return Pye(t,e),jye(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,l=a.orientation,c=a.tickSize,f=c||8,d=gt(i,s,o,n.coordinate),h=gt(i,s,o+(l==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Iye),s;return i>Zj?s=a==="outer"?"start":"end":i<-Zj?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=io(io({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(l==="circle")return B.createElement(D2,yo({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var f=this.props.ticks,d=f.map(function(h){return gt(a,i,s,h.coordinate)});return B.createElement(Xge,yo({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,l=a.tickFormatter,c=a.stroke,f=De(this.props,!1),d=De(s,!1),h=io(io({},f),{},{fill:"none"},De(o,!1)),p=i.map(function(g,m){var y=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),v=io(io(io({textAnchor:b},f),{},{stroke:"none",fill:c},d),{},{index:m,payload:g,x:y.x2,y:y.y2});return B.createElement(at,yo({className:Ue("recharts-polar-angle-axis-tick",CD(s)),key:"tick-".concat(g.coordinate)},el(n.props,g,m)),o&&B.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},h,y)),s&&t.renderTickItem(s,v,l?l(g.value,m):g.value))});return B.createElement(at,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:B.createElement(at,{className:Ue("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return B.isValidElement(n)?s=B.cloneElement(n,a):Me(n)?s=n(a):s=B.createElement(tl,yo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(C.PureComponent);vg(gg,"displayName","PolarAngleAxis");vg(gg,"axisType","angleAxis");vg(gg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Dye=Y5,Mye=Dye(Object.getPrototypeOf,Object),$ye=Mye,Lye=Ki,Fye=$ye,Bye=Gi,Uye="[object Object]",zye=Function.prototype,Wye=Object.prototype,KD=zye.toString,Hye=Wye.hasOwnProperty,Vye=KD.call(Object);function qye(e){if(!Bye(e)||Lye(e)!=Uye)return!1;var t=Fye(e);if(t===null)return!0;var r=Hye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&KD.call(r)==Vye}var Kye=qye;const Gye=et(Kye);var Xye=Ki,Yye=Gi,Qye="[object Boolean]";function Jye(e){return e===!0||e===!1||Yye(e)&&Xye(e)==Qye}var Zye=Jye;const exe=et(Zye);function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}function txe(e,t){return ixe(e)||axe(e,t)||nxe(e,t)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nxe(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function axe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ixe(e){if(Array.isArray(e))return e}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sxe(e,t,r){return t=oxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return qd(t)=="symbol"?t:t+""}function lxe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nC=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},cxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uxe=function(t){var r=rC(rC({},cxe),t),n=C.useRef(),a=C.useState(-1),i=txe(a,2),s=i[0],o=i[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var v=Ue("recharts-trapezoid",p);return b?B.createElement(Fi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(x){var _=x.upperWidth,w=x.lowerWidth,S=x.height,E=x.x,T=x.y;return B.createElement(Fi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},B.createElement("path",Tm({},De(r,!0),{className:v,d:nC(E,T,_,w,S),ref:n})))}):B.createElement("g",null,B.createElement("path",Tm({},De(r,!0),{className:v,d:nC(l,c,f,d,h)})))},fxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function dxe(e,t){if(e==null)return{};var r=hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return t=mxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mxe(e){var t=vxe(e,"string");return Kd(t)=="symbol"?t:t+""}function vxe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e,t){return Am(Am({},t),e)}function yxe(e,t){return e==="symbols"}function iC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(I2,r);case"trapezoid":return B.createElement(uxe,r);case"sector":return B.createElement(PD,r);case"symbols":if(yxe(t))return B.createElement(Z_,r);break;default:return null}}function xxe(e){return C.isValidElement(e)?e.props:e}function GD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?gxe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=dxe(e,fxe),c;if(C.isValidElement(t))c=C.cloneElement(t,Am(Am({},l),xxe(t)));else if(Me(t))c=t(l);else if(Gye(t)&&!exe(t)){var f=a(t,l);c=B.createElement(iC,{shapeType:r,elementProps:f})}else{var d=l;c=B.createElement(iC,{shapeType:r,elementProps:d})}return o?B.createElement(at,{className:s},c):c}function yg(e,t){return t!=null&&"trapezoids"in e.props}function xg(e,t){return t!=null&&"sectors"in e.props}function Gd(e,t){return t!=null&&"points"in e.props}function bxe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function wxe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function _xe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Sxe(e,t){var r;return yg(e,t)?r=bxe:xg(e,t)?r=wxe:Gd(e,t)&&(r=_xe),r}function Exe(e,t){var r;return yg(e,t)?r="trapezoids":xg(e,t)?r="sectors":Gd(e,t)&&(r="points"),r}function Txe(e,t){if(yg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gd(e,t)?t.payload:{}}function Axe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Exe(r,t),i=Txe(r,t),s=n.filter(function(l,c){var f=ug(i,l),d=r.props[a].filter(function(g){var m=Sxe(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),o=n.indexOf(s[s.length-1]);return o}var W0;function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){Jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function jxe(e,t,r){return t&&oC(e.prototype,t),r&&oC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cxe(e,t,r){return t=Om(t),Nxe(e,XD()?Reflect.construct(t,r||[],Om(e).constructor):t.apply(e,r))}function Nxe(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(e)}function kxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!e})()}function Om(e){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(e)}function Pxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mb(e,t)}function Jn(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=Rxe(e,"string");return tu(t)=="symbol"?t:t+""}function Rxe(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $a=function(e){function t(r){var n;return Oxe(this,t),n=Cxe(this,t,[r]),Jn(n,"pieRef",null),Jn(n,"sectorRefs",[]),Jn(n,"id",bh("recharts-pie-")),Jn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(a)&&a()}),Jn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Pxe(t,e),jxe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,l=i.dataKey,c=i.valueKey,f=De(this.props,!1),d=De(s,!1),h=De(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,y){var b=(m.startAngle+m.endAngle)/2,v=gt(m.cx,m.cy,m.outerRadius+p,b),x=pt(pt(pt(pt({},f),m),{},{stroke:"none"},d),{},{index:y,textAnchor:t.getTextAnchor(v.x,m.cx)},v),_=pt(pt(pt(pt({},f),m),{},{fill:"none",stroke:m.fill},h),{},{index:y,points:[gt(m.cx,m.cy,m.outerRadius,b),v]}),w=l;return We(l)&&We(c)?w="value":We(l)&&(w=c),B.createElement(at,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,x,Ur(m,w)))});return B.createElement(at,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,l=i.inactiveShape;return n.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=l&&a.hasActiveIndex()?l:null,p=d?s:h,g=pt(pt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return B.createElement(at,Ql({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},el(a.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),B.createElement(GD,Ql({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return B.createElement(Fi,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,y=[],b=i&&i[0],v=b.startAngle;return i.forEach(function(x,_){var w=h&&h[_],S=_>0?$n(x,"paddingAngle",0):0;if(w){var E=rs(w.endAngle-w.startAngle,x.endAngle-x.startAngle),T=pt(pt({},x),{},{startAngle:v+S,endAngle:v+E(m)+S});y.push(T),v=T.endAngle}else{var A=x.endAngle,N=x.startAngle,j=rs(0,A-N),L=j(m),W=pt(pt({},x),{},{startAngle:v+S,endAngle:v+L+S});y.push(W),v=W.endAngle}}),B.createElement(at,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!ug(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,l=a.label,c=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!pe(c)||!pe(f)||!pe(d)||!pe(h))return null;var m=Ue("recharts-pie",o);return B.createElement(at,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),hr.renderCallByParent(this.props,null,!1),(!p||g)&&Ds.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);if(Me(n))return n(a);var s=Ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(wb,Ql({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);var s=i;if(Me(n)&&(s=n(a),B.isValidElement(s)))return s;var o=Ue("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return B.createElement(tl,Ql({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(C.PureComponent);W0=$a;Jn($a,"displayName","Pie");Jn($a,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!$u.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jn($a,"parseDeltaAngle",function(e,t){var r=Zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Jn($a,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=ra(r,Xi);return t&&t.length?t.map(function(i,s){return pt(pt(pt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return pt(pt({},n),i.props)}):[]});Jn($a,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=jD(a,i),o=n+en(e.cx,a,a/2),l=r+en(e.cy,i,i/2),c=en(e.innerRadius,s,0),f=en(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:f,maxRadius:d}});Jn($a,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?pt(pt({},t.type.defaultProps),t.props):t.props,a=W0.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=W0.parseCoordinateOfPie(n,r),m=W0.parseDeltaAngle(s,o),y=Math.abs(m),b=c;We(c)&&We(d)?(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):We(c)&&(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var v=a.filter(function(T){return Ur(T,b,0)!==0}).length,x=(y>=360?v:v-1)*l,_=y-v*p-x,w=a.reduce(function(T,A){var N=Ur(A,b,0);return T+(pe(N)?N:0)},0),S;if(w>0){var E;S=a.map(function(T,A){var N=Ur(T,b,0),j=Ur(T,f,A),L=(pe(N)?N:0)/w,W;A?W=E.endAngle+Zr(m)*l*(N!==0?1:0):W=s;var Z=W+Zr(m)*((N!==0?p:0)+L*_),G=(W+Z)/2,re=(g.innerRadius+g.outerRadius)/2,q=[{name:j,value:N,payload:T,dataKey:b,type:h}],V=gt(g.cx,g.cy,re,G);return E=pt(pt(pt({percent:L,cornerRadius:i,name:j,tooltipPayload:q,midAngle:G,middleRadius:re,tooltipPosition:V},T),g),{},{value:Ur(T,b),startAngle:W,endAngle:Z,payload:T,paddingAngle:Zr(m)*l}),E})}return pt(pt({},g),{},{sectors:S,data:a})});var Ixe=Math.ceil,Dxe=Math.max;function Mxe(e,t,r,n){for(var a=-1,i=Dxe(Ixe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var $xe=Mxe,Lxe=mI,lC=1/0,Fxe=17976931348623157e292;function Bxe(e){if(!e)return e===0?e:0;if(e=Lxe(e),e===lC||e===-lC){var t=e<0?-1:1;return t*Fxe}return e===e?e:0}var QD=Bxe,Uxe=$xe,zxe=eg,Vy=QD;function Wxe(e){return function(t,r,n){return n&&typeof n!="number"&&zxe(t,r,n)&&(r=n=void 0),t=Vy(t),r===void 0?(r=t,t=0):r=Vy(r),n=n===void 0?t<r?1:-1:Vy(n),Uxe(t,r,n,e)}}var Hxe=Wxe,Vxe=Hxe,qxe=Vxe(),Kxe=qxe;const jm=et(Kxe);function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){JD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JD(e,t,r){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=Xxe(e,"string");return Xd(t)=="symbol"?t:t+""}function Xxe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yxe=["Webkit","Moz","O","ms"],Qxe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Yxe.reduce(function(i,s){return uC(uC({},i),{},JD({},s+n,r))},{});return a[t]=r,a};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function Zxe(e,t,r){return t&&dC(e.prototype,t),r&&dC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=Nm(t),t1e(e,ZD()?Reflect.construct(t,r||[],Nm(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!e})()}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$b(e,t)}function $b(e,t){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$b(e,t)}function Tn(e,t,r){return t=eM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=a1e(e,"string");return ru(t)=="symbol"?t:t+""}function a1e(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Ff().domain(jm(0,l)).range([i,i+s-o]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},hC=function(t){return t.changedTouches&&!!t.changedTouches.length},nu=function(e){function t(r){var n;return Jxe(this,t),n=e1e(this,t,[r]),Tn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Tn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Tn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Tn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tn(n,"handleSlideDragStart",function(a){var i=hC(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return n1e(t,e),Zxe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,f=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===f?f:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Ur(i[n],o,n);return Me(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+f-d-o,c+f-d-s):m<0&&(m=Math.max(m,c-s,c-o));var y=this.getIndex({startX:s+m,endX:o+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=hC(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,g=f.onChange,m=f.gap,y=f.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,d+h-p-c):v<0&&(v=Math.max(v,d-c)),b[s]=c+v;var x=this.getIndex(b),_=x.startIndex,w=x.endIndex,S=function(){var T=y.length-1;return s==="startX"&&(o>l?_%m===0:w%m===0)||o<l&&w===T||s==="endX"&&(o>l?w%m===0:_%m===0)||o>l&&w===T};this.setState(Tn(Tn({},s,c+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,f=this.state[a],d=o.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Tn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return B.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,f=n.padding,d=C.Children.only(c);return d?B.cloneElement(d,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,b=Math.max(n,this.props.x),v=qy(qy({},De(this.props,!1)),{},{x:b,y:c,width:f,height:d}),x=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return B.createElement(at,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,g={pointerEvents:"none",fill:c};return B.createElement(at,{className:"recharts-brush-texts"},B.createElement(tl,Cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(a)),B.createElement(tl,Cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!pe(o)||!pe(l)||!pe(c)||!pe(f)||c<=0||f<=0)return null;var x=Ue("recharts-brush",i),_=B.Children.count(s)===1,w=Qxe("userSelect","none");return B.createElement(at,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||b||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),B.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):Me(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return qy({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?i1e({data:i,width:s,x:o,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(C.PureComponent);Tn(nu,"displayName","Brush");Tn(nu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s1e=s2;function o1e(e,t){var r;return s1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var l1e=o1e,c1e=z5,u1e=ni,f1e=l1e,d1e=Sn,h1e=eg;function p1e(e,t,r){var n=d1e(e)?c1e:f1e;return r&&h1e(e,t,r)&&(t=void 0),n(e,u1e(t))}var m1e=p1e;const v1e=et(m1e);var Ja=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},pC=uI;function g1e(e,t,r){t=="__proto__"&&pC?pC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var y1e=g1e,x1e=y1e,b1e=lI,w1e=ni;function _1e(e,t){var r={};return t=w1e(t),b1e(e,function(n,a,i){x1e(r,a,t(n,a,i))}),r}var S1e=_1e;const E1e=et(S1e);function T1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var A1e=T1e,O1e=s2;function j1e(e,t){var r=!0;return O1e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var C1e=j1e,N1e=A1e,k1e=C1e,P1e=ni,R1e=Sn,I1e=eg;function D1e(e,t,r){var n=R1e(e)?N1e:k1e;return r&&I1e(e,t,r)&&(t=void 0),n(e,P1e(t))}var M1e=D1e;const tM=et(M1e);var $1e=["x","y"];function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(this,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=B1e(e,"string");return Yd(t)=="symbol"?t:t+""}function B1e(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1e(e,t){if(e==null)return{};var r=z1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1e(e,t){var r=e.x,n=e.y,a=U1e(e,$1e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return ff(ff(ff(ff(ff({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function vC(e){return B.createElement(GD,Lb({shapeType:"rectangle",propTransformer:W1e,activeClassName:"recharts-active-bar"},e))}var H1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=pe(n)||dee(n);return i?t(n,a):(i||nl(),r)}},V1e=["value","background"],rM;function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function q1e(e,t){if(e==null)return{};var r=K1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aM(n.key),n)}}function X1e(e,t,r){return t&&yC(e.prototype,t),r&&yC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y1e(e,t,r){return t=Pm(t),Q1e(e,nM()?Reflect.construct(t,r||[],Pm(e).constructor):t.apply(e,r))}function Q1e(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1e(e)}function J1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!e})()}function Pm(e){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(e)}function Z1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fb(e,t)}function Fb(e,t){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fb(e,t)}function Ss(e,t,r){return t=aM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aM(e){var t=ebe(e,"string");return au(t)=="symbol"?t:t+""}function ebe(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mn=function(e){function t(){var r;G1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Y1e(this,t,[].concat(a)),Ss(r,"state",{isAnimationFinished:!1}),Ss(r,"id",bh("recharts-bar-")),Ss(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ss(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Z1e(t,e),X1e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,f=De(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:s,m=Kt(Kt(Kt({},f),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(at,km({className:"recharts-bar-rectangle"},el(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),B.createElement(vC,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return B.createElement(Fi,{begin:l,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(y,b){var v=h&&h[b];if(v){var x=rs(v.x,y.x),_=rs(v.y,y.y),w=rs(v.width,y.width),S=rs(v.height,y.height);return Kt(Kt({},y),{},{x:x(g),y:_(g),width:w(g),height:S(g)})}if(s==="horizontal"){var E=rs(0,y.height),T=E(g);return Kt(Kt({},y),{},{y:y.y+y.height-T,height:T})}var A=rs(0,y.width),N=A(g);return Kt(Kt({},y),{},{width:N})});return B.createElement(at,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!ug(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=De(this.props.background,!1);return i.map(function(c,f){c.value;var d=c.background,h=q1e(c,V1e);if(!d)return null;var p=Kt(Kt(Kt(Kt(Kt({},h),{},{fill:"#eee"},d),l),el(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return B.createElement(vC,km({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,f=i.children,d=ra(f,hg);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,b){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:Ur(y,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(at,g,d.map(function(m){return B.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=Ue("recharts-bar",s),v=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,_=v||x,w=We(m)?this.id:m;return B.createElement(at,{className:b},v||x?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(w)},B.createElement("rect",{x:v?c:c-d/2,y:x?f:f-h/2,width:v?d:d*2,height:x?h:h*2}))):null,B.createElement(at,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||y)&&Ds.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(C.PureComponent);rM=mn;Ss(mn,"displayName","Bar");Ss(mn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$u.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ss(mn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=Npe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,y=m!==void 0?Kt(Kt({},m),r.props):r.props,b=y.dataKey,v=y.children,x=y.minPointSize,_=g==="horizontal"?s:i,w=c?_.scale.domain():null,S=$pe({numericAxis:_}),E=ra(v,Xi),T=d.map(function(A,N){var j,L,W,Z,G,re;c?j=kpe(c[f+N],w):(j=Ur(A,b),Array.isArray(j)||(j=[S,j]));var q=H1e(x,rM.defaultProps.minPointSize)(j[1],N);if(g==="horizontal"){var V,K=[s.scale(j[0]),s.scale(j[1])],ae=K[0],de=K[1];L=uj({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:A,index:N}),W=(V=de??ae)!==null&&V!==void 0?V:void 0,Z=p.size;var P=ae-de;if(G=Number.isNaN(P)?0:P,re={x:L,y:s.y,width:Z,height:s.height},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var H=Zr(G||q)*(Math.abs(q)-Math.abs(G));W-=H,G+=H}}else{var U=[i.scale(j[0]),i.scale(j[1])],z=U[0],ie=U[1];if(L=z,W=uj({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:A,index:N}),Z=ie-z,G=p.size,re={x:i.x,y:W,width:i.width,height:G},Math.abs(q)>0&&Math.abs(Z)<Math.abs(q)){var we=Zr(Z||q)*(Math.abs(q)-Math.abs(Z));Z+=we}}return Kt(Kt(Kt({},A),{},{x:L,y:W,width:Z,height:G,value:c?j:j[1],payload:A,background:re},E&&E[N]&&E[N].props),{},{tooltipPayload:[AD(r,A)],tooltipPosition:{x:L+Z/2,y:W+G/2}})});return Kt({data:T,layout:g},h)});function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iM(n.key),n)}}function rbe(e,t,r){return t&&xC(e.prototype,t),r&&xC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bg(e,t,r){return t=iM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iM(e){var t=nbe(e,"string");return Qd(t)=="symbol"?t:t+""}function nbe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var abe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!jn(c,mn);return f.reduce(function(p,g){var m=r[g],y=m.orientation,b=m.domain,v=m.padding,x=v===void 0?{}:v,_=m.mirror,w=m.reversed,S="".concat(y).concat(_?"Mirror":""),E,T,A,N,j;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var L=b[1]-b[0],W=1/0,Z=m.categoricalDomain.sort(mee);if(Z.forEach(function(U,z){z>0&&(W=Math.min((U||0)-(Z[z-1]||0),W))}),Number.isFinite(W)){var G=W/L,re=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=G*re/2),m.padding==="no-gap"){var q=en(t.barCategoryGap,G*re),V=G*re/2;E=V-q-(V-q)/re*q}}}a==="xAxis"?T=[n.left+(x.left||0)+(E||0),n.left+n.width-(x.right||0)-(E||0)]:a==="yAxis"?T=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(E||0),n.top+n.height-(x.bottom||0)-(E||0)]:T=m.range,w&&(T=[T[1],T[0]]);var K=_D(m,i,h),ae=K.scale,de=K.realScaleType;ae.domain(b).range(T),SD(ae);var P=ED(ae,_a(_a({},m),{},{realScaleType:de}));a==="xAxis"?(j=y==="top"&&!_||y==="bottom"&&_,A=n.left,N=d[S]-j*m.height):a==="yAxis"&&(j=y==="left"&&!_||y==="right"&&_,A=d[S]-j*m.width,N=n.top);var H=_a(_a(_a({},m),P),{},{realScaleType:de,x:A,y:N,scale:ae,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return H.bandSize=mm(H,P),!m.hide&&a==="xAxis"?d[S]+=(j?-1:1)*H.height:m.hide||(d[S]+=(j?-1:1)*H.width),_a(_a({},p),{},bg({},g,H))},{})},sM=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},ibe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return sM({x:r,y:n},{x:a,y:i})},oM=function(){function e(t){tbe(this,e),this.scale=t}return rbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();bg(oM,"EPS",1e-4);var M2=function(t){var r=Object.keys(t).reduce(function(n,a){return _a(_a({},n),{},bg({},a,oM.create(t[a])))},{});return _a(_a({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return E1e(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return tM(a,function(i,s){return r[s].isInRange(i)})}})};function sbe(e){return(e%180+180)%180}var obe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=sbe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},lbe=ni,cbe=wh,ube=Jv;function fbe(e){return function(t,r,n){var a=Object(t);if(!cbe(t)){var i=lbe(r);t=ube(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var dbe=fbe,hbe=QD;function pbe(e){var t=hbe(e),r=t%1;return t===t?r?t-r:t:0}var mbe=pbe,vbe=rI,gbe=ni,ybe=mbe,xbe=Math.max;function bbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ybe(r);return a<0&&(a=xbe(n+a,0)),vbe(e,gbe(t),a)}var wbe=bbe,_be=dbe,Sbe=wbe,Ebe=_be(Sbe),Tbe=Ebe;const Abe=et(Tbe);var Obe=yZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$2=C.createContext(void 0),L2=C.createContext(void 0),lM=C.createContext(void 0),cM=C.createContext({}),uM=C.createContext(void 0),fM=C.createContext(0),dM=C.createContext(0),wC=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,f=Obe(i);return B.createElement($2.Provider,{value:n},B.createElement(L2.Provider,{value:a},B.createElement(cM.Provider,{value:i},B.createElement(lM.Provider,{value:f},B.createElement(uM.Provider,{value:s},B.createElement(fM.Provider,{value:c},B.createElement(dM.Provider,{value:l},o)))))))},jbe=function(){return C.useContext(uM)},hM=function(t){var r=C.useContext($2);r==null&&nl();var n=r[t];return n==null&&nl(),n},Cbe=function(){var t=C.useContext($2);return ls(t)},Nbe=function(){var t=C.useContext(L2),r=Abe(t,function(n){return tM(n.domain,Number.isFinite)});return r||ls(t)},pM=function(t){var r=C.useContext(L2);r==null&&nl();var n=r[t];return n==null&&nl(),n},kbe=function(){var t=C.useContext(lM);return t},Pbe=function(){return C.useContext(cM)},F2=function(){return C.useContext(dM)},B2=function(){return C.useContext(fM)};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function Rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ibe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vM(n.key),n)}}function Dbe(e,t,r){return t&&Ibe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mbe(e,t,r){return t=Rm(t),$be(e,mM()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function $be(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(e)}function Lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bb(e,t)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){U2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U2(e,t,r){return t=vM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=Bbe(e,"string");return iu(t)=="symbol"?t:t+""}function Bbe(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ube(e,t){return Vbe(e)||Hbe(e,t)||Wbe(e,t)||zbe()}function zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Vbe(e){if(Array.isArray(e))return e}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}var qbe=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):Me(t)?n=t(r):n=B.createElement("line",Ub({},r,{className:"recharts-reference-line-line"})),n},Kbe=function(t,r,n,a,i,s,o,l,c){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(Ja(c,"discard")&&!t.y.isInRange(m))return null;var y=[{x:f+h,y:m},{x:f,y:m}];return l==="left"?y.reverse():y}if(r){var b=c.x,v=t.x.apply(b,{position:s});if(Ja(c,"discard")&&!t.x.isInRange(v))return null;var x=[{x:v,y:d+p},{x:v,y:d}];return o==="top"?x.reverse():x}if(a){var _=c.segment,w=_.map(function(S){return t.apply(S,{position:s})});return Ja(c,"discard")&&v1e(w,function(S){return!t.isInRange(S)})?null:w}return null};function Gbe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=jbe(),f=hM(a),d=pM(i),h=kbe();if(!c||!h)return null;ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=M2({x:f.scale,y:d.scale}),g=or(t),m=or(r),y=n&&n.length===2,b=Kbe(p,g,m,y,h,e.position,f.orientation,d.orientation,e);if(!b)return null;var v=Ube(b,2),x=v[0],_=x.x,w=x.y,S=v[1],E=S.x,T=S.y,A=Ja(e,"hidden")?"url(#".concat(c,")"):void 0,N=SC(SC({clipPath:A},De(e,!0)),{},{x1:_,y1:w,x2:E,y2:T});return B.createElement(at,{className:Ue("recharts-reference-line",o)},qbe(s,N),hr.renderCallByParent(e,ibe({x1:_,y1:w,x2:E,y2:T})))}var z2=function(e){function t(){return Rbe(this,t),Mbe(this,t,arguments)}return Fbe(t,e),Dbe(t,[{key:"render",value:function(){return B.createElement(Gbe,this.props)}}])}(B.Component);U2(z2,"displayName","ReferenceLine");U2(z2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(this,arguments)}function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ybe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yM(n.key),n)}}function Qbe(e,t,r){return t&&Ybe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jbe(e,t,r){return t=Im(t),Zbe(e,gM()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function Zbe(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewe(e)}function ewe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function twe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wb(e,t)}function wg(e,t,r){return t=yM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yM(e){var t=rwe(e,"string");return su(t)=="symbol"?t:t+""}function rwe(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=M2({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ja(t,"discard")&&!s.isInRange(o)?null:o},_g=function(e){function t(){return Xbe(this,t),Jbe(this,t,arguments)}return twe(t,e),Qbe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=or(a),f=or(i);if(ka(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=nwe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,y=g.className,b=Ja(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=AC(AC({clipPath:b},De(this.props,!0)),{},{cx:h,cy:p});return B.createElement(at,{className:Ue("recharts-reference-dot",y)},t.renderDot(m,v),hr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);wg(_g,"displayName","ReferenceDot");wg(_g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wg(_g,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):Me(e)?r=e(t):r=B.createElement(D2,zb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bM(n.key),n)}}function swe(e,t,r){return t&&iwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function owe(e,t,r){return t=Dm(t),lwe(e,xM()?Reflect.construct(t,r||[],Dm(e).constructor):t.apply(e,r))}function lwe(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cwe(e)}function cwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xM=function(){return!!e})()}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(e)}function uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vb(e,t)}function Sg(e,t,r){return t=bM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bM(e){var t=fwe(e,"string");return ou(t)=="symbol"?t:t+""}function fwe(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dwe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=M2({x:f.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ja(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:sM(p,g)},Eg=function(e){function t(){return awe(this,t),owe(this,t,arguments)}return uwe(t,e),swe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=or(a),h=or(i),p=or(s),g=or(o),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var y=dwe(d,h,p,g,this.props);if(!y&&!m)return null;var b=Ja(this.props,"hidden")?"url(#".concat(f,")"):void 0;return B.createElement(at,{className:Ue("recharts-reference-area",l)},t.renderRect(m,jC(jC({clipPath:b},De(this.props,!0)),y)),hr.renderCallByParent(this.props,y))}}])}(B.Component);Sg(Eg,"displayName","ReferenceArea");Sg(Eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sg(Eg,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):Me(e)?r=e(t):r=B.createElement(I2,Hb({},t,{className:"recharts-reference-area-rect"})),r});function wM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function hwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return obe(n,r)}function pwe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Mm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mwe(e,t){return wM(e,t+1)}function vwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,f=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:wM(n,c)};var m=l,y,b=function(){return y===void 0&&(y=r(g,m)),y},v=g.coordinate,x=l===0||Mm(e,v,b,f,o);x||(l=0,f=s,c+=1),x&&(f=v+e*(b()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){gwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gwe(e,t,r){return t=ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ywe(e){var t=xwe(e,"string");return Jd(t)=="symbol"?t:t+""}function xwe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var y=e*(p.coordinate+e*m()/2-l);i[h]=p=Lr(Lr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=Lr(Lr({},p),{},{tickCoord:p.coordinate});var b=Mm(e,p.tickCoord,m,o,l);b&&(l=p.tickCoord-e*(m()/2+a),i[h]=Lr(Lr({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)c(f);return i}function wwe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var f=n[o-1],d=r(f,o-1),h=e*(f.coordinate+e*d/2-c);s[o-1]=f=Lr(Lr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Mm(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),s[o-1]=Lr(Lr({},f),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(v){var x=s[v],_,w=function(){return _===void 0&&(_=r(x,v)),_};if(v===0){var S=e*(x.coordinate-e*w()/2-l);s[v]=x=Lr(Lr({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else s[v]=x=Lr(Lr({},x),{},{tickCoord:x.coordinate});var E=Mm(e,x.tickCoord,w,l,c);E&&(l=x.tickCoord+e*(w()/2+a),s[v]=Lr(Lr({},x),{},{isShow:!0}))},y=0;y<g;y++)m(y);return s}function W2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(pe(l)||$u.isSsr)return mwe(a,typeof l=="number"&&pe(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=f&&p==="width"?Lf(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,_){var w=Me(c)?c(x.value,_):x.value;return p==="width"?hwe(Lf(w,{fontSize:t,letterSpacing:r}),g,d):Lf(w,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?Zr(a[1].coordinate-a[0].coordinate):1,b=pwe(i,y,p);return l==="equidistantPreserveStart"?vwe(y,b,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=wwe(y,b,m,a,s,l==="preserveStartEnd"):h=bwe(y,b,m,a,s),h.filter(function(v){return v.isShow}))}var _we=["viewBox"],Swe=["viewBox"],Ewe=["ticks"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ky(e,t){if(e==null)return{};var r=Twe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Twe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SM(n.key),n)}}function Owe(e,t,r){return t&&kC(e.prototype,t),r&&kC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jwe(e,t,r){return t=$m(t),Cwe(e,_M()?Reflect.construct(t,r||[],$m(e).constructor):t.apply(e,r))}function Cwe(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(e)}function Nwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_M=function(){return!!e})()}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}function kwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qb(e,t)}function qb(e,t){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qb(e,t)}function H2(e,t,r){return t=SM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SM(e){var t=Pwe(e,"string");return lu(t)=="symbol"?t:t+""}function Pwe(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uu=function(e){function t(r){var n;return Awe(this,t),n=jwe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kwe(t,e),Owe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Ky(n,_we),o=this.props,l=o.viewBox,c=Ky(o,Swe);return!hc(i,l)||!hc(s,c)||!hc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,y,b,v,x=d?-1:1,_=n.tickSize||f,w=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,y=s+ +!d*l,m=y-x*_,v=m-x*h,b=w;break;case"left":m=y=n.coordinate,g=i+ +!d*o,p=g-x*_,b=p-x*h,v=w;break;case"right":m=y=n.coordinate,g=i+ +d*o,p=g+x*_,b=p+x*h,v=w;break;default:p=g=n.coordinate,y=s+ +d*l,m=y+x*_,v=m+x*h,b=w;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=tr(tr(tr({},De(this.props,!1)),De(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=tr(tr({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=tr(tr({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return B.createElement("line",Jl({},d,{className:Ue("recharts-cartesian-axis-line",$n(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,f=o.tick,d=o.tickFormatter,h=o.unit,p=W2(tr(tr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=De(this.props,!1),b=De(f,!1),v=tr(tr({},y),{},{fill:"none"},De(l,!1)),x=p.map(function(_,w){var S=s.getTickLineCoord(_),E=S.line,T=S.tick,A=tr(tr(tr(tr({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:c},b),T),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:d});return B.createElement(at,Jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},el(s.props,_,w)),l&&B.createElement("line",Jl({},v,E,{className:Ue("recharts-cartesian-axis-tick-line",$n(l,"className"))})),f&&t.renderTickItem(f,A,"".concat(Me(d)?d(_.value,w):_.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=Ky(d,Ewe),g=h;return Me(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:B.createElement(at,{className:Ue("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=Ue(a.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(n)?s=B.cloneElement(n,tr(tr({},a),{},{className:o})):Me(n)?s=n(tr(tr({},a),{},{className:o})):s=B.createElement(tl,Jl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(C.Component);H2(Uu,"displayName","CartesianAxis");H2(Uu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rwe=["x1","y1","x2","y2","key"],Iwe=["offset"];function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Dwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t,r){return t=Mwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mwe(e){var t=$we(e,"string");return al(t)=="symbol"?t:t+""}function $we(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}function RC(e,t){if(e==null)return{};var r=Lwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fwe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return B.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EM(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=RC(t,Rwe),c=De(l,!1);c.offset;var f=RC(c,Iwe);r=B.createElement("line",jo({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function Bwe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Br(Br({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return EM(a,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Uwe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Br(Br({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return EM(a,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function zwe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var g=!f[p+1],m=g?a+s-h:f[p+1]-h;if(m<=0)return null;var y=p%t.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Wwe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var g=!f[p+1],m=g?i+o-h:f[p+1]-h;if(m<=0)return null;var y=p%n.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Hwe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return wD(W2(Br(Br(Br({},Uu.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Vwe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return wD(W2(Br(Br(Br({},Uu.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function il(e){var t,r,n,a,i,s,o=F2(),l=B2(),c=Pbe(),f=Br(Br({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Pl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Pl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Pl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Pl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Pl.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Pl.verticalFill,x:pe(e.x)?e.x:c.left,y:pe(e.y)?e.y:c.top,width:pe(e.width)?e.width:c.width,height:pe(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,g=f.height,m=f.syncWithTicks,y=f.horizontalValues,b=f.verticalValues,v=Cbe(),x=Nbe();if(!pe(p)||p<=0||!pe(g)||g<=0||!pe(d)||d!==+d||!pe(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||Hwe,w=f.horizontalCoordinatesGenerator||Vwe,S=f.horizontalPoints,E=f.verticalPoints;if((!S||!S.length)&&Me(w)){var T=y&&y.length,A=w({yAxis:x?Br(Br({},x),{},{ticks:T?y:x.ticks}):void 0,width:o,height:l,offset:c},T?!0:m);ka(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(al(A),"]")),Array.isArray(A)&&(S=A)}if((!E||!E.length)&&Me(_)){var N=b&&b.length,j=_({xAxis:v?Br(Br({},v),{},{ticks:N?b:v.ticks}):void 0,width:o,height:l,offset:c},N?!0:m);ka(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(al(j),"]")),Array.isArray(j)&&(E=j)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(Fwe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),B.createElement(Bwe,jo({},f,{offset:c,horizontalPoints:S,xAxis:v,yAxis:x})),B.createElement(Uwe,jo({},f,{offset:c,verticalPoints:E,xAxis:v,yAxis:x})),B.createElement(zwe,jo({},f,{horizontalPoints:S})),B.createElement(Wwe,jo({},f,{verticalPoints:E})))}il.displayName="CartesianGrid";function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OM(n.key),n)}}function Gwe(e,t,r){return t&&Kwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xwe(e,t,r){return t=Lm(t),Ywe(e,TM()?Reflect.construct(t,r||[],Lm(e).constructor):t.apply(e,r))}function Ywe(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qwe(e)}function Qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TM=function(){return!!e})()}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(e)}function Jwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kb(e,t)}function AM(e,t,r){return t=OM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OM(e){var t=Zwe(e,"string");return cu(t)=="symbol"?t:t+""}function Zwe(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}function e_e(e){var t=e.xAxisId,r=F2(),n=B2(),a=hM(t);return a==null?null:C.createElement(Uu,Gb({},a,{className:Ue("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return xi(s,!0)}}))}var Bi=function(e){function t(){return qwe(this,t),Xwe(this,t,arguments)}return Jwe(t,e),Gwe(t,[{key:"render",value:function(){return C.createElement(e_e,this.props)}}])}(C.Component);AM(Bi,"displayName","XAxis");AM(Bi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function t_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NM(n.key),n)}}function n_e(e,t,r){return t&&r_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a_e(e,t,r){return t=Fm(t),i_e(e,jM()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function i_e(e,t){if(t&&(uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(e)}function s_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function o_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}function Xb(e,t){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xb(e,t)}function CM(e,t,r){return t=NM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NM(e){var t=l_e(e,"string");return uu(t)=="symbol"?t:t+""}function l_e(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}var c_e=function(t){var r=t.yAxisId,n=F2(),a=B2(),i=pM(r);return i==null?null:C.createElement(Uu,Yb({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return xi(o,!0)}}))},Ui=function(e){function t(){return t_e(this,t),a_e(this,t,arguments)}return o_e(t,e),n_e(t,[{key:"render",value:function(){return C.createElement(c_e,this.props)}}])}(C.Component);CM(Ui,"displayName","YAxis");CM(Ui,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IC(e){return h_e(e)||d_e(e)||f_e(e)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(e,t){if(e){if(typeof e=="string")return Qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qb(e,t)}}function d_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h_e(e){if(Array.isArray(e))return Qb(e)}function Qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jb=function(t,r,n,a,i){var s=ra(t,z2),o=ra(t,_g),l=[].concat(IC(s),IC(o)),c=ra(t,Eg),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,y){if(y.props[f]===n&&Ja(y.props,"extendDomain")&&pe(y.props[d])){var b=y.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,y){if(y.props[f]===n&&Ja(y.props,"extendDomain")&&pe(y.props[p])&&pe(y.props[g])){var b=y.props[p],v=y.props[g];return[Math.min(m[0],b,v),Math.max(m[1],b,v)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,y){return pe(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},kM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function i(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,f,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,h),!0;case 5:return y.fn.call(y.context,f,d,h,p),!0;case 6:return y.fn.call(y.context,f,d,h,p,g),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var _=y.length,w;for(x=0;x<_;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),b){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,f);break;case 3:y[x].fn.call(y[x].context,f,d);break;case 4:y[x].fn.call(y[x].context,f,d,h);break;default:if(!v)for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y[x].fn.apply(y[x].context,v)}}return!0},o.prototype.on=function(c,f,d){return i(this,c,f,d,!1)},o.prototype.once=function(c,f,d){return i(this,c,f,d,!0)},o.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===f&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,y=[],b=g.length;m<b;m++)(g[m].fn!==f||h&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(kM);var p_e=kM.exports;const m_e=et(p_e);var Gy=new m_e,Xy="recharts.syncMouseEvents";function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function v_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PM(n.key),n)}}function y_e(e,t,r){return t&&g_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yy(e,t,r){return t=PM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PM(e){var t=x_e(e,"string");return Zd(t)=="symbol"?t:t+""}function x_e(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b_e=function(){function e(){v_e(this,e),Yy(this,"activeIndex",0),Yy(this,"coordinateList",[]),Yy(this,"layout","horizontal")}return y_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function w_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function __e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function RM(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=gt(t,r,n,a),o=gt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function S_e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=gt(o,l,c,d),p=gt(o,l,f,d);n=h.x,a=h.y,i=p.x,s=p.y}else return RM(t);return[{x:n,y:a},{x:i,y:s}]}function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){E_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t,r){return t=T_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T_e(e){var t=A_e(e,"string");return eh(t)=="symbol"?t:t+""}function A_e(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=wb;if(h==="ScatterChart")g=s,m=aye;else if(h==="BarChart")g=__e(d,s,l,f),m=I2;else if(d==="radial"){var y=RM(s),b=y.cx,v=y.cy,x=y.radius,_=y.startAngle,w=y.endAngle;g={cx:b,cy:v,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},m=PD}else g={points:S_e(d,s,l)},m=wb;var S=A0(A0(A0(A0({stroke:"#ccc",pointerEvents:"none"},l),g),De(p,!1)),{},{payload:o,payloadIndex:c,className:Ue("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,S):C.createElement(m,S)}var j_e=["item"],C_e=["children","className","width","height","style","compact","title","desc"];function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function MC(e,t){return P_e(e)||k_e(e,t)||DM(e,t)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function P_e(e){if(Array.isArray(e))return e}function $C(e,t){if(e==null)return{};var r=R_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MM(n.key),n)}}function M_e(e,t,r){return t&&D_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $_e(e,t,r){return t=Bm(t),L_e(e,IM()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function L_e(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(e)}function F_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IM=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function B_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zb(e,t)}function du(e){return W_e(e)||z_e(e)||DM(e)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DM(e,t){if(e){if(typeof e=="string")return ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(e,t)}}function z_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W_e(e){if(Array.isArray(e))return ew(e)}function ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=MM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MM(e){var t=H_e(e,"string");return fu(t)=="symbol"?t:t+""}function H_e(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V_e={xAxis:["bottom","top"],yAxis:["left","right"]},q_e={width:"100%",height:"100%"},$M={x:0,y:0};function O0(e){return e}var K_e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},G_e=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return se(se(se({},a),gt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return se(se(se({},a),gt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return $M},Tg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(du(o),du(c)):o},[]);return s.length>0?s:t&&t.length&&pe(a)&&pe(i)?t.slice(a,i+1):[]};function LM(e){return e==="number"?[0,"auto"]:void 0}var tw=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=Tg(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=C1(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(du(l),[AD(c,h)]):l},[])},FC=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=K_e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=Epe(s,o,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=tw(t,r,f,d),p=G_e(n,o,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},X_e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=bD(f,i);return n.reduce(function(g,m){var y,b=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,v=b.type,x=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,T=b.includeHidden,A=b[s];if(g[A])return g;var N=Tg(t.data,{graphicalItems:a.filter(function(P){var H,U=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s];return U===A}),dataStartIndex:l,dataEndIndex:c}),j=N.length,L,W,Z;w_e(b.domain,_,v)&&(L=vb(b.domain,null,_),p&&(v==="number"||S!=="auto")&&(Z=Bf(N,x,"category")));var G=LM(v);if(!L||L.length===0){var re,q=(re=b.domain)!==null&&re!==void 0?re:G;if(x){if(L=Bf(N,x,v),v==="category"&&p){var V=pee(L);w&&V?(W=L,L=jm(0,j)):w||(L=hj(q,L,m).reduce(function(P,H){return P.indexOf(H)>=0?P:[].concat(du(P),[H])},[]))}else if(v==="category")w?L=L.filter(function(P){return P!==""&&!We(P)}):L=hj(q,L,m).reduce(function(P,H){return P.indexOf(H)>=0||H===""||We(H)?P:[].concat(du(P),[H])},[]);else if(v==="number"){var K=Cpe(N,a.filter(function(P){var H,U,z=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s],ie="hide"in P.props?P.props.hide:(U=P.type.defaultProps)===null||U===void 0?void 0:U.hide;return z===A&&(T||!ie)}),x,i,f);K&&(L=K)}p&&(v==="number"||S!=="auto")&&(Z=Bf(N,x,"category"))}else p?L=jm(0,j):o&&o[A]&&o[A].hasStack&&v==="number"?L=h==="expand"?[0,1]:TD(o[A].stackGroups,l,c):L=xD(N,a.filter(function(P){var H=s in P.props?P.props[s]:P.type.defaultProps[s],U="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return H===A&&(T||!U)}),v,f,!0);if(v==="number")L=Jb(d,L,A,i,E),q&&(L=vb(q,L,_));else if(v==="category"&&q){var ae=q,de=L.every(function(P){return ae.indexOf(P)>=0});de&&(L=ae)}}return se(se({},g),{},Re({},A,se(se({},b),{},{axisType:i,domain:L,categoricalDomain:Z,duplicateDomain:W,originalDomain:(y=b.domain)!==null&&y!==void 0?y:G,isCategorical:p,layout:f})))},{})},Y_e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Tg(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=bD(f,i),m=-1;return n.reduce(function(y,b){var v=b.type.defaultProps!==void 0?se(se({},b.type.defaultProps),b.props):b.props,x=v[s],_=LM("number");if(!y[x]){m++;var w;return g?w=jm(0,p):o&&o[x]&&o[x].hasStack?(w=TD(o[x].stackGroups,l,c),w=Jb(d,w,x,i)):(w=vb(_,xD(h,n.filter(function(S){var E,T,A=s in S.props?S.props[s]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[s],N="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return A===x&&!N}),"number",f),a.defaultProps.allowDataOverflow),w=Jb(d,w,x,i)),se(se({},y),{},Re({},x,se(se({axisType:i},a.defaultProps),{},{hide:!0,orientation:$n(V_e,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:g,layout:f})))}return y},{})},Q_e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=ra(f,i),p={};return h&&h.length?p=X_e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=Y_e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},J_e=function(t){var r=ls(t),n=xi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:o2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mm(r,n)}},BC=function(t){var r=t.children,n=t.defaultShowTooltip,a=jn(r,nu),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Z_e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ei(r&&r.type);return n&&n.indexOf("Bar")>=0})},UC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},e2e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=jn(d,nu),g=jn(d,Ti),m=Object.keys(l).reduce(function(w,S){var E=l[S],T=E.orientation;return!E.mirror&&!E.hide?se(se({},w),{},Re({},T,w[T]+E.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(w,S){var E=s[S],T=E.orientation;return!E.mirror&&!E.hide?se(se({},w),{},Re({},T,$n(w,"".concat(T))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=se(se({},y),m),v=b.bottom;p&&(b.bottom+=p.props.height||nu.defaultProps.height),g&&r&&(b=Ope(b,a,n,r));var x=c-b.left-b.right,_=f-b.top-b.bottom;return se(se({brushBottom:v},b),{},{width:Math.max(x,0),height:Math.max(_,0)})},t2e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},FM=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(b,v){var x=v.graphicalItems,_=v.stackGroups,w=v.offset,S=v.updateId,E=v.dataStartIndex,T=v.dataEndIndex,A=b.barSize,N=b.layout,j=b.barGap,L=b.barCategoryGap,W=b.maxBarSize,Z=UC(N),G=Z.numericAxisName,re=Z.cateAxisName,q=Z_e(x),V=[];return x.forEach(function(K,ae){var de=Tg(b.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:T}),P=K.type.defaultProps!==void 0?se(se({},K.type.defaultProps),K.props):K.props,H=P.dataKey,U=P.maxBarSize,z=P["".concat(G,"Id")],ie=P["".concat(re,"Id")],we={},_e=l.reduce(function(on,La){var Qs=v["".concat(La.axisType,"Map")],En=P["".concat(La.axisType,"Id")];Qs&&Qs[En]||La.axisType==="zAxis"||nl();var Js=Qs[En];return se(se({},on),{},Re(Re({},La.axisType,Js),"".concat(La.axisType,"Ticks"),xi(Js)))},we),ee=_e[re],le=_e["".concat(re,"Ticks")],Ee=_&&_[z]&&_[z].hasStack&&Lpe(K,_[z].stackGroups),te=Ei(K.type).indexOf("Bar")>=0,ze=mm(ee,le),Ce=[],tt=q&&Tpe({barSize:A,stackGroups:_,totalSize:t2e(_e,re)});if(te){var Le,ge,Ut=We(U)?W:U,Ir=(Le=(ge=mm(ee,le,!0))!==null&&ge!==void 0?ge:Ut)!==null&&Le!==void 0?Le:0;Ce=Ape({barGap:j,barCategoryGap:L,bandSize:Ir!==ze?Ir:ze,sizeList:tt[ie],maxBarSize:Ut}),Ir!==ze&&(Ce=Ce.map(function(on){return se(se({},on),{},{position:se(se({},on.position),{},{offset:on.position.offset-Ir/2})})}))}var zn=K&&K.type&&K.type.getComposedData;zn&&V.push({props:se(se({},zn(se(se({},_e),{},{displayedData:de,props:b,dataKey:H,item:K,bandSize:ze,barPosition:Ce,offset:w,stackedData:Ee,layout:N,dataStartIndex:E,dataEndIndex:T}))),{},Re(Re(Re({key:K.key||"item-".concat(ae)},G,_e[G]),re,_e[re]),"animationId",S)),childIndex:Aee(K,b.children),item:K})}),V},p=function(b,v){var x=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!oA({props:x}))return null;var E=x.children,T=x.layout,A=x.stackOffset,N=x.data,j=x.reverseStackOrder,L=UC(T),W=L.numericAxisName,Z=L.cateAxisName,G=ra(E,n),re=Mpe(N,G,"".concat(W,"Id"),"".concat(Z,"Id"),A,j),q=l.reduce(function(P,H){var U="".concat(H.axisType,"Map");return se(se({},P),{},Re({},U,Q_e(x,se(se({},H),{},{graphicalItems:G,stackGroups:H.axisType===W&&re,dataStartIndex:_,dataEndIndex:w}))))},{}),V=e2e(se(se({},q),{},{props:x,graphicalItems:G}),v==null?void 0:v.legendBBox);Object.keys(q).forEach(function(P){q[P]=f(x,q[P],V,P.replace("Map",""),r)});var K=q["".concat(Z,"Map")],ae=J_e(K),de=h(x,se(se({},q),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:G,stackGroups:re,offset:V}));return se(se({formattedGraphicalItems:de,graphicalItems:G,offset:V,stackGroups:re},ae),q)},g=function(y){function b(v){var x,_,w;return I_e(this,b),w=$_e(this,b,[v]),Re(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(w,"accessibilityManager",new b_e),Re(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,T=E.dataStartIndex,A=E.dataEndIndex,N=E.updateId;w.setState(se({legendBBox:S},p({props:w.props,dataStartIndex:T,dataEndIndex:A,updateId:N},se(se({},w.state),{},{legendBBox:S}))))}}),Re(w,"handleReceiveSyncEvent",function(S,E,T){if(w.props.syncId===S){if(T===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Re(w,"handleBrushChange",function(S){var E=S.startIndex,T=S.endIndex;if(E!==w.state.dataStartIndex||T!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return se({dataStartIndex:E,dataEndIndex:T},p({props:w.props,dataStartIndex:E,dataEndIndex:T,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Re(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var T=se(se({},E),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var A=w.props.onMouseEnter;Me(A)&&A(T,S)}}),Re(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),T=E?se(se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var A=w.props.onMouseMove;Me(A)&&A(T,S)}),Re(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Re(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Re(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Re(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var T=w.props.onMouseLeave;Me(T)&&T(E,S)}),Re(w,"handleOuterEvent",function(S){var E=Tee(S),T=$n(w.props,"".concat(E));if(E&&Me(T)){var A,N;/.*touch.*/i.test(E)?N=w.getMouseInfo(S.changedTouches[0]):N=w.getMouseInfo(S),T((A=N)!==null&&A!==void 0?A:{},S)}}),Re(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var T=se(se({},E),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var A=w.props.onClick;Me(A)&&A(T,S)}}),Re(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(Me(E)){var T=w.getMouseInfo(S);E(T,S)}}),Re(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(Me(E)){var T=w.getMouseInfo(S);E(T,S)}}),Re(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Re(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Re(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Re(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(Me(E)){var T=w.getMouseInfo(S);E(T,S)}}),Re(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(Me(E)){var T=w.getMouseInfo(S);E(T,S)}}),Re(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Gy.emit(Xy,w.props.syncId,S,w.eventEmitterSymbol)}),Re(w,"applySyncEvent",function(S){var E=w.props,T=E.layout,A=E.syncMethod,N=w.state.updateId,j=S.dataStartIndex,L=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(se({dataStartIndex:j,dataEndIndex:L},p({props:w.props,dataStartIndex:j,dataEndIndex:L,updateId:N},w.state)));else if(S.activeTooltipIndex!==void 0){var W=S.chartX,Z=S.chartY,G=S.activeTooltipIndex,re=w.state,q=re.offset,V=re.tooltipTicks;if(!q)return;if(typeof A=="function")G=A(V,S);else if(A==="value"){G=-1;for(var K=0;K<V.length;K++)if(V[K].value===S.activeLabel){G=K;break}}var ae=se(se({},q),{},{x:q.left,y:q.top}),de=Math.min(W,ae.x+ae.width),P=Math.min(Z,ae.y+ae.height),H=V[G]&&V[G].value,U=tw(w.state,w.props.data,G),z=V[G]?{x:T==="horizontal"?V[G].coordinate:de,y:T==="horizontal"?P:V[G].coordinate}:$M;w.setState(se(se({},S),{},{activeLabel:H,activeCoordinate:z,activePayload:U,activeTooltipIndex:G}))}else w.setState(S)}),Re(w,"renderCursor",function(S){var E,T=w.state,A=T.isTooltipActive,N=T.activeCoordinate,j=T.activePayload,L=T.offset,W=T.activeTooltipIndex,Z=T.tooltipAxisBandSize,G=w.getTooltipEventType(),re=(E=S.props.active)!==null&&E!==void 0?E:A,q=w.props.layout,V=S.key||"_recharts-cursor";return B.createElement(O_e,{key:V,activeCoordinate:N,activePayload:j,activeTooltipIndex:W,chartName:r,element:S,isActive:re,layout:q,offset:L,tooltipAxisBandSize:Z,tooltipEventType:G})}),Re(w,"renderPolarAxis",function(S,E,T){var A=$n(S,"type.axisType"),N=$n(w.state,"".concat(A,"Map")),j=S.type.defaultProps,L=j!==void 0?se(se({},j),S.props):S.props,W=N&&N[L["".concat(A,"Id")]];return C.cloneElement(S,se(se({},W),{},{className:Ue(A,W.className),key:S.key||"".concat(E,"-").concat(T),ticks:xi(W,!0)}))}),Re(w,"renderPolarGrid",function(S){var E=S.props,T=E.radialLines,A=E.polarAngles,N=E.polarRadius,j=w.state,L=j.radiusAxisMap,W=j.angleAxisMap,Z=ls(L),G=ls(W),re=G.cx,q=G.cy,V=G.innerRadius,K=G.outerRadius;return C.cloneElement(S,{polarAngles:Array.isArray(A)?A:xi(G,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(N)?N:xi(Z,!0).map(function(ae){return ae.coordinate}),cx:re,cy:q,innerRadius:V,outerRadius:K,key:S.key||"polar-grid",radialLines:T})}),Re(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,T=E.children,A=E.width,N=E.height,j=w.props.margin||{},L=A-(j.left||0)-(j.right||0),W=gD({children:T,formattedGraphicalItems:S,legendWidth:L,legendContent:c});if(!W)return null;var Z=W.item,G=$C(W,j_e);return C.cloneElement(Z,se(se({},G),{},{chartWidth:A,chartHeight:N,margin:j,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Re(w,"renderTooltip",function(){var S,E=w.props,T=E.children,A=E.accessibilityLayer,N=jn(T,dr);if(!N)return null;var j=w.state,L=j.isTooltipActive,W=j.activeCoordinate,Z=j.activePayload,G=j.activeLabel,re=j.offset,q=(S=N.props.active)!==null&&S!==void 0?S:L;return C.cloneElement(N,{viewBox:se(se({},re),{},{x:re.left,y:re.top}),active:q,label:G,payload:q?Z:[],coordinate:W,accessibilityLayer:A})}),Re(w,"renderBrush",function(S){var E=w.props,T=E.margin,A=E.data,N=w.state,j=N.offset,L=N.dataStartIndex,W=N.dataEndIndex,Z=N.updateId;return C.cloneElement(S,{key:S.key||"_recharts-brush",onChange:_0(w.handleBrushChange,S.props.onChange),data:A,x:pe(S.props.x)?S.props.x:j.left,y:pe(S.props.y)?S.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:pe(S.props.width)?S.props.width:j.width,startIndex:L,endIndex:W,updateId:"brush-".concat(Z)})}),Re(w,"renderReferenceElement",function(S,E,T){if(!S)return null;var A=w,N=A.clipPathId,j=w.state,L=j.xAxisMap,W=j.yAxisMap,Z=j.offset,G=S.type.defaultProps||{},re=S.props,q=re.xAxisId,V=q===void 0?G.xAxisId:q,K=re.yAxisId,ae=K===void 0?G.yAxisId:K;return C.cloneElement(S,{key:S.key||"".concat(E,"-").concat(T),xAxis:L[V],yAxis:W[ae],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:N})}),Re(w,"renderActivePoints",function(S){var E=S.item,T=S.activePoint,A=S.basePoint,N=S.childIndex,j=S.isRange,L=[],W=E.props.key,Z=E.item.type.defaultProps!==void 0?se(se({},E.item.type.defaultProps),E.item.props):E.item.props,G=Z.activeDot,re=Z.dataKey,q=se(se({index:N,dataKey:re,cx:T.x,cy:T.y,r:4,fill:R2(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},De(G,!1)),zp(G));return L.push(b.renderActiveDot(G,q,"".concat(W,"-activePoint-").concat(N))),A?L.push(b.renderActiveDot(G,se(se({},q),{},{cx:A.x,cy:A.y}),"".concat(W,"-basePoint-").concat(N))):j&&L.push(null),L}),Re(w,"renderGraphicChild",function(S,E,T){var A=w.filterFormatItem(S,E,T);if(!A)return null;var N=w.getTooltipEventType(),j=w.state,L=j.isTooltipActive,W=j.tooltipAxis,Z=j.activeTooltipIndex,G=j.activeLabel,re=w.props.children,q=jn(re,dr),V=A.props,K=V.points,ae=V.isRange,de=V.baseLine,P=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,H=P.activeDot,U=P.hide,z=P.activeBar,ie=P.activeShape,we=!!(!U&&L&&q&&(H||z||ie)),_e={};N!=="axis"&&q&&q.props.trigger==="click"?_e={onClick:_0(w.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(_e={onMouseLeave:_0(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:_0(w.handleItemMouseEnter,S.props.onMouseEnter)});var ee=C.cloneElement(S,se(se({},A.props),_e));function le(La){return typeof W.dataKey=="function"?W.dataKey(La.payload):null}if(we)if(Z>=0){var Ee,te;if(W.dataKey&&!W.allowDuplicatedCategory){var ze=typeof W.dataKey=="function"?le:"payload.".concat(W.dataKey.toString());Ee=C1(K,ze,G),te=ae&&de&&C1(de,ze,G)}else Ee=K==null?void 0:K[Z],te=ae&&de&&de[Z];if(ie||z){var Ce=S.props.activeIndex!==void 0?S.props.activeIndex:Z;return[C.cloneElement(S,se(se(se({},A.props),_e),{},{activeIndex:Ce})),null,null]}if(!We(Ee))return[ee].concat(du(w.renderActivePoints({item:A,activePoint:Ee,basePoint:te,childIndex:Z,isRange:ae})))}else{var tt,Le=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ee},ge=Le.graphicalItem,Ut=ge.item,Ir=Ut===void 0?S:Ut,zn=ge.childIndex,on=se(se(se({},A.props),_e),{},{activeIndex:zn});return[C.cloneElement(Ir,on),null,null]}return ae?[ee,null,null]:[ee,null]}),Re(w,"renderCustomized",function(S,E,T){return C.cloneElement(S,se(se({key:"recharts-customized-".concat(T)},w.props),w.state))}),Re(w,"renderMap",{CartesianGrid:{handler:O0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:O0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:O0},YAxis:{handler:O0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:bh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=vI(w.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return B_e(b,y),M_e(b,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,w=x.data,S=x.height,E=x.layout,T=jn(_,dr);if(T){var A=T.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,j=tw(this.state,w,A,N),L=this.state.tooltipTicks[A].coordinate,W=(this.state.offset.top+S)/2,Z=E==="horizontal",G=Z?{x:L,y:W}:{y:L,x:W},re=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});re&&(G=se(se({},G),re.props.points[A].tooltipPosition),j=re.props.points[A].tooltipPayload);var q={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:N,activePayload:j,activeCoordinate:G};this.setState(q),this.renderCursor(T),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){k1([jn(x.children,dr)],[jn(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=jn(this.props.children,dr);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Jue(w),E={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},T=w.width/_.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,T);if(!A)return null;var N=this.state,j=N.xAxisMap,L=N.yAxisMap,W=this.getTooltipEventType(),Z=FC(this.state,this.props.data,this.props.layout,A);if(W!=="axis"&&j&&L){var G=ls(j).scale,re=ls(L).scale,q=G&&G.invert?G.invert(E.chartX):null,V=re&&re.invert?re.invert(E.chartY):null;return se(se({},E),{},{xValue:q,yValue:V},Z)}return Z?se(se({},E),Z):null}},{key:"inRange",value:function(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=x/w,T=_/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,N=E>=A.left&&E<=A.left+A.width&&T>=A.top&&T<=A.top+A.height;return N?{x:E,y:T}:null}var j=this.state,L=j.angleAxisMap,W=j.radiusAxisMap;if(L&&W){var Z=ls(L);return vj({x:E,y:T},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),w=jn(x,dr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=zp(this.props,this.handleOuterEvent);return se(se({},E),S)}},{key:"addListener",value:function(){Gy.on(Xy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gy.removeListener(Xy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,w){for(var S=this.state.formattedGraphicalItems,E=0,T=S.length;E<T;E++){var A=S[E];if(A.item===x||A.props.key===x.key||_===Ei(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,E=_.height,T=_.width;return B.createElement("defs",null,B.createElement("clipPath",{id:x},B.createElement("rect",{x:w,y:S,height:E,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,w){var S=MC(w,2),E=S[0],T=S[1];return se(se({},_),{},Re({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,w){var S=MC(w,2),E=S[0],T=S[1];return se(se({},_),{},Re({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var E=0,T=w.length;E<T;E++){var A=w[E],N=A.props,j=A.item,L=j.type.defaultProps!==void 0?se(se({},j.type.defaultProps),j.props):j.props,W=Ei(j.type);if(W==="Bar"){var Z=(N.data||[]).find(function(V){return Lge(x,V)});if(Z)return{graphicalItem:A,payload:Z}}else if(W==="RadialBar"){var G=(N.data||[]).find(function(V){return vj(x,V)});if(G)return{graphicalItem:A,payload:G}}else if(yg(A,S)||xg(A,S)||Gd(A,S)){var re=Axe({graphicalItem:A,activeTooltipItem:S,itemData:L.data}),q=L.activeIndex===void 0?re:L.activeIndex;return{graphicalItem:se(se({},A),{},{childIndex:q}),payload:Gd(A,S)?L.data[re]:A.props.data[re]}}}return null}},{key:"render",value:function(){var x=this;if(!oA(this))return null;var _=this.props,w=_.children,S=_.className,E=_.width,T=_.height,A=_.style,N=_.compact,j=_.title,L=_.desc,W=$C(_,C_e),Z=De(W,!1);if(N)return B.createElement(wC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(R1,Zl({},Z,{width:E,height:T,title:j,desc:L}),this.renderClipPath(),cA(w,this.renderMap)));if(this.props.accessibilityLayer){var G,re;Z.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,Z.role=(re=this.props.role)!==null&&re!==void 0?re:"application",Z.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},Z.onFocus=function(){x.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return B.createElement(wC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Zl({className:Ue("recharts-wrapper",S),style:se({position:"relative",cursor:"default",width:E,height:T},A)},q,{ref:function(K){x.container=K}}),B.createElement(R1,Zl({},Z,{width:E,height:T,title:j,desc:L,style:q_e}),this.renderClipPath(),cA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Re(g,"displayName",r),Re(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Re(g,"getDerivedStateFromProps",function(y,b){var v=y.dataKey,x=y.data,_=y.children,w=y.width,S=y.height,E=y.layout,T=y.stackOffset,A=y.margin,N=b.dataStartIndex,j=b.dataEndIndex;if(b.updateId===void 0){var L=BC(y);return se(se(se({},L),{},{updateId:0},p(se(se({props:y},L),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:x,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:T,prevMargin:A,prevChildren:_})}if(v!==b.prevDataKey||x!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||T!==b.prevStackOffset||!hc(A,b.prevMargin)){var W=BC(y),Z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},G=se(se({},FC(b,x,E)),{},{updateId:b.updateId+1}),re=se(se(se({},W),Z),G);return se(se(se({},re),p(se({props:y},re),b)),{},{prevDataKey:v,prevData:x,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:T,prevMargin:A,prevChildren:_})}if(!k1(_,b.prevChildren)){var q,V,K,ae,de=jn(_,nu),P=de&&(q=(V=de.props)===null||V===void 0?void 0:V.startIndex)!==null&&q!==void 0?q:N,H=de&&(K=(ae=de.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&K!==void 0?K:j,U=P!==N||H!==j,z=!We(x),ie=z&&!U?b.updateId:b.updateId+1;return se(se({updateId:ie},p(se(se({props:y},b),{},{updateId:ie,dataStartIndex:P,dataEndIndex:H}),b)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:H})}return null}),Re(g,"renderActiveDot",function(y,b,v){var x;return C.isValidElement(y)?x=C.cloneElement(y,b):Me(y)?x=y(b):x=B.createElement(D2,b),B.createElement(at,{className:"recharts-active-dot",key:v},x)});var m=C.forwardRef(function(b,v){return B.createElement(g,Zl({},b,{ref:v}))});return m.displayName=g.displayName,m},hu=FM({chartName:"BarChart",GraphicalChild:mn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bi},{axisType:"yAxis",AxisComp:Ui}],formatAxisMap:abe}),V2=FM({chartName:"PieChart",GraphicalChild:$a,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:gg},{axisType:"radiusAxis",AxisComp:mg}],formatAxisMap:Gpe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const df={ASIGNADA:"#3b82f6",RECUPERADA:"#8b5cf6",CERRADA:"#6b7280",PERDIDA:"#ef4444",DETERIORO:"#f97316"},r2e=({loans:e})=>{const t=C.useMemo(()=>{const a={},i=new Date;for(let s=7;s>=0;s--){const o=new Date(i);o.setDate(o.getDate()-s*7);const l=`S${8-s}`;a[l]=0}return e.forEach(s=>{const o=new Date(s.issued_at),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24*7));if(l>=0&&l<8){const c=`S${8-l}`;a[c]!==void 0&&a[c]++}}),Object.entries(a).map(([s,o])=>({week:s,count:o}))},[e]),r=C.useMemo(()=>{const a=e.filter(s=>s.reason==="PERDIDA").length,i=e.filter(s=>s.reason==="DETERIORO").length;return[{name:"Perdida",value:a,color:df.PERDIDA},{name:"Deterioro",value:i,color:df.DETERIORO}].filter(s=>s.value>0)},[e]),n=C.useMemo(()=>zs.map(a=>{const i=e.filter(s=>{var o;return((o=s.backup_cards)==null?void 0:o.inventory_terminal)===a});return{terminal:a.split(" ")[0],ASIGNADA:i.filter(s=>s.status==="ASIGNADA").length,RECUPERADA:i.filter(s=>s.status==="RECUPERADA").length,CERRADA:i.filter(s=>s.status==="CERRADA").length}}),[e]);return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Prestamos por Semana"}),u.jsx("div",{className:"h-48",children:u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:t,children:[u.jsx(il,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Bi,{dataKey:"week",tick:{fontSize:11}}),u.jsx(Ui,{tick:{fontSize:11},allowDecimals:!1}),u.jsx(dr,{}),u.jsx(mn,{dataKey:"count",name:"Prestamos",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Motivo de Solicitud"}),u.jsx("div",{className:"h-48",children:r.length>0?u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(V2,{children:[u.jsx($a,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,labelLine:!1,children:r.map((a,i)=>u.jsx(Xi,{fill:a.color},`cell-${i}`))}),u.jsx(dr,{})]})}):u.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos"})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Estado por Terminal"}),u.jsx("div",{className:"h-48",children:u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:n,layout:"vertical",children:[u.jsx(il,{strokeDasharray:"3 3",horizontal:!1}),u.jsx(Bi,{type:"number",tick:{fontSize:11},allowDecimals:!1}),u.jsx(Ui,{type:"category",dataKey:"terminal",tick:{fontSize:11},width:60}),u.jsx(dr,{}),u.jsx(Ti,{wrapperStyle:{fontSize:10}}),u.jsx(mn,{dataKey:"ASIGNADA",name:"Asignada",stackId:"a",fill:df.ASIGNADA}),u.jsx(mn,{dataKey:"RECUPERADA",name:"Recuperada",stackId:"a",fill:df.RECUPERADA}),u.jsx(mn,{dataKey:"CERRADA",name:"Cerrada",stackId:"a",fill:df.CERRADA})]})})})]})]})},Um=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),pu=e=>{const t=Um(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},zC=e=>{const t=Um(e);if(t.length<8||t.length>9)return!1;const r=t.slice(0,-1),n=t.slice(-1);if(!/^\d+$/.test(r))return!1;let a=0,i=2;for(let l=r.length-1;l>=0;l--)a+=parseInt(r[l])*i,i=i===7?2:i+1;const s=a%11,o=s===0?"0":s===1?"K":String(11-s);return n===o},n2e=({status:e,isOverdue:t})=>{const r="inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full";if(t&&e==="ASIGNADA")return u.jsxs("span",{className:`${r} bg-amber-100 text-amber-800`,children:[u.jsx(Pv,{className:"w-3 h-3"}),"ATRASADA"]});const n={ASIGNADA:"bg-blue-100 text-blue-800",RECUPERADA:"bg-emerald-100 text-emerald-800",CERRADA:"bg-slate-100 text-slate-700",CANCELADA:"bg-red-100 text-red-800"};return u.jsx("span",{className:`${r} ${n[e]||"bg-slate-100 text-slate-700"}`,children:e})},a2e=({reason:e})=>{const t={PERDIDA:"bg-red-50 text-red-700",DETERIORO:"bg-orange-50 text-orange-700"};return u.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${t[e]||""}`,children:e==="PERDIDA"?"Perdida":"Deterioro"})},i2e=({loans:e,onView:t,onEdit:r,onRecover:n,onCancel:a,onResendEmails:i})=>{const s=C.useMemo(()=>{const o=new Date;return e.map(l=>{const c=new Date(l.issued_at),f=Math.floor((o.getTime()-c.getTime())/(1e3*60*60*24));return{...l,daysPassed:f,isOverdue:l.status==="ASIGNADA"&&f>l.alert_after_days}})},[e]);return e.length===0?u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:u.jsx("p",{className:"text-slate-500",children:"No se encontraron prestamos con los filtros seleccionados."})}):u.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Trabajador"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"RUT"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Terminal"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Tarjeta"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Motivo"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Entrega"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Dias"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Acciones"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>{var l,c;return u.jsxs("tr",{className:`hover:bg-slate-50 ${o.isOverdue?"bg-amber-50/50":""}`,children:[u.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:o.person_name}),u.jsx("p",{className:"text-xs text-slate-500",children:o.person_cargo||"-"})]}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:pu(o.person_rut)}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:o.person_terminal}),u.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[u.jsx("p",{className:"text-sm font-mono text-slate-900",children:((l=o.backup_cards)==null?void 0:l.card_number)||"-"}),u.jsx("p",{className:"text-xs text-slate-500",children:(c=o.backup_cards)==null?void 0:c.inventory_terminal})]}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsx(a2e,{reason:o.reason})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(o.issued_at).toLocaleDateString("es-CL")}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsxs("span",{className:`text-sm font-medium ${o.isOverdue?"text-amber-600":"text-slate-700"}`,children:[o.daysPassed,"d"]})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:u.jsx(n2e,{status:o.status,isOverdue:o.isOverdue})}),u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:[u.jsx("button",{onClick:()=>t(o),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded",title:"Ver detalle",children:u.jsx(cY,{className:"w-4 h-4"})}),o.status==="ASIGNADA"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>r(o),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:u.jsx(EY,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>n(o),className:"p-1.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded",title:"Marcar recuperada",children:u.jsx(ZR,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>a(o),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Cancelar",children:u.jsx(gl,{className:"w-4 h-4"})})]}),u.jsx("button",{onClick:()=>i(o),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Reenviar correos",children:u.jsx(QR,{className:"w-4 h-4"})})]})})]},o.id)})})]})})})},s2e=async(e,t)=>{let r=ke.from("backup_cards").select("*").order("card_number",{ascending:!0});e&&e!=="TODAS"&&(r=r.eq("status",e)),t&&(r=r.eq("inventory_terminal",t));const{data:n,error:a}=await r;if(a)throw a;return n},o2e=async e=>{let t=ke.from("backup_cards").select("*").eq("status","LIBRE").order("card_number");e&&(t=t.eq("inventory_terminal",e));const{data:r,error:n}=await t;if(n)throw n;return r},l2e=async e=>{const{data:t,error:r}=await ke.from("backup_cards").insert({card_number:e.card_number,inventory_terminal:e.inventory_terminal,notes:e.notes||null,status:"LIBRE"}).select().single();if(r)throw r;return t},c2e=async e=>{const{error:t}=await ke.from("backup_cards").update({status:"INACTIVA"}).eq("id",e);if(t)throw t},u2e=async e=>{let t=ke.from("backup_loans").select("*, backup_cards(*)").order("issued_at",{ascending:!1});e&&(e.search&&(t=t.or(`person_rut.ilike.%${e.search}%,person_name.ilike.%${e.search}%`)),e.terminal&&(t=t.eq("person_terminal",e.terminal)),e.status&&e.status!=="TODAS"&&(t=t.eq("status",e.status)),e.reason&&e.reason!=="TODAS"&&(t=t.eq("reason",e.reason)),e.dateFrom&&(t=t.gte("issued_at",e.dateFrom)),e.dateTo&&(t=t.lte("issued_at",e.dateTo+"T23:59:59")));const{data:r,error:n}=await t;if(n)throw n;return r},f2e=async e=>{const{data:t,error:r}=await ke.from("backup_loans").insert({card_id:e.card_id,person_rut:e.person_rut,person_name:e.person_name,person_cargo:e.person_cargo||null,person_terminal:e.person_terminal,person_turno:e.person_turno||null,person_horario:e.person_horario||null,person_contacto:e.person_contacto||null,boss_email:e.boss_email,reason:e.reason,requested_at:e.requested_at,discount_amount:e.discount_amount,discount_applied:e.discount_applied,created_by_supervisor:e.created_by_supervisor,status:"ASIGNADA"}).select("*, backup_cards(*)").single();if(r)throw r;const{error:n}=await ke.from("backup_cards").update({status:"ASIGNADA"}).eq("id",e.card_id);if(n)throw n;return t},d2e=async(e,t,r)=>{const{data:n,error:a}=await ke.from("backup_loans").select("card_id").eq("id",e).single();if(a)throw a;const{error:i}=await ke.from("backup_loans").update({status:"CERRADA",recovered_at:t,closed_at:new Date().toISOString()}).eq("id",e);if(i)throw i;const{error:s}=await ke.from("backup_cards").update({status:"LIBRE"}).eq("id",n.card_id);if(s)throw s},h2e=async(e,t)=>{const{data:r,error:n}=await ke.from("backup_loans").select("card_id").eq("id",e).single();if(n)throw n;const{error:a}=await ke.from("backup_loans").update({status:"CANCELADA",cancel_reason:t,closed_at:new Date().toISOString()}).eq("id",e);if(a)throw a;const{error:i}=await ke.from("backup_cards").update({status:"LIBRE"}).eq("id",r.card_id);if(i)throw i},p2e=async e=>{const{error:t}=await ke.from("backup_loans").update({emails_sent_at:new Date().toISOString()}).eq("id",e);if(t)throw t},BM=async()=>{const{data:e,error:t}=await ke.from("backup_email_settings").select("*").order("scope_type",{ascending:!1});if(t)throw t;return e},m2e=async e=>{const{data:t,error:r}=await ke.from("backup_email_settings").upsert(e,{onConflict:"scope_type,scope_code"}).select().single();if(r)throw r;return t},v2e=async()=>{const{data:e,error:t}=await ke.from("backup_cards").select("inventory_terminal, status");if(t)throw t;const r={"El Roble":0,"La Reina":0,"Maria Angelica":0};e==null||e.forEach(p=>{if(p.status==="LIBRE"){const g=p.inventory_terminal;zs.includes(g)&&r[g]++}});const{data:n,error:a}=await ke.from("backup_loans").select("id, issued_at, alert_after_days, discount_amount, discount_applied").eq("status","ASIGNADA");if(a)throw a;const i=new Date;let s=0,o=0;n==null||n.forEach(p=>{const g=new Date(p.issued_at);Math.floor((i.getTime()-g.getTime())/(1e3*60*60*24))>p.alert_after_days&&s++,p.discount_applied&&(o+=p.discount_amount)});const l=new Date;l.setDate(l.getDate()-30);const{data:c,error:f}=await ke.from("backup_loans").select("issued_at, recovered_at, discount_amount, discount_applied").in("status",["RECUPERADA","CERRADA"]).gte("closed_at",l.toISOString());if(f)throw f;let d=0,h=0;return c==null||c.forEach(p=>{if(p.recovered_at){const g=new Date(p.issued_at),m=new Date(p.recovered_at),y=Math.floor((m.getTime()-g.getTime())/(1e3*60*60*24));d+=y,h++}p.discount_applied&&(o+=p.discount_amount)}),{availableByTerminal:r,activeLoans:(n==null?void 0:n.length)||0,overdueLoans:s,avgReturnDays:h>0?Math.round(d/h):0,totalDiscounts:o}},WC=async(e,t,r)=>{var o;const n=((o=e.backup_cards)==null?void 0:o.card_number)||"N/A",a=e.person_terminal,i=e.reason==="PERDIDA"?"Perdida de Credencial":"Deterioro de Credencial",s=new Date(e.issued_at).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"});try{const l=`Solicitud Nueva Credencial - ${e.person_name}`,c=`
SOLICITUD DE NUEVA CREDENCIAL

Trabajador: ${e.person_name}
RUT: ${e.person_rut}
Terminal: ${a}
Cargo: ${e.person_cargo||"No especificado"}

MOTIVO: ${i}

Tarjeta de respaldo asignada: ${n}
Fecha de solicitud: ${e.requested_at}
Supervisor que entrego: ${e.created_by_supervisor}

Por favor proceder con la emision de una nueva credencial para este trabajador.
`.trim(),{error:f}=await ke.functions.invoke("send-email",{body:{subject:l,body:c,audience:"manual",manualRecipients:[t],cc:r?r.split(",").map(g=>g.trim()).filter(Boolean):void 0}});f&&console.error("Error sending manager email:",f);const d=`Notificacion Credencial Respaldo - ${e.person_name}`,h=`
Estimado/a,

Se le informa que el trabajador a su cargo utilizara una tarjeta de respaldo mientras se gestiona una nueva credencial.

DATOS DEL TRABAJADOR:
- Nombre: ${e.person_name}
- RUT: ${e.person_rut}
- Terminal: ${a}
- Cargo: ${e.person_cargo||"No especificado"}

INFORMACION DEL RESPALDO:
- Tarjeta asignada: N ${n}
- Motivo: ${i}
- Fecha de entrega: ${s}
${e.discount_applied?`- Descuento aplicado: $${e.discount_amount.toLocaleString("es-CL")} (1 cuota)`:""}

Una vez que el trabajador reciba su nueva credencial, debera devolver la tarjeta de respaldo.

Saludos cordiales,
Gestion de Personal
`.trim(),{error:p}=await ke.functions.invoke("send-email",{body:{subject:d,body:h,audience:"manual",manualRecipients:[e.boss_email]}});return p&&console.error("Error sending boss email:",p),await p2e(e.id),{success:!0}}catch(l){return console.error("Error sending backup emails:",l),{success:!1,error:l instanceof Error?l.message:"Error desconocido al enviar correos"}}},g2e=({isOpen:e,onClose:t,onSubmit:r,isLoading:n,supervisorName:a})=>{const i=C.useRef(null),[s,o]=C.useState({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",boss_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),[l,c]=C.useState(""),[f,d]=C.useState(""),{data:h=[]}=At({queryKey:["backup-cards-available",l],queryFn:()=>o2e(l||void 0),enabled:e}),p=async()=>{const y=Um(s.person_rut);if(!y)return;if(!zC(y)){d("RUT invalido");return}d("");const{data:b}=await ke.from("staff").select("nombre, cargo, terminal_code, turno, horario, contacto").eq("rut",y).single();o(b?v=>({...v,person_rut:pu(y),person_name:b.nombre,person_cargo:b.cargo||"",person_terminal:b.terminal_code||"EL_ROBLE",person_turno:b.turno||"",person_horario:b.horario||"",person_contacto:b.contacto||""}):v=>({...v,person_rut:pu(y)}))},g=async y=>{if(y.preventDefault(),!zC(Um(s.person_rut))){d("RUT invalido");return}await r(s)},m=()=>{var b;const y=window.open("","_blank");if(y){(b=ia.find(x=>x.value===s.person_terminal))!=null&&b.label||s.person_terminal;const v=new Date().toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"});y.document.write(`
<!DOCTYPE html>
<html>
<head>
  <title>Autorizacion de Descuento - ${s.person_name||"Trabajador"}</title>
  <style>
    @page { size: letter; margin: 1cm 1.5cm; }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; font-size: 11px; line-height: 1.3; color: #000; padding: 10px; }
    
    .header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 8px; border-bottom: 3px solid #c00; margin-bottom: 12px; }
    .logo { font-size: 28px; font-weight: bold; color: #c00; letter-spacing: 2px; }
    .header-right { text-align: right; color: #c00; font-weight: bold; font-size: 10px; }
    
    .title { background: #c00; color: white; text-align: center; padding: 6px 0; font-weight: bold; font-size: 13px; margin-bottom: 12px; }
    
    .row { display: flex; align-items: center; margin-bottom: 6px; gap: 8px; }
    .label { font-weight: bold; white-space: nowrap; min-width: 140px; }
    .value { flex: 1; border-bottom: 1px solid #333; padding-left: 5px; min-height: 16px; }
    
    .auth-box { border: 2px solid #333; padding: 12px; margin: 12px 0; text-align: center; }
    .auth-title { font-weight: bold; margin-bottom: 4px; }
    .auth-amount { font-size: 16px; font-weight: bold; margin: 6px 0; }
    .auth-concept { font-weight: bold; margin-bottom: 8px; }
    .auth-details { text-align: right; font-size: 10px; line-height: 1.4; }
    .auth-details p { margin: 2px 0; }
    
    .legal-text { font-size: 9px; text-align: justify; line-height: 1.3; margin: 10px 0; padding: 8px; border-top: 1px solid #333; }
    
    .signature-section { display: flex; justify-content: space-between; align-items: flex-start; margin-top: 8px; }
    .signature-left { flex: 1; }
    .signature-label { font-weight: bold; font-style: italic; font-size: 10px; margin-bottom: 25px; }
    .signature-line { border-bottom: 1px solid #333; margin-top: 35px; width: 200px; }
    .signature-right { text-align: right; font-size: 10px; }
    
    .obs-box { border: 1px solid #333; margin: 10px 0; }
    .obs-header { background: #555; color: white; text-align: center; padding: 3px; font-size: 10px; font-weight: bold; }
    .obs-content { min-height: 35px; }
    
    .detail-section { margin-top: 10px; padding-top: 8px; border-top: 2px solid #333; }
    .detail-title { font-weight: bold; font-style: italic; font-size: 10px; margin-bottom: 5px; }
    table { width: 100%; border-collapse: collapse; font-size: 10px; }
    th, td { border: 1px solid #333; padding: 4px 8px; }
    th { background: #f0f0f0; text-align: left; }
    .text-right { text-align: right; }
    
    .footer { margin-top: 10px; padding-top: 6px; border-top: 1px solid #333; display: flex; justify-content: space-between; font-size: 9px; }
    .footer-left { color: #555; }
    .footer-right { font-weight: bold; color: #c00; }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">RBU</div>
    <div class="header-right">RBU Santiago.</div>
  </div>
  
  <div class="title">Autorizacion de Descuento</div>
  
  <div class="row">
    <span class="label">NOMBRE TRABAJADOR:</span>
    <span class="value">${s.person_name||""}</span>
  </div>
  
  <div class="row">
    <span class="label">RUT:</span>
    <span class="value" style="max-width: 120px;">${s.person_rut||""}</span>
    <span class="label" style="min-width: auto; margin-left: 15px;">Cargo:</span>
    <span class="value">${s.person_cargo||""}</span>
  </div>
  
  <div class="auth-box">
    <p class="auth-title">EL TRABAJADOR INDIVIDUALIZADO AUTORIZA EN ESTE ACTO</p>
    <p class="auth-amount">EL DESCUENTO DE: $ ${s.discount_amount.toLocaleString("es-CL")}</p>
    <p class="auth-concept">POR CONCEPTO DE: ${s.reason==="PERDIDA"?"Perdida de Credencial":"Deterioro de Credencial"}</p>
    <div class="auth-details">
      <p>A descontar en: <strong>1 Cuota</strong></p>
      <p>A contar de: <strong>Mes en curso</strong></p>
      <p>Valor cuota: <strong>$ ${s.discount_amount.toLocaleString("es-CL")}</strong></p>
    </div>
  </div>
  
  <div class="legal-text">
    El trabajador, mediante el presente instrumento, otorga mandato expreso a REDBUS URBANO S.A. para que descuente de sus remuneraciones en las cuotas y plazos indicados la suma senalada. Asimismo faculta expresamente a REDBUS URBANO S.A. para que en el evento de que por cualquier causa se pusiese termino al contrato de trabajo, descuente el total del saldo adeudado de las indemnizaciones a que tenga derecho y/o otros emolumentos que pudiere tener derecho al termino de la relacion laboral.
  </div>
  
  <div class="signature-section">
    <div class="signature-left">
      <p class="signature-label">Firma y RUT del trabajador</p>
      <div class="signature-line"></div>
    </div>
    <div class="signature-right">
      <p>Fecha: <strong>${v}</strong></p>
    </div>
  </div>
  
  <div class="obs-box">
    <div class="obs-header">Observaciones</div>
    <div class="obs-content"></div>
  </div>
  
  <div class="detail-section">
    <p class="detail-title">Detalle Descuento</p>
    <table>
      <tr>
        <th>Concepto</th>
        <th class="text-right">Costo</th>
      </tr>
      <tr>
        <td>${s.reason==="PERDIDA"?"Perdida de Credencial":"Deterioro de Credencial"}</td>
        <td class="text-right">$ ${s.discount_amount.toLocaleString("es-CL")}</td>
      </tr>
    </table>
  </div>
  
  <div class="footer">
    <div class="footer-left">Av. El Salto 4651, Huechuraba, Santiago. | Fono: (56 2) 4881800</div>
    <div class="footer-right">RBU SANTIAGO SA</div>
  </div>
</body>
</html>
            `),y.document.close(),setTimeout(()=>y.print(),250)}};return C.useEffect(()=>{e&&(o({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",boss_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),d(""),c(""))},[e,a]),e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nuevo Prestamo de Respaldo"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Datos del Trabajador"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"RUT"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:`input pr-10 ${f?"border-red-500":""}`,value:s.person_rut,onChange:y=>o(b=>({...b,person_rut:y.target.value})),onBlur:p,placeholder:"12.345.678-9",required:!0}),u.jsx(bY,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),f&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:f})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre"}),u.jsx("input",{type:"text",className:"input",value:s.person_name,onChange:y=>o(b=>({...b,person_name:y.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cargo"}),u.jsx("input",{type:"text",className:"input",value:s.person_cargo,onChange:y=>o(b=>({...b,person_cargo:y.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal"}),u.jsx("select",{className:"input",value:s.person_terminal,onChange:y=>o(b=>({...b,person_terminal:y.target.value})),required:!0,children:ia.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Turno"}),u.jsx("input",{type:"text",className:"input",value:s.person_turno,onChange:y=>o(b=>({...b,person_turno:y.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Horario"}),u.jsx("input",{type:"text",className:"input",value:s.person_horario,onChange:y=>o(b=>({...b,person_horario:y.target.value})),placeholder:"08:00-18:00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contacto"}),u.jsx("input",{type:"text",className:"input",value:s.person_contacto,onChange:y=>o(b=>({...b,person_contacto:y.target.value}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email Jefatura"}),u.jsx("input",{type:"email",className:"input",value:s.boss_email,onChange:y=>o(b=>({...b,boss_email:y.target.value})),required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Solicitud"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo"}),u.jsx("select",{className:"input",value:s.reason,onChange:y=>o(b=>({...b,reason:y.target.value})),required:!0,children:e5.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha Solicitud"}),u.jsx("input",{type:"date",className:"input",value:s.requested_at,onChange:y=>o(b=>({...b,requested_at:y.target.value})),required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Tarjeta de Respaldo"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal de Inventario"}),u.jsxs("select",{className:"input",value:l,onChange:y=>{c(y.target.value),o(b=>({...b,card_id:""}))},children:[u.jsx("option",{value:"",children:"Todos"}),zs.map(y=>u.jsx("option",{value:y,children:y},y))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Tarjeta Disponible"}),u.jsxs("select",{className:"input",value:s.card_id,onChange:y=>o(b=>({...b,card_id:y.target.value})),required:!0,children:[u.jsx("option",{value:"",children:"Seleccionar tarjeta..."}),h.map(y=>u.jsxs("option",{value:y.id,children:[y.card_number," (",y.inventory_terminal,")"]},y.id))]}),h.length===0&&u.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No hay tarjetas disponibles"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Descuento"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:s.discount_applied,onChange:y=>o(b=>({...b,discount_applied:y.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsxs("span",{className:"text-sm text-slate-700",children:["Aplicar descuento de $",s.discount_amount.toLocaleString("es-CL")," (1 cuota)"]})]}),s.discount_applied&&u.jsxs("button",{type:"button",onClick:m,className:"btn btn-secondary flex items-center gap-2",disabled:!s.person_name||!s.person_rut,children:[u.jsx(mY,{className:"w-4 h-4"}),"Imprimir Formulario"]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Notificaciones"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:s.send_emails,onChange:y=>o(b=>({...b,send_emails:y.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Enviar correos al crear"})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!s.card_id,children:n?"Guardando...":"Crear Prestamo"})]})]}),u.jsx("div",{ref:i,className:"hidden"})]})})]}):null},y2e=({isOpen:e,loan:t,onClose:r})=>{var i,s;if(!e||!t)return null;const n=o=>o?new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=Math.floor((new Date().getTime()-new Date(t.issued_at).getTime())/(1e3*60*60*24));return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detalle del Prestamo"}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(kY,{className:"w-4 h-4"}),"Trabajador"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Nombre:"}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.person_name})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"RUT:"}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:pu(t.person_rut)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Cargo:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_cargo||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Terminal:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_terminal})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Turno:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_turno||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Horario:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_horario||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Contacto:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.person_contacto||"-"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(xd,{className:"w-4 h-4"}),"Tarjeta de Respaldo"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Numero:"}),u.jsx("span",{className:"text-sm font-mono font-medium text-slate-900",children:((i=t.backup_cards)==null?void 0:i.card_number)||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Terminal Inventario:"}),u.jsx("span",{className:"text-sm text-slate-900",children:((s=t.backup_cards)==null?void 0:s.inventory_terminal)||"-"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(rY,{className:"w-4 h-4"}),"Solicitud"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Motivo:"}),u.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.reason==="PERDIDA"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t.reason==="PERDIDA"?"Perdida":"Deterioro"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Solicitud:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.requested_at})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Entrega:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.issued_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Dias Transcurridos:"}),u.jsxs("span",{className:`text-sm font-medium ${a>t.alert_after_days?"text-amber-600":"text-slate-900"}`,children:[a," dias"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Estado:"}),u.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.status==="ASIGNADA"?"bg-blue-100 text-blue-700":t.status==="CERRADA"?"bg-slate-100 text-slate-700":t.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:t.status})]}),t.recovered_at&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Recuperada:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.recovered_at)})]}),t.cancel_reason&&u.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Motivo Cancelacion:"}),u.jsx("p",{className:"text-sm text-slate-900 mt-1",children:t.cancel_reason})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(YR,{className:"w-4 h-4"}),"Descuento"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Aplicado:"}),u.jsx("span",{className:`text-sm font-medium ${t.discount_applied?"text-emerald-600":"text-slate-500"}`,children:t.discount_applied?"Si":"No"})]}),t.discount_applied&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Monto:"}),u.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["$",t.discount_amount.toLocaleString("es-CL")]})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[u.jsx(XR,{className:"w-4 h-4"}),"Auditoria"]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Creado por:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.created_by_supervisor})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Creado:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Email Jefatura:"}),u.jsx("span",{className:"text-sm text-slate-900",children:t.boss_email})]}),t.emails_sent_at&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Emails Enviados:"}),u.jsx("span",{className:"text-sm text-slate-900",children:n(t.emails_sent_at)})]})]})]})]}),u.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},x2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var f;const[i,s]=C.useState(new Date().toISOString().split("T")[0]),[o,l]=C.useState(""),c=async d=>{d.preventDefault(),t&&(await n(t.id,i,o),l(""))};return!e||!t?null:u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ZR,{className:"w-5 h-5 text-emerald-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Marcar como Recuperada"})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"Trabajador:"})," ",t.person_name]}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"RUT:"})," ",pu(t.person_rut)]}),u.jsxs("p",{className:"text-sm text-slate-600",children:[u.jsx("span",{className:"font-medium",children:"Tarjeta:"})," ",(f=t.backup_cards)==null?void 0:f.card_number]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha de Devolucion"}),u.jsx("input",{type:"date",className:"input",value:i,onChange:d=>s(d.target.value),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Observacion (opcional)"}),u.jsx("textarea",{className:"input min-h-[80px]",value:o,onChange:d=>l(d.target.value),placeholder:"Notas adicionales..."})]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Al confirmar, la tarjeta sera liberada y quedara disponible para nuevos prestamos."}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary bg-emerald-600 hover:bg-emerald-700",disabled:a,children:a?"Procesando...":"Confirmar Devolucion"})]})]})]})})]})},b2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var l;const[i,s]=C.useState(""),o=async c=>{c.preventDefault(),!(!t||!i.trim())&&(await n(t.id,i.trim()),s(""))};return!e||!t?null:u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pv,{className:"w-5 h-5 text-red-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cancelar Prestamo"})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[u.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Esta accion no se puede deshacer."}),u.jsxs("p",{className:"text-sm text-red-700",children:["El prestamo a ",t.person_name," (tarjeta ",(l=t.backup_cards)==null?void 0:l.card_number,") sera cancelado y la tarjeta sera liberada."]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo de cancelacion (obligatorio)"}),u.jsx("textarea",{className:"input min-h-[100px]",value:i,onChange:c=>s(c.target.value),placeholder:"Explique por que se cancela este prestamo...",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Volver"}),u.jsx("button",{type:"submit",className:"btn btn-primary bg-red-600 hover:bg-red-700",disabled:a||!i.trim(),children:a?"Cancelando...":"Confirmar Cancelacion"})]})]})]})})]})},w2e=({isOpen:e,onClose:t})=>{const r=Ht(),[n,a]=C.useState(!1),[i,s]=C.useState(""),[o,l]=C.useState(""),[c,f]=C.useState({card_number:"",inventory_terminal:"El Roble",notes:""}),{data:d=[],isLoading:h}=At({queryKey:["backup-cards",i,o],queryFn:()=>s2e(o||void 0,i||void 0),enabled:e}),p=Yt({mutationFn:l2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]}),a(!1),f({card_number:"",inventory_terminal:"El Roble",notes:""})}}),g=Yt({mutationFn:c2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]})}}),m=v=>{v.preventDefault(),p.mutate(c)},y=v=>{confirm(`Desactivar tarjeta ${v.card_number}?`)&&g.mutate(v.id)};if(!e)return null;const b={LIBRE:"bg-emerald-100 text-emerald-800",ASIGNADA:"bg-blue-100 text-blue-800",INACTIVA:"bg-slate-100 text-slate-600"};return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xd,{className:"w-5 h-5 text-slate-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventario de Tarjetas"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-wrap items-center gap-3",children:[u.jsxs("select",{className:"input w-auto",value:i,onChange:v=>s(v.target.value),children:[u.jsx("option",{value:"",children:"Todos los terminales"}),zs.map(v=>u.jsx("option",{value:v,children:v},v))]}),u.jsxs("select",{className:"input w-auto",value:o,onChange:v=>l(v.target.value),children:[u.jsx("option",{value:"",children:"Todos los estados"}),IY.map(v=>u.jsx("option",{value:v.value,children:v.label},v.value))]}),u.jsx("div",{className:"flex-1"}),u.jsxs("button",{onClick:()=>a(!n),className:"btn btn-primary flex items-center gap-2",children:[u.jsx(JR,{className:"w-4 h-4"}),"Agregar Tarjeta"]})]}),n&&u.jsxs("form",{onSubmit:m,className:"p-4 bg-slate-50 border-b border-slate-100",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Numero de Tarjeta"}),u.jsx("input",{type:"text",className:"input",value:c.card_number,onChange:v=>f(x=>({...x,card_number:v.target.value})),placeholder:"Ej: TR-001",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Terminal"}),u.jsx("select",{className:"input",value:c.inventory_terminal,onChange:v=>f(x=>({...x,inventory_terminal:v.target.value})),children:zs.map(v=>u.jsx("option",{value:v,children:v},v))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notas (opcional)"}),u.jsx("input",{type:"text",className:"input",value:c.notes,onChange:v=>f(x=>({...x,notes:v.target.value}))})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary text-sm",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary text-sm",disabled:p.isPending,children:p.isPending?"Guardando...":"Guardar"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d.length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"No hay tarjetas registradas"}):u.jsx("div",{className:"space-y-2",children:d.map(v=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(xd,{className:"w-5 h-5 text-slate-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:v.card_number}),u.jsx("p",{className:"text-xs text-slate-500",children:v.inventory_terminal})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b[v.status]||""}`,children:v.status}),v.status!=="INACTIVA"&&v.status!=="ASIGNADA"&&u.jsx("button",{onClick:()=>y(v),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Desactivar",children:u.jsx(AY,{className:"w-4 h-4"})})]})]},v.id))})}),u.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:u.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},_2e=({isOpen:e,onClose:t})=>{const r=Ht(),[n,a]=C.useState("GLOBAL"),[i,s]=C.useState({manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0}),{data:o=[],isLoading:l}=At({queryKey:["backup-email-settings"],queryFn:BM,enabled:e}),c=Yt({mutationFn:m2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-email-settings"]})}});C.useEffect(()=>{const d=o.find(h=>n==="GLOBAL"?h.scope_type==="GLOBAL":h.scope_code===n);s(d?{manager_email:d.manager_email,cc_emails:d.cc_emails||"",subject_manager:d.subject_manager,subject_boss:d.subject_boss,enabled:d.enabled}:{manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0})},[n,o]);const f=d=>{d.preventDefault(),c.mutate({scope_type:n==="GLOBAL"?"GLOBAL":"TERMINAL",scope_code:n,...i})};return e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[u.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(QR,{className:"w-5 h-5 text-slate-600"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Configuracion de Correos"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:u.jsx(gl,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Configurar para:"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",onClick:()=>a("GLOBAL"),className:`px-3 py-1.5 text-sm rounded-lg border ${n==="GLOBAL"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Global"}),zs.map(d=>u.jsx("button",{type:"button",onClick:()=>a(d),className:`px-3 py-1.5 text-sm rounded-lg border ${n===d?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:d},d))]})]}),l?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email del Gestor (crear credencial)"}),u.jsx("input",{type:"email",className:"input",value:i.manager_email,onChange:d=>s(h=>({...h,manager_email:d.target.value})),placeholder:"gestor@empresa.cl",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"CC (opcional, separar por coma)"}),u.jsx("input",{type:"text",className:"input",value:i.cc_emails,onChange:d=>s(h=>({...h,cc_emails:d.target.value})),placeholder:"copia1@empresa.cl, copia2@empresa.cl"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Gestor"}),u.jsx("input",{type:"text",className:"input",value:i.subject_manager,onChange:d=>s(h=>({...h,subject_manager:d.target.value})),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Jefatura"}),u.jsx("input",{type:"text",className:"input",value:i.subject_boss,onChange:d=>s(h=>({...h,subject_boss:d.target.value})),required:!0})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:i.enabled,onChange:d=>s(h=>({...h,enabled:d.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Envio habilitado"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cerrar"}),u.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:c.isPending,children:[u.jsx(yY,{className:"w-4 h-4"}),c.isPending?"Guardando...":"Guardar"]})]}),c.isSuccess&&u.jsx("p",{className:"text-sm text-emerald-600 text-center",children:"Configuracion guardada correctamente"})]})]})]})})]}):null},S2e=()=>{const e=Ht(),t=Ve(q=>q.context),r=Ve(q=>q.setContext),n=Ra(q=>q.session),[a,i]=C.useState({status:"TODAS",reason:"TODAS",alertsOnly:!1}),[s,o]=C.useState(!1),[l,c]=C.useState(!1),[f,d]=C.useState(!1),[h,p]=C.useState(null),[g,m]=C.useState(!1),[y,b]=C.useState(!1),[v,x]=C.useState(!1),_=At({queryKey:["backup-loans",a],queryFn:()=>u2e(a)}),w=At({queryKey:["backup-kpis"],queryFn:v2e}),S=At({queryKey:["backup-email-settings"],queryFn:BM}),E=Yt({mutationFn:async q=>{var K;const V=await f2e(q);if(q.send_emails){const ae=(K=S.data)==null?void 0:K.find(de=>de.scope_code===q.person_terminal||de.scope_type==="GLOBAL");ae&&await WC(V,ae.manager_email,ae.cc_emails||void 0)}return V},onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),o(!1)}}),T=Yt({mutationFn:({id:q,recoveredAt:V,observation:K})=>d2e(q,V),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),b(!1),p(null)}}),A=Yt({mutationFn:({id:q,reason:V})=>h2e(q,V),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),x(!1),p(null)}}),N=C.useMemo(()=>{var V;let q=_.data||[];if(t.mode!=="ALL"&&t.value){const K=(V=ia.find(ae=>ae.value===t.value))==null?void 0:V.label;K&&(q=q.filter(ae=>ae.person_terminal===t.value||ae.person_terminal===K))}if(a.alertsOnly){const K=new Date;q=q.filter(ae=>{if(ae.status!=="ASIGNADA")return!1;const de=new Date(ae.issued_at);return Math.floor((K.getTime()-de.getTime())/(1e3*60*60*24))>ae.alert_after_days})}return q},[_.data,t,a.alertsOnly]),j=q=>{p(q),m(!0)},L=q=>{j(q)},W=q=>{p(q),b(!0)},Z=q=>{p(q),x(!0)},G=async q=>{var K;const V=(K=S.data)==null?void 0:K.find(ae=>ae.scope_code===q.person_terminal||ae.scope_type==="GLOBAL");if(V){const ae=await WC(q,V.manager_email,V.cc_emails||void 0);ae.success?alert("Correos enviados correctamente"):alert("Error al enviar correos: "+(ae.error||"Error desconocido"))}else alert('Configure los correos primero en el boton "Correos"')},re=()=>{if(!N.length)return;const q=new Date,V=N.map(K=>{var P;const ae=new Date(K.issued_at),de=Math.floor((q.getTime()-ae.getTime())/(1e3*60*60*24));return{rut:pu(K.person_rut),nombre:K.person_name,cargo:K.person_cargo||"",terminal:K.person_terminal,tarjeta:((P=K.backup_cards)==null?void 0:P.card_number)||"",motivo:K.reason==="PERDIDA"?"Perdida":"Deterioro",fecha_entrega:new Date(K.issued_at).toLocaleDateString("es-CL"),dias:de,estado:K.status,descuento:K.discount_applied?K.discount_amount:0,email_jefatura:K.boss_email,creado_por:K.created_by_supervisor}});ft({filename:`prestamos_respaldo_${new Date().toISOString().split("T")[0]}`,sheetName:"Prestamos",rows:V,columns:[{key:"rut",header:"RUT"},{key:"nombre",header:"Nombre"},{key:"cargo",header:"Cargo"},{key:"terminal",header:"Terminal"},{key:"tarjeta",header:"Tarjeta"},{key:"motivo",header:"Motivo"},{key:"fecha_entrega",header:"Fecha Entrega"},{key:"dias",header:"Dias"},{key:"estado",header:"Estado"},{key:"descuento",header:"Descuento"},{key:"email_jefatura",header:"Email Jefatura"},{key:"creado_por",header:"Creado Por"}]})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Credenciales de Respaldo",description:"Control de prestamo de tarjetas de respaldo",actions:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>d(!0),className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(_Y,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Correos"})]}),u.jsxs("button",{onClick:()=>c(!0),className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(xd,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Tarjetas"})]}),u.jsxs("button",{onClick:re,className:"btn btn-secondary flex items-center gap-2",children:[u.jsx(oY,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"XLSX"})]}),u.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary flex items-center gap-2",children:[u.jsx(JR,{className:"w-4 h-4"}),"Nuevo Prestamo"]})]})}),u.jsx(DY,{kpis:w.data||{availableByTerminal:{"El Roble":0,"La Reina":0,"Maria Angelica":0},activeLoans:0,overdueLoans:0,avgReturnDays:0,totalDiscounts:0},isLoading:w.isLoading}),!_.isLoading&&_.data&&_.data.length>0&&u.jsx(r2e,{loans:_.data}),u.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm flex flex-wrap items-center gap-2",children:[u.jsx(fY,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),u.jsx("input",{type:"text",className:"h-8 px-2 text-sm border border-slate-200 rounded-md w-32 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"RUT/Nombre...",value:a.search||"",onChange:q=>i(V=>({...V,search:q.target.value}))}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:t.value||"",onChange:q=>{q.target.value?r({mode:"TERMINAL",value:q.target.value}):r({mode:"ALL"})},children:[u.jsx("option",{value:"",children:"Terminal"}),ia.map(q=>u.jsx("option",{value:q.value,children:q.label},q.value))]}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.status||"TODAS",onChange:q=>i(V=>({...V,status:q.target.value})),children:[u.jsx("option",{value:"TODAS",children:"Estado"}),RY.map(q=>u.jsx("option",{value:q.value,children:q.label},q.value))]}),u.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.reason||"TODAS",onChange:q=>i(V=>({...V,reason:q.target.value})),children:[u.jsx("option",{value:"TODAS",children:"Motivo"}),e5.map(q=>u.jsx("option",{value:q.value,children:q.label},q.value))]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-xs text-slate-600 whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",checked:a.alertsOnly||!1,onChange:q=>i(V=>({...V,alertsOnly:q.target.checked})),className:"w-3.5 h-3.5 rounded border-slate-300"}),u.jsx(Pv,{className:"w-3.5 h-3.5 text-amber-500"}),"Atrasados"]}),u.jsx("div",{className:"h-4 w-px bg-slate-200 hidden sm:block"}),u.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateFrom||"",onChange:q=>i(V=>({...V,dateFrom:q.target.value})),title:"Desde"}),u.jsx("span",{className:"text-slate-400 text-xs",children:"-"}),u.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateTo||"",onChange:q=>i(V=>({...V,dateTo:q.target.value})),title:"Hasta"})]}),_.isLoading&&u.jsx(yr,{label:"Cargando prestamos..."}),_.isError&&u.jsx(Rr,{message:"Error al cargar prestamos",onRetry:_.refetch}),!_.isLoading&&!_.isError&&u.jsx(i2e,{loans:N,onView:j,onEdit:L,onRecover:W,onCancel:Z,onResendEmails:G}),u.jsx(g2e,{isOpen:s,onClose:()=>o(!1),onSubmit:async q=>{await E.mutateAsync(q)},isLoading:E.isPending,supervisorName:(n==null?void 0:n.supervisorName)||"Supervisor"}),u.jsx(y2e,{isOpen:g,loan:h,onClose:()=>{m(!1),p(null)}}),u.jsx(x2e,{isOpen:y,loan:h,onClose:()=>{b(!1),p(null)},onSubmit:async(q,V,K)=>{await T.mutateAsync({id:q,recoveredAt:V,observation:K})},isLoading:T.isPending}),u.jsx(b2e,{isOpen:v,loan:h,onClose:()=>{x(!1),p(null)},onSubmit:async(q,V)=>{await A.mutateAsync({id:q,reason:V})},isLoading:A.isPending}),u.jsx(w2e,{isOpen:l,onClose:()=>c(!1)}),u.jsx(_2e,{isOpen:f,onClose:()=>d(!1)})]})},E2e=[{id:"s-1",solicitante:"Ana Prez",tipo:"Materiales",fecha:"2023-12-04",estado:"abierta",terminal:"EL_ROBLE"},{id:"s-2",solicitante:"Carlos Vega",tipo:"Personal",fecha:"2023-12-03",estado:"en_proceso",terminal:"LA_REINA"},{id:"s-3",solicitante:"Laura Soto",tipo:"Tecnologa",fecha:"2023-12-02",estado:"cerrada",terminal:"EL_SALTO"}],HC=ju(E2e,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),T2e=()=>{const e=Ve(b=>b.context),t=Ve(b=>b.setContext),[r,n]=C.useState({estado:"todas"}),[a,i]=C.useState(""),[s,o]=C.useState(""),[l,c]=C.useState([]),f=At({queryKey:["solicitudes",e,r],queryFn:()=>HC.list({terminalContext:e,filters:r,scope:"view"})}),d=C.useMemo(()=>[...f.data??[],...l],[f.data,l]),h=C.useMemo(()=>[{key:"tipo",header:"Tipo"},{key:"solicitante",header:"Solicitante"},{key:"estado",header:"Estado",render:b=>u.jsx("span",{className:"badge capitalize",children:b.estado}),value:b=>b.estado},{key:"fecha",header:"Fecha"},{key:"terminal",header:"Terminal",render:b=>Ge(b.terminal),value:b=>Ge(b.terminal)}],[]),p=h.map(b=>({key:b.key,header:b.header,value:v=>b.value?b.value(v):v[b.key]})),g=()=>{ft({filename:"solicitudes_vista",sheetName:"Solicitudes",rows:d,columns:p})},m=async()=>{const b=await HC.list({terminalContext:e,scope:"all"});ft({filename:"solicitudes_completo",sheetName:"Solicitudes",rows:b,columns:p})},y=()=>{const b={id:`local-${Date.now()}`,solicitante:s,tipo:a,estado:"abierta",fecha:new Date().toISOString().slice(0,10),terminal:e.value??"EL_ROBLE"};c(v=>[b,...v]),o(""),i("")};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Solicitudes",description:"Formulario universal para requerimientos",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",onClick:()=>{var b;return(b=document.getElementById("solicitud-form"))==null?void 0:b.scrollIntoView({behavior:"smooth"})},children:"Nueva solicitud"}),u.jsx(Vr,{onExportView:g,onExportAll:m})]})}),u.jsx(oa,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:b=>n({estado:b.target.value}),children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"abierta",children:"Abierta"}),u.jsx("option",{value:"en_proceso",children:"En proceso"}),u.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),u.jsxs("div",{className:"card p-4",id:"solicitud-form",children:[u.jsx("p",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Crear nueva solicitud"}),u.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Solicitante"}),u.jsx("input",{className:"input",value:s,onChange:b=>o(b.target.value)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"label",children:"Tipo"}),u.jsx("input",{className:"input",value:a,onChange:b=>i(b.target.value),placeholder:"Ej: Materiales"})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx("button",{className:"btn btn-primary",onClick:y,disabled:!s||!a,children:"Registrar (mock)"})})]})]}),f.isLoading&&u.jsx(yr,{}),f.isError&&u.jsx(Rr,{onRetry:f.refetch}),!f.isLoading&&!f.isError&&u.jsxs(u.Fragment,{children:[!d.length&&u.jsx(Da,{description:"Sin solicitudes"}),d.length>0&&u.jsx(Ia,{columns:h,rows:d})]})]})},Ah=({terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o,children:l})=>u.jsxs(oa,{terminalContext:e,onTerminalChange:t,children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Buscar PPU"}),u.jsx("input",{type:"text",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 w-32 lg:w-40",placeholder:"PPU...",value:r,onChange:c=>n(c.target.value)})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Desde"}),u.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:a,onChange:c=>i(c.target.value)})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Hasta"}),u.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:s,onChange:c=>o(c.target.value)})]}),l]}),Oh=({items:e})=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e.map((t,r)=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:t.label}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.value}),t.subtext&&u.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:t.subtext})]}),t.icon&&u.jsx("div",{className:`p-2 rounded-lg ${t.colorClass||"bg-slate-100 text-slate-600"}`,children:u.jsx(be,{name:t.icon,size:20})})]},r))}),A2e="https://wvcplgwemvqhvtstlqmt.supabase.co",UM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2Y3BsZ3dlbXZxaHZ0c3RscW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjIyMDUsImV4cCI6MjA3NTkzODIwNX0.K1YOv5lRn9fOous3AyG2gPxsQBzqOXRfYHgrCmO5zxk",O2e=UR(A2e,UM,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),j2e=()=>!!UM,jh=async(e,t)=>{if(!j2e())return[];let r=O2e.from(e).select("*");if(t.terminalContext&&t.terminalContext.mode!=="ALL"){const l=Vi(t.terminalContext).map(c=>$c[c]).filter(Boolean);l.length>0&&(r=r.in("terminal",l))}t.search&&(r=r.ilike("bus_ppu",`%${t.search}%`)),t.dateFrom&&(r=r.gte("created_at",t.dateFrom)),t.dateTo&&(r=r.lte("created_at",t.dateTo));const n=t.sortBy||"updated_at",a=t.sortOrder||"desc";r=r.order(n,{ascending:a==="asc"});const{data:i,error:s}=await r;if(s)throw console.error(`Error fetching ${e}:`,s),s;return i},C2e=e=>jh("extintores",e),N2e=e=>jh("tags",e),k2e=e=>jh("mobileye",e),P2e=e=>jh("odometro",e),R2e=e=>jh("publicidad",e),I2e=e=>At({queryKey:["minicheck","extintores",e],queryFn:()=>C2e(e)}),D2e=e=>At({queryKey:["minicheck","tags",e],queryFn:()=>N2e(e)}),M2e=e=>At({queryKey:["minicheck","mobileye",e],queryFn:()=>k2e(e)}),$2e=e=>At({queryKey:["minicheck","odometros",e],queryFn:()=>P2e(e)}),L2e=e=>At({queryKey:["minicheck","publicidad",e],queryFn:()=>R2e(e)}),F2e=()=>{const e=Ve(v=>v.context),t=Ve(v=>v.setContext),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(""),l=C.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:f,isError:d,refetch:h}=I2e(l),p=C.useMemo(()=>{if(!c)return[];const v=c.length,x=c.filter(S=>S.certificacion==="VENCIDA").length,_=c.filter(S=>!S.tiene).length,w=c.filter(S=>S.presion==="BAJA_CARGA").length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Vencidos",value:x,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Sin Extintor",value:_,icon:"x",colorClass:"bg-orange-50 text-orange-600"},{label:"Presin Baja",value:w,icon:"activity",colorClass:"bg-yellow-50 text-yellow-600"}]},[c]),g=C.useMemo(()=>{if(!c)return[];const v=c.filter(_=>_.certificacion==="VIGENTE").length,x=c.filter(_=>_.certificacion==="VENCIDA").length;return[{name:"VIGENTE",value:v,color:"#10b981"},{name:"VENCIDA",value:x,color:"#ef4444"}]},[c]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene",render:v=>u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.tiene?"S":"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"certificacion",header:"Certificacin",render:v=>u.jsx("span",{className:`text-xs font-bold ${v.certificacion==="VIGENTE"?"text-green-600":"text-red-600"}`,children:v.certificacion||"-"}),value:v=>v.certificacion||"-"},{key:"vencimiento_mes",header:"Vencimiento",render:v=>v.vencimiento_mes&&v.vencimiento_anio?`${v.vencimiento_mes}/${v.vencimiento_anio}`:"-",value:v=>`${v.vencimiento_mes}/${v.vencimiento_anio}`},{key:"presion",header:"Presin",value:v=>v.presion||"-"},{key:"cilindro",header:"Cilindro OK",render:v=>v.cilindro?"S":"No",value:v=>v.cilindro?"S":"No"},{key:"updated_at",header:"Actualizado",render:v=>Ft(v.updated_at),value:v=>Ft(v.updated_at)}],y=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{c&&ft({filename:`minicheck_extintor_${new Date().toISOString().split("T")[0]}`,sheetName:"Extintores",rows:c,columns:y})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control de Extintores",description:"Validacin de estado y vencimiento de extintores",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(Vr,{onExportView:b,onExportAll:b})})}),u.jsx(Ah,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),f&&u.jsx(yr,{label:"Cargando extintores..."}),d&&u.jsx(Rr,{message:"No se pudieron obtener los registros de extintores.",onRetry:h}),!f&&!d&&u.jsxs(u.Fragment,{children:[u.jsx(Oh,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado Certificacin"}),u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:g,children:[u.jsx(il,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Bi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(Ui,{tick:{fontSize:10}}),u.jsx(dr,{}),u.jsx(mn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((v,x)=>u.jsx(Xi,{fill:v.color},`cell-${x}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx(Ia,{columns:m,rows:c}):u.jsx(Da,{label:"Sin registros",description:"No se encontraron extintores con los filtros seleccionados."})})]})]})]})},B2e=()=>{const e=Ve(v=>v.context),t=Ve(v=>v.setContext),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(""),l=C.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:f,isError:d,refetch:h}=D2e(l),p=C.useMemo(()=>{if(!c)return[];const v=c.length,x=c.filter(w=>!w.tiene).length,_=c.filter(w=>w.serie&&w.serie.trim().length>0).length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Sin TAG",value:x,icon:"alert-circle",colorClass:"bg-red-50 text-red-600"},{label:"Serie Informada",value:_,icon:"check",colorClass:"bg-blue-50 text-blue-600"}]},[c]),g=C.useMemo(()=>{if(!c)return[];const v=c.filter(_=>_.tiene).length,x=c.filter(_=>!_.tiene).length;return[{name:"Con TAG",value:v,color:"#10b981"},{name:"Sin TAG",value:x,color:"#ef4444"}]},[c]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene TAG",render:v=>u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.tiene?"S":"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"serie",header:"N Serie",value:v=>v.serie||"-"},{key:"observacion",header:"Observacin",value:v=>v.observacion||""},{key:"updated_at",header:"Actualizado",render:v=>Ft(v.updated_at),value:v=>Ft(v.updated_at)}],y=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{c&&ft({filename:`minicheck_tag_${new Date().toISOString().split("T")[0]}`,sheetName:"Tags",rows:c,columns:y})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control de TAG",description:"Verificacin de dispositivos TAG",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(Vr,{onExportView:b,onExportAll:b})})}),u.jsx(Ah,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),f&&u.jsx(yr,{label:"Cargando tags..."}),d&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!f&&!d&&u.jsxs(u.Fragment,{children:[u.jsx(Oh,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin"}),u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(V2,{children:[u.jsx($a,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((v,x)=>u.jsx(Xi,{fill:v.color},`cell-${x}`))}),u.jsx(dr,{}),u.jsx(Ti,{})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx(Ia,{columns:m,rows:c}):u.jsx(Da,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},U2e=()=>{const e=Ve(x=>x.context),t=Ve(x=>x.setContext),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(""),l=C.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:f,isError:d,refetch:h}=M2e(l),p=x=>x.consola&&x.sensor_frontal&&x.sensor_izq&&x.sensor_der,g=C.useMemo(()=>{if(!c)return[];const x=c.length,_=c.filter(S=>!p(S)).length,w=c.filter(S=>S.alerta_izq||S.alerta_der).length;return[{label:"Total Registros",value:x,icon:"clipboard"},{label:"Falla Sensores",value:_,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Alertas Activas",value:w,icon:"bell",colorClass:"bg-yellow-50 text-yellow-600"}]},[c]),m=C.useMemo(()=>{if(!c)return[];const x=c.filter(w=>p(w)).length,_=c.filter(w=>!p(w)).length;return[{name:"Sensores OK",value:x,color:"#10b981"},{name:"Falla",value:_,color:"#ef4444"}]},[c]),y=[{key:"bus_ppu",header:"PPU",value:x=>x.bus_ppu},{key:"terminal",header:"Terminal",render:x=>Ge(x.terminal),value:x=>x.terminal},{key:"bus_marca",header:"Marca",value:x=>x.bus_marca||"-"},{key:"consola",header:"Consola",render:x=>x.consola?u.jsx(be,{name:"check",size:16,className:"text-green-500"}):u.jsx(be,{name:"x",size:16,className:"text-red-500"}),value:x=>x.consola?"OK":"Falla"},{key:"id",header:"Sensores OK?",render:x=>{const _=p(x);return u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${_?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_?"S":"NO"})},value:x=>p(x)?"S":"NO"},{key:"id",header:"Alertas",render:x=>{const _=[];return x.alerta_izq&&_.push("IZQ"),x.alerta_der&&_.push("DER"),_.length>0?u.jsx("span",{className:"text-red-600 font-bold text-xs",children:_.join(", ")}):"-"},value:x=>{const _=[];return x.alerta_izq&&_.push("IZQ"),x.alerta_der&&_.push("DER"),_.join(", ")}},{key:"updated_at",header:"Actualizado",render:x=>Ft(x.updated_at),value:x=>Ft(x.updated_at)}],b=y.map(x=>({header:x.header,key:x.key,value:x.value})),v=()=>{c&&ft({filename:`minicheck_mobileye_${new Date().toISOString().split("T")[0]}`,sheetName:"Mobileye",rows:c,columns:b})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Mobileye",description:"Estado de sensores y cmaras Mobileye",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(Vr,{onExportView:v,onExportAll:v})})}),u.jsx(Ah,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),f&&u.jsx(yr,{label:"Cargando Mobileye..."}),d&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!f&&!d&&u.jsxs(u.Fragment,{children:[u.jsx(Oh,{items:g}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado General Sensores"}),u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:m,children:[u.jsx(il,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Bi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(Ui,{tick:{fontSize:10}}),u.jsx(dr,{}),u.jsx(mn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:m.map((x,_)=>u.jsx(Xi,{fill:x.color},`cell-${_}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx(Ia,{columns:y,rows:c}):u.jsx(Da,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},z2e=()=>{const e=Ve(v=>v.context),t=Ve(v=>v.setContext),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(""),l=C.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:f,isError:d,refetch:h}=$2e(l),p=C.useMemo(()=>{if(!c)return[];const v=c.length,x=c.filter(w=>w.estado==="INCONSISTENTE").length,_=c.filter(w=>w.estado==="NO_FUNCIONA").length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Inconsistentes",value:x,icon:"alert-triangle",colorClass:"bg-yellow-50 text-yellow-600"},{label:"No Funciona",value:_,icon:"x-circle",colorClass:"bg-red-50 text-red-600"}]},[c]),g=C.useMemo(()=>{if(!c)return[];const v=c.filter(w=>w.estado==="OK").length,x=c.filter(w=>w.estado==="INCONSISTENTE").length,_=c.filter(w=>w.estado==="NO_FUNCIONA").length;return[{name:"OK",value:v,color:"#10b981"},{name:"INCONSISTENTE",value:x,color:"#f59e0b"},{name:"NO FUNCIONA",value:_,color:"#ef4444"}].filter(w=>w.value>0)},[c]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"lectura",header:"Lectura",value:v=>v.lectura.toLocaleString("es-CL")},{key:"estado",header:"Estado",render:v=>{let x="bg-gray-100 text-gray-800";return v.estado==="OK"&&(x="bg-green-100 text-green-800"),v.estado==="INCONSISTENTE"&&(x="bg-yellow-100 text-yellow-800"),v.estado==="NO_FUNCIONA"&&(x="bg-red-100 text-red-800"),u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${x}`,children:v.estado})},value:v=>v.estado},{key:"observacion",header:"Observacin",value:v=>v.observacion||""},{key:"updated_at",header:"Actualizado",render:v=>Ft(v.updated_at),value:v=>Ft(v.updated_at)}],y=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{c&&ft({filename:`minicheck_odometro_${new Date().toISOString().split("T")[0]}`,sheetName:"Odometros",rows:c,columns:y})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Odmetro",description:"Lecturas y estado de odmetros",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(Vr,{onExportView:b,onExportAll:b})})}),u.jsx(Ah,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),f&&u.jsx(yr,{label:"Cargando Odmetros..."}),d&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!f&&!d&&u.jsxs(u.Fragment,{children:[u.jsx(Oh,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin Estados"}),u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(V2,{children:[u.jsx($a,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((v,x)=>u.jsx(Xi,{fill:v.color},`cell-${x}`))}),u.jsx(dr,{}),u.jsx(Ti,{})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx(Ia,{columns:m,rows:c}):u.jsx(Da,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},W2e=()=>{const e=Ve(v=>v.context),t=Ve(v=>v.setContext),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(""),l=C.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:c,isLoading:f,isError:d,refetch:h}=L2e(l),p=C.useMemo(()=>{if(!c)return[];const v=c.length,x=c.filter(S=>S.danio).length,_=c.filter(S=>S.residuos).length,w=c.filter(S=>!S.tiene).length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Con Dao",value:x,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Con Residuos",value:_,icon:"trash",colorClass:"bg-orange-50 text-orange-600"},{label:"Sin Publicidad",value:w,icon:"x-circle",colorClass:"bg-gray-50 text-gray-600"}]},[c]),g=C.useMemo(()=>{if(!c)return[];const v=c.filter(w=>w.danio).length,x=c.filter(w=>w.residuos).length,_=c.filter(w=>!w.tiene).length;return[{name:"Con Dao",value:v,color:"#ef4444"},{name:"Con Residuos",value:x,color:"#f97316"},{name:"Sin Pub.",value:_,color:"#64748b"}]},[c]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene",render:v=>v.tiene?u.jsx("span",{className:"text-green-600 font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"danio",header:"Dao",render:v=>v.danio?u.jsx("span",{className:"px-2 py-0.5 rounded bg-red-100 text-red-800 text-xs font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"-"}),value:v=>v.danio?"SI":"NO"},{key:"residuos",header:"Residuos",render:v=>v.residuos?u.jsx("span",{className:"px-2 py-0.5 rounded bg-orange-100 text-orange-800 text-xs font-bold",children:"S"}):u.jsx("span",{className:"text-gray-400",children:"-"}),value:v=>v.residuos?"SI":"NO"},{key:"nombre_publicidad",header:"Nombre",value:v=>v.nombre_publicidad||"-"},{key:"updated_at",header:"Actualizado",render:v=>Ft(v.updated_at),value:v=>Ft(v.updated_at)}],y=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{c&&ft({filename:`minicheck_publicidad_${new Date().toISOString().split("T")[0]}`,sheetName:"Publicidad",rows:c,columns:y})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Pr,{title:"Control Publicidad",description:"Estado de publicidad en buses",actions:u.jsx("div",{className:"flex gap-2",children:u.jsx(Vr,{onExportView:b,onExportAll:b})})}),u.jsx(Ah,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),f&&u.jsx(yr,{label:"Cargando publicidad..."}),d&&u.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!f&&!d&&u.jsxs(u.Fragment,{children:[u.jsx(Oh,{items:p}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Problemas Detectados"}),u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:g,children:[u.jsx(il,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Bi,{dataKey:"name",tick:{fontSize:10}}),u.jsx(Ui,{tick:{fontSize:10}}),u.jsx(dr,{}),u.jsx(mn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((v,x)=>u.jsx(Xi,{fill:v.color},`cell-${x}`))})]})})]}),u.jsx("div",{className:"lg:col-span-2",children:c&&c.length>0?u.jsx(Ia,{columns:m,rows:c}):u.jsx(Da,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},H2e=[{ppu:"ABCD12",modelo:"Camin 3/4",estado:"operativo",odometro:123400,proximaMantencion:"2024-01-15",terminal:"EL_ROBLE"},{ppu:"EFGH34",modelo:"Furgn",estado:"en_taller",odometro:88400,proximaMantencion:"2024-02-01",terminal:"LA_REINA"},{ppu:"IJKL56",modelo:"Tracto",estado:"fuera_servicio",odometro:23e4,proximaMantencion:"2024-01-30",terminal:"EL_SALTO"}],VC=ju(H2e,(e,t)=>t!=null&&t.estado&&t.estado!=="todos"?e.estado===t.estado:!0),V2e=()=>{const e=Ve(g=>g.context),t=Ve(g=>g.setContext),[r,n]=C.useState({estado:"todos"}),[a,i]=C.useState(""),s=At({queryKey:["flota",e,r],queryFn:()=>VC.list({terminalContext:e,filters:r,scope:"view"})}),o=s.data??[],l=C.useMemo(()=>[{key:"ppu",header:"PPU"},{key:"modelo",header:"Modelo"},{key:"estado",header:"Estado",render:g=>u.jsx("span",{className:"badge capitalize",children:g.estado}),value:g=>g.estado},{key:"odometro",header:"Odmetro"},{key:"proximaMantencion",header:"Mantencin",render:g=>Ft(g.proximaMantencion),value:g=>Ft(g.proximaMantencion)},{key:"terminal",header:"Terminal",render:g=>Ge(g.terminal),value:g=>Ge(g.terminal)}],[]),c=l.map(g=>({key:g.key,header:g.header,value:m=>g.value?g.value(m):m[g.key]})),f=()=>{ft({filename:"flota_vista",sheetName:"Flota",rows:o,columns:c})},d=async()=>{const g=await VC.list({terminalContext:e,scope:"all"});ft({filename:"flota_completo",sheetName:"Flota",rows:g,columns:c})},h=C.useMemo(()=>{const g={};return o.forEach(m=>{g[m.estado]=(g[m.estado]??0)+1}),Object.entries(g).map(([m,y])=>({estado:m,count:y}))},[o]),p=o.find(g=>g.ppu===a)??o[0];return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{title:"Estado de Flota",description:"Vista por PPU con ficha y grficas",actions:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn btn-primary",children:"Agregar unidad"}),u.jsx(Vr,{onExportView:f,onExportAll:d})]})}),u.jsx(oa,{terminalContext:e,onTerminalChange:t,children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"label",children:"Estado"}),u.jsxs("select",{className:"input",value:r.estado,onChange:g=>n({estado:g.target.value}),children:[u.jsx("option",{value:"todos",children:"Todos"}),u.jsx("option",{value:"operativo",children:"Operativo"}),u.jsx("option",{value:"en_taller",children:"En taller"}),u.jsx("option",{value:"fuera_servicio",children:"Fuera de servicio"})]})]})}),s.isLoading&&u.jsx(yr,{}),s.isError&&u.jsx(Rr,{onRetry:s.refetch}),!s.isLoading&&!s.isError&&o.length===0&&u.jsx(Da,{description:"Sin unidades"}),!s.isLoading&&!s.isError&&o.length>0&&u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx("div",{className:"md:col-span-2 space-y-3",children:u.jsx(Ia,{columns:l,rows:o})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"card p-4",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Resumen por estado"}),u.jsx("div",{className:"mt-2 h-48",children:u.jsx(Ai,{width:"100%",height:"100%",children:u.jsxs(hu,{data:h,children:[u.jsx(il,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),u.jsx(Bi,{dataKey:"estado",tick:{fontSize:12}}),u.jsx(Ui,{allowDecimals:!1}),u.jsx(dr,{}),u.jsx(mn,{dataKey:"count",fill:"#3c5eff",radius:[6,6,0,0]})]})})})]}),p&&u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ficha rpida"}),u.jsx("select",{className:"input w-32",value:p.ppu,onChange:g=>i(g.target.value),children:o.map(g=>u.jsx("option",{value:g.ppu,children:g.ppu},g.ppu))})]}),u.jsxs("dl",{className:"space-y-2 text-sm text-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Modelo"}),u.jsx("dd",{children:p.modelo})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Estado"}),u.jsx("dd",{className:"badge capitalize",children:p.estado})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Odmetro"}),u.jsx("dd",{children:p.odometro.toLocaleString("es-CL")})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Prxima mantencin"}),u.jsx("dd",{children:Ft(p.proximaMantencion)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"font-semibold",children:"Terminal"}),u.jsx("dd",{children:Ge(p.terminal)})]})]})]})]})]})]})},q2e=()=>{const e=Ra(a=>a.session),t=Ra(a=>a.hydrateSession),[r,n]=C.useState(!0);return C.useEffect(()=>{t().finally(()=>n(!1))},[t]),r?u.jsx(yr,{label:"Validando sesin"}):e?u.jsx(WP,{}):u.jsx(zP,{to:"/",replace:!0})},K2e=()=>u.jsx(WF,{children:u.jsxs(DF,{children:[u.jsx(zt,{path:"/",element:u.jsx(eB,{})}),u.jsx(zt,{element:u.jsx(q2e,{}),children:u.jsxs(zt,{element:u.jsx(sB,{}),children:[u.jsx(zt,{path:"/personal",element:u.jsx(qG,{})}),u.jsx(zt,{path:"/reuniones",element:u.jsx(GG,{})}),u.jsx(zt,{path:"/tareas",element:u.jsx(YG,{})}),u.jsx(zt,{path:"/informativos",element:u.jsx(ZG,{})}),u.jsx(zt,{path:"/asistencia",element:u.jsx(HX,{})}),u.jsx(zt,{path:"/aseo/interior",element:u.jsx(KX,{})}),u.jsx(zt,{path:"/aseo/exterior",element:u.jsx(GX,{})}),u.jsx(zt,{path:"/aseo/rodillo",element:u.jsx(XX,{})}),u.jsx(zt,{path:"/credenciales",element:u.jsx(S2e,{})}),u.jsx(zt,{path:"/solicitudes",element:u.jsx(T2e,{})}),u.jsx(zt,{path:"/minicheck/extintor",element:u.jsx(F2e,{})}),u.jsx(zt,{path:"/minicheck/tag",element:u.jsx(B2e,{})}),u.jsx(zt,{path:"/minicheck/mobileye",element:u.jsx(U2e,{})}),u.jsx(zt,{path:"/minicheck/odometro",element:u.jsx(z2e,{})}),u.jsx(zt,{path:"/minicheck/publicidad",element:u.jsx(W2e,{})}),u.jsx(zt,{path:"/estado-flota",element:u.jsx(V2e,{})})]})}),u.jsx(zt,{path:"*",element:u.jsx(zP,{to:"/",replace:!0})})]})});Qy.createRoot(document.getElementById("root")).render(u.jsx(B.StrictMode,{children:u.jsx(WL,{children:u.jsx(K2e,{})})}));
