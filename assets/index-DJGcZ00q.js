var fS=e=>{throw TypeError(e)};var Lg=(e,t,r)=>t.has(e)||fS("Cannot "+r);var B=(e,t,r)=>(Lg(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?fS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>(Lg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Be=(e,t,r)=>(Lg(e,t,"access private method"),r);var qh=(e,t,r,n)=>({set _(a){Ee(e,t,a,r)},get _(){return B(e,t,n)}});function xC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var yC={exports:{}},av={},bC={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),A8=Symbol.for("react.portal"),N8=Symbol.for("react.fragment"),O8=Symbol.for("react.strict_mode"),C8=Symbol.for("react.profiler"),k8=Symbol.for("react.provider"),P8=Symbol.for("react.context"),R8=Symbol.for("react.forward_ref"),I8=Symbol.for("react.suspense"),D8=Symbol.for("react.memo"),M8=Symbol.for("react.lazy"),hS=Symbol.iterator;function $8(e){return e===null||typeof e!="object"?null:(e=hS&&e[hS]||e["@@iterator"],typeof e=="function"?e:null)}var wC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_C=Object.assign,SC={};function _u(e,t,r){this.props=e,this.context=t,this.refs=SC,this.updater=r||wC}_u.prototype.isReactComponent={};_u.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_u.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EC(){}EC.prototype=_u.prototype;function hw(e,t,r){this.props=e,this.context=t,this.refs=SC,this.updater=r||wC}var pw=hw.prototype=new EC;pw.constructor=hw;_C(pw,_u.prototype);pw.isPureReactComponent=!0;var pS=Array.isArray,jC=Object.prototype.hasOwnProperty,mw={current:null},TC={key:!0,ref:!0,__self:!0,__source:!0};function AC(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)jC.call(t,n)&&!TC.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:fh,type:e,key:i,ref:s,props:a,_owner:mw.current}}function L8(e,t){return{$$typeof:fh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vw(e){return typeof e=="object"&&e!==null&&e.$$typeof===fh}function F8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mS=/\/+/g;function Fg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F8(""+e.key):t.toString(36)}function H0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fh:case A8:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Fg(s,0):n,pS(a)?(r="",e!=null&&(r=e.replace(mS,"$&/")+"/"),H0(a,t,r,"",function(u){return u})):a!=null&&(vw(a)&&(a=L8(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(mS,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",pS(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Fg(i,o);s+=H0(i,t,r,c,a)}else if(c=$8(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Fg(i,o++),s+=H0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Kh(e,t,r){if(e==null)return e;var n=[],a=0;return H0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function B8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},q0={transition:null},U8={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:q0,ReactCurrentOwner:mw};function NC(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Kh,forEach:function(e,t,r){Kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kh(e,function(){t++}),t},toArray:function(e){return Kh(e,function(t){return t})||[]},only:function(e){if(!vw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=_u;qe.Fragment=N8;qe.Profiler=C8;qe.PureComponent=hw;qe.StrictMode=O8;qe.Suspense=I8;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U8;qe.act=NC;qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_C({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=mw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)jC.call(t,c)&&!TC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:fh,type:e.type,key:a,ref:i,props:n,_owner:s}};qe.createContext=function(e){return e={$$typeof:P8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k8,_context:e},e.Consumer=e};qe.createElement=AC;qe.createFactory=function(e){var t=AC.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:R8,render:e}};qe.isValidElement=vw;qe.lazy=function(e){return{$$typeof:M8,_payload:{_status:-1,_result:e},_init:B8}};qe.memo=function(e,t){return{$$typeof:D8,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=q0.transition;q0.transition={};try{e()}finally{q0.transition=t}};qe.unstable_act=NC;qe.useCallback=function(e,t){return ln.current.useCallback(e,t)};qe.useContext=function(e){return ln.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};qe.useEffect=function(e,t){return ln.current.useEffect(e,t)};qe.useId=function(){return ln.current.useId()};qe.useImperativeHandle=function(e,t,r){return ln.current.useImperativeHandle(e,t,r)};qe.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return ln.current.useMemo(e,t)};qe.useReducer=function(e,t,r){return ln.current.useReducer(e,t,r)};qe.useRef=function(e){return ln.current.useRef(e)};qe.useState=function(e){return ln.current.useState(e)};qe.useSyncExternalStore=function(e,t,r){return ln.current.useSyncExternalStore(e,t,r)};qe.useTransition=function(){return ln.current.useTransition()};qe.version="18.3.1";bC.exports=qe;var A=bC.exports;const z=tt(A),z8=xC({__proto__:null,default:z},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8=A,H8=Symbol.for("react.element"),q8=Symbol.for("react.fragment"),V8=Object.prototype.hasOwnProperty,K8=W8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G8={key:!0,ref:!0,__self:!0,__source:!0};function OC(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)V8.call(t,n)&&!G8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:H8,type:e,key:i,ref:s,props:a,_owner:K8.current}}av.Fragment=q8;av.jsx=OC;av.jsxs=OC;yC.exports=av;var l=yC.exports,iy={},CC={exports:{}},Hn={},kC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var pe=ue-1>>>1,P=G[pe];if(0<a(P,te))G[pe]=te,G[ue]=P,ue=pe;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var pe=0,P=G.length,H=P>>>1;pe<H;){var U=2*(pe+1)-1,W=G[U],ae=U+1,Se=G[ae];if(0>a(W,ue))ae<P&&0>a(Se,W)?(G[pe]=Se,G[ae]=ue,pe=ae):(G[pe]=W,G[U]=ue,pe=U);else if(ae<P&&0>a(Se,ue))G[pe]=Se,G[ae]=ue,pe=ae;else break e}}return te}function a(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(G){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=G)n(u),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(u)}}function _(G){if(v=!1,y(G),!g)if(r(c)!==null)g=!0,ne(w);else{var te=r(u);te!==null&&se(_,te.startTime-G)}}function w(G,te){g=!1,v&&(v=!1,b(j),j=-1),p=!0;var ue=h;try{for(y(te),f=r(c);f!==null&&(!(f.expirationTime>te)||G&&!C());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,h=f.priorityLevel;var P=pe(f.expirationTime<=te);te=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),y(te)}else n(c);f=r(c)}if(f!==null)var H=!0;else{var U=r(u);U!==null&&se(_,U.startTime-te),H=!1}return H}finally{f=null,h=ue,p=!1}}var S=!1,E=null,j=-1,T=5,O=-1;function C(){return!(e.unstable_now()-O<T)}function M(){if(E!==null){var G=e.unstable_now();O=G;var te=!0;try{te=E(!0,G)}finally{te?F():(S=!1,E=null)}}else S=!1}var F;if(typeof m=="function")F=function(){m(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=M,F=function(){V.postMessage(null)}}else F=function(){x(M,0)};function ne(G){E=G,S||(S=!0,F())}function se(G,te){j=x(function(){G(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ne(w))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var ue=h;h=te;try{return G()}finally{h=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=h;h=G;try{return te()}finally{h=ue}},e.unstable_scheduleCallback=function(G,te,ue){var pe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?pe+ue:pe):ue=pe,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ue+P,G={id:d++,callback:te,priorityLevel:G,startTime:ue,expirationTime:P,sortIndex:-1},ue>pe?(G.sortIndex=ue,t(u,G),r(c)===null&&G===r(u)&&(v?(b(j),j=-1):v=!0,se(_,ue-pe))):(G.sortIndex=P,t(c,G),g||p||(g=!0,ne(w))),G},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(G){var te=h;return function(){var ue=h;h=te;try{return G.apply(this,arguments)}finally{h=ue}}}})(PC);kC.exports=PC;var X8=kC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y8=A,zn=X8;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RC=new Set,Xd={};function ml(e,t){Mc(e,t),Mc(e+"Capture",t)}function Mc(e,t){for(Xd[e]=t,e=0;e<t.length;e++)RC.add(t[e])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,Q8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vS={},gS={};function J8(e){return sy.call(gS,e)?!0:sy.call(vS,e)?!1:Q8.test(e)?gS[e]=!0:(vS[e]=!0,!1)}function Z8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eM(e,t,r,n){if(t===null||typeof t>"u"||Z8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rr[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rr[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rr[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rr[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rr[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rr[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rr[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rr[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rr[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var gw=/[\-:]([a-z])/g;function xw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gw,xw);Rr[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gw,xw);Rr[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gw,xw);Rr[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rr[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rr[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function yw(e,t,r,n){var a=Rr.hasOwnProperty(t)?Rr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eM(t,r,a,n)&&(r=null),n||a===null?J8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gi=Y8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),MC=Symbol.for("react.offscreen"),xS=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=xS&&e[xS]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Bg;function xd(e){if(Bg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bg=t&&t[1]||""}return`
`+Bg+e}var Ug=!1;function zg(e,t){if(!e||Ug)return"";Ug=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Ug=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xd(e):""}function tM(e){switch(e.tag){case 5:return xd(e.type);case 16:return xd("Lazy");case 13:return xd("Suspense");case 19:return xd("SuspenseList");case 0:case 2:case 15:return e=zg(e.type,!1),e;case 11:return e=zg(e.type.render,!1),e;case 1:return e=zg(e.type,!0),e;default:return""}}function uy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wl:return"Fragment";case zl:return"Portal";case oy:return"Profiler";case bw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DC:return(e.displayName||"Context")+".Consumer";case IC:return(e._context.displayName||"Context")+".Provider";case ww:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _w:return t=e.displayName||null,t!==null?t:uy(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return uy(e(t))}catch{}}return null}function rM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(t);case 8:return t===bw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nM(e){var t=$C(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xh(e){e._valueTracker||(e._valueTracker=nM(e))}function LC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$C(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dy(e,t){var r=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Us(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FC(e,t){t=t.checked,t!=null&&yw(e,"checked",t,!1)}function fy(e,t){FC(e,t);var r=Us(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hy(e,t.type,r):t.hasOwnProperty("defaultValue")&&hy(e,t.type,Us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hy(e,t,r){(t!=="number"||sp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yd=Array.isArray;function sc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Us(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function py(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(yd(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Us(r)}}function BC(e,t){var r=Us(t.value),n=Us(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _S(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yh,zC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yh=Yh||document.createElement("div"),Yh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aM=["Webkit","ms","Moz","O"];Object.keys(Nd).forEach(function(e){aM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nd[t]=Nd[e]})});function WC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nd.hasOwnProperty(e)&&Nd[e]?(""+t).trim():t+"px"}function HC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=WC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iM=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(iM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function gy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xy=null;function Sw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yy=null,oc=null,lc=null;function SS(e){if(e=mh(e)){if(typeof yy!="function")throw Error(he(280));var t=e.stateNode;t&&(t=cv(t),yy(e.stateNode,e.type,t))}}function qC(e){oc?lc?lc.push(e):lc=[e]:oc=e}function VC(){if(oc){var e=oc,t=lc;if(lc=oc=null,SS(e),t)for(e=0;e<t.length;e++)SS(t[e])}}function KC(e,t){return e(t)}function GC(){}var Wg=!1;function XC(e,t,r){if(Wg)return e(t,r);Wg=!0;try{return KC(e,t,r)}finally{Wg=!1,(oc!==null||lc!==null)&&(GC(),VC())}}function Qd(e,t){var r=e.stateNode;if(r===null)return null;var n=cv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var by=!1;if(Di)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){by=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{by=!1}function sM(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Od=!1,op=null,lp=!1,wy=null,oM={onError:function(e){Od=!0,op=e}};function lM(e,t,r,n,a,i,s,o,c){Od=!1,op=null,sM.apply(oM,arguments)}function cM(e,t,r,n,a,i,s,o,c){if(lM.apply(this,arguments),Od){if(Od){var u=op;Od=!1,op=null}else throw Error(he(198));lp||(lp=!0,wy=u)}}function vl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function YC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ES(e){if(vl(e)!==e)throw Error(he(188))}function uM(e){var t=e.alternate;if(!t){if(t=vl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ES(a),e;if(i===n)return ES(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function QC(e){return e=uM(e),e!==null?JC(e):null}function JC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JC(e);if(t!==null)return t;e=e.sibling}return null}var ZC=zn.unstable_scheduleCallback,jS=zn.unstable_cancelCallback,dM=zn.unstable_shouldYield,fM=zn.unstable_requestPaint,Vt=zn.unstable_now,hM=zn.unstable_getCurrentPriorityLevel,Ew=zn.unstable_ImmediatePriority,ek=zn.unstable_UserBlockingPriority,cp=zn.unstable_NormalPriority,pM=zn.unstable_LowPriority,tk=zn.unstable_IdlePriority,iv=null,ei=null;function mM(e){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(iv,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:xM,vM=Math.log,gM=Math.LN2;function xM(e){return e>>>=0,e===0?32:31-(vM(e)/gM|0)|0}var Qh=64,Jh=4194304;function bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function up(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=bd(o):(i&=s,i!==0&&(n=bd(i)))}else s=r&~a,s!==0?n=bd(s):i!==0&&(n=bd(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ra(t),a=1<<r,n|=e[r],t&=~a;return n}function yM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ra(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=yM(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function _y(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rk(){var e=Qh;return Qh<<=1,!(Qh&4194240)&&(Qh=64),e}function Hg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=r}function wM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ra(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function jw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ra(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ot=0;function nk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ak,Tw,ik,sk,ok,Sy=!1,Zh=[],Os=null,Cs=null,ks=null,Jd=new Map,Zd=new Map,cs=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TS(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function Zu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mh(t),t!==null&&Tw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SM(e,t,r,n,a){switch(t){case"focusin":return Os=Zu(Os,e,t,r,n,a),!0;case"dragenter":return Cs=Zu(Cs,e,t,r,n,a),!0;case"mouseover":return ks=Zu(ks,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jd.set(i,Zu(Jd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zd.set(i,Zu(Zd.get(i)||null,e,t,r,n,a)),!0}return!1}function lk(e){var t=jo(e.target);if(t!==null){var r=vl(t);if(r!==null){if(t=r.tag,t===13){if(t=YC(r),t!==null){e.blockedOn=t,ok(e.priority,function(){ik(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function V0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ey(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xy=n,r.target.dispatchEvent(n),xy=null}else return t=mh(r),t!==null&&Tw(t),e.blockedOn=r,!1;t.shift()}return!0}function AS(e,t,r){V0(e)&&r.delete(t)}function EM(){Sy=!1,Os!==null&&V0(Os)&&(Os=null),Cs!==null&&V0(Cs)&&(Cs=null),ks!==null&&V0(ks)&&(ks=null),Jd.forEach(AS),Zd.forEach(AS)}function ed(e,t){e.blockedOn===t&&(e.blockedOn=null,Sy||(Sy=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,EM)))}function ef(e){function t(a){return ed(a,e)}if(0<Zh.length){ed(Zh[0],e);for(var r=1;r<Zh.length;r++){var n=Zh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Os!==null&&ed(Os,e),Cs!==null&&ed(Cs,e),ks!==null&&ed(ks,e),Jd.forEach(t),Zd.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)lk(r),r.blockedOn===null&&cs.shift()}var cc=Gi.ReactCurrentBatchConfig,dp=!0;function jM(e,t,r,n){var a=ot,i=cc.transition;cc.transition=null;try{ot=1,Aw(e,t,r,n)}finally{ot=a,cc.transition=i}}function TM(e,t,r,n){var a=ot,i=cc.transition;cc.transition=null;try{ot=4,Aw(e,t,r,n)}finally{ot=a,cc.transition=i}}function Aw(e,t,r,n){if(dp){var a=Ey(e,t,r,n);if(a===null)ex(e,t,n,fp,r),TS(e,n);else if(SM(a,e,t,r,n))n.stopPropagation();else if(TS(e,n),t&4&&-1<_M.indexOf(e)){for(;a!==null;){var i=mh(a);if(i!==null&&ak(i),i=Ey(e,t,r,n),i===null&&ex(e,t,n,fp,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ex(e,t,n,null,r)}}var fp=null;function Ey(e,t,r,n){if(fp=null,e=Sw(n),e=jo(e),e!==null)if(t=vl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=YC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fp=e,null}function ck(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hM()){case Ew:return 1;case ek:return 4;case cp:case pM:return 16;case tk:return 536870912;default:return 16}default:return 16}}var Ss=null,Nw=null,K0=null;function uk(){if(K0)return K0;var e,t=Nw,r=t.length,n,a="value"in Ss?Ss.value:Ss.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return K0=a.slice(e,1<n?1-n:void 0)}function G0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function e0(){return!0}function NS(){return!1}function qn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?e0:NS,this.isPropagationStopped=NS,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=e0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=e0)},persist:function(){},isPersistent:e0}),t}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ow=qn(Su),ph=Dt({},Su,{view:0,detail:0}),AM=qn(ph),qg,Vg,td,sv=Dt({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==td&&(td&&e.type==="mousemove"?(qg=e.screenX-td.screenX,Vg=e.screenY-td.screenY):Vg=qg=0,td=e),qg)},movementY:function(e){return"movementY"in e?e.movementY:Vg}}),OS=qn(sv),NM=Dt({},sv,{dataTransfer:0}),OM=qn(NM),CM=Dt({},ph,{relatedTarget:0}),Kg=qn(CM),kM=Dt({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),PM=qn(kM),RM=Dt({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IM=qn(RM),DM=Dt({},Su,{data:0}),CS=qn(DM),MM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LM[e])?!!t[e]:!1}function Cw(){return FM}var BM=Dt({},ph,{key:function(e){if(e.key){var t=MM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=G0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$M[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cw,charCode:function(e){return e.type==="keypress"?G0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?G0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UM=qn(BM),zM=Dt({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kS=qn(zM),WM=Dt({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cw}),HM=qn(WM),qM=Dt({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),VM=qn(qM),KM=Dt({},sv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=qn(KM),XM=[9,13,27,32],kw=Di&&"CompositionEvent"in window,Cd=null;Di&&"documentMode"in document&&(Cd=document.documentMode);var YM=Di&&"TextEvent"in window&&!Cd,dk=Di&&(!kw||Cd&&8<Cd&&11>=Cd),PS=" ",RS=!1;function fk(e,t){switch(e){case"keyup":return XM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function QM(e,t){switch(e){case"compositionend":return hk(t);case"keypress":return t.which!==32?null:(RS=!0,PS);case"textInput":return e=t.data,e===PS&&RS?null:e;default:return null}}function JM(e,t){if(Hl)return e==="compositionend"||!kw&&fk(e,t)?(e=uk(),K0=Nw=Ss=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dk&&t.locale!=="ko"?null:t.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZM[e.type]:t==="textarea"}function pk(e,t,r,n){qC(n),t=hp(t,"onChange"),0<t.length&&(r=new Ow("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kd=null,tf=null;function e$(e){jk(e,0)}function ov(e){var t=Kl(e);if(LC(t))return e}function t$(e,t){if(e==="change")return t}var mk=!1;if(Di){var Gg;if(Di){var Xg="oninput"in document;if(!Xg){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),Xg=typeof DS.oninput=="function"}Gg=Xg}else Gg=!1;mk=Gg&&(!document.documentMode||9<document.documentMode)}function MS(){kd&&(kd.detachEvent("onpropertychange",vk),tf=kd=null)}function vk(e){if(e.propertyName==="value"&&ov(tf)){var t=[];pk(t,tf,e,Sw(e)),XC(e$,t)}}function r$(e,t,r){e==="focusin"?(MS(),kd=t,tf=r,kd.attachEvent("onpropertychange",vk)):e==="focusout"&&MS()}function n$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ov(tf)}function a$(e,t){if(e==="click")return ov(t)}function i$(e,t){if(e==="input"||e==="change")return ov(t)}function s$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:s$;function rf(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sy.call(t,a)||!$a(e[a],t[a]))return!1}return!0}function $S(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LS(e,t){var r=$S(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$S(r)}}function gk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xk(){for(var e=window,t=sp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sp(e.document)}return t}function Pw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o$(e){var t=xk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gk(r.ownerDocument.documentElement,r)){if(n!==null&&Pw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=LS(r,i);var s=LS(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l$=Di&&"documentMode"in document&&11>=document.documentMode,ql=null,jy=null,Pd=null,Ty=!1;function FS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ty||ql==null||ql!==sp(n)||(n=ql,"selectionStart"in n&&Pw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pd&&rf(Pd,n)||(Pd=n,n=hp(jy,"onSelect"),0<n.length&&(t=new Ow("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ql)))}function t0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vl={animationend:t0("Animation","AnimationEnd"),animationiteration:t0("Animation","AnimationIteration"),animationstart:t0("Animation","AnimationStart"),transitionend:t0("Transition","TransitionEnd")},Yg={},yk={};Di&&(yk=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function lv(e){if(Yg[e])return Yg[e];if(!Vl[e])return e;var t=Vl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yk)return Yg[e]=t[r];return e}var bk=lv("animationend"),wk=lv("animationiteration"),_k=lv("animationstart"),Sk=lv("transitionend"),Ek=new Map,BS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){Ek.set(e,t),ml(t,[e])}for(var Qg=0;Qg<BS.length;Qg++){var Jg=BS[Qg],c$=Jg.toLowerCase(),u$=Jg[0].toUpperCase()+Jg.slice(1);Ks(c$,"on"+u$)}Ks(bk,"onAnimationEnd");Ks(wk,"onAnimationIteration");Ks(_k,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(Sk,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d$=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function US(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cM(n,t,void 0,e),e.currentTarget=null}function jk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;US(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;US(a,o,u),i=c}}}if(lp)throw e=wy,lp=!1,wy=null,e}function yt(e,t){var r=t[ky];r===void 0&&(r=t[ky]=new Set);var n=e+"__bubble";r.has(n)||(Tk(t,e,2,!1),r.add(n))}function Zg(e,t,r){var n=0;t&&(n|=4),Tk(r,e,n,t)}var r0="_reactListening"+Math.random().toString(36).slice(2);function nf(e){if(!e[r0]){e[r0]=!0,RC.forEach(function(r){r!=="selectionchange"&&(d$.has(r)||Zg(r,!1,e),Zg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[r0]||(t[r0]=!0,Zg("selectionchange",!1,t))}}function Tk(e,t,r,n){switch(ck(t)){case 1:var a=jM;break;case 4:a=TM;break;default:a=Aw}r=a.bind(null,t,r,e),a=void 0,!by||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ex(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=jo(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}XC(function(){var u=i,d=Sw(r),f=[];e:{var h=Ek.get(e);if(h!==void 0){var p=Ow,g=e;switch(e){case"keypress":if(G0(r)===0)break e;case"keydown":case"keyup":p=UM;break;case"focusin":g="focus",p=Kg;break;case"focusout":g="blur",p=Kg;break;case"beforeblur":case"afterblur":p=Kg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HM;break;case bk:case wk:case _k:p=PM;break;case Sk:p=VM;break;case"scroll":p=AM;break;case"wheel":p=GM;break;case"copy":case"cut":case"paste":p=IM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kS}var v=(t&4)!==0,x=!v&&e==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=Qd(m,b),_!=null&&v.push(af(m,_,y)))),x)break;m=m.return}0<v.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==xy&&(g=r.relatedTarget||r.fromElement)&&(jo(g)||g[Mi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?jo(g):null,g!==null&&(x=vl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=OS,_="onMouseLeave",b="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=kS,_="onPointerLeave",b="onPointerEnter",m="pointer"),x=p==null?h:Kl(p),y=g==null?h:Kl(g),h=new v(_,m+"leave",p,r,d),h.target=x,h.relatedTarget=y,_=null,jo(d)===u&&(v=new v(b,m+"enter",g,r,d),v.target=y,v.relatedTarget=x,_=v),x=_,p&&g)t:{for(v=p,b=g,m=0,y=v;y;y=Nl(y))m++;for(y=0,_=b;_;_=Nl(_))y++;for(;0<m-y;)v=Nl(v),m--;for(;0<y-m;)b=Nl(b),y--;for(;m--;){if(v===b||b!==null&&v===b.alternate)break t;v=Nl(v),b=Nl(b)}v=null}else v=null;p!==null&&zS(f,h,p,v,!1),g!==null&&x!==null&&zS(f,x,g,v,!0)}}e:{if(h=u?Kl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=t$;else if(IS(h))if(mk)w=i$;else{w=n$;var S=r$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=a$);if(w&&(w=w(e,u))){pk(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&hy(h,"number",h.value)}switch(S=u?Kl(u):window,e){case"focusin":(IS(S)||S.contentEditable==="true")&&(ql=S,jy=u,Pd=null);break;case"focusout":Pd=jy=ql=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,FS(f,r,d);break;case"selectionchange":if(l$)break;case"keydown":case"keyup":FS(f,r,d)}var E;if(kw)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Hl?fk(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(dk&&r.locale!=="ko"&&(Hl||j!=="onCompositionStart"?j==="onCompositionEnd"&&Hl&&(E=uk()):(Ss=d,Nw="value"in Ss?Ss.value:Ss.textContent,Hl=!0)),S=hp(u,j),0<S.length&&(j=new CS(j,e,null,r,d),f.push({event:j,listeners:S}),E?j.data=E:(E=hk(r),E!==null&&(j.data=E)))),(E=YM?QM(e,r):JM(e,r))&&(u=hp(u,"onBeforeInput"),0<u.length&&(d=new CS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}jk(f,t)})}function af(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Qd(e,r),i!=null&&n.unshift(af(e,i,a)),i=Qd(e,t),i!=null&&n.push(af(e,i,a))),e=e.return}return n}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zS(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Qd(r,i),c!=null&&s.unshift(af(r,c,o))):a||(c=Qd(r,i),c!=null&&s.push(af(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var f$=/\r\n?/g,h$=/\u0000|\uFFFD/g;function WS(e){return(typeof e=="string"?e:""+e).replace(f$,`
`).replace(h$,"")}function n0(e,t,r){if(t=WS(t),WS(e)!==t&&r)throw Error(he(425))}function pp(){}var Ay=null,Ny=null;function Oy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cy=typeof setTimeout=="function"?setTimeout:void 0,p$=typeof clearTimeout=="function"?clearTimeout:void 0,HS=typeof Promise=="function"?Promise:void 0,m$=typeof queueMicrotask=="function"?queueMicrotask:typeof HS<"u"?function(e){return HS.resolve(null).then(e).catch(v$)}:Cy;function v$(e){setTimeout(function(){throw e})}function tx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ef(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ef(t)}function Ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Eu,sf="__reactProps$"+Eu,Mi="__reactContainer$"+Eu,ky="__reactEvents$"+Eu,g$="__reactListeners$"+Eu,x$="__reactHandles$"+Eu;function jo(e){var t=e[Ja];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mi]||r[Ja]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qS(e);e!==null;){if(r=e[Ja])return r;e=qS(e)}return t}e=r,r=e.parentNode}return null}function mh(e){return e=e[Ja]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function cv(e){return e[sf]||null}var Py=[],Gl=-1;function Gs(e){return{current:e}}function _t(e){0>Gl||(e.current=Py[Gl],Py[Gl]=null,Gl--)}function gt(e,t){Gl++,Py[Gl]=e.current,e.current=t}var zs={},Vr=Gs(zs),bn=Gs(!1),Xo=zs;function $c(e,t){var r=e.type.contextTypes;if(!r)return zs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wn(e){return e=e.childContextTypes,e!=null}function mp(){_t(bn),_t(Vr)}function VS(e,t,r){if(Vr.current!==zs)throw Error(he(168));gt(Vr,t),gt(bn,r)}function Ak(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(he(108,rM(e)||"Unknown",a));return Dt({},r,n)}function vp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,Xo=Vr.current,gt(Vr,e),gt(bn,bn.current),!0}function KS(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=Ak(e,t,Xo),n.__reactInternalMemoizedMergedChildContext=e,_t(bn),_t(Vr),gt(Vr,e)):_t(bn),gt(bn,r)}var vi=null,uv=!1,rx=!1;function Nk(e){vi===null?vi=[e]:vi.push(e)}function y$(e){uv=!0,Nk(e)}function Xs(){if(!rx&&vi!==null){rx=!0;var e=0,t=ot;try{var r=vi;for(ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vi=null,uv=!1}catch(a){throw vi!==null&&(vi=vi.slice(e+1)),ZC(Ew,Xs),a}finally{ot=t,rx=!1}}return null}var Xl=[],Yl=0,gp=null,xp=0,ta=[],ra=0,Yo=null,wi=1,_i="";function ho(e,t){Xl[Yl++]=xp,Xl[Yl++]=gp,gp=e,xp=t}function Ok(e,t,r){ta[ra++]=wi,ta[ra++]=_i,ta[ra++]=Yo,Yo=e;var n=wi;e=_i;var a=32-Ra(n)-1;n&=~(1<<a),r+=1;var i=32-Ra(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,wi=1<<32-Ra(t)+a|r<<a|n,_i=i+e}else wi=1<<i|r<<a|n,_i=e}function Rw(e){e.return!==null&&(ho(e,1),Ok(e,1,0))}function Iw(e){for(;e===gp;)gp=Xl[--Yl],Xl[Yl]=null,xp=Xl[--Yl],Xl[Yl]=null;for(;e===Yo;)Yo=ta[--ra],ta[ra]=null,_i=ta[--ra],ta[ra]=null,wi=ta[--ra],ta[ra]=null}var Bn=null,Fn=null,Tt=!1,Aa=null;function Ck(e,t){var r=aa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function GS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=Ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yo!==null?{id:wi,overflow:_i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=aa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bn=e,Fn=null,!0):!1;default:return!1}}function Ry(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iy(e){if(Tt){var t=Fn;if(t){var r=t;if(!GS(e,t)){if(Ry(e))throw Error(he(418));t=Ps(r.nextSibling);var n=Bn;t&&GS(e,t)?Ck(n,r):(e.flags=e.flags&-4097|2,Tt=!1,Bn=e)}}else{if(Ry(e))throw Error(he(418));e.flags=e.flags&-4097|2,Tt=!1,Bn=e}}}function XS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function a0(e){if(e!==Bn)return!1;if(!Tt)return XS(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oy(e.type,e.memoizedProps)),t&&(t=Fn)){if(Ry(e))throw kk(),Error(he(418));for(;t;)Ck(e,t),t=Ps(t.nextSibling)}if(XS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fn=Ps(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=Bn?Ps(e.stateNode.nextSibling):null;return!0}function kk(){for(var e=Fn;e;)e=Ps(e.nextSibling)}function Lc(){Fn=Bn=null,Tt=!1}function Dw(e){Aa===null?Aa=[e]:Aa.push(e)}var b$=Gi.ReactCurrentBatchConfig;function rd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function i0(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function YS(e){var t=e._init;return t(e._payload)}function Pk(e){function t(b,m){if(e){var y=b.deletions;y===null?(b.deletions=[m],b.flags|=16):y.push(m)}}function r(b,m){if(!e)return null;for(;m!==null;)t(b,m),m=m.sibling;return null}function n(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function a(b,m){return b=Ms(b,m),b.index=0,b.sibling=null,b}function i(b,m,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<m?(b.flags|=2,m):y):(b.flags|=2,m)):(b.flags|=1048576,m)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,m,y,_){return m===null||m.tag!==6?(m=cx(y,b.mode,_),m.return=b,m):(m=a(m,y),m.return=b,m)}function c(b,m,y,_){var w=y.type;return w===Wl?d(b,m,y.props.children,_,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===is&&YS(w)===m.type)?(_=a(m,y.props),_.ref=rd(b,m,y),_.return=b,_):(_=tp(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,m,y),_.return=b,_)}function u(b,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ux(y,b.mode,_),m.return=b,m):(m=a(m,y.children||[]),m.return=b,m)}function d(b,m,y,_,w){return m===null||m.tag!==7?(m=qo(y,b.mode,_,w),m.return=b,m):(m=a(m,y),m.return=b,m)}function f(b,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=cx(""+m,b.mode,y),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gh:return y=tp(m.type,m.key,m.props,null,b.mode,y),y.ref=rd(b,null,m),y.return=b,y;case zl:return m=ux(m,b.mode,y),m.return=b,m;case is:var _=m._init;return f(b,_(m._payload),y)}if(yd(m)||Qu(m))return m=qo(m,b.mode,y,null),m.return=b,m;i0(b,m)}return null}function h(b,m,y,_){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(b,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gh:return y.key===w?c(b,m,y,_):null;case zl:return y.key===w?u(b,m,y,_):null;case is:return w=y._init,h(b,m,w(y._payload),_)}if(yd(y)||Qu(y))return w!==null?null:d(b,m,y,_,null);i0(b,y)}return null}function p(b,m,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,o(m,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gh:return b=b.get(_.key===null?y:_.key)||null,c(m,b,_,w);case zl:return b=b.get(_.key===null?y:_.key)||null,u(m,b,_,w);case is:var S=_._init;return p(b,m,y,S(_._payload),w)}if(yd(_)||Qu(_))return b=b.get(y)||null,d(m,b,_,w,null);i0(m,_)}return null}function g(b,m,y,_){for(var w=null,S=null,E=m,j=m=0,T=null;E!==null&&j<y.length;j++){E.index>j?(T=E,E=null):T=E.sibling;var O=h(b,E,y[j],_);if(O===null){E===null&&(E=T);break}e&&E&&O.alternate===null&&t(b,E),m=i(O,m,j),S===null?w=O:S.sibling=O,S=O,E=T}if(j===y.length)return r(b,E),Tt&&ho(b,j),w;if(E===null){for(;j<y.length;j++)E=f(b,y[j],_),E!==null&&(m=i(E,m,j),S===null?w=E:S.sibling=E,S=E);return Tt&&ho(b,j),w}for(E=n(b,E);j<y.length;j++)T=p(E,b,j,y[j],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),m=i(T,m,j),S===null?w=T:S.sibling=T,S=T);return e&&E.forEach(function(C){return t(b,C)}),Tt&&ho(b,j),w}function v(b,m,y,_){var w=Qu(y);if(typeof w!="function")throw Error(he(150));if(y=w.call(y),y==null)throw Error(he(151));for(var S=w=null,E=m,j=m=0,T=null,O=y.next();E!==null&&!O.done;j++,O=y.next()){E.index>j?(T=E,E=null):T=E.sibling;var C=h(b,E,O.value,_);if(C===null){E===null&&(E=T);break}e&&E&&C.alternate===null&&t(b,E),m=i(C,m,j),S===null?w=C:S.sibling=C,S=C,E=T}if(O.done)return r(b,E),Tt&&ho(b,j),w;if(E===null){for(;!O.done;j++,O=y.next())O=f(b,O.value,_),O!==null&&(m=i(O,m,j),S===null?w=O:S.sibling=O,S=O);return Tt&&ho(b,j),w}for(E=n(b,E);!O.done;j++,O=y.next())O=p(E,b,j,O.value,_),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?j:O.key),m=i(O,m,j),S===null?w=O:S.sibling=O,S=O);return e&&E.forEach(function(M){return t(b,M)}),Tt&&ho(b,j),w}function x(b,m,y,_){if(typeof y=="object"&&y!==null&&y.type===Wl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gh:e:{for(var w=y.key,S=m;S!==null;){if(S.key===w){if(w=y.type,w===Wl){if(S.tag===7){r(b,S.sibling),m=a(S,y.props.children),m.return=b,b=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===is&&YS(w)===S.type){r(b,S.sibling),m=a(S,y.props),m.ref=rd(b,S,y),m.return=b,b=m;break e}r(b,S);break}else t(b,S);S=S.sibling}y.type===Wl?(m=qo(y.props.children,b.mode,_,y.key),m.return=b,b=m):(_=tp(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,m,y),_.return=b,b=_)}return s(b);case zl:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(b,m.sibling),m=a(m,y.children||[]),m.return=b,b=m;break e}else{r(b,m);break}else t(b,m);m=m.sibling}m=ux(y,b.mode,_),m.return=b,b=m}return s(b);case is:return S=y._init,x(b,m,S(y._payload),_)}if(yd(y))return g(b,m,y,_);if(Qu(y))return v(b,m,y,_);i0(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(b,m.sibling),m=a(m,y),m.return=b,b=m):(r(b,m),m=cx(y,b.mode,_),m.return=b,b=m),s(b)):r(b,m)}return x}var Fc=Pk(!0),Rk=Pk(!1),yp=Gs(null),bp=null,Ql=null,Mw=null;function $w(){Mw=Ql=bp=null}function Lw(e){var t=yp.current;_t(yp),e._currentValue=t}function Dy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function uc(e,t){bp=e,Mw=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function la(e){var t=e._currentValue;if(Mw!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(bp===null)throw Error(he(308));Ql=e,bp.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var To=null;function Fw(e){To===null?To=[e]:To.push(e)}function Ik(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Fw(t)):(r.next=a.next,a.next=r),t.interleaved=r,$i(e,n)}function $i(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ss=!1;function Bw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,$i(e,r)}return a=n.interleaved,a===null?(t.next=t,Fw(n)):(t.next=a.next,a.next=t),n.interleaved=t,$i(e,r)}function X0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jw(e,r)}}function QS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wp(e,t,r,n){var a=e.updateQueue;ss=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Dt({},f,h);break e;case 2:ss=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Jo|=s,e.lanes=s,e.memoizedState=f}}function JS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(he(191,a));a.call(n)}}}var vh={},ti=Gs(vh),of=Gs(vh),lf=Gs(vh);function Ao(e){if(e===vh)throw Error(he(174));return e}function Uw(e,t){switch(gt(lf,t),gt(of,e),gt(ti,vh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:my(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=my(t,e)}_t(ti),gt(ti,t)}function Bc(){_t(ti),_t(of),_t(lf)}function Mk(e){Ao(lf.current);var t=Ao(ti.current),r=my(t,e.type);t!==r&&(gt(of,e),gt(ti,r))}function zw(e){of.current===e&&(_t(ti),_t(of))}var Pt=Gs(0);function _p(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nx=[];function Ww(){for(var e=0;e<nx.length;e++)nx[e]._workInProgressVersionPrimary=null;nx.length=0}var Y0=Gi.ReactCurrentDispatcher,ax=Gi.ReactCurrentBatchConfig,Qo=0,Rt=null,ir=null,hr=null,Sp=!1,Rd=!1,cf=0,w$=0;function Lr(){throw Error(he(321))}function Hw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$a(e[r],t[r]))return!1;return!0}function qw(e,t,r,n,a,i){if(Qo=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y0.current=e===null||e.memoizedState===null?j$:T$,e=r(n,a),Rd){i=0;do{if(Rd=!1,cf=0,25<=i)throw Error(he(301));i+=1,hr=ir=null,t.updateQueue=null,Y0.current=A$,e=r(n,a)}while(Rd)}if(Y0.current=Ep,t=ir!==null&&ir.next!==null,Qo=0,hr=ir=Rt=null,Sp=!1,t)throw Error(he(300));return e}function Vw(){var e=cf!==0;return cf=0,e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Rt.memoizedState=hr=e:hr=hr.next=e,hr}function ca(){if(ir===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ir.next;var t=hr===null?Rt.memoizedState:hr.next;if(t!==null)hr=t,ir=e;else{if(e===null)throw Error(he(310));ir=e,e={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},hr===null?Rt.memoizedState=hr=e:hr=hr.next=e}return hr}function uf(e,t){return typeof t=="function"?t(e):t}function ix(e){var t=ca(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=ir,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((Qo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Rt.lanes|=d,Jo|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,$a(n,t.memoizedState)||(gn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Rt.lanes|=i,Jo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sx(e){var t=ca(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);$a(i,t.memoizedState)||(gn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $k(){}function Lk(e,t){var r=Rt,n=ca(),a=t(),i=!$a(n.memoizedState,a);if(i&&(n.memoizedState=a,gn=!0),n=n.queue,Kw(Uk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,df(9,Bk.bind(null,r,n,a,t),void 0,null),yr===null)throw Error(he(349));Qo&30||Fk(r,t,a)}return a}function Fk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bk(e,t,r,n){t.value=r,t.getSnapshot=n,zk(t)&&Wk(e)}function Uk(e,t,r){return r(function(){zk(t)&&Wk(e)})}function zk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$a(e,r)}catch{return!0}}function Wk(e){var t=$i(e,1);t!==null&&Ia(t,e,1,-1)}function ZS(e){var t=Ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:e},t.queue=e,e=e.dispatch=E$.bind(null,Rt,e),[t.memoizedState,e]}function df(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hk(){return ca().memoizedState}function Q0(e,t,r,n){var a=Ka();Rt.flags|=e,a.memoizedState=df(1|t,r,void 0,n===void 0?null:n)}function dv(e,t,r,n){var a=ca();n=n===void 0?null:n;var i=void 0;if(ir!==null){var s=ir.memoizedState;if(i=s.destroy,n!==null&&Hw(n,s.deps)){a.memoizedState=df(t,r,i,n);return}}Rt.flags|=e,a.memoizedState=df(1|t,r,i,n)}function eE(e,t){return Q0(8390656,8,e,t)}function Kw(e,t){return dv(2048,8,e,t)}function qk(e,t){return dv(4,2,e,t)}function Vk(e,t){return dv(4,4,e,t)}function Kk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gk(e,t,r){return r=r!=null?r.concat([e]):null,dv(4,4,Kk.bind(null,t,e),r)}function Gw(){}function Xk(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yk(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qk(e,t,r){return Qo&21?($a(r,t)||(r=rk(),Rt.lanes|=r,Jo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=r)}function _$(e,t){var r=ot;ot=r!==0&&4>r?r:4,e(!0);var n=ax.transition;ax.transition={};try{e(!1),t()}finally{ot=r,ax.transition=n}}function Jk(){return ca().memoizedState}function S$(e,t,r){var n=Ds(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zk(e))e4(t,r);else if(r=Ik(e,t,r,n),r!==null){var a=sn();Ia(r,e,n,a),t4(r,t,n)}}function E$(e,t,r){var n=Ds(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zk(e))e4(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,$a(o,s)){var c=t.interleaved;c===null?(a.next=a,Fw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Ik(e,t,a,n),r!==null&&(a=sn(),Ia(r,e,n,a),t4(r,t,n))}}function Zk(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function e4(e,t){Rd=Sp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function t4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jw(e,r)}}var Ep={readContext:la,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},j$={readContext:la,useCallback:function(e,t){return Ka().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:eE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Q0(4194308,4,Kk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Q0(4194308,4,e,t)},useInsertionEffect:function(e,t){return Q0(4,2,e,t)},useMemo:function(e,t){var r=Ka();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ka();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=S$.bind(null,Rt,e),[n.memoizedState,e]},useRef:function(e){var t=Ka();return e={current:e},t.memoizedState=e},useState:ZS,useDebugValue:Gw,useDeferredValue:function(e){return Ka().memoizedState=e},useTransition:function(){var e=ZS(!1),t=e[0];return e=_$.bind(null,e[1]),Ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rt,a=Ka();if(Tt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),yr===null)throw Error(he(349));Qo&30||Fk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,eE(Uk.bind(null,n,i,e),[e]),n.flags|=2048,df(9,Bk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ka(),t=yr.identifierPrefix;if(Tt){var r=_i,n=wi;r=(n&~(1<<32-Ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T$={readContext:la,useCallback:Xk,useContext:la,useEffect:Kw,useImperativeHandle:Gk,useInsertionEffect:qk,useLayoutEffect:Vk,useMemo:Yk,useReducer:ix,useRef:Hk,useState:function(){return ix(uf)},useDebugValue:Gw,useDeferredValue:function(e){var t=ca();return Qk(t,ir.memoizedState,e)},useTransition:function(){var e=ix(uf)[0],t=ca().memoizedState;return[e,t]},useMutableSource:$k,useSyncExternalStore:Lk,useId:Jk,unstable_isNewReconciler:!1},A$={readContext:la,useCallback:Xk,useContext:la,useEffect:Kw,useImperativeHandle:Gk,useInsertionEffect:qk,useLayoutEffect:Vk,useMemo:Yk,useReducer:sx,useRef:Hk,useState:function(){return sx(uf)},useDebugValue:Gw,useDeferredValue:function(e){var t=ca();return ir===null?t.memoizedState=e:Qk(t,ir.memoizedState,e)},useTransition:function(){var e=sx(uf)[0],t=ca().memoizedState;return[e,t]},useMutableSource:$k,useSyncExternalStore:Lk,useId:Jk,unstable_isNewReconciler:!1};function ba(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function My(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fv={isMounted:function(e){return(e=e._reactInternals)?vl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Ds(e),i=Ti(n,a);i.payload=t,r!=null&&(i.callback=r),t=Rs(e,i,a),t!==null&&(Ia(t,e,a,n),X0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Ds(e),i=Ti(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rs(e,i,a),t!==null&&(Ia(t,e,a,n),X0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sn(),n=Ds(e),a=Ti(r,n);a.tag=2,t!=null&&(a.callback=t),t=Rs(e,a,n),t!==null&&(Ia(t,e,n,r),X0(t,e,n))}};function tE(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!rf(r,n)||!rf(a,i):!0}function r4(e,t,r){var n=!1,a=zs,i=t.contextType;return typeof i=="object"&&i!==null?i=la(i):(a=wn(t)?Xo:Vr.current,n=t.contextTypes,i=(n=n!=null)?$c(e,a):zs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fv.enqueueReplaceState(t,t.state,null)}function $y(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Bw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=la(i):(i=wn(t)?Xo:Vr.current,a.context=$c(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(My(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&fv.enqueueReplaceState(a,a.state,null),wp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Uc(e,t){try{var r="",n=t;do r+=tM(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ox(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ly(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var N$=typeof WeakMap=="function"?WeakMap:Map;function n4(e,t,r){r=Ti(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tp||(Tp=!0,Gy=n),Ly(e,t)},r}function a4(e,t,r){r=Ti(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ly(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ly(e,t),typeof n!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function nE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new N$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=z$.bind(null,e,t,r),t.then(e,e))}function aE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ti(-1,1),t.tag=2,Rs(r,t,1))),r.lanes|=1),e)}var O$=Gi.ReactCurrentOwner,gn=!1;function Qr(e,t,r,n){t.child=e===null?Rk(t,null,r,n):Fc(t,e.child,r,n)}function sE(e,t,r,n,a){r=r.render;var i=t.ref;return uc(t,a),n=qw(e,t,r,n,i,a),r=Vw(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Li(e,t,a)):(Tt&&r&&Rw(t),t.flags|=1,Qr(e,t,n,a),t.child)}function oE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!r_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,i4(e,t,i,n,a)):(e=tp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:rf,r(s,n)&&e.ref===t.ref)return Li(e,t,a)}return t.flags|=1,e=Ms(i,n),e.ref=t.ref,e.return=t,t.child=e}function i4(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(rf(i,n)&&e.ref===t.ref)if(gn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Li(e,t,a)}return Fy(e,t,r,n,a)}function s4(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Zl,kn),kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(Zl,kn),kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,gt(Zl,kn),kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,gt(Zl,kn),kn|=n;return Qr(e,t,a,r),t.child}function o4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fy(e,t,r,n,a){var i=wn(r)?Xo:Vr.current;return i=$c(t,i),uc(t,a),r=qw(e,t,r,n,i,a),n=Vw(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Li(e,t,a)):(Tt&&n&&Rw(t),t.flags|=1,Qr(e,t,r,a),t.child)}function lE(e,t,r,n,a){if(wn(r)){var i=!0;vp(t)}else i=!1;if(uc(t,a),t.stateNode===null)J0(e,t),r4(t,r,n),$y(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=la(u):(u=wn(r)?Xo:Vr.current,u=$c(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&rE(t,s,n,u),ss=!1;var h=t.memoizedState;s.state=h,wp(t,n,s,a),c=t.memoizedState,o!==n||h!==c||bn.current||ss?(typeof d=="function"&&(My(t,r,d,n),c=t.memoizedState),(o=ss||tE(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Dk(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ba(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=la(c):(c=wn(r)?Xo:Vr.current,c=$c(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&rE(t,s,n,c),ss=!1,h=t.memoizedState,s.state=h,wp(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||bn.current||ss?(typeof p=="function"&&(My(t,r,p,n),g=t.memoizedState),(u=ss||tE(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return By(e,t,r,n,i,a)}function By(e,t,r,n,a,i){o4(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&KS(t,r,!1),Li(e,t,i);n=t.stateNode,O$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Fc(t,e.child,null,i),t.child=Fc(t,null,o,i)):Qr(e,t,o,i),t.memoizedState=n.state,a&&KS(t,r,!0),t.child}function l4(e){var t=e.stateNode;t.pendingContext?VS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&VS(e,t.context,!1),Uw(e,t.containerInfo)}function cE(e,t,r,n,a){return Lc(),Dw(a),t.flags|=256,Qr(e,t,r,n),t.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function zy(e){return{baseLanes:e,cachePool:null,transitions:null}}function c4(e,t,r){var n=t.pendingProps,a=Pt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),gt(Pt,a&1),e===null)return Iy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=mv(s,n,0,null),e=qo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zy(r),t.memoizedState=Uy,e):Xw(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return C$(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ms(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ms(o,i):(i=qo(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?zy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Uy,n}return i=e.child,e=i.sibling,n=Ms(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xw(e,t){return t=mv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function s0(e,t,r,n){return n!==null&&Dw(n),Fc(t,e.child,null,r),e=Xw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C$(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=ox(Error(he(422))),s0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=mv({mode:"visible",children:n.children},a,0,null),i=qo(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fc(t,e.child,null,s),t.child.memoizedState=zy(s),t.memoizedState=Uy,i);if(!(t.mode&1))return s0(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(he(419)),n=ox(i,n,void 0),s0(e,t,s,n)}if(o=(s&e.childLanes)!==0,gn||o){if(n=yr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$i(e,a),Ia(n,e,a,-1))}return t_(),n=ox(Error(he(421))),s0(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=W$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fn=Ps(a.nextSibling),Bn=t,Tt=!0,Aa=null,e!==null&&(ta[ra++]=wi,ta[ra++]=_i,ta[ra++]=Yo,wi=e.id,_i=e.overflow,Yo=t),t=Xw(t,n.children),t.flags|=4096,t)}function uE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dy(e.return,t,r)}function lx(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function u4(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Qr(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uE(e,r,t);else if(e.tag===19)uE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&_p(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),lx(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_p(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}lx(t,!0,r,null,i);break;case"together":lx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function J0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Li(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=Ms(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ms(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function k$(e,t,r){switch(t.tag){case 3:l4(t),Lc();break;case 5:Mk(t);break;case 1:wn(t.type)&&vp(t);break;case 4:Uw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;gt(yp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?c4(e,t,r):(gt(Pt,Pt.current&1),e=Li(e,t,r),e!==null?e.sibling:null);gt(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return u4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),gt(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,s4(e,t,r)}return Li(e,t,r)}var d4,Wy,f4,h4;d4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wy=function(){};f4=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ao(ti.current);var i=null;switch(r){case"input":a=dy(e,a),n=dy(e,n),i=[];break;case"select":a=Dt({},a,{value:void 0}),n=Dt({},n,{value:void 0}),i=[];break;case"textarea":a=py(e,a),n=py(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pp)}vy(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yt("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};h4=function(e,t,r,n){r!==n&&(t.flags|=4)};function nd(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function P$(e,t,r){var n=t.pendingProps;switch(Iw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(t),null;case 1:return wn(t.type)&&mp(),Fr(t),null;case 3:return n=t.stateNode,Bc(),_t(bn),_t(Vr),Ww(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(a0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(Qy(Aa),Aa=null))),Wy(e,t),Fr(t),null;case 5:zw(t);var a=Ao(lf.current);if(r=t.type,e!==null&&t.stateNode!=null)f4(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return Fr(t),null}if(e=Ao(ti.current),a0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ja]=t,n[sf]=i,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(a=0;a<wd.length;a++)yt(wd[a],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yS(n,i),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yt("invalid",n);break;case"textarea":wS(n,i),yt("invalid",n)}vy(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&n0(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&n0(n.textContent,o,e),a=["children",""+o]):Xd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&yt("scroll",n)}switch(r){case"input":Xh(n),bS(n,i,!0);break;case"textarea":Xh(n),_S(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ja]=t,e[sf]=n,d4(e,t,!1,!1),t.stateNode=e;e:{switch(s=gy(r,n),r){case"dialog":yt("cancel",e),yt("close",e),a=n;break;case"iframe":case"object":case"embed":yt("load",e),a=n;break;case"video":case"audio":for(a=0;a<wd.length;a++)yt(wd[a],e);a=n;break;case"source":yt("error",e),a=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),a=n;break;case"details":yt("toggle",e),a=n;break;case"input":yS(e,n),a=dy(e,n),yt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Dt({},n,{value:void 0}),yt("invalid",e);break;case"textarea":wS(e,n),a=py(e,n),yt("invalid",e);break;default:a=n}vy(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?HC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yd(e,c):typeof c=="number"&&Yd(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yt("scroll",e):c!=null&&yw(e,i,c,s))}switch(r){case"input":Xh(e),bS(e,n,!1);break;case"textarea":Xh(e),_S(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Us(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?sc(e,!!n.multiple,i,!1):n.defaultValue!=null&&sc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fr(t),null;case 6:if(e&&t.stateNode!=null)h4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=Ao(lf.current),Ao(ti.current),a0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ja]=t,(i=n.nodeValue!==r)&&(e=Bn,e!==null))switch(e.tag){case 3:n0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&n0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ja]=t,t.stateNode=n}return Fr(t),null;case 13:if(_t(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Fn!==null&&t.mode&1&&!(t.flags&128))kk(),Lc(),t.flags|=98560,i=!1;else if(i=a0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Ja]=t}else Lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fr(t),i=!1}else Aa!==null&&(Qy(Aa),Aa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?or===0&&(or=3):t_())),t.updateQueue!==null&&(t.flags|=4),Fr(t),null);case 4:return Bc(),Wy(e,t),e===null&&nf(t.stateNode.containerInfo),Fr(t),null;case 10:return Lw(t.type._context),Fr(t),null;case 17:return wn(t.type)&&mp(),Fr(t),null;case 19:if(_t(Pt),i=t.memoizedState,i===null)return Fr(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)nd(i,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=_p(e),s!==null){for(t.flags|=128,nd(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt(Pt,Pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vt()>zc&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304)}else{if(!n)if(e=_p(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Tt)return Fr(t),null}else 2*Vt()-i.renderingStartTime>zc&&r!==1073741824&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vt(),t.sibling=null,r=Pt.current,gt(Pt,n?r&1|2:r&1),t):(Fr(t),null);case 22:case 23:return e_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kn&1073741824&&(Fr(t),t.subtreeFlags&6&&(t.flags|=8192)):Fr(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function R$(e,t){switch(Iw(t),t.tag){case 1:return wn(t.type)&&mp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bc(),_t(bn),_t(Vr),Ww(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zw(t),null;case 13:if(_t(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Pt),null;case 4:return Bc(),null;case 10:return Lw(t.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var o0=!1,Ur=!1,I$=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Jl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ft(e,t,n)}else r.current=null}function Hy(e,t,r){try{r()}catch(n){Ft(e,t,n)}}var dE=!1;function D$(e,t){if(Ay=dp,e=xk(),Pw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ny={focusedElem:e,selectionRange:r},dp=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,b=t.stateNode,m=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:ba(t.type,v),x);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){Ft(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=dE,dE=!1,g}function Id(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Hy(t,r,i)}a=a.next}while(a!==n)}}function hv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p4(e){var t=e.alternate;t!==null&&(e.alternate=null,p4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ja],delete t[sf],delete t[ky],delete t[g$],delete t[x$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m4(e){return e.tag===5||e.tag===3||e.tag===4}function fE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pp));else if(n!==4&&(e=e.child,e!==null))for(Vy(e,t,r),e=e.sibling;e!==null;)Vy(e,t,r),e=e.sibling}function Ky(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ky(e,t,r),e=e.sibling;e!==null;)Ky(e,t,r),e=e.sibling}var Ar=null,Ea=!1;function rs(e,t,r){for(r=r.child;r!==null;)v4(e,t,r),r=r.sibling}function v4(e,t,r){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(iv,r)}catch{}switch(r.tag){case 5:Ur||Jl(r,t);case 6:var n=Ar,a=Ea;Ar=null,rs(e,t,r),Ar=n,Ea=a,Ar!==null&&(Ea?(e=Ar,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(Ea?(e=Ar,r=r.stateNode,e.nodeType===8?tx(e.parentNode,r):e.nodeType===1&&tx(e,r),ef(e)):tx(Ar,r.stateNode));break;case 4:n=Ar,a=Ea,Ar=r.stateNode.containerInfo,Ea=!0,rs(e,t,r),Ar=n,Ea=a;break;case 0:case 11:case 14:case 15:if(!Ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Hy(r,t,s),a=a.next}while(a!==n)}rs(e,t,r);break;case 1:if(!Ur&&(Jl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ft(r,t,o)}rs(e,t,r);break;case 21:rs(e,t,r);break;case 22:r.mode&1?(Ur=(n=Ur)||r.memoizedState!==null,rs(e,t,r),Ur=n):rs(e,t,r);break;default:rs(e,t,r)}}function hE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new I$),t.forEach(function(n){var a=H$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ma(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ar=o.stateNode,Ea=!1;break e;case 3:Ar=o.stateNode.containerInfo,Ea=!0;break e;case 4:Ar=o.stateNode.containerInfo,Ea=!0;break e}o=o.return}if(Ar===null)throw Error(he(160));v4(i,s,a),Ar=null,Ea=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ft(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g4(t,e),t=t.sibling}function g4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),Ha(e),n&4){try{Id(3,e,e.return),hv(3,e)}catch(v){Ft(e,e.return,v)}try{Id(5,e,e.return)}catch(v){Ft(e,e.return,v)}}break;case 1:ma(t,e),Ha(e),n&512&&r!==null&&Jl(r,r.return);break;case 5:if(ma(t,e),Ha(e),n&512&&r!==null&&Jl(r,r.return),e.flags&32){var a=e.stateNode;try{Yd(a,"")}catch(v){Ft(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&FC(a,i),gy(o,s);var u=gy(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?HC(a,f):d==="dangerouslySetInnerHTML"?zC(a,f):d==="children"?Yd(a,f):yw(a,d,f,u)}switch(o){case"input":fy(a,i);break;case"textarea":BC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?sc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?sc(a,!!i.multiple,i.defaultValue,!0):sc(a,!!i.multiple,i.multiple?[]:"",!1))}a[sf]=i}catch(v){Ft(e,e.return,v)}}break;case 6:if(ma(t,e),Ha(e),n&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Ft(e,e.return,v)}}break;case 3:if(ma(t,e),Ha(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(v){Ft(e,e.return,v)}break;case 4:ma(t,e),Ha(e);break;case 13:ma(t,e),Ha(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Jw=Vt())),n&4&&hE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ur=(u=Ur)||d,ma(t,e),Ur=u):ma(t,e),Ha(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Id(4,h,h.return);break;case 1:Jl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ft(n,r,v)}}break;case 5:Jl(h,h.return);break;case 22:if(h.memoizedState!==null){mE(f);continue}}p!==null?(p.return=h,Ae=p):mE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=WC("display",s))}catch(v){Ft(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ft(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ma(t,e),Ha(e),n&4&&hE(e);break;case 21:break;default:ma(t,e),Ha(e)}}function Ha(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(m4(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yd(a,""),n.flags&=-33);var i=fE(e);Ky(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=fE(e);Vy(e,o,s);break;default:throw Error(he(161))}}catch(c){Ft(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M$(e,t,r){Ae=e,x4(e)}function x4(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||o0;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ur;o=o0;var u=Ur;if(o0=s,(Ur=c)&&!u)for(Ae=a;Ae!==null;)s=Ae,c=s.child,s.tag===22&&s.memoizedState!==null?vE(a):c!==null?(c.return=s,Ae=c):vE(a);for(;i!==null;)Ae=i,x4(i),i=i.sibling;Ae=a,o0=o,Ur=u}pE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):pE(e)}}function pE(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||hv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ur)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ba(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&JS(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}JS(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ef(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Ur||t.flags&512&&qy(t)}catch(h){Ft(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function mE(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function vE(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hv(4,t)}catch(c){Ft(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ft(t,a,c)}}var i=t.return;try{qy(t)}catch(c){Ft(t,i,c)}break;case 5:var s=t.return;try{qy(t)}catch(c){Ft(t,s,c)}}}catch(c){Ft(t,t.return,c)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var $$=Math.ceil,jp=Gi.ReactCurrentDispatcher,Yw=Gi.ReactCurrentOwner,sa=Gi.ReactCurrentBatchConfig,Ge=0,yr=null,Jt=null,kr=0,kn=0,Zl=Gs(0),or=0,ff=null,Jo=0,pv=0,Qw=0,Dd=null,vn=null,Jw=0,zc=1/0,pi=null,Tp=!1,Gy=null,Is=null,l0=!1,Es=null,Ap=0,Md=0,Xy=null,Z0=-1,ep=0;function sn(){return Ge&6?Vt():Z0!==-1?Z0:Z0=Vt()}function Ds(e){return e.mode&1?Ge&2&&kr!==0?kr&-kr:b$.transition!==null?(ep===0&&(ep=rk()),ep):(e=ot,e!==0||(e=window.event,e=e===void 0?16:ck(e.type)),e):1}function Ia(e,t,r,n){if(50<Md)throw Md=0,Xy=null,Error(he(185));hh(e,r,n),(!(Ge&2)||e!==yr)&&(e===yr&&(!(Ge&2)&&(pv|=r),or===4&&us(e,kr)),_n(e,n),r===1&&Ge===0&&!(t.mode&1)&&(zc=Vt()+500,uv&&Xs()))}function _n(e,t){var r=e.callbackNode;bM(e,t);var n=up(e,e===yr?kr:0);if(n===0)r!==null&&jS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jS(r),t===1)e.tag===0?y$(gE.bind(null,e)):Nk(gE.bind(null,e)),m$(function(){!(Ge&6)&&Xs()}),r=null;else{switch(nk(n)){case 1:r=Ew;break;case 4:r=ek;break;case 16:r=cp;break;case 536870912:r=tk;break;default:r=cp}r=T4(r,y4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function y4(e,t){if(Z0=-1,ep=0,Ge&6)throw Error(he(327));var r=e.callbackNode;if(dc()&&e.callbackNode!==r)return null;var n=up(e,e===yr?kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Np(e,n);else{t=n;var a=Ge;Ge|=2;var i=w4();(yr!==e||kr!==t)&&(pi=null,zc=Vt()+500,Ho(e,t));do try{B$();break}catch(o){b4(e,o)}while(!0);$w(),jp.current=i,Ge=a,Jt!==null?t=0:(yr=null,kr=0,t=or)}if(t!==0){if(t===2&&(a=_y(e),a!==0&&(n=a,t=Yy(e,a))),t===1)throw r=ff,Ho(e,0),us(e,n),_n(e,Vt()),r;if(t===6)us(e,n);else{if(a=e.current.alternate,!(n&30)&&!L$(a)&&(t=Np(e,n),t===2&&(i=_y(e),i!==0&&(n=i,t=Yy(e,i))),t===1))throw r=ff,Ho(e,0),us(e,n),_n(e,Vt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:po(e,vn,pi);break;case 3:if(us(e,n),(n&130023424)===n&&(t=Jw+500-Vt(),10<t)){if(up(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cy(po.bind(null,e,vn,pi),t);break}po(e,vn,pi);break;case 4:if(us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Ra(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$$(n/1960))-n,10<n){e.timeoutHandle=Cy(po.bind(null,e,vn,pi),n);break}po(e,vn,pi);break;case 5:po(e,vn,pi);break;default:throw Error(he(329))}}}return _n(e,Vt()),e.callbackNode===r?y4.bind(null,e):null}function Yy(e,t){var r=Dd;return e.current.memoizedState.isDehydrated&&(Ho(e,t).flags|=256),e=Np(e,t),e!==2&&(t=vn,vn=r,t!==null&&Qy(t)),e}function Qy(e){vn===null?vn=e:vn.push.apply(vn,e)}function L$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!$a(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~Qw,t&=~pv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ra(t),n=1<<r;e[r]=-1,t&=~n}}function gE(e){if(Ge&6)throw Error(he(327));dc();var t=up(e,0);if(!(t&1))return _n(e,Vt()),null;var r=Np(e,t);if(e.tag!==0&&r===2){var n=_y(e);n!==0&&(t=n,r=Yy(e,n))}if(r===1)throw r=ff,Ho(e,0),us(e,t),_n(e,Vt()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,po(e,vn,pi),_n(e,Vt()),null}function Zw(e,t){var r=Ge;Ge|=1;try{return e(t)}finally{Ge=r,Ge===0&&(zc=Vt()+500,uv&&Xs())}}function Zo(e){Es!==null&&Es.tag===0&&!(Ge&6)&&dc();var t=Ge;Ge|=1;var r=sa.transition,n=ot;try{if(sa.transition=null,ot=1,e)return e()}finally{ot=n,sa.transition=r,Ge=t,!(Ge&6)&&Xs()}}function e_(){kn=Zl.current,_t(Zl)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p$(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(Iw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mp();break;case 3:Bc(),_t(bn),_t(Vr),Ww();break;case 5:zw(n);break;case 4:Bc();break;case 13:_t(Pt);break;case 19:_t(Pt);break;case 10:Lw(n.type._context);break;case 22:case 23:e_()}r=r.return}if(yr=e,Jt=e=Ms(e.current,null),kr=kn=t,or=0,ff=null,Qw=pv=Jo=0,vn=Dd=null,To!==null){for(t=0;t<To.length;t++)if(r=To[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}To=null}return e}function b4(e,t){do{var r=Jt;try{if($w(),Y0.current=Ep,Sp){for(var n=Rt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Sp=!1}if(Qo=0,hr=ir=Rt=null,Rd=!1,cf=0,Yw.current=null,r===null||r.return===null){or=1,ff=t,Jt=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=kr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=aE(s);if(p!==null){p.flags&=-257,iE(p,s,o,i,t),p.mode&1&&nE(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){nE(i,u,t),t_();break e}c=Error(he(426))}}else if(Tt&&o.mode&1){var x=aE(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),iE(x,s,o,i,t),Dw(Uc(c,o));break e}}i=c=Uc(c,o),or!==4&&(or=2),Dd===null?Dd=[i]:Dd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=n4(i,c,t);QS(i,b);break e;case 1:o=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Is===null||!Is.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=a4(i,o,t);QS(i,_);break e}}i=i.return}while(i!==null)}S4(r)}catch(w){t=w,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function w4(){var e=jp.current;return jp.current=Ep,e===null?Ep:e}function t_(){(or===0||or===3||or===2)&&(or=4),yr===null||!(Jo&268435455)&&!(pv&268435455)||us(yr,kr)}function Np(e,t){var r=Ge;Ge|=2;var n=w4();(yr!==e||kr!==t)&&(pi=null,Ho(e,t));do try{F$();break}catch(a){b4(e,a)}while(!0);if($w(),Ge=r,jp.current=n,Jt!==null)throw Error(he(261));return yr=null,kr=0,or}function F$(){for(;Jt!==null;)_4(Jt)}function B$(){for(;Jt!==null&&!dM();)_4(Jt)}function _4(e){var t=j4(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?S4(e):Jt=t,Yw.current=null}function S4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=R$(r,t),r!==null){r.flags&=32767,Jt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Jt=null;return}}else if(r=P$(r,t,kn),r!==null){Jt=r;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);or===0&&(or=5)}function po(e,t,r){var n=ot,a=sa.transition;try{sa.transition=null,ot=1,U$(e,t,r,n)}finally{sa.transition=a,ot=n}return null}function U$(e,t,r,n){do dc();while(Es!==null);if(Ge&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wM(e,i),e===yr&&(Jt=yr=null,kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||l0||(l0=!0,T4(cp,function(){return dc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=sa.transition,sa.transition=null;var s=ot;ot=1;var o=Ge;Ge|=4,Yw.current=null,D$(e,r),g4(r,e),o$(Ny),dp=!!Ay,Ny=Ay=null,e.current=r,M$(r),fM(),Ge=o,ot=s,sa.transition=i}else e.current=r;if(l0&&(l0=!1,Es=e,Ap=a),i=e.pendingLanes,i===0&&(Is=null),mM(r.stateNode),_n(e,Vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Tp)throw Tp=!1,e=Gy,Gy=null,e;return Ap&1&&e.tag!==0&&dc(),i=e.pendingLanes,i&1?e===Xy?Md++:(Md=0,Xy=e):Md=0,Xs(),null}function dc(){if(Es!==null){var e=nk(Ap),t=sa.transition,r=ot;try{if(sa.transition=null,ot=16>e?16:e,Es===null)var n=!1;else{if(e=Es,Es=null,Ap=0,Ge&6)throw Error(he(331));var a=Ge;for(Ge|=4,Ae=e.current;Ae!==null;){var i=Ae,s=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:Id(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,p=d.return;if(p4(d),d===u){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ae=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ae=s;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Id(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ae=b;break e}Ae=i.return}}var m=e.current;for(Ae=m;Ae!==null;){s=Ae;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Ae=y;else e:for(s=m;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hv(9,o)}}catch(w){Ft(o,o.return,w)}if(o===s){Ae=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ae=_;break e}Ae=o.return}}if(Ge=a,Xs(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(iv,e)}catch{}n=!0}return n}finally{ot=r,sa.transition=t}}return!1}function xE(e,t,r){t=Uc(r,t),t=n4(e,t,1),e=Rs(e,t,1),t=sn(),e!==null&&(hh(e,1,t),_n(e,t))}function Ft(e,t,r){if(e.tag===3)xE(e,e,r);else for(;t!==null;){if(t.tag===3){xE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Is===null||!Is.has(n))){e=Uc(r,e),e=a4(t,e,1),t=Rs(t,e,1),e=sn(),t!==null&&(hh(t,1,e),_n(t,e));break}}t=t.return}}function z$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&r,yr===e&&(kr&r)===r&&(or===4||or===3&&(kr&130023424)===kr&&500>Vt()-Jw?Ho(e,0):Qw|=r),_n(e,t)}function E4(e,t){t===0&&(e.mode&1?(t=Jh,Jh<<=1,!(Jh&130023424)&&(Jh=4194304)):t=1);var r=sn();e=$i(e,t),e!==null&&(hh(e,t,r),_n(e,r))}function W$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),E4(e,r)}function H$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),E4(e,r)}var j4;j4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bn.current)gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gn=!1,k$(e,t,r);gn=!!(e.flags&131072)}else gn=!1,Tt&&t.flags&1048576&&Ok(t,xp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;J0(e,t),e=t.pendingProps;var a=$c(t,Vr.current);uc(t,r),a=qw(null,t,n,e,a,r);var i=Vw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(n)?(i=!0,vp(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Bw(t),a.updater=fv,t.stateNode=a,a._reactInternals=t,$y(t,n,e,r),t=By(null,t,n,!0,i,r)):(t.tag=0,Tt&&i&&Rw(t),Qr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(J0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=V$(n),e=ba(n,e),a){case 0:t=Fy(null,t,n,e,r);break e;case 1:t=lE(null,t,n,e,r);break e;case 11:t=sE(null,t,n,e,r);break e;case 14:t=oE(null,t,n,ba(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ba(n,a),Fy(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ba(n,a),lE(e,t,n,a,r);case 3:e:{if(l4(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Dk(e,t),wp(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Uc(Error(he(423)),t),t=cE(e,t,n,r,a);break e}else if(n!==a){a=Uc(Error(he(424)),t),t=cE(e,t,n,r,a);break e}else for(Fn=Ps(t.stateNode.containerInfo.firstChild),Bn=t,Tt=!0,Aa=null,r=Rk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lc(),n===a){t=Li(e,t,r);break e}Qr(e,t,n,r)}t=t.child}return t;case 5:return Mk(t),e===null&&Iy(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Oy(n,a)?s=null:i!==null&&Oy(n,i)&&(t.flags|=32),o4(e,t),Qr(e,t,s,r),t.child;case 6:return e===null&&Iy(t),null;case 13:return c4(e,t,r);case 4:return Uw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fc(t,null,n,r):Qr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ba(n,a),sE(e,t,n,a,r);case 7:return Qr(e,t,t.pendingProps,r),t.child;case 8:return Qr(e,t,t.pendingProps.children,r),t.child;case 12:return Qr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,gt(yp,n._currentValue),n._currentValue=s,i!==null)if($a(i.value,s)){if(i.children===a.children&&!bn.current){t=Li(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ti(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Dy(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(he(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Dy(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Qr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,uc(t,r),a=la(a),n=n(a),t.flags|=1,Qr(e,t,n,r),t.child;case 14:return n=t.type,a=ba(n,t.pendingProps),a=ba(n.type,a),oE(e,t,n,a,r);case 15:return i4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ba(n,a),J0(e,t),t.tag=1,wn(n)?(e=!0,vp(t)):e=!1,uc(t,r),r4(t,n,a),$y(t,n,a,r),By(null,t,n,!0,e,r);case 19:return u4(e,t,r);case 22:return s4(e,t,r)}throw Error(he(156,t.tag))};function T4(e,t){return ZC(e,t)}function q$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,r,n){return new q$(e,t,r,n)}function r_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V$(e){if(typeof e=="function")return r_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ww)return 11;if(e===_w)return 14}return 2}function Ms(e,t){var r=e.alternate;return r===null?(r=aa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tp(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")r_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Wl:return qo(r.children,a,i,t);case bw:s=8,a|=8;break;case oy:return e=aa(12,r,t,a|2),e.elementType=oy,e.lanes=i,e;case ly:return e=aa(13,r,t,a),e.elementType=ly,e.lanes=i,e;case cy:return e=aa(19,r,t,a),e.elementType=cy,e.lanes=i,e;case MC:return mv(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IC:s=10;break e;case DC:s=9;break e;case ww:s=11;break e;case _w:s=14;break e;case is:s=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=aa(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function qo(e,t,r,n){return e=aa(7,e,n,t),e.lanes=r,e}function mv(e,t,r,n){return e=aa(22,e,n,t),e.elementType=MC,e.lanes=r,e.stateNode={isHidden:!1},e}function cx(e,t,r){return e=aa(6,e,null,t),e.lanes=r,e}function ux(e,t,r){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hg(0),this.expirationTimes=Hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function n_(e,t,r,n,a,i,s,o,c){return e=new K$(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bw(i),e}function G$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function A4(e){if(!e)return zs;e=e._reactInternals;e:{if(vl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(wn(r))return Ak(e,r,t)}return t}function N4(e,t,r,n,a,i,s,o,c){return e=n_(r,n,!0,e,a,i,s,o,c),e.context=A4(null),r=e.current,n=sn(),a=Ds(r),i=Ti(n,a),i.callback=t??null,Rs(r,i,a),e.current.lanes=a,hh(e,a,n),_n(e,n),e}function vv(e,t,r,n){var a=t.current,i=sn(),s=Ds(a);return r=A4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ti(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rs(a,t,s),e!==null&&(Ia(e,a,s,i),X0(e,a,s)),s}function Op(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function a_(e,t){yE(e,t),(e=e.alternate)&&yE(e,t)}function X$(){return null}var O4=typeof reportError=="function"?reportError:function(e){console.error(e)};function i_(e){this._internalRoot=e}gv.prototype.render=i_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));vv(e,t,null,null)};gv.prototype.unmount=i_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zo(function(){vv(null,e,null,null)}),t[Mi]=null}};function gv(e){this._internalRoot=e}gv.prototype.unstable_scheduleHydration=function(e){if(e){var t=sk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&lk(e)}};function s_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bE(){}function Y$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Op(s);i.call(u)}}var s=N4(t,n,e,0,null,!1,!1,"",bE);return e._reactRootContainer=s,e[Mi]=s.current,nf(e.nodeType===8?e.parentNode:e),Zo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Op(c);o.call(u)}}var c=n_(e,0,!1,null,null,!1,!1,"",bE);return e._reactRootContainer=c,e[Mi]=c.current,nf(e.nodeType===8?e.parentNode:e),Zo(function(){vv(t,c,r,n)}),c}function yv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=Op(s);o.call(c)}}vv(t,s,e,a)}else s=Y$(r,t,e,a,n);return Op(s)}ak=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bd(t.pendingLanes);r!==0&&(jw(t,r|1),_n(t,Vt()),!(Ge&6)&&(zc=Vt()+500,Xs()))}break;case 13:Zo(function(){var n=$i(e,1);if(n!==null){var a=sn();Ia(n,e,1,a)}}),a_(e,1)}};Tw=function(e){if(e.tag===13){var t=$i(e,134217728);if(t!==null){var r=sn();Ia(t,e,134217728,r)}a_(e,134217728)}};ik=function(e){if(e.tag===13){var t=Ds(e),r=$i(e,t);if(r!==null){var n=sn();Ia(r,e,t,n)}a_(e,t)}};sk=function(){return ot};ok=function(e,t){var r=ot;try{return ot=e,t()}finally{ot=r}};yy=function(e,t,r){switch(t){case"input":if(fy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=cv(n);if(!a)throw Error(he(90));LC(n),fy(n,a)}}}break;case"textarea":BC(e,r);break;case"select":t=r.value,t!=null&&sc(e,!!r.multiple,t,!1)}};KC=Zw;GC=Zo;var Q$={usingClientEntryPoint:!1,Events:[mh,Kl,cv,qC,VC,Zw]},ad={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J$={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QC(e),e===null?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||X$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{iv=c0.inject(J$),ei=c0}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q$;Hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s_(t))throw Error(he(200));return G$(e,t,null,r)};Hn.createRoot=function(e,t){if(!s_(e))throw Error(he(299));var r=!1,n="",a=O4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=n_(e,1,!1,null,null,r,!1,n,a),e[Mi]=t.current,nf(e.nodeType===8?e.parentNode:e),new i_(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=QC(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return Zo(e)};Hn.hydrate=function(e,t,r){if(!xv(t))throw Error(he(200));return yv(null,e,t,!0,r)};Hn.hydrateRoot=function(e,t,r){if(!s_(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=O4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=N4(t,null,e,1,r??null,a,!1,i,s),e[Mi]=t.current,nf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new gv(t)};Hn.render=function(e,t,r){if(!xv(t))throw Error(he(200));return yv(null,e,t,!1,r)};Hn.unmountComponentAtNode=function(e){if(!xv(e))throw Error(he(40));return e._reactRootContainer?(Zo(function(){yv(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};Hn.unstable_batchedUpdates=Zw;Hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xv(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return yv(e,t,r,!1,n)};Hn.version="18.3.1-next-f1338f8080-20240426";function C4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C4)}catch(e){console.error(e)}}C4(),CC.exports=Hn;var Z$=CC.exports,wE=Z$;iy.createRoot=wE.createRoot,iy.hydrateRoot=wE.hydrateRoot;var ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eL={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ps,fw,oC,tL=(oC=class{constructor(){Pe(this,ps,eL);Pe(this,fw,!1)}setTimeoutProvider(e){Ee(this,ps,e)}setTimeout(e,t){return B(this,ps).setTimeout(e,t)}clearTimeout(e){B(this,ps).clearTimeout(e)}setInterval(e,t){return B(this,ps).setInterval(e,t)}clearInterval(e){B(this,ps).clearInterval(e)}},ps=new WeakMap,fw=new WeakMap,oC),No=new tL;function rL(e){setTimeout(e,0)}var el=typeof window>"u"||"Deno"in globalThis;function Jr(){}function nL(e,t){return typeof e=="function"?e(t):e}function Jy(e){return typeof e=="number"&&e>=0&&e!==1/0}function k4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $s(e,t){return typeof e=="function"?e(t):e}function ea(e,t){return typeof e=="function"?e(t):e}function _E(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==o_(s,t.options))return!1}else if(!hf(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function SE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(tl(t.options.mutationKey)!==tl(i))return!1}else if(!hf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function o_(e,t){return((t==null?void 0:t.queryKeyHashFn)||tl)(e)}function tl(e){return JSON.stringify(e,(t,r)=>Zy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hf(e[r],t[r])):!1}var aL=Object.prototype.hasOwnProperty;function P4(e,t){if(e===t)return e;const r=EE(e)&&EE(t);if(!r&&!(Zy(e)&&Zy(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<a:aL.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=P4(f,h);o[d]=p,p===f&&c++}return a===s&&c===a?e:o}function Cp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function EE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zy(e){if(!jE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jE(e){return Object.prototype.toString.call(e)==="[object Object]"}function iL(e){return new Promise(t=>{No.setTimeout(t,e)})}function e1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?P4(e,t):t}function sL(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oL(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var l_=Symbol();function R4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function I4(e,t){return typeof e=="function"?e(...t):!!e}var Do,ms,Ec,lC,lL=(lC=class extends ju{constructor(){super();Pe(this,Do);Pe(this,ms);Pe(this,Ec);Ee(this,Ec,t=>{if(!el&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,ms)||this.setEventListener(B(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ms))==null||t.call(this),Ee(this,ms,void 0))}setEventListener(t){var r;Ee(this,Ec,t),(r=B(this,ms))==null||r.call(this),Ee(this,ms,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Do)!==t&&(Ee(this,Do,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Do)=="boolean"?B(this,Do):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Do=new WeakMap,ms=new WeakMap,Ec=new WeakMap,lC),c_=new lL;function t1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var cL=rL;function uL(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=cL;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var sr=uL(),jc,vs,Tc,cC,dL=(cC=class extends ju{constructor(){super();Pe(this,jc,!0);Pe(this,vs);Pe(this,Tc);Ee(this,Tc,t=>{if(!el&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,vs)||this.setEventListener(B(this,Tc))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,vs))==null||t.call(this),Ee(this,vs,void 0))}setEventListener(t){var r;Ee(this,Tc,t),(r=B(this,vs))==null||r.call(this),Ee(this,vs,t(this.setOnline.bind(this)))}setOnline(t){B(this,jc)!==t&&(Ee(this,jc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,jc)}},jc=new WeakMap,vs=new WeakMap,Tc=new WeakMap,cC),kp=new dL;function fL(e){return Math.min(1e3*2**e,3e4)}function D4(e){return(e??"online")==="online"?kp.isOnline():!0}var r1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function M4(e){let t=!1,r=0,n;const a=t1(),i=()=>a.status!=="pending",s=v=>{var x;if(!i()){const b=new r1(v);h(b),(x=e.onCancel)==null||x.call(e,b)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>c_.isFocused()&&(e.networkMode==="always"||kp.isOnline())&&e.canRun(),d=()=>D4(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),a.resolve(v))},h=v=>{i()||(n==null||n(),a.reject(v))},p=()=>new Promise(v=>{var x;n=b=>{(i()||u())&&v(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(i())return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var S;if(i())return;const m=e.retry??(el?0:3),y=e.retryDelay??fL,_=typeof y=="function"?y(r,b):y,w=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,b);if(t||!w){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),iL(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}var Mo,uC,$4=(uC=class{constructor(){Pe(this,Mo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jy(this.gcTime)&&Ee(this,Mo,No.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(el?1/0:5*60*1e3))}clearGcTimeout(){B(this,Mo)&&(No.clearTimeout(B(this,Mo)),Ee(this,Mo,void 0))}},Mo=new WeakMap,uC),$o,Ac,Jn,Lo,dr,oh,Fo,_a,hi,dC,hL=(dC=class extends $4{constructor(t){super();Pe(this,_a);Pe(this,$o);Pe(this,Ac);Pe(this,Jn);Pe(this,Lo);Pe(this,dr);Pe(this,oh);Pe(this,Fo);Ee(this,Fo,!1),Ee(this,oh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Lo,t.client),Ee(this,Jn,B(this,Lo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,$o,AE(this.options)),this.state=t.state??B(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,dr))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,oh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=AE(this.options);r.data!==void 0&&(this.setState(TE(r.data,r.dataUpdatedAt)),Ee(this,$o,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Jn).remove(this)}setData(t,r){const n=e1(this.state.data,t,this.options);return Be(this,_a,hi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Be(this,_a,hi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=B(this,dr))==null?void 0:n.promise;return(a=B(this,dr))==null||a.cancel(t),r?r.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,$o))}isActive(){return this.observers.some(t=>ea(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$s(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!k4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,dr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,dr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Jn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,dr)&&(B(this,Fo)?B(this,dr).cancel({revert:!0}):B(this,dr).cancelRetry()),this.scheduleGc()),B(this,Jn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,_a,hi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,v,x,b,m,y;if(this.state.fetchStatus!=="idle"&&((c=B(this,dr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,dr))return B(this,dr).continueRetry(),B(this,dr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ee(this,Fo,!0),n.signal)})},i=()=>{const _=R4(this.options,r),S=(()=>{const E={client:B(this,Lo),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Ee(this,Fo,!1),this.options.persister?this.options.persister(_,S,this):_(S)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Lo),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),Ee(this,Ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Be(this,_a,hi).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),Ee(this,dr,M4({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof r1&&_.revert&&this.setState({...B(this,Ac),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{Be(this,_a,hi).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Be(this,_a,hi).call(this,{type:"pause"})},onContinue:()=>{Be(this,_a,hi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await B(this,dr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=B(this,Jn).config).onSuccess)==null||p.call(h,_,this),(v=(g=B(this,Jn).config).onSettled)==null||v.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof r1){if(_.silent)return B(this,dr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Be(this,_a,hi).call(this,{type:"error",error:_}),(b=(x=B(this,Jn).config).onError)==null||b.call(x,_,this),(y=(m=B(this,Jn).config).onSettled)==null||y.call(m,this.state.data,_,this),_}finally{this.scheduleGc()}}},$o=new WeakMap,Ac=new WeakMap,Jn=new WeakMap,Lo=new WeakMap,dr=new WeakMap,oh=new WeakMap,Fo=new WeakMap,_a=new WeakSet,hi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...L4(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...TE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,Ac,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),sr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,Jn).notify({query:this,type:"updated",action:t})})},dC);function L4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function TE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function AE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var hn,Ve,lh,Xr,Bo,Nc,gi,gs,ch,Oc,Cc,Uo,zo,xs,kc,Ze,_d,n1,a1,i1,s1,o1,l1,c1,F4,fC,pL=(fC=class extends ju{constructor(t,r){super();Pe(this,Ze);Pe(this,hn);Pe(this,Ve);Pe(this,lh);Pe(this,Xr);Pe(this,Bo);Pe(this,Nc);Pe(this,gi);Pe(this,gs);Pe(this,ch);Pe(this,Oc);Pe(this,Cc);Pe(this,Uo);Pe(this,zo);Pe(this,xs);Pe(this,kc,new Set);this.options=r,Ee(this,hn,t),Ee(this,gs,null),Ee(this,gi,t1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Ve).addObserver(this),NE(B(this,Ve),this.options)?Be(this,Ze,_d).call(this):this.updateResult(),Be(this,Ze,s1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u1(B(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u1(B(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Ze,o1).call(this),Be(this,Ze,l1).call(this),B(this,Ve).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,Ve);if(this.options=B(this,hn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ea(this.options.enabled,B(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Ze,c1).call(this),B(this,Ve).setOptions(this.options),r._defaulted&&!Cp(this.options,r)&&B(this,hn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Ve),observer:this});const a=this.hasListeners();a&&OE(B(this,Ve),n,this.options,r)&&Be(this,Ze,_d).call(this),this.updateResult(),a&&(B(this,Ve)!==n||ea(this.options.enabled,B(this,Ve))!==ea(r.enabled,B(this,Ve))||$s(this.options.staleTime,B(this,Ve))!==$s(r.staleTime,B(this,Ve)))&&Be(this,Ze,n1).call(this);const i=Be(this,Ze,a1).call(this);a&&(B(this,Ve)!==n||ea(this.options.enabled,B(this,Ve))!==ea(r.enabled,B(this,Ve))||i!==B(this,xs))&&Be(this,Ze,i1).call(this,i)}getOptimisticResult(t){const r=B(this,hn).getQueryCache().build(B(this,hn),t),n=this.createResult(r,t);return vL(this,n)&&(Ee(this,Xr,n),Ee(this,Nc,this.options),Ee(this,Bo,B(this,Ve).state)),n}getCurrentResult(){return B(this,Xr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,gi).status==="pending"&&B(this,gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){B(this,kc).add(t)}getCurrentQuery(){return B(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,hn).defaultQueryOptions(t),n=B(this,hn).getQueryCache().build(B(this,hn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Be(this,Ze,_d).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Xr)))}createResult(t,r){var T;const n=B(this,Ve),a=this.options,i=B(this,Xr),s=B(this,Bo),o=B(this,Nc),u=t!==n?t.state:B(this,lh),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const O=this.hasListeners(),C=!O&&NE(t,r),M=O&&OE(t,n,r,a);(C||M)&&(f={...f,...L4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:x}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,b=!0):O=typeof r.placeholderData=="function"?r.placeholderData((T=B(this,Cc))==null?void 0:T.state.data,B(this,Cc)):r.placeholderData,O!==void 0&&(x="success",p=e1(i==null?void 0:i.data,O,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(s==null?void 0:s.data)&&r.select===B(this,ch))p=B(this,Oc);else try{Ee(this,ch,r.select),p=r.select(p),p=e1(i==null?void 0:i.data,p,r),Ee(this,Oc,p),Ee(this,gs,null)}catch(O){Ee(this,gs,O)}B(this,gs)&&(g=B(this,gs),p=B(this,Oc),v=Date.now(),x="error");const m=f.fetchStatus==="fetching",y=x==="pending",_=x==="error",w=y&&m,S=p!==void 0,j={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:_,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:u_(t,r),refetch:this.refetch,promise:B(this,gi),isEnabled:ea(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=F=>{j.status==="error"?F.reject(j.error):j.data!==void 0&&F.resolve(j.data)},C=()=>{const F=Ee(this,gi,j.promise=t1());O(F)},M=B(this,gi);switch(M.status){case"pending":t.queryHash===n.queryHash&&O(M);break;case"fulfilled":(j.status==="error"||j.data!==M.value)&&C();break;case"rejected":(j.status!=="error"||j.error!==M.reason)&&C();break}}return j}updateResult(){const t=B(this,Xr),r=this.createResult(B(this,Ve),this.options);if(Ee(this,Bo,B(this,Ve).state),Ee(this,Nc,this.options),B(this,Bo).data!==void 0&&Ee(this,Cc,B(this,Ve)),Cp(r,t))return;Ee(this,Xr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!B(this,kc).size)return!0;const s=new Set(i??B(this,kc));return this.options.throwOnError&&s.add("error"),Object.keys(B(this,Xr)).some(o=>{const c=o;return B(this,Xr)[c]!==t[c]&&s.has(c)})};Be(this,Ze,F4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Ze,s1).call(this)}},hn=new WeakMap,Ve=new WeakMap,lh=new WeakMap,Xr=new WeakMap,Bo=new WeakMap,Nc=new WeakMap,gi=new WeakMap,gs=new WeakMap,ch=new WeakMap,Oc=new WeakMap,Cc=new WeakMap,Uo=new WeakMap,zo=new WeakMap,xs=new WeakMap,kc=new WeakMap,Ze=new WeakSet,_d=function(t){Be(this,Ze,c1).call(this);let r=B(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Jr)),r},n1=function(){Be(this,Ze,o1).call(this);const t=$s(this.options.staleTime,B(this,Ve));if(el||B(this,Xr).isStale||!Jy(t))return;const n=k4(B(this,Xr).dataUpdatedAt,t)+1;Ee(this,Uo,No.setTimeout(()=>{B(this,Xr).isStale||this.updateResult()},n))},a1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Ve)):this.options.refetchInterval)??!1},i1=function(t){Be(this,Ze,l1).call(this),Ee(this,xs,t),!(el||ea(this.options.enabled,B(this,Ve))===!1||!Jy(B(this,xs))||B(this,xs)===0)&&Ee(this,zo,No.setInterval(()=>{(this.options.refetchIntervalInBackground||c_.isFocused())&&Be(this,Ze,_d).call(this)},B(this,xs)))},s1=function(){Be(this,Ze,n1).call(this),Be(this,Ze,i1).call(this,Be(this,Ze,a1).call(this))},o1=function(){B(this,Uo)&&(No.clearTimeout(B(this,Uo)),Ee(this,Uo,void 0))},l1=function(){B(this,zo)&&(No.clearInterval(B(this,zo)),Ee(this,zo,void 0))},c1=function(){const t=B(this,hn).getQueryCache().build(B(this,hn),this.options);if(t===B(this,Ve))return;const r=B(this,Ve);Ee(this,Ve,t),Ee(this,lh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},F4=function(t){sr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,Xr))}),B(this,hn).getQueryCache().notify({query:B(this,Ve),type:"observerResultsUpdated"})})},fC);function mL(e,t){return ea(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NE(e,t){return mL(e,t)||e.state.data!==void 0&&u1(e,t,t.refetchOnMount)}function u1(e,t,r){if(ea(t.enabled,e)!==!1&&$s(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&u_(e,t)}return!1}function OE(e,t,r,n){return(e!==t||ea(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&u_(e,r)}function u_(e,t){return ea(t.enabled,e)!==!1&&e.isStaleByTime($s(t.staleTime,e))}function vL(e,t){return!Cp(e.getCurrentResult(),t)}function CE(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=R4(t.options,t.fetchOptions),m=async(y,_,w)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return x(C),C})(),j=await b(E),{maxPages:T}=t.options,O=w?oL:sL;return{pages:O(y.pages,j,T),pageParams:O(y.pageParams,_,T)}};if(a&&i.length){const y=a==="backward",_=y?gL:kE,w={pages:i,pageParams:s},S=_(n,w);o=await m(w,S,y)}else{const y=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:kE(n,o);if(c>0&&_==null)break;o=await m(o,_),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var uh,Xa,Yr,Wo,Ya,as,hC,xL=(hC=class extends $4{constructor(t){super();Pe(this,Ya);Pe(this,uh);Pe(this,Xa);Pe(this,Yr);Pe(this,Wo);Ee(this,uh,t.client),this.mutationId=t.mutationId,Ee(this,Yr,t.mutationCache),Ee(this,Xa,[]),this.state=t.state||B4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Xa).includes(t)||(B(this,Xa).push(t),this.clearGcTimeout(),B(this,Yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Xa,B(this,Xa).filter(r=>r!==t)),this.scheduleGc(),B(this,Yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Xa).length||(this.state.status==="pending"?this.scheduleGc():B(this,Yr).remove(this))}continue(){var t;return((t=B(this,Wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,u,d,f,h,p,g,v,x,b,m,y,_,w,S,E,j,T;const r=()=>{Be(this,Ya,as).call(this,{type:"continue"})},n={client:B(this,uh),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Wo,M4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,C)=>{Be(this,Ya,as).call(this,{type:"failed",failureCount:O,error:C})},onPause:()=>{Be(this,Ya,as).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Yr).canRun(this)}));const a=this.state.status==="pending",i=!B(this,Wo).canStart();try{if(a)r();else{Be(this,Ya,as).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=B(this,Yr).config).onMutate)==null?void 0:o.call(s,t,this,n));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));C!==this.state.context&&Be(this,Ya,as).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const O=await B(this,Wo).start();return await((f=(d=B(this,Yr).config).onSuccess)==null?void 0:f.call(d,O,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,O,t,this.state.context,n)),await((v=(g=B(this,Yr).config).onSettled)==null?void 0:v.call(g,O,null,this.state.variables,this.state.context,this,n)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,O,null,t,this.state.context,n)),Be(this,Ya,as).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(m=B(this,Yr).config).onError)==null?void 0:y.call(m,O,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,O,t,this.state.context,n)),await((E=(S=B(this,Yr).config).onSettled)==null?void 0:E.call(S,void 0,O,this.state.variables,this.state.context,this,n)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,O,t,this.state.context,n)),O}finally{Be(this,Ya,as).call(this,{type:"error",error:O})}}finally{B(this,Yr).runNext(this)}}},uh=new WeakMap,Xa=new WeakMap,Yr=new WeakMap,Wo=new WeakMap,Ya=new WeakSet,as=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sr.batch(()=>{B(this,Xa).forEach(n=>{n.onMutationUpdate(t)}),B(this,Yr).notify({mutation:this,type:"updated",action:t})})},hC);function B4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xi,Sa,dh,pC,yL=(pC=class extends ju{constructor(t={}){super();Pe(this,xi);Pe(this,Sa);Pe(this,dh);this.config=t,Ee(this,xi,new Set),Ee(this,Sa,new Map),Ee(this,dh,0)}build(t,r,n){const a=new xL({client:t,mutationCache:this,mutationId:++qh(this,dh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){B(this,xi).add(t);const r=u0(t);if(typeof r=="string"){const n=B(this,Sa).get(r);n?n.push(t):B(this,Sa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,xi).delete(t)){const r=u0(t);if(typeof r=="string"){const n=B(this,Sa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&B(this,Sa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=u0(t);if(typeof r=="string"){const n=B(this,Sa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=u0(t);if(typeof r=="string"){const a=(n=B(this,Sa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sr.batch(()=>{B(this,xi).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,xi).clear(),B(this,Sa).clear()})}getAll(){return Array.from(B(this,xi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>SE(r,n))}findAll(t={}){return this.getAll().filter(r=>SE(t,r))}notify(t){sr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return sr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Jr))))}},xi=new WeakMap,Sa=new WeakMap,dh=new WeakMap,pC);function u0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var yi,ys,pn,bi,Ii,rp,d1,mC,bL=(mC=class extends ju{constructor(r,n){super();Pe(this,Ii);Pe(this,yi);Pe(this,ys);Pe(this,pn);Pe(this,bi);Ee(this,yi,r),this.setOptions(n),this.bindMethods(),Be(this,Ii,rp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=B(this,yi).defaultMutationOptions(r),Cp(this.options,n)||B(this,yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,pn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&tl(n.mutationKey)!==tl(this.options.mutationKey)?this.reset():((a=B(this,pn))==null?void 0:a.state.status)==="pending"&&B(this,pn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,pn))==null||r.removeObserver(this)}onMutationUpdate(r){Be(this,Ii,rp).call(this),Be(this,Ii,d1).call(this,r)}getCurrentResult(){return B(this,ys)}reset(){var r;(r=B(this,pn))==null||r.removeObserver(this),Ee(this,pn,void 0),Be(this,Ii,rp).call(this),Be(this,Ii,d1).call(this)}mutate(r,n){var a;return Ee(this,bi,n),(a=B(this,pn))==null||a.removeObserver(this),Ee(this,pn,B(this,yi).getMutationCache().build(B(this,yi),this.options)),B(this,pn).addObserver(this),B(this,pn).execute(r)}},yi=new WeakMap,ys=new WeakMap,pn=new WeakMap,bi=new WeakMap,Ii=new WeakSet,rp=function(){var n;const r=((n=B(this,pn))==null?void 0:n.state)??B4();Ee(this,ys,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},d1=function(r){sr.batch(()=>{var n,a,i,s,o,c,u,d;if(B(this,bi)&&this.hasListeners()){const f=B(this,ys).variables,h=B(this,ys).context,p={client:B(this,yi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=B(this,bi)).onSuccess)==null||a.call(n,r.data,f,h,p),(s=(i=B(this,bi)).onSettled)==null||s.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(o=B(this,bi)).onError)==null||c.call(o,r.error,f,h,p),(d=(u=B(this,bi)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(B(this,ys))})})},mC),Qa,vC,wL=(vC=class extends ju{constructor(t={}){super();Pe(this,Qa);this.config=t,Ee(this,Qa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??o_(a,r);let s=this.get(i);return s||(s=new hL({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){B(this,Qa).has(t.queryHash)||(B(this,Qa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Qa).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Qa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Qa).get(t)}getAll(){return[...B(this,Qa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_E(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_E(t,n)):r}notify(t){sr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qa=new WeakMap,vC),Lt,bs,ws,Pc,Rc,_s,Ic,Dc,gC,_L=(gC=class{constructor(e={}){Pe(this,Lt);Pe(this,bs);Pe(this,ws);Pe(this,Pc);Pe(this,Rc);Pe(this,_s);Pe(this,Ic);Pe(this,Dc);Ee(this,Lt,e.queryCache||new wL),Ee(this,bs,e.mutationCache||new yL),Ee(this,ws,e.defaultOptions||{}),Ee(this,Pc,new Map),Ee(this,Rc,new Map),Ee(this,_s,0)}mount(){qh(this,_s)._++,B(this,_s)===1&&(Ee(this,Ic,c_.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Lt).onFocus())})),Ee(this,Dc,kp.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Lt).onOnline())})))}unmount(){var e,t;qh(this,_s)._--,B(this,_s)===0&&((e=B(this,Ic))==null||e.call(this),Ee(this,Ic,void 0),(t=B(this,Dc))==null||t.call(this),Ee(this,Dc,void 0))}isFetching(e){return B(this,Lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,bs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,Lt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,Lt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($s(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,Lt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=B(this,Lt).get(n.queryHash),i=a==null?void 0:a.state.data,s=nL(t,i);if(s!==void 0)return B(this,Lt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return sr.batch(()=>B(this,Lt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,Lt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,Lt);sr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,Lt);return sr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=sr.batch(()=>B(this,Lt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Jr).catch(Jr)}invalidateQueries(e,t={}){return sr.batch(()=>(B(this,Lt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=sr.batch(()=>B(this,Lt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Jr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,Lt).build(this,t);return r.isStaleByTime($s(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=CE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=CE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kp.isOnline()?B(this,bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Lt)}getMutationCache(){return B(this,bs)}getDefaultOptions(){return B(this,ws)}setDefaultOptions(e){Ee(this,ws,e)}setQueryDefaults(e,t){B(this,Pc).set(tl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Pc).values()],r={};return t.forEach(n=>{hf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,Rc).set(tl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Rc).values()],r={};return t.forEach(n=>{hf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,ws).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=o_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===l_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,ws).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Lt).clear(),B(this,bs).clear()}},Lt=new WeakMap,bs=new WeakMap,ws=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,_s=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,gC),U4=A.createContext(void 0),Mt=e=>{const t=A.useContext(U4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SL=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(U4.Provider,{value:e,children:t})),z4=A.createContext(!1),EL=()=>A.useContext(z4);z4.Provider;function jL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TL=A.createContext(jL()),AL=()=>A.useContext(TL),NL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},OL=e=>{A.useEffect(()=>{e.clearReset()},[e])},CL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||I4(r,[e.error,n])),kL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PL=(e,t)=>e.isLoading&&e.isFetching&&!t,RL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function IL(e,t,r){var f,h,p,g,v;const n=EL(),a=AL(),i=Mt(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",kL(s),NL(s,a),OL(a);const o=!i.getQueryCache().get(s.queryHash),[c]=A.useState(()=>new t(i,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(x=>{const b=d?c.subscribe(sr.batchCalls(x)):Jr;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),A.useEffect(()=>{c.setOptions(s)},[s,c]),RL(s,u))throw PE(s,c,a);if(CL({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,u),s.experimental_prefetchInRender&&!el&&PL(u,n)){const x=o?PE(s,c,a):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;x==null||x.catch(Jr).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function St(e,t){return IL(e,pL)}function zt(e,t){const r=Mt(),[n]=A.useState(()=>new bL(r,e));A.useEffect(()=>{n.setOptions(e)},[n,e]);const a=A.useSyncExternalStore(A.useCallback(s=>n.subscribe(sr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=A.useCallback((s,o)=>{n.mutate(s,o).catch(Jr)},[n]);if(a.error&&I4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const DL={},RE=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(DL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},ML=e=>e?RE(e):RE;var W4={exports:{}},H4={},q4={exports:{}},V4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=A;function $L(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LL=typeof Object.is=="function"?Object.is:$L,FL=Wc.useState,BL=Wc.useEffect,UL=Wc.useLayoutEffect,zL=Wc.useDebugValue;function WL(e,t){var r=t(),n=FL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return UL(function(){a.value=r,a.getSnapshot=t,dx(a)&&i({inst:a})},[e,r,t]),BL(function(){return dx(a)&&i({inst:a}),e(function(){dx(a)&&i({inst:a})})},[e]),zL(r),r}function dx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!LL(e,r)}catch{return!0}}function HL(e,t){return t()}var qL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HL:WL;V4.useSyncExternalStore=Wc.useSyncExternalStore!==void 0?Wc.useSyncExternalStore:qL;q4.exports=V4;var VL=q4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=A,KL=VL;function GL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XL=typeof Object.is=="function"?Object.is:GL,YL=KL.useSyncExternalStore,QL=bv.useRef,JL=bv.useEffect,ZL=bv.useMemo,eF=bv.useDebugValue;H4.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=QL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ZL(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,XL(d,p))return g;var v=n(p);return a!==void 0&&a(g,v)?(d=p,g):(d=p,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=YL(e,i[0],i[1]);return JL(function(){s.hasValue=!0,s.value=o},[o]),eF(o),o};W4.exports=H4;var tF=W4.exports;const rF=tt(tF),K4={},{useDebugValue:nF}=z,{useSyncExternalStoreWithSelector:aF}=rF;let IE=!1;const iF=e=>e;function sF(e,t=iF,r){(K4?"production":void 0)!=="production"&&r&&!IE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),IE=!0);const n=aF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return nF(n),n}const DE=e=>{(K4?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ML(e):e,r=(n,a)=>sF(t,n,a);return Object.assign(r,t),r},wv=e=>e?DE(e):DE,oF=e=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return;const r=new t,n=r.createOscillator(),a=r.createGain();switch(n.connect(a),a.connect(r.destination),e){case"success":n.frequency.setValueAtTime(880,r.currentTime),n.frequency.setValueAtTime(1108.73,r.currentTime+.1),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.3),n.start(r.currentTime),n.stop(r.currentTime+.3);break;case"error":n.frequency.setValueAtTime(220,r.currentTime),n.frequency.setValueAtTime(196,r.currentTime+.15),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.4),n.start(r.currentTime),n.stop(r.currentTime+.4);break;case"warning":n.frequency.setValueAtTime(440,r.currentTime),a.gain.setValueAtTime(.2,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.2),n.start(r.currentTime),n.stop(r.currentTime+.2);break;case"info":n.frequency.setValueAtTime(523.25,r.currentTime),a.gain.setValueAtTime(.15,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.15),n.start(r.currentTime),n.stop(r.currentTime+.15);break}}catch{}},gh=wv(e=>({toasts:[],addToast:t=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={...t,id:r,duration:t.duration??5e3};oF(t.type),e(a=>({toasts:[...a.toasts,n]})),setTimeout(()=>{e(a=>({toasts:a.toasts.filter(i=>i.id!==r)}))},n.duration)},removeToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearAll:()=>e({toasts:[]})})),ua=(e,t,r)=>{gh.getState().addToast({type:"success",title:e,message:t,createdBy:r})},ka=(e,t)=>{gh.getState().addToast({type:"error",title:e,message:t,duration:8e3})},lF=(e,t)=>{gh.getState().addToast({type:"warning",title:e,message:t})},cF={users:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}),calendar:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"}),clipboard:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"}),megaphone:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 008.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"}),clock:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),key:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}),inbox:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"}),sparkles:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"}),truck:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}),"check-circle":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),tag:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),eye:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),gauge:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z"}),image:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}),home:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}),"chevron-down":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}),"chevron-right":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),menu:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),x:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}),search:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),bell:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}),logout:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}),settings:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),building:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}),layers:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"}),droplet:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.314 0-6 4.03-6 9a6 6 0 1012 0c0-4.97-2.686-9-6-9z"}),spray:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 15.5m14.8-.2a2.251 2.251 0 01.45 2.574l-.788 1.576a2.25 2.25 0 01-2.45 1.186l-6.09-1.218a5.227 5.227 0 01-2.842-1.61l-.91-1.014a2.25 2.25 0 01-.218-2.692l1.55-2.58"}),brush:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}),info:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),"alert-circle":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}),"alert-triangle":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}),check:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}),"x-circle":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),trash:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}),activity:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"}),user:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),plus:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}),package:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"}),"file-text":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),"bar-chart":l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"}),edit:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}),send:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}),upload:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}),file:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})},le=({name:e,className:t="",size:r=24})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:r,height:r,className:t,children:cF[e]}),uF=({toast:e})=>{const{removeToast:t}=gh(),r={success:"bg-gradient-to-r from-success-500 to-success-600",error:"bg-gradient-to-r from-danger-500 to-danger-600",warning:"bg-gradient-to-r from-warning-500 to-warning-600",info:"bg-gradient-to-r from-brand-500 to-brand-600"},n={success:"check-circle",error:"alert-circle",warning:"alert-triangle",info:"info"};return l.jsxs("div",{className:`${r[e.type]} text-white rounded-xl shadow-2xl p-4 min-w-[320px] max-w-[420px] animate-slide-in-right flex items-start gap-3`,style:{animation:"slideInRight 0.3s ease-out"},children:[l.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:l.jsx(le,{name:n[e.type],size:22,className:"text-white"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsx("h4",{className:"font-bold text-base",children:e.title})}),l.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:e.message}),e.createdBy&&l.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/80",children:[l.jsx(le,{name:"user",size:14}),l.jsxs("span",{children:["Registrado por: ",l.jsx("strong",{className:"text-white",children:e.createdBy})]})]})]}),l.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded-lg transition-colors",children:l.jsx(le,{name:"x",size:18,className:"text-white/80"})})]})},dF=()=>{const{toasts:e}=gh();return e.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),l.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3",children:e.map(t=>l.jsx(uF,{toast:t},t.id))})]})},fF=({children:e})=>{const[t]=A.useState(()=>new _L({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}}));return l.jsxs(SL,{client:t,children:[e,l.jsx(dF,{})]})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}var js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(js||(js={}));const ME="popstate";function hF(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:c=""}=gl(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),f1("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:Pp(i))}function n(a,i){_v(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return mF(t,r,n,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _v(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pF(){return Math.random().toString(36).substr(2,8)}function $E(e,t){return{usr:e.state,key:e.key,idx:t}}function f1(e,t,r,n){return r===void 0&&(r=null),pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gl(t):t,{state:r,key:t&&t.key||n||pF()})}function Pp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function mF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=js.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(pf({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=js.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:o,location:v.location,delta:b})}function h(x,b){o=js.Push;let m=f1(v.location,x,b);r&&r(m,x),u=d()+1;let y=$E(m,u),_=v.createHref(m);try{s.pushState(y,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&c&&c({action:o,location:v.location,delta:1})}function p(x,b){o=js.Replace;let m=f1(v.location,x,b);r&&r(m,x),u=d();let y=$E(m,u),_=v.createHref(m);s.replaceState(y,"",_),i&&c&&c({action:o,location:v.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof x=="string"?x:Pp(x);return m=m.replace(/ $/,"%20"),It(b,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,b)}let v={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ME,f),c=x,()=>{a.removeEventListener(ME,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return v}var LE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LE||(LE={}));function vF(e,t,r){return r===void 0&&(r="/"),gF(e,t,r)}function gF(e,t,r,n){let a=typeof t=="string"?gl(t):t,i=Hc(a.pathname||"/",r);if(i==null)return null;let s=G4(e);xF(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=OF(i);o=AF(s[c],u)}return o}function G4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(It(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ls([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(It(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:jF(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of X4(i.path))a(i,s,c)}),t}function X4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=X4(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function xF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yF=/^:[\w-]+$/,bF=3,wF=2,_F=1,SF=10,EF=-2,FE=e=>e==="*";function jF(e,t){let r=e.split("/"),n=r.length;return r.some(FE)&&(n+=EF),t&&(n+=wF),r.filter(a=>!FE(a)).reduce((a,i)=>a+(yF.test(i)?bF:i===""?_F:SF),n)}function TF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function AF(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=h1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Ls([i,f.pathname]),pathnameBase:IF(Ls([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ls([i,f.pathnameBase]))}return s}function h1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function NF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_v(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function OF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _v(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const CF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kF=e=>CF.test(e);function PF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?gl(e):e,i;if(r)if(kF(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),_v(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=BE(r.substring(1),"/"):i=BE(r,t)}else i=t;return{pathname:i,search:DF(n),hash:MF(a)}}function BE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function d_(e,t){let r=RF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function f_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=gl(e):(a=pf({},e),It(!a.pathname||!a.pathname.includes("?"),fx("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),fx("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),fx("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=PF(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ls=e=>e.join("/").replace(/\/\/+/g,"/"),IF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $F(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y4=["post","put","patch","delete"];new Set(Y4);const LF=["get",...Y4];new Set(LF);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}const Sv=A.createContext(null),Q4=A.createContext(null),Xi=A.createContext(null),Ev=A.createContext(null),Yi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),J4=A.createContext(null);function FF(e,t){let{relative:r}=t===void 0?{}:t;Tu()||It(!1);let{basename:n,navigator:a}=A.useContext(Xi),{hash:i,pathname:s,search:o}=jv(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:Ls([n,s])),a.createHref({pathname:c,search:o,hash:i})}function Tu(){return A.useContext(Ev)!=null}function xl(){return Tu()||It(!1),A.useContext(Ev).location}function Z4(e){A.useContext(Xi).static||A.useLayoutEffect(e)}function h_(){let{isDataRoute:e}=A.useContext(Yi);return e?e7():BF()}function BF(){Tu()||It(!1);let e=A.useContext(Sv),{basename:t,future:r,navigator:n}=A.useContext(Xi),{matches:a}=A.useContext(Yi),{pathname:i}=xl(),s=JSON.stringify(d_(a,r.v7_relativeSplatPath)),o=A.useRef(!1);return Z4(()=>{o.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=f_(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ls([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const UF=A.createContext(null);function zF(e){let t=A.useContext(Yi).outlet;return t&&A.createElement(UF.Provider,{value:e},t)}function jv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Xi),{matches:a}=A.useContext(Yi),{pathname:i}=xl(),s=JSON.stringify(d_(a,n.v7_relativeSplatPath));return A.useMemo(()=>f_(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function WF(e,t){return HF(e,t)}function HF(e,t,r,n){Tu()||It(!1);let{navigator:a}=A.useContext(Xi),{matches:i}=A.useContext(Yi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=xl(),d;if(t){var f;let x=typeof t=="string"?gl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||It(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=vF(e,{pathname:p}),v=XF(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Ls([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ls([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&v?A.createElement(Ev.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:js.Pop}},v):v}function qF(){let e=ZF(),t=$F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const VF=A.createElement(qF,null);class KF extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Yi.Provider,{value:this.props.routeContext},A.createElement(J4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GF(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(Sv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Yi.Provider,{value:t},n)}function XF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||It(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,v=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||VF,c&&(u<0&&h===0?(t7("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),m=()=>{let y;return p?y=v:g?y=x:f.route.Component?y=A.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,A.createElement(GF,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(KF,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):m()},null)}var eP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eP||{}),tP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tP||{});function YF(e){let t=A.useContext(Sv);return t||It(!1),t}function QF(e){let t=A.useContext(Q4);return t||It(!1),t}function JF(e){let t=A.useContext(Yi);return t||It(!1),t}function rP(e){let t=JF(),r=t.matches[t.matches.length-1];return r.route.id||It(!1),r.route.id}function ZF(){var e;let t=A.useContext(J4),r=QF(),n=rP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function e7(){let{router:e}=YF(eP.UseNavigateStable),t=rP(tP.UseNavigateStable),r=A.useRef(!1);return Z4(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mf({fromRouteId:t},i)))},[e,t])}const UE={};function t7(e,t,r){UE[e]||(UE[e]=!0)}function r7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nP(e){let{to:t,replace:r,state:n,relative:a}=e;Tu()||It(!1);let{future:i,static:s}=A.useContext(Xi),{matches:o}=A.useContext(Yi),{pathname:c}=xl(),u=h_(),d=f_(t,d_(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function aP(e){return zF(e.context)}function $t(e){It(!1)}function n7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=js.Pop,navigator:i,static:s=!1,future:o}=e;Tu()&&It(!1);let c=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:i,static:s,future:mf({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=gl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,v=A.useMemo(()=>{let x=Hc(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return v==null?null:A.createElement(Xi.Provider,{value:u},A.createElement(Ev.Provider,{children:r,value:v}))}function a7(e){let{children:t,location:r}=e;return WF(p1(t),r)}new Promise(()=>{});function p1(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,p1(n.props.children,i));return}n.type!==$t&&It(!1),!n.props.index||!n.props.children||It(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=p1(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}function iP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function i7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s7(e,t){return e.button===0&&(!t||t==="_self")&&!i7(e)}const o7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c7="6";try{window.__reactRouterVersion=c7}catch{}const u7=A.createContext({isTransitioning:!1}),d7="startTransition",zE=z8[d7];function f7(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=hF({window:a,v5Compat:!0}));let s=i.current,[o,c]=A.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&zE?zE(()=>c(f)):c(f)},[c,u]);return A.useLayoutEffect(()=>s.listen(d),[s,d]),A.useEffect(()=>r7(n),[n]),A.createElement(n7,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const h7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m7=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=iP(t,o7),{basename:p}=A.useContext(Xi),g,v=!1;if(typeof u=="string"&&p7.test(u)&&(g=u,h7))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),w=Hc(_.pathname,p);_.origin===y.origin&&w!=null?u=w+_.search+_.hash:v=!0}catch{}let x=FF(u,{relative:a}),b=x7(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||b(y)}return A.createElement("a",Rp({},h,{href:g||x,onClick:v||i?n:m,ref:r,target:c}))}),v7=A.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:u,children:d}=t,f=iP(t,l7),h=jv(c,{relative:f.relative}),p=xl(),g=A.useContext(Q4),{navigator:v,basename:x}=A.useContext(Xi),b=g!=null&&y7(h)&&u===!0,m=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,y=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(y=y.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&x&&(_=Hc(_,x)||_);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!s&&y.startsWith(m)&&y.charAt(w)==="/",E=_!=null&&(_===m||!s&&_.startsWith(m)&&_.charAt(m.length)==="/"),j={isActive:S,isPending:E,isTransitioning:b},T=S?n:void 0,O;typeof i=="function"?O=i(j):O=[i,S?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(j):o;return A.createElement(m7,Rp({},f,{"aria-current":T,className:O,ref:r,style:C,to:c,viewTransition:u}),typeof d=="function"?d(j):d)});var m1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m1||(m1={}));var WE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WE||(WE={}));function g7(e){let t=A.useContext(Sv);return t||It(!1),t}function x7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=h_(),u=xl(),d=jv(e,{relative:s});return A.useCallback(f=>{if(s7(f,r)){f.preventDefault();let h=n!==void 0?n:Pp(u)===Pp(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,e,i,s,o])}function y7(e,t){t===void 0&&(t={});let r=A.useContext(u7);r==null&&It(!1);let{basename:n}=g7(m1.useViewTransitionState),a=jv(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Hc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Hc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return h1(a.pathname,s)!=null||h1(a.pathname,i)!=null}let d0=null;const b7=(e,t)=>({supervisorName:e,terminalCode:t,startedAt:new Date().toISOString()}),Ip={startSession:async(e,t)=>(d0=b7(e,t),d0),getSession:async()=>d0,logout:async()=>{d0=null}},En=wv(e=>({session:null,setSession:t=>e({session:t}),clearSession:()=>e({session:null}),hydrateSession:async()=>{const t=await Ip.getSession();e({session:t})}})),rl={EL_ROBLE:"El Roble",LA_REINA:"La Reina",EL_SALTO:"El Salto",LO_ECHEVERS:"Lo Echevers",COLO_COLO:"Colo Colo"},p_=[{code:"ROBLE_Y_REINA",name:"El Roble + La Reina",members:["EL_ROBLE","LA_REINA"]}],La=Object.entries(rl).map(([e,t])=>({value:e,label:t})),w7=p_.map(e=>({value:e.code,label:e.name})),sP={mode:"ALL"},oi=e=>{if(e.mode==="ALL"||!e.value)return Object.keys(rl);if(e.mode==="TERMINAL")return[e.value];const t=p_.find(r=>r.code===e.value);return t?t.members:Object.keys(rl)},_7=(e,t)=>{const r=oi(t);return e.filter(n=>r.includes(n.terminal))},Ke=e=>{if(rl[e])return rl[e];const t=p_.find(r=>r.code===e);return(t==null?void 0:t.name)??String(e)},We=wv(e=>({context:sP,setContext:t=>e({context:t})})),S7=()=>{const e=h_(),t=En(f=>f.setSession),r=En(f=>f.session),n=We(f=>f.setContext),[a,i]=A.useState(""),[s,o]=A.useState("EL_ROBLE"),[c,u]=A.useState(!1);A.useEffect(()=>{r&&e("/personal")},[r,e]);const d=async f=>{f.preventDefault(),u(!0);const h=await Ip.startSession(a,s);t(h),n({mode:"TERMINAL",value:s}),e("/personal")};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-brand-900",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/30 rounded-full blur-3xl animate-float"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-brand-600/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),l.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 animate-slide-up",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand-lg",children:l.jsx("span",{className:"text-3xl font-bold text-white",children:"A"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-2xl font-bold text-white",children:"Asiss"}),l.jsx("span",{className:"text-sm text-slate-400",children:"Dashboard de Logstica"})]})]})}),l.jsxs("div",{className:"card-glass p-8 md:p-10",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Bienvenido"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Ingresa tus datos para acceder al panel de control"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre del Supervisor"}),l.jsxs("div",{className:"relative",children:[l.jsx(le,{name:"users",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),l.jsx("input",{type:"text",className:"input pl-10",value:a,onChange:f=>i(f.target.value),placeholder:"Ej: Ana Prez",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsxs("div",{className:"relative",children:[l.jsx(le,{name:"building",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),l.jsx("select",{className:"input pl-10 appearance-none cursor-pointer",value:s,onChange:f=>o(f.target.value),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px",paddingRight:"40px"},children:La.map(f=>l.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),l.jsx("button",{type:"submit",disabled:c||!a,className:"btn btn-primary w-full py-3.5 text-base",children:c?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):l.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Entrar al Dashboard",l.jsx(le,{name:"chevron-right",size:18})]})})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-500",children:[l.jsx(le,{name:"check-circle",size:14,className:"text-success-500"}),l.jsx("span",{children:"Conexin segura  Datos protegidos"})]})})]}),l.jsx("p",{className:"mt-6 text-center text-xs text-slate-500",children:"Versin 2.0   2024 Asiss"})]})]})},HE=[{label:"Operacin",icon:"building",items:[{label:"Personal",to:"/personal",icon:"users"},{label:"Reuniones",to:"/reuniones",icon:"calendar"},{label:"Tareas",to:"/tareas",icon:"clipboard"},{label:"Informativos",to:"/informativos",icon:"megaphone"},{label:"Asistencia",to:"/asistencia",icon:"clock"},{label:"Credenciales",to:"/credenciales",icon:"key"},{label:"Solicitudes",to:"/solicitudes",icon:"inbox"}]},{label:"Aseo",icon:"sparkles",items:[{label:"Interior",to:"/aseo/interior",icon:"droplet"},{label:"Exterior",to:"/aseo/exterior",icon:"spray"},{label:"Rodillo",to:"/aseo/rodillo",icon:"brush"}]},{label:"Insumos",icon:"package",items:[{label:"Solicitudes",to:"/insumos",icon:"file-text"}]},{label:"MiniCheck",icon:"check-circle",items:[{label:"Extintor",to:"/minicheck/extintor",icon:"check-circle"},{label:"Tag",to:"/minicheck/tag",icon:"tag"},{label:"Mobileye",to:"/minicheck/mobileye",icon:"eye"},{label:"Odmetro",to:"/minicheck/odometro",icon:"gauge"},{label:"Publicidad",to:"/minicheck/publicidad",icon:"image"}]},{label:"Flota",icon:"truck",items:[{label:"Estado de Flota",to:"/estado-flota",icon:"truck"}]}],E7=({isOpen:e,onClose:t})=>{const r=xl(),[n,a]=A.useState(()=>{const o=HE.find(c=>c.items.some(u=>r.pathname.startsWith(u.to)));return o?[o.label]:["Operacin"]}),i=o=>{a(c=>c.includes(o)?c.filter(u=>u!==o):[...c,o])},s=o=>o.items.some(c=>r.pathname.startsWith(c.to));return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${e?"fixed":"hidden"} inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden`,onClick:t}),l.jsx("aside",{className:`${e?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-72 transform transition-transform duration-300 ease-out md:translate-x-0`,children:l.jsxs("div",{className:"flex h-full flex-col bg-gradient-to-b from-dark-800 to-dark-900",children:[l.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-white/10",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand",children:l.jsx("span",{className:"text-lg font-bold text-white",children:"A"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-bold text-white",children:"Asiss"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Dashboard Logstica"})]}),l.jsx("button",{onClick:t,className:"ml-auto rounded-lg p-1.5 text-slate-400 hover:bg-white/10 hover:text-white md:hidden",children:l.jsx(le,{name:"x",size:20})})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-4 space-y-1",children:HE.map(o=>{const c=n.includes(o.label),u=s(o);return l.jsxs("div",{className:"mb-1",children:[l.jsxs("button",{onClick:()=>i(o.label),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${u?"bg-white/10 text-white":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[l.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg transition-all duration-200 ${u?"bg-gradient-to-br from-brand-500 to-brand-600 text-white shadow-brand":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-slate-200"}`,children:l.jsx(le,{name:o.icon,size:18})}),l.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:o.label}),l.jsx(le,{name:"chevron-down",size:16,className:`transition-transform duration-200 ${c?"rotate-0":"-rotate-90"}`})]}),l.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${c?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:l.jsx("div",{className:"mt-1 ml-4 pl-4 border-l border-white/10 space-y-0.5",children:o.items.map(d=>l.jsxs(v7,{to:d.to,onClick:t,className:({isActive:f})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${f?"bg-brand-500/20 text-brand-300 font-medium":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[l.jsx(le,{name:d.icon,size:16}),l.jsx("span",{children:d.label})]},d.to))})})]},o.label)})}),l.jsx("div",{className:"border-t border-white/10 px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3 px-2",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white text-sm font-bold",children:"S"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Supervisor"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Terminal Activo"})]})]})})]})})]})},hx=new Set;let f0=[];const j7=()=>crypto.randomUUID(),qE={subscribeNotifications:e=>(hx.add(e),()=>hx.delete(e)),publishNotification:e=>{const t={id:e.id??j7(),createdAt:e.createdAt??new Date().toISOString(),...e};return f0=[t,...f0].slice(0,50),hx.forEach(r=>r(t)),t},getNotifications:()=>f0,clear:()=>{f0=[]}},T7=wv(e=>({items:[],last:void 0,addNotification:t=>e(r=>({items:[t,...r.items],last:t})),setAll:t=>e({items:t}),clear:()=>e({items:[],last:void 0})})),Wt=e=>(typeof e=="string"?new Date(e):e).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric"}),A7=()=>{const{items:e,addNotification:t,setAll:r,last:n}=T7(),[a,i]=A.useState(!1),[s,o]=A.useState(!1);return A.useEffect(()=>{r(qE.getNotifications());const c=qE.subscribeNotifications(u=>{t(u),o(!0),setTimeout(()=>o(!1),3500)});return()=>c()},[t,r]),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",className:"btn btn-secondary h-10",onClick:()=>i(c=>!c),children:[l.jsxs("span",{className:"relative inline-flex items-center",children:[l.jsx("svg",{className:"h-5 w-5 text-slate-600",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 17h5l-1.405-1.405A2.032 2.032 0 0117 14.158V11a5.002 5.002 0 00-3-4.584V6a2 2 0 10-4 0v.416A5.002 5.002 0 007 11v3.159c0 .538-.214 1.055-.595 1.436L5 17h5m4 0v1a3 3 0 11-6 0v-1m6 0H8"})}),e.length>0&&l.jsx("span",{className:"absolute -right-2 -top-2 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-brand-500 px-1 text-xs font-bold text-white",children:e.length})]}),l.jsx("span",{className:"hidden text-sm font-semibold text-slate-700 sm:inline",children:"Alertas"})]}),a&&l.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-80 rounded-lg border border-slate-200 bg-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Notificaciones"}),l.jsx("button",{className:"text-xs text-brand-600 hover:underline",onClick:()=>i(!1),children:"Cerrar"})]}),l.jsxs("div",{className:"max-h-80 space-y-2 overflow-y-auto px-4 pb-4",children:[e.length===0&&l.jsx("p",{className:"text-sm text-slate-500",children:"Sin notificaciones por ahora."}),e.map(c=>l.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsx("span",{className:"font-semibold capitalize",children:c.level}),l.jsx("span",{children:Wt(c.createdAt)})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:c.title}),l.jsx("p",{className:"text-sm text-slate-600",children:c.message})]},c.id))]})]}),s&&n&&l.jsxs("div",{className:"fixed bottom-4 right-4 z-40 max-w-sm rounded-md border border-slate-200 bg-white px-4 py-3 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs font-semibold uppercase text-brand-700",children:n.level}),l.jsx("button",{onClick:()=>o(!1),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cerrar"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.title}),l.jsx("p",{className:"text-sm text-slate-700",children:n.message})]})]})},N7=({onMenuToggle:e})=>{var i;const t=We(s=>s.context),r=En(s=>s.session),n=En(s=>s.clearSession),a=()=>t.mode==="ALL"?"Todos los terminales":t.mode==="TERMINAL"&&t.value?Ke(t.value):"Terminal";return l.jsx("header",{className:"header px-4 md:px-6",children:l.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-slate-200 md:hidden","aria-label":"Abrir men",children:l.jsx(le,{name:"menu",size:20})}),l.jsxs("div",{className:"hidden md:block",children:[l.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"Dashboard"}),l.jsx("p",{className:"text-xs text-slate-500",children:a()})]})]}),l.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(le,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsx("input",{type:"search",placeholder:"Buscar en el dashboard...",className:"w-full rounded-xl border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-4 text-sm transition-all placeholder:text-slate-400 focus:border-brand-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-brand-500/20"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-brand-50 px-3 py-1.5",children:[l.jsx(le,{name:"building",size:14,className:"text-brand-600"}),l.jsx("span",{className:"text-xs font-semibold text-brand-700",children:t.mode==="ALL"?"Todos":(i=t.value)==null?void 0:i.split("_").pop()})]})}),l.jsx(A7,{}),r&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"hidden sm:flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-500 to-brand-600 text-white text-sm font-bold",children:r.supervisorName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"hidden md:flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.supervisorName}),l.jsx("span",{className:"text-xs text-slate-500",children:Ke(r.terminalCode)})]}),l.jsx("button",{onClick:()=>{n(),Ip.logout()},className:"ml-1 rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-100 hover:text-danger-600",title:"Cerrar sesin",children:l.jsx(le,{name:"logout",size:18})})]}),l.jsx("button",{onClick:()=>{n(),Ip.logout()},className:"sm:hidden flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-danger-100 hover:text-danger-600",title:"Cerrar sesin",children:l.jsx(le,{name:"logout",size:20})})]})]})]})})},O7=()=>{const[e,t]=A.useState(!1);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50",children:l.jsxs("div",{className:"flex",children:[l.jsx(E7,{isOpen:e,onClose:()=>t(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-1 flex-col md:ml-72",children:[l.jsx(N7,{onMenuToggle:()=>t(r=>!r)}),l.jsx("main",{className:"flex-1 px-4 pb-8 pt-6 md:px-8",children:l.jsx("div",{className:"animate-fade-in",children:l.jsx(aP,{})})}),l.jsx("footer",{className:"border-t border-slate-200 bg-white/50 px-4 py-4 md:px-8",children:l.jsxs("div",{className:"flex flex-col items-center justify-between gap-2 text-xs text-slate-500 sm:flex-row",children:[l.jsx("p",{children:" 2024 Asiss  Dashboard de Operaciones y Logstica"}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success-500 animate-pulse"}),"Sistema operativo"]})]})})]})]})})},cr=({label:e="Cargando..."})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-12 w-12 rounded-full border-[3px] border-slate-200"}),l.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full border-[3px] border-transparent border-t-brand-500 animate-spin"})]}),l.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:e})]}),br=({title:e,description:t,actions:r})=>l.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900 md:text-3xl",children:e}),t&&l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:t})]}),r&&l.jsx("div",{className:"flex flex-wrap items-center gap-3",children:r})]}),C7=({value:e,onChange:t,label:r="Terminal actual"})=>{const n=e.mode==="ALL"?"ALL":e.mode==="GROUP"?`GROUP:${e.value}`:`TERMINAL:${e.value}`,a=i=>{const s=i.target.value;if(s==="ALL"){t(sP);return}if(s.startsWith("GROUP:")){const c=s.replace("GROUP:","");t({mode:"GROUP",value:c});return}const o=s.replace("TERMINAL:","");t({mode:"TERMINAL",value:o})};return l.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-600",children:[l.jsx("span",{className:"mb-1",children:r}),l.jsxs("select",{value:n,onChange:a,className:"input min-w-[200px]","aria-label":"Selector de terminal",children:[l.jsx("option",{value:"ALL",children:"Todos"}),l.jsx("optgroup",{label:"Terminales",children:La.map(i=>l.jsx("option",{value:`TERMINAL:${i.value}`,children:i.label},i.value))}),l.jsx("optgroup",{label:"Grupos",children:w7.map(i=>l.jsx("option",{value:`GROUP:${i.value}`,children:i.label},i.value))})]})]})},Vn=({terminalContext:e,onTerminalChange:t,children:r})=>l.jsx("div",{className:"card p-4 mb-6",children:l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(C7,{value:e,onChange:t})}),r&&l.jsx("div",{className:"flex flex-wrap items-end gap-3 border-t border-slate-100 pt-4 lg:border-0 lg:pt-0",children:r})]})}),wr=({message:e="Ha ocurrido un error",onRetry:t})=>l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-danger-200 bg-danger-50/50 px-6 py-12 text-center",children:[l.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-danger-100 mb-4",children:l.jsx("svg",{className:"h-7 w-7 text-danger-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),l.jsx("p",{className:"text-sm font-semibold text-danger-700",children:e}),l.jsx("p",{className:"mt-1 text-xs text-danger-600 max-w-xs",children:"Por favor intenta de nuevo o contacta soporte si el problema persiste."}),t&&l.jsxs("button",{onClick:t,className:"mt-4 btn btn-secondary text-danger-700 border-danger-300 hover:bg-danger-100",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]}),Dr=({onExportView:e,onExportAll:t})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:e,className:"btn btn-secondary text-sm",children:[l.jsx(le,{name:"clipboard",size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Exportar Vista"}),l.jsx("span",{className:"sm:hidden",children:"Vista"})]}),l.jsxs("button",{onClick:t,className:"btn btn-primary text-sm",children:[l.jsx(le,{name:"layers",size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Exportar Todo"}),l.jsx("span",{className:"sm:hidden",children:"Todo"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Dp={};Dp.version="0.18.5";var oP=1252,k7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lP=function(e){k7.indexOf(e)!=-1&&(oP=e)};function P7(){lP(1252)}var vf=function(e){lP(e)};function R7(){vf(1200),P7()}var h0=function(t){return String.fromCharCode(t)},VE=function(t){return String.fromCharCode(t)},Mp,Ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gf(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Ts.charAt(i)+Ts.charAt(s)+Ts.charAt(o)+Ts.charAt(c);return t}function Fi(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Ts.indexOf(e.charAt(u++)),s=Ts.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Ts.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Ts.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Qi=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function nl(e){return Qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function KE(e){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Oa=function(t){return Qe?Qi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Tv(e){if(typeof ArrayBuffer>"u")return Oa(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function xh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function I7(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Or=Qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Qi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function D7(e){for(var t=[],r=0,n=e.length+250,a=nl(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=nl(65535),n=65530)}return t.push(a.slice(0,r)),Or(t)}var $d=/\u0000/g,p0=/[\u0001-\u0006]/g;function fc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Pa(e,t){var r=""+e;return r.length>=t?r:Bt("0",t-r.length)+r}function m_(e,t){var r=""+e;return r.length>=t?r:Bt(" ",t-r.length)+r}function $p(e,t){var r=""+e;return r.length>=t?r:r+Bt(" ",t-r.length)}function M7(e,t){var r=""+Math.round(e);return r.length>=t?r:Bt("0",t-r.length)+r}function $7(e,t){var r=""+e;return r.length>=t?r:Bt("0",t-r.length)+r}var GE=Math.pow(2,32);function Ol(e,t){if(e>GE||e<-GE)return M7(e,t);var r=Math.round(e);return $7(r,t)}function Lp(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var XE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],px=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function L7(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ht={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},YE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},F7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function m0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=V7(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var cP=new Date(1899,11,31,0,0,0),B7=cP.getTime(),U7=new Date(1900,2,1,0,0,0);function uP(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=U7&&(r+=24*60*60*1e3),(r-(B7+(e.getTimezoneOffset()-cP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function v_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function z7(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function W7(e){var t=e<0?12:11,r=v_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function H7(e){var t=v_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function q7(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=W7(e):t===10?r=e.toFixed(10).substr(0,12):r=H7(e),v_(z7(r.toUpperCase()))}function v1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):q7(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ws(14,uP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function V7(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function K7(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return px[r.m-1][1];case 5:return px[r.m-1][0];default:return px[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return XE[r.q][0];default:return XE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Pa(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Pa(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Pa(c,u):"";return d}function As(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var dP=/%/g;function G7(e,t,r){var n=t.replace(dP,""),a=t.length-n.length;return Ai(e,n,r*Math.pow(10,2*a))+Bt("%",a)}function X7(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ai(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function fP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var hP=/# (\?+)( ?)\/( ?)(\d+)/;function Y7(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Bt(" ",e[1].length+1+e[4].length):m_(s,e[1].length)+e[2]+"/"+e[3]+Pa(o,e[4].length))}function Q7(e,t,r){return r+(t===0?"":""+t)+Bt(" ",e[1].length+2+e[4].length)}var pP=/^#*0*\.([0#]+)/,mP=/\).*[0#]/,vP=/\(###\) ###\\?-####/;function Zr(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function QE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function JE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function J7(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Z7(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Qn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qn("n",n,r):"("+Qn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return X7(e,t,r);if(t.indexOf("%")!==-1)return G7(e,t,r);if(t.indexOf("E")!==-1)return fP(t,r);if(t.charCodeAt(0)===36)return"$"+Qn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ol(c,t.length);if(t.match(/^[#?]+$/))return a=Ol(r,0),a==="0"&&(a=""),a.length>t.length?a:Zr(t.substr(0,t.length-a.length))+a;if(i=t.match(hP))return Y7(i,c,u);if(t.match(/^#+0+$/))return u+Ol(c,t.length-t.indexOf("0"));if(i=t.match(pP))return a=QE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Zr(i[1])).replace(/\.$/,"."+Zr(i[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+Bt("0",Zr(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+QE(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+As(Ol(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qn(e,t,-r):As(""+(Math.floor(r)+J7(r,i[1].length)))+"."+Pa(JE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Qn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fc(Qn(e,t.replace(/[\\-]/g,""),r)),s=0,fc(fc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(vP))return a=Qn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Fp(c,Math.pow(10,s)-1,!1),a=""+u,d=Ai("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=$p(o[2],s),d.length<i[4].length&&(d=Zr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Fp(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?m_(o[1],s)+i[2]+"/"+i[3]+$p(o[2],s):Bt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Ol(r,0),t.length<=a.length?a:Zr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Zr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=JE(r,i[1].length),r<0?"-"+Qn(e,t,-r):As(Z7(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Pa(0,3-g.length):"")+g})+"."+Pa(s,i[1].length);switch(t){case"###,##0.00":return Qn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=As(Ol(c,0));return p!=="0"?u+p:"";case"###,###.00":return Qn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Qn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function eB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ai(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function tB(e,t,r){var n=t.replace(dP,""),a=t.length-n.length;return Ai(e,n,r*Math.pow(10,2*a))+Bt("%",a)}function gP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function qa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qa("n",n,r):"("+qa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return eB(e,t,r);if(t.indexOf("%")!==-1)return tB(e,t,r);if(t.indexOf("E")!==-1)return gP(t,r);if(t.charCodeAt(0)===36)return"$"+qa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Pa(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Zr(t.substr(0,t.length-a.length))+a;if(i=t.match(hP))return Q7(i,c,u);if(t.match(/^#+0+$/))return u+Pa(c,t.length-t.indexOf("0"));if(i=t.match(pP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Zr(i[1])).replace(/\.$/,"."+Zr(i[1])),a=a.replace(/\.(\d*)$/,function(g,v){return"."+v+Bt("0",Zr(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+As(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qa(e,t,-r):As(""+r)+"."+Bt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return qa(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=fc(qa(e,t.replace(/[\\-]/g,""),r)),s=0,fc(fc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(vP))return a=qa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Fp(c,Math.pow(10,s)-1,!1),a=""+u,d=Ai("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=$p(o[2],s),d.length<i[4].length&&(d=Zr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Fp(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?m_(o[1],s)+i[2]+"/"+i[3]+$p(o[2],s):Bt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Zr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Zr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+qa(e,t,-r):As(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Pa(0,3-g.length):"")+g})+"."+Pa(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=As(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return qa(e,t.slice(0,t.lastIndexOf(".")),r)+Zr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ai(e,t,r){return(r|0)===r?qa(e,t,r):Qn(e,t,r)}function rB(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var xP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yP(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Lp(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(xP))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function nB(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Lp(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=m0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=m0(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(u==null&&(u=m0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",s+=5,h="h"):(v.t="t",++s),u==null&&v.t==="T")return"";a[a.length]=v,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(xP)){if(u==null&&(u=m0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",yP(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,b=0,m;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",x<1&&(x=1);break;case"s":(m=a[s].v.match(/\.0+$/))&&(b=Math.max(b,m[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=K7(a[s].t.charCodeAt(0),a[s].v,u,b),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=v1(t,r);break}var w="",S,E;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,E=Ai("n",y,S)):(S=t<0&&n>1?-t:t,E=Ai("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var j=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){j=s;break}var T=a.length;if(j===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=E.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=E.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v)}else if(j!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,s=j;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")-1:a[s].v.length-1,w=a[s].v.substr(d+1);d>=0;--d)_>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(w=E.charAt(_--)+w);a[s].v=w,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v),_=E.indexOf(".")+1,s=j;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==j)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")+1:0,w=a[s].v.substr(0,d);d<a[s].v.length;++d)_<E.length&&(w+=E.charAt(_++));a[s].v=w,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Ai(a[s].t,a[s].v,S),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var ZE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ej(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function aB(e,t){var r=rB(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(ZE),o=r[1].match(ZE);return ej(t,s)?[n,r[0]]:ej(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Ws(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ht)[e],n==null&&(n=r.table&&r.table[YE[e]]||Ht[YE[e]]),n==null&&(n=F7[e]||"General");break}if(Lp(n,0))return v1(t,r);t instanceof Date&&(t=uP(t,r.date1904));var a=aB(n,t);if(Lp(a[1]))return v1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return nB(a[1],t,r,a[0])}function bP(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ht[r]==null){t<0&&(t=r);continue}if(Ht[r]==e){t=r;break}}t<0&&(t=391)}return Ht[t]=e,t}function Av(e){for(var t=0;t!=392;++t)e[t]!==void 0&&bP(e[t],t)}function Nv(){Ht=L7()}var wP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function iB(e){var t=typeof e=="number"?Ht[e]:e;return t=t.replace(wP,"(\\d+)"),new RegExp("^"+t+"$")}function sB(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(wP)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var oB=function(){var e={};e.version="1.2.0";function t(){for(var E=0,j=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,j[T]=E;return typeof Int32Array<"u"?new Int32Array(j):j}var r=t();function n(E){var j=0,T=0,O=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)C[O]=E[O];for(O=0;O!=256;++O)for(T=E[O],j=256+O;j<4096;j+=256)T=C[j]=T>>>8^E[T&255];var M=[];for(O=1;O!=16;++O)M[O-1]=typeof Int32Array<"u"?C.subarray(O*256,O*256+256):C.slice(O*256,O*256+256);return M}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],v=a[10],x=a[11],b=a[12],m=a[13],y=a[14];function _(E,j){for(var T=j^-1,O=0,C=E.length;O<C;)T=T>>>8^r[(T^E.charCodeAt(O++))&255];return~T}function w(E,j){for(var T=j^-1,O=E.length-15,C=0;C<O;)T=y[E[C++]^T&255]^m[E[C++]^T>>8&255]^b[E[C++]^T>>16&255]^x[E[C++]^T>>>24]^v[E[C++]]^g[E[C++]]^p[E[C++]]^h[E[C++]]^f[E[C++]]^d[E[C++]]^u[E[C++]]^c[E[C++]]^o[E[C++]]^s[E[C++]]^i[E[C++]]^r[E[C++]];for(O+=15;C<O;)T=T>>>8^r[(T^E[C++])&255];return~T}function S(E,j){for(var T=j^-1,O=0,C=E.length,M=0,F=0;O<C;)M=E.charCodeAt(O++),M<128?T=T>>>8^r[(T^M)&255]:M<2048?(T=T>>>8^r[(T^(192|M>>6&31))&255],T=T>>>8^r[(T^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,F=E.charCodeAt(O++)&1023,T=T>>>8^r[(T^(240|M>>8&7))&255],T=T>>>8^r[(T^(128|M>>2&63))&255],T=T>>>8^r[(T^(128|F>>6&15|(M&3)<<4))&255],T=T>>>8^r[(T^(128|F&63))&255]):(T=T>>>8^r[(T^(224|M>>12&15))&255],T=T>>>8^r[(T^(128|M>>6&63))&255],T=T>>>8^r[(T^(128|M&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=w,e.str=S,e}(),ut=function(){var t={};t.version="1.2.1";function r(N,I){for(var k=N.split("/"),R=I.split("/"),D=0,L=0,Y=Math.min(k.length,R.length);D<Y;++D){if(L=k[D].length-R[D].length)return L;if(k[D]!=R[D])return k[D]<R[D]?-1:1}return k.length-R.length}function n(N){if(N.charAt(N.length-1)=="/")return N.slice(0,-1).indexOf("/")===-1?N:n(N.slice(0,-1));var I=N.lastIndexOf("/");return I===-1?N:N.slice(0,I+1)}function a(N){if(N.charAt(N.length-1)=="/")return a(N.slice(0,-1));var I=N.lastIndexOf("/");return I===-1?N:N.slice(I+1)}function i(N,I){typeof I=="string"&&(I=new Date(I));var k=I.getHours();k=k<<6|I.getMinutes(),k=k<<5|I.getSeconds()>>>1,N.write_shift(2,k);var R=I.getFullYear()-1980;R=R<<4|I.getMonth()+1,R=R<<5|I.getDate(),N.write_shift(2,R)}function s(N){var I=N.read_shift(2)&65535,k=N.read_shift(2)&65535,R=new Date,D=k&31;k>>>=5;var L=k&15;k>>>=4,R.setMilliseconds(0),R.setFullYear(k+1980),R.setMonth(L-1),R.setDate(D);var Y=I&31;I>>>=5;var ce=I&63;return I>>>=6,R.setHours(I),R.setMinutes(ce),R.setSeconds(Y<<1),R}function o(N){Rn(N,0);for(var I={},k=0;N.l<=N.length-4;){var R=N.read_shift(2),D=N.read_shift(2),L=N.l+D,Y={};switch(R){case 21589:k=N.read_shift(1),k&1&&(Y.mtime=N.read_shift(4)),D>5&&(k&2&&(Y.atime=N.read_shift(4)),k&4&&(Y.ctime=N.read_shift(4))),Y.mtime&&(Y.mt=new Date(Y.mtime*1e3));break}N.l=L,I[R]=Y}return I}var c;function u(){return c||(c={})}function d(N,I){if(N[0]==80&&N[1]==75)return dS(N,I);if((N[0]|32)==109&&(N[1]|32)==105)return b8(N,I);if(N.length<512)throw new Error("CFB file size "+N.length+" < 512");var k=3,R=512,D=0,L=0,Y=0,ce=0,X=0,Q=[],Z=N.slice(0,512);Rn(Z,0);var fe=f(Z);switch(k=fe[0],k){case 3:R=512;break;case 4:R=4096;break;case 0:if(fe[1]==0)return dS(N,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}R!==512&&(Z=N.slice(0,R),Rn(Z,28));var _e=N.slice(0,R);h(Z,k);var Te=Z.read_shift(4,"i");if(k===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);Z.l+=4,Y=Z.read_shift(4,"i"),Z.l+=4,Z.chk("00100000","Mini Stream Cutoff Size: "),ce=Z.read_shift(4,"i"),D=Z.read_shift(4,"i"),X=Z.read_shift(4,"i"),L=Z.read_shift(4,"i");for(var me=-1,je=0;je<109&&(me=Z.read_shift(4,"i"),!(me<0));++je)Q[je]=me;var $e=p(N,R);x(X,L,$e,R,Q);var Ot=m($e,Y,Q,R);Ot[Y].name="!Directory",D>0&&ce!==F&&(Ot[ce].name="!MiniFAT"),Ot[Q[0]].name="!FAT",Ot.fat_addrs=Q,Ot.ssz=R;var Ct={},$r=[],Gu=[],Xu=[];y(Y,Ot,$e,$r,D,Ct,Gu,ce),g(Gu,Xu,$r),$r.shift();var Yu={FileIndex:Gu,FullPaths:Xu};return I&&I.raw&&(Yu.raw={header:_e,sectors:$e}),Yu}function f(N){if(N[N.l]==80&&N[N.l+1]==75)return[0,0];N.chk(q,"Header Signature: "),N.l+=16;var I=N.read_shift(2,"u");return[N.read_shift(2,"u"),I]}function h(N,I){var k=9;switch(N.l+=2,k=N.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}N.chk("0600","Mini Sector Shift: "),N.chk("000000000000","Reserved: ")}function p(N,I){for(var k=Math.ceil(N.length/I)-1,R=[],D=1;D<k;++D)R[D-1]=N.slice(D*I,(D+1)*I);return R[k-1]=N.slice(k*I),R}function g(N,I,k){for(var R=0,D=0,L=0,Y=0,ce=0,X=k.length,Q=[],Z=[];R<X;++R)Q[R]=Z[R]=R,I[R]=k[R];for(;ce<Z.length;++ce)R=Z[ce],D=N[R].L,L=N[R].R,Y=N[R].C,Q[R]===R&&(D!==-1&&Q[D]!==D&&(Q[R]=Q[D]),L!==-1&&Q[L]!==L&&(Q[R]=Q[L])),Y!==-1&&(Q[Y]=R),D!==-1&&R!=Q[R]&&(Q[D]=Q[R],Z.lastIndexOf(D)<ce&&Z.push(D)),L!==-1&&R!=Q[R]&&(Q[L]=Q[R],Z.lastIndexOf(L)<ce&&Z.push(L));for(R=1;R<X;++R)Q[R]===R&&(L!==-1&&Q[L]!==L?Q[R]=Q[L]:D!==-1&&Q[D]!==D&&(Q[R]=Q[D]));for(R=1;R<X;++R)if(N[R].type!==0){if(ce=R,ce!=Q[ce])do ce=Q[ce],I[R]=I[ce]+"/"+I[R];while(ce!==0&&Q[ce]!==-1&&ce!=Q[ce]);Q[R]=-1}for(I[0]+="/",R=1;R<X;++R)N[R].type!==2&&(I[R]+="/")}function v(N,I,k){for(var R=N.start,D=N.size,L=[],Y=R;k&&D>0&&Y>=0;)L.push(I.slice(Y*M,Y*M+M)),D-=M,Y=wo(k,Y*4);return L.length===0?ie(0):Or(L).slice(0,N.size)}function x(N,I,k,R,D){var L=F;if(N===F){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(N!==-1){var Y=k[N],ce=(R>>>2)-1;if(!Y)return;for(var X=0;X<ce&&(L=wo(Y,X*4))!==F;++X)D.push(L);x(wo(Y,R-4),I-1,k,R,D)}}function b(N,I,k,R,D){var L=[],Y=[];D||(D=[]);var ce=R-1,X=0,Q=0;for(X=I;X>=0;){D[X]=!0,L[L.length]=X,Y.push(N[X]);var Z=k[Math.floor(X*4/R)];if(Q=X*4&ce,R<4+Q)throw new Error("FAT boundary crossed: "+X+" 4 "+R);if(!N[Z])break;X=wo(N[Z],Q)}return{nodes:L,data:lj([Y])}}function m(N,I,k,R){var D=N.length,L=[],Y=[],ce=[],X=[],Q=R-1,Z=0,fe=0,_e=0,Te=0;for(Z=0;Z<D;++Z)if(ce=[],_e=Z+I,_e>=D&&(_e-=D),!Y[_e]){X=[];var me=[];for(fe=_e;fe>=0;){me[fe]=!0,Y[fe]=!0,ce[ce.length]=fe,X.push(N[fe]);var je=k[Math.floor(fe*4/R)];if(Te=fe*4&Q,R<4+Te)throw new Error("FAT boundary crossed: "+fe+" 4 "+R);if(!N[je]||(fe=wo(N[je],Te),me[fe]))break}L[_e]={nodes:ce,data:lj([X])}}return L}function y(N,I,k,R,D,L,Y,ce){for(var X=0,Q=R.length?2:0,Z=I[N].data,fe=0,_e=0,Te;fe<Z.length;fe+=128){var me=Z.slice(fe,fe+128);Rn(me,64),_e=me.read_shift(2),Te=w_(me,0,_e-Q),R.push(Te);var je={name:Te,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},$e=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);$e!==0&&(je.ct=_(me,me.l-8));var Ot=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ot!==0&&(je.mt=_(me,me.l-8)),je.start=me.read_shift(4,"i"),je.size=me.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=F,je.name=""),je.type===5?(X=je.start,D>0&&X!==F&&(I[X].name="!StreamData")):je.size>=4096?(je.storage="fat",I[je.start]===void 0&&(I[je.start]=b(k,je.start,I.fat_addrs,I.ssz)),I[je.start].name=je.name,je.content=I[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:X!==F&&je.start!==F&&I[X]&&(je.content=v(je,I[X].data,(I[ce]||{}).data))),je.content&&Rn(je.content,0),L[Te]=je,Y.push(je)}}function _(N,I){return new Date((Dn(N,I+4)/1e7*Math.pow(2,32)+Dn(N,I)/1e7-11644473600)*1e3)}function w(N,I){return u(),d(c.readFileSync(N),I)}function S(N,I){var k=I&&I.type;switch(k||Qe&&Buffer.isBuffer(N)&&(k="buffer"),k||"base64"){case"file":return w(N,I);case"base64":return d(Oa(Fi(N)),I);case"binary":return d(Oa(N),I)}return d(N,I)}function E(N,I){var k=I||{},R=k.root||"Root Entry";if(N.FullPaths||(N.FullPaths=[]),N.FileIndex||(N.FileIndex=[]),N.FullPaths.length!==N.FileIndex.length)throw new Error("inconsistent CFB structure");N.FullPaths.length===0&&(N.FullPaths[0]=R+"/",N.FileIndex[0]={name:R,type:5}),k.CLSID&&(N.FileIndex[0].clsid=k.CLSID),j(N)}function j(N){var I="Sh33tJ5";if(!ut.find(N,"/"+I)){var k=ie(4);k[0]=55,k[1]=k[3]=50,k[2]=54,N.FileIndex.push({name:I,type:2,content:k,size:4,L:69,R:69,C:69}),N.FullPaths.push(N.FullPaths[0]+I),T(N)}}function T(N,I){E(N);for(var k=!1,R=!1,D=N.FullPaths.length-1;D>=0;--D){var L=N.FileIndex[D];switch(L.type){case 0:R?k=!0:(N.FileIndex.pop(),N.FullPaths.pop());break;case 1:case 2:case 5:R=!0,isNaN(L.R*L.L*L.C)&&(k=!0),L.R>-1&&L.L>-1&&L.R==L.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!I)){var Y=new Date(1987,1,19),ce=0,X=Object.create?Object.create(null):{},Q=[];for(D=0;D<N.FullPaths.length;++D)X[N.FullPaths[D]]=!0,N.FileIndex[D].type!==0&&Q.push([N.FullPaths[D],N.FileIndex[D]]);for(D=0;D<Q.length;++D){var Z=n(Q[D][0]);R=X[Z],R||(Q.push([Z,{name:a(Z).replace("/",""),type:1,clsid:ne,ct:Y,mt:Y,content:null}]),X[Z]=!0)}for(Q.sort(function(Te,me){return r(Te[0],me[0])}),N.FullPaths=[],N.FileIndex=[],D=0;D<Q.length;++D)N.FullPaths[D]=Q[D][0],N.FileIndex[D]=Q[D][1];for(D=0;D<Q.length;++D){var fe=N.FileIndex[D],_e=N.FullPaths[D];if(fe.name=a(_e).replace("/",""),fe.L=fe.R=fe.C=-(fe.color=1),fe.size=fe.content?fe.content.length:0,fe.start=0,fe.clsid=fe.clsid||ne,D===0)fe.C=Q.length>1?1:-1,fe.size=0,fe.type=5;else if(_e.slice(-1)=="/"){for(ce=D+1;ce<Q.length&&n(N.FullPaths[ce])!=_e;++ce);for(fe.C=ce>=Q.length?-1:ce,ce=D+1;ce<Q.length&&n(N.FullPaths[ce])!=n(_e);++ce);fe.R=ce>=Q.length?-1:ce,fe.type=1}else n(N.FullPaths[D+1]||"")==n(_e)&&(fe.R=D+1),fe.type=2}}}function O(N,I){var k=I||{};if(k.fileType=="mad")return w8(N,k);switch(T(N),k.fileType){case"zip":return p8(N,k)}var R=function(Te){for(var me=0,je=0,$e=0;$e<Te.FileIndex.length;++$e){var Ot=Te.FileIndex[$e];if(Ot.content){var Ct=Ot.content.length;Ct>0&&(Ct<4096?me+=Ct+63>>6:je+=Ct+511>>9)}}for(var $r=Te.FullPaths.length+3>>2,Gu=me+7>>3,Xu=me+127>>7,Yu=Gu+je+$r+Xu,so=Yu+127>>7,$g=so<=109?0:Math.ceil((so-109)/127);Yu+so+$g+127>>7>so;)$g=++so<=109?0:Math.ceil((so-109)/127);var di=[1,$g,so,Xu,$r,je,me,0];return Te.FileIndex[0].size=me<<6,di[7]=(Te.FileIndex[0].start=di[0]+di[1]+di[2]+di[3]+di[4]+di[5])+(di[6]+7>>3),di}(N),D=ie(R[7]<<9),L=0,Y=0;{for(L=0;L<8;++L)D.write_shift(1,V[L]);for(L=0;L<8;++L)D.write_shift(2,0);for(D.write_shift(2,62),D.write_shift(2,3),D.write_shift(2,65534),D.write_shift(2,9),D.write_shift(2,6),L=0;L<3;++L)D.write_shift(2,0);for(D.write_shift(4,0),D.write_shift(4,R[2]),D.write_shift(4,R[0]+R[1]+R[2]+R[3]-1),D.write_shift(4,0),D.write_shift(4,4096),D.write_shift(4,R[3]?R[0]+R[1]+R[2]-1:F),D.write_shift(4,R[3]),D.write_shift(-4,R[1]?R[0]-1:F),D.write_shift(4,R[1]),L=0;L<109;++L)D.write_shift(-4,L<R[2]?R[1]+L:-1)}if(R[1])for(Y=0;Y<R[1];++Y){for(;L<236+Y*127;++L)D.write_shift(-4,L<R[2]?R[1]+L:-1);D.write_shift(-4,Y===R[1]-1?F:Y+1)}var ce=function(Te){for(Y+=Te;L<Y-1;++L)D.write_shift(-4,L+1);Te&&(++L,D.write_shift(-4,F))};for(Y=L=0,Y+=R[1];L<Y;++L)D.write_shift(-4,se.DIFSECT);for(Y+=R[2];L<Y;++L)D.write_shift(-4,se.FATSECT);ce(R[3]),ce(R[4]);for(var X=0,Q=0,Z=N.FileIndex[0];X<N.FileIndex.length;++X)Z=N.FileIndex[X],Z.content&&(Q=Z.content.length,!(Q<4096)&&(Z.start=Y,ce(Q+511>>9)));for(ce(R[6]+7>>3);D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(Y=L=0,X=0;X<N.FileIndex.length;++X)Z=N.FileIndex[X],Z.content&&(Q=Z.content.length,!(!Q||Q>=4096)&&(Z.start=Y,ce(Q+63>>6)));for(;D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(L=0;L<R[4]<<2;++L){var fe=N.FullPaths[L];if(!fe||fe.length===0){for(X=0;X<17;++X)D.write_shift(4,0);for(X=0;X<3;++X)D.write_shift(4,-1);for(X=0;X<12;++X)D.write_shift(4,0);continue}Z=N.FileIndex[L],L===0&&(Z.start=Z.size?Z.start-1:F);var _e=L===0&&k.root||Z.name;if(Q=2*(_e.length+1),D.write_shift(64,_e,"utf16le"),D.write_shift(2,Q),D.write_shift(1,Z.type),D.write_shift(1,Z.color),D.write_shift(-4,Z.L),D.write_shift(-4,Z.R),D.write_shift(-4,Z.C),Z.clsid)D.write_shift(16,Z.clsid,"hex");else for(X=0;X<4;++X)D.write_shift(4,0);D.write_shift(4,Z.state||0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,Z.start),D.write_shift(4,Z.size),D.write_shift(4,0)}for(L=1;L<N.FileIndex.length;++L)if(Z=N.FileIndex[L],Z.size>=4096)if(D.l=Z.start+1<<9,Qe&&Buffer.isBuffer(Z.content))Z.content.copy(D,D.l,0,Z.size),D.l+=Z.size+511&-512;else{for(X=0;X<Z.size;++X)D.write_shift(1,Z.content[X]);for(;X&511;++X)D.write_shift(1,0)}for(L=1;L<N.FileIndex.length;++L)if(Z=N.FileIndex[L],Z.size>0&&Z.size<4096)if(Qe&&Buffer.isBuffer(Z.content))Z.content.copy(D,D.l,0,Z.size),D.l+=Z.size+63&-64;else{for(X=0;X<Z.size;++X)D.write_shift(1,Z.content[X]);for(;X&63;++X)D.write_shift(1,0)}if(Qe)D.l=D.length;else for(;D.l<D.length;)D.write_shift(1,0);return D}function C(N,I){var k=N.FullPaths.map(function(X){return X.toUpperCase()}),R=k.map(function(X){var Q=X.split("/");return Q[Q.length-(X.slice(-1)=="/"?2:1)]}),D=!1;I.charCodeAt(0)===47?(D=!0,I=k[0].slice(0,-1)+I):D=I.indexOf("/")!==-1;var L=I.toUpperCase(),Y=D===!0?k.indexOf(L):R.indexOf(L);if(Y!==-1)return N.FileIndex[Y];var ce=!L.match(p0);for(L=L.replace($d,""),ce&&(L=L.replace(p0,"!")),Y=0;Y<k.length;++Y)if((ce?k[Y].replace(p0,"!"):k[Y]).replace($d,"")==L||(ce?R[Y].replace(p0,"!"):R[Y]).replace($d,"")==L)return N.FileIndex[Y];return null}var M=64,F=-2,q="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(N,I,k){u();var R=O(N,k);c.writeFileSync(I,R)}function te(N){for(var I=new Array(N.length),k=0;k<N.length;++k)I[k]=String.fromCharCode(N[k]);return I.join("")}function ue(N,I){var k=O(N,I);switch(I&&I.type||"buffer"){case"file":return u(),c.writeFileSync(I.filename,k),k;case"binary":return typeof k=="string"?k:te(k);case"base64":return gf(typeof k=="string"?k:te(k));case"buffer":if(Qe)return Buffer.isBuffer(k)?k:Qi(k);case"array":return typeof k=="string"?Oa(k):k}return k}var pe;function P(N){try{var I=N.InflateRaw,k=new I;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)pe=N;else throw new Error("zlib does not expose bytesRead")}catch(R){console.error("cannot use native zlib: "+(R.message||R))}}function H(N,I){if(!pe)return cS(N,I);var k=pe.InflateRaw,R=new k,D=R._processChunk(N.slice(N.l),R._finishFlushFlag);return N.l+=R.bytesRead,D}function U(N){return pe?pe.deflateRawSync(N):nS(N)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function J(N){var I=(N<<1|N<<11)&139536|(N<<5|N<<15)&558144;return(I>>16|I>>8|I)&255}for(var K=typeof Uint8Array<"u",ee=K?new Uint8Array(256):[],be=0;be<256;++be)ee[be]=J(be);function re(N,I){var k=ee[N&255];return I<=8?k>>>8-I:(k=k<<8|ee[N>>8&255],I<=16?k>>>16-I:(k=k<<8|ee[N>>16&255],k>>>24-I))}function Le(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=6?0:N[R+1]<<8))>>>k&3}function Ce(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=5?0:N[R+1]<<8))>>>k&7}function rt(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=4?0:N[R+1]<<8))>>>k&15}function Fe(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=3?0:N[R+1]<<8))>>>k&31}function we(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=1?0:N[R+1]<<8))>>>k&127}function qt(N,I,k){var R=I&7,D=I>>>3,L=(1<<k)-1,Y=N[D]>>>R;return k<8-R||(Y|=N[D+1]<<8-R,k<16-R)||(Y|=N[D+2]<<16-R,k<24-R)||(Y|=N[D+3]<<24-R),Y&L}function Mr(N,I,k){var R=I&7,D=I>>>3;return R<=5?N[D]|=(k&7)<<R:(N[D]|=k<<R&255,N[D+1]=(k&7)>>8-R),I+3}function Kn(N,I,k){var R=I&7,D=I>>>3;return k=(k&1)<<R,N[D]|=k,I+1}function dn(N,I,k){var R=I&7,D=I>>>3;return k<<=R,N[D]|=k&255,k>>>=8,N[D+1]=k,I+8}function Wa(N,I,k){var R=I&7,D=I>>>3;return k<<=R,N[D]|=k&255,k>>>=8,N[D+1]=k&255,N[D+2]=k>>>8,I+16}function no(N,I){var k=N.length,R=2*k>I?2*k:I+5,D=0;if(k>=I)return N;if(Qe){var L=KE(R);if(N.copy)N.copy(L);else for(;D<N.length;++D)L[D]=N[D];return L}else if(K){var Y=new Uint8Array(R);if(Y.set)Y.set(N);else for(;D<k;++D)Y[D]=N[D];return Y}return N.length=R,N}function Nn(N){for(var I=new Array(N),k=0;k<N;++k)I[k]=0;return I}function ao(N,I,k){var R=1,D=0,L=0,Y=0,ce=0,X=N.length,Q=K?new Uint16Array(32):Nn(32);for(L=0;L<32;++L)Q[L]=0;for(L=X;L<k;++L)N[L]=0;X=N.length;var Z=K?new Uint16Array(X):Nn(X);for(L=0;L<X;++L)Q[D=N[L]]++,R<D&&(R=D),Z[L]=0;for(Q[0]=0,L=1;L<=R;++L)Q[L+16]=ce=ce+Q[L-1]<<1;for(L=0;L<X;++L)ce=N[L],ce!=0&&(Z[L]=Q[ce+16]++);var fe=0;for(L=0;L<X;++L)if(fe=N[L],fe!=0)for(ce=re(Z[L],R)>>R-fe,Y=(1<<R+4-fe)-1;Y>=0;--Y)I[ce|Y<<fe]=fe&15|L<<4;return R}var Ig=K?new Uint16Array(512):Nn(512),Dg=K?new Uint16Array(32):Nn(32);if(!K){for(var io=0;io<512;++io)Ig[io]=0;for(io=0;io<32;++io)Dg[io]=0}(function(){for(var N=[],I=0;I<32;I++)N.push(5);ao(N,Dg,32);var k=[];for(I=0;I<=143;I++)k.push(8);for(;I<=255;I++)k.push(9);for(;I<=279;I++)k.push(7);for(;I<=287;I++)k.push(8);ao(k,Ig,288)})();var u8=function(){for(var I=K?new Uint8Array(32768):[],k=0,R=0;k<Se.length-1;++k)for(;R<Se[k+1];++R)I[R]=k;for(;R<32768;++R)I[R]=29;var D=K?new Uint8Array(259):[];for(k=0,R=0;k<ae.length-1;++k)for(;R<ae[k+1];++R)D[R]=k;function L(ce,X){for(var Q=0;Q<ce.length;){var Z=Math.min(65535,ce.length-Q),fe=Q+Z==ce.length;for(X.write_shift(1,+fe),X.write_shift(2,Z),X.write_shift(2,~Z&65535);Z-- >0;)X[X.l++]=ce[Q++]}return X.l}function Y(ce,X){for(var Q=0,Z=0,fe=K?new Uint16Array(32768):[];Z<ce.length;){var _e=Math.min(65535,ce.length-Z);if(_e<10){for(Q=Mr(X,Q,+(Z+_e==ce.length)),Q&7&&(Q+=8-(Q&7)),X.l=Q/8|0,X.write_shift(2,_e),X.write_shift(2,~_e&65535);_e-- >0;)X[X.l++]=ce[Z++];Q=X.l*8;continue}Q=Mr(X,Q,+(Z+_e==ce.length)+2);for(var Te=0;_e-- >0;){var me=ce[Z];Te=(Te<<5^me)&32767;var je=-1,$e=0;if((je=fe[Te])&&(je|=Z&-32768,je>Z&&(je-=32768),je<Z))for(;ce[je+$e]==ce[Z+$e]&&$e<250;)++$e;if($e>2){me=D[$e],me<=22?Q=dn(X,Q,ee[me+1]>>1)-1:(dn(X,Q,3),Q+=5,dn(X,Q,ee[me-23]>>5),Q+=3);var Ot=me<8?0:me-4>>2;Ot>0&&(Wa(X,Q,$e-ae[me]),Q+=Ot),me=I[Z-je],Q=dn(X,Q,ee[me]>>3),Q-=3;var Ct=me<4?0:me-2>>1;Ct>0&&(Wa(X,Q,Z-je-Se[me]),Q+=Ct);for(var $r=0;$r<$e;++$r)fe[Te]=Z&32767,Te=(Te<<5^ce[Z])&32767,++Z;_e-=$e-1}else me<=143?me=me+48:Q=Kn(X,Q,1),Q=dn(X,Q,ee[me]),fe[Te]=Z&32767,++Z}Q=dn(X,Q,0)-1}return X.l=(Q+7)/8|0,X.l}return function(X,Q){return X.length<8?L(X,Q):Y(X,Q)}}();function nS(N){var I=ie(50+Math.floor(N.length*1.1)),k=u8(N,I);return I.slice(0,k)}var aS=K?new Uint16Array(32768):Nn(32768),iS=K?new Uint16Array(32768):Nn(32768),sS=K?new Uint16Array(128):Nn(128),oS=1,lS=1;function d8(N,I){var k=Fe(N,I)+257;I+=5;var R=Fe(N,I)+1;I+=5;var D=rt(N,I)+4;I+=4;for(var L=0,Y=K?new Uint8Array(19):Nn(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Q=K?new Uint8Array(8):Nn(8),Z=K?new Uint8Array(8):Nn(8),fe=Y.length,_e=0;_e<D;++_e)Y[W[_e]]=L=Ce(N,I),X<L&&(X=L),Q[L]++,I+=3;var Te=0;for(Q[0]=0,_e=1;_e<=X;++_e)Z[_e]=Te=Te+Q[_e-1]<<1;for(_e=0;_e<fe;++_e)(Te=Y[_e])!=0&&(ce[_e]=Z[Te]++);var me=0;for(_e=0;_e<fe;++_e)if(me=Y[_e],me!=0){Te=ee[ce[_e]]>>8-me;for(var je=(1<<7-me)-1;je>=0;--je)sS[Te|je<<me]=me&7|_e<<3}var $e=[];for(X=1;$e.length<k+R;)switch(Te=sS[we(N,I)],I+=Te&7,Te>>>=3){case 16:for(L=3+Le(N,I),I+=2,Te=$e[$e.length-1];L-- >0;)$e.push(Te);break;case 17:for(L=3+Ce(N,I),I+=3;L-- >0;)$e.push(0);break;case 18:for(L=11+we(N,I),I+=7;L-- >0;)$e.push(0);break;default:$e.push(Te),X<Te&&(X=Te);break}var Ot=$e.slice(0,k),Ct=$e.slice(k);for(_e=k;_e<286;++_e)Ot[_e]=0;for(_e=R;_e<30;++_e)Ct[_e]=0;return oS=ao(Ot,aS,286),lS=ao(Ct,iS,30),I}function f8(N,I){if(N[0]==3&&!(N[1]&3))return[nl(I),2];for(var k=0,R=0,D=KE(I||1<<18),L=0,Y=D.length>>>0,ce=0,X=0;!(R&1);){if(R=Ce(N,k),k+=3,R>>>1)R>>1==1?(ce=9,X=5):(k=d8(N,k),ce=oS,X=lS);else{k&7&&(k+=8-(k&7));var Q=N[k>>>3]|N[(k>>>3)+1]<<8;if(k+=32,Q>0)for(!I&&Y<L+Q&&(D=no(D,L+Q),Y=D.length);Q-- >0;)D[L++]=N[k>>>3],k+=8;continue}for(;;){!I&&Y<L+32767&&(D=no(D,L+32767),Y=D.length);var Z=qt(N,k,ce),fe=R>>>1==1?Ig[Z]:aS[Z];if(k+=fe&15,fe>>>=4,!(fe>>>8&255))D[L++]=fe;else{if(fe==256)break;fe-=257;var _e=fe<8?0:fe-4>>2;_e>5&&(_e=0);var Te=L+ae[fe];_e>0&&(Te+=qt(N,k,_e),k+=_e),Z=qt(N,k,X),fe=R>>>1==1?Dg[Z]:iS[Z],k+=fe&15,fe>>>=4;var me=fe<4?0:fe-2>>1,je=Se[fe];for(me>0&&(je+=qt(N,k,me),k+=me),!I&&Y<Te&&(D=no(D,Te+100),Y=D.length);L<Te;)D[L]=D[L-je],++L}}}return I?[D,k+7>>>3]:[D.slice(0,L),k+7>>>3]}function cS(N,I){var k=N.slice(N.l||0),R=f8(k,I);return N.l+=R[1],R[0]}function uS(N,I){if(N)typeof console<"u"&&console.error(I);else throw new Error(I)}function dS(N,I){var k=N;Rn(k,0);var R=[],D=[],L={FileIndex:R,FullPaths:D};E(L,{root:I.root});for(var Y=k.length-4;(k[Y]!=80||k[Y+1]!=75||k[Y+2]!=5||k[Y+3]!=6)&&Y>=0;)--Y;k.l=Y+4,k.l+=4;var ce=k.read_shift(2);k.l+=6;var X=k.read_shift(4);for(k.l=X,Y=0;Y<ce;++Y){k.l+=20;var Q=k.read_shift(4),Z=k.read_shift(4),fe=k.read_shift(2),_e=k.read_shift(2),Te=k.read_shift(2);k.l+=8;var me=k.read_shift(4),je=o(k.slice(k.l+fe,k.l+fe+_e));k.l+=fe+_e+Te;var $e=k.l;k.l=me+4,h8(k,Q,Z,L,je),k.l=$e}return L}function h8(N,I,k,R,D){N.l+=2;var L=N.read_shift(2),Y=N.read_shift(2),ce=s(N);if(L&8257)throw new Error("Unsupported ZIP encryption");for(var X=N.read_shift(4),Q=N.read_shift(4),Z=N.read_shift(4),fe=N.read_shift(2),_e=N.read_shift(2),Te="",me=0;me<fe;++me)Te+=String.fromCharCode(N[N.l++]);if(_e){var je=o(N.slice(N.l,N.l+_e));(je[21589]||{}).mt&&(ce=je[21589].mt),((D||{})[21589]||{}).mt&&(ce=D[21589].mt)}N.l+=_e;var $e=N.slice(N.l,N.l+Q);switch(Y){case 8:$e=H(N,Z);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Y)}var Ot=!1;L&8&&(X=N.read_shift(4),X==134695760&&(X=N.read_shift(4),Ot=!0),Q=N.read_shift(4),Z=N.read_shift(4)),Q!=I&&uS(Ot,"Bad compressed size: "+I+" != "+Q),Z!=k&&uS(Ot,"Bad uncompressed size: "+k+" != "+Z),Mg(R,Te,$e,{unsafe:!0,mt:ce})}function p8(N,I){var k=I||{},R=[],D=[],L=ie(1),Y=k.compression?8:0,ce=0,X=0,Q=0,Z=0,fe=0,_e=N.FullPaths[0],Te=_e,me=N.FileIndex[0],je=[],$e=0;for(X=1;X<N.FullPaths.length;++X)if(Te=N.FullPaths[X].slice(_e.length),me=N.FileIndex[X],!(!me.size||!me.content||Te=="Sh33tJ5")){var Ot=Z,Ct=ie(Te.length);for(Q=0;Q<Te.length;++Q)Ct.write_shift(1,Te.charCodeAt(Q)&127);Ct=Ct.slice(0,Ct.l),je[fe]=oB.buf(me.content,0);var $r=me.content;Y==8&&($r=U($r)),L=ie(30),L.write_shift(4,67324752),L.write_shift(2,20),L.write_shift(2,ce),L.write_shift(2,Y),me.mt?i(L,me.mt):L.write_shift(4,0),L.write_shift(-4,je[fe]),L.write_shift(4,$r.length),L.write_shift(4,me.content.length),L.write_shift(2,Ct.length),L.write_shift(2,0),Z+=L.length,R.push(L),Z+=Ct.length,R.push(Ct),Z+=$r.length,R.push($r),L=ie(46),L.write_shift(4,33639248),L.write_shift(2,0),L.write_shift(2,20),L.write_shift(2,ce),L.write_shift(2,Y),L.write_shift(4,0),L.write_shift(-4,je[fe]),L.write_shift(4,$r.length),L.write_shift(4,me.content.length),L.write_shift(2,Ct.length),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(4,0),L.write_shift(4,Ot),$e+=L.l,D.push(L),$e+=Ct.length,D.push(Ct),++fe}return L=ie(22),L.write_shift(4,101010256),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,fe),L.write_shift(2,fe),L.write_shift(4,$e),L.write_shift(4,Z),L.write_shift(2,0),Or([Or(R),Or(D),L])}var Hh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function m8(N,I){if(N.ctype)return N.ctype;var k=N.name||"",R=k.match(/\.([^\.]+)$/);return R&&Hh[R[1]]||I&&(R=(k=I).match(/[\.\\]([^\.\\])+$/),R&&Hh[R[1]])?Hh[R[1]]:"application/octet-stream"}function v8(N){for(var I=gf(N),k=[],R=0;R<I.length;R+=76)k.push(I.slice(R,R+76));return k.join(`\r
`)+`\r
`}function g8(N){var I=N.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Q){var Z=Q.charCodeAt(0).toString(16).toUpperCase();return"="+(Z.length==1?"0"+Z:Z)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],R=I.split(`\r
`),D=0;D<R.length;++D){var L=R[D];if(L.length==0){k.push("");continue}for(var Y=0;Y<L.length;){var ce=76,X=L.slice(Y,Y+ce);X.charAt(ce-1)=="="?ce--:X.charAt(ce-2)=="="?ce-=2:X.charAt(ce-3)=="="&&(ce-=3),X=L.slice(Y,Y+ce),Y+=ce,Y<L.length&&(X+="="),k.push(X)}}return k.join(`\r
`)}function x8(N){for(var I=[],k=0;k<N.length;++k){for(var R=N[k];k<=N.length&&R.charAt(R.length-1)=="=";)R=R.slice(0,R.length-1)+N[++k];I.push(R)}for(var D=0;D<I.length;++D)I[D]=I[D].replace(/[=][0-9A-Fa-f]{2}/g,function(L){return String.fromCharCode(parseInt(L.slice(1),16))});return Oa(I.join(`\r
`))}function y8(N,I,k){for(var R="",D="",L="",Y,ce=0;ce<10;++ce){var X=I[ce];if(!X||X.match(/^\s*$/))break;var Q=X.match(/^(.*?):\s*([^\s].*)$/);if(Q)switch(Q[1].toLowerCase()){case"content-location":R=Q[2].trim();break;case"content-type":L=Q[2].trim();break;case"content-transfer-encoding":D=Q[2].trim();break}}switch(++ce,D.toLowerCase()){case"base64":Y=Oa(Fi(I.slice(ce).join("")));break;case"quoted-printable":Y=x8(I.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+D)}var Z=Mg(N,R.slice(k.length),Y,{unsafe:!0});L&&(Z.ctype=L)}function b8(N,I){if(te(N.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=I&&I.root||"",R=(Qe&&Buffer.isBuffer(N)?N.toString("binary"):te(N)).split(`\r
`),D=0,L="";for(D=0;D<R.length;++D)if(L=R[D],!!/^Content-Location:/i.test(L)&&(L=L.slice(L.indexOf("file")),k||(k=L.slice(0,L.lastIndexOf("/")+1)),L.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),L.slice(0,k.length)!=k););var Y=(R[1]||"").match(/boundary="(.*?)"/);if(!Y)throw new Error("MAD cannot find boundary");var ce="--"+(Y[1]||""),X=[],Q=[],Z={FileIndex:X,FullPaths:Q};E(Z);var fe,_e=0;for(D=0;D<R.length;++D){var Te=R[D];Te!==ce&&Te!==ce+"--"||(_e++&&y8(Z,R.slice(fe,D),k),fe=D)}return Z}function w8(N,I){var k=I||{},R=k.boundary||"SheetJS";R="------="+R;for(var D=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+R.slice(2)+'"',"","",""],L=N.FullPaths[0],Y=L,ce=N.FileIndex[0],X=1;X<N.FullPaths.length;++X)if(Y=N.FullPaths[X].slice(L.length),ce=N.FileIndex[X],!(!ce.size||!ce.content||Y=="Sh33tJ5")){Y=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var Q=ce.content,Z=Qe&&Buffer.isBuffer(Q)?Q.toString("binary"):te(Q),fe=0,_e=Math.min(1024,Z.length),Te=0,me=0;me<=_e;++me)(Te=Z.charCodeAt(me))>=32&&Te<128&&++fe;var je=fe>=_e*4/5;D.push(R),D.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+Y),D.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),D.push("Content-Type: "+m8(ce,Y)),D.push(""),D.push(je?g8(Z):v8(Z))}return D.push(R+`--\r
`),D.join(`\r
`)}function _8(N){var I={};return E(I,N),I}function Mg(N,I,k,R){var D=R&&R.unsafe;D||E(N);var L=!D&&ut.find(N,I);if(!L){var Y=N.FullPaths[0];I.slice(0,Y.length)==Y?Y=I:(Y.slice(-1)!="/"&&(Y+="/"),Y=(Y+I).replace("//","/")),L={name:a(I),type:2},N.FileIndex.push(L),N.FullPaths.push(Y),D||ut.utils.cfb_gc(N)}return L.content=k,L.size=k?k.length:0,R&&(R.CLSID&&(L.clsid=R.CLSID),R.mt&&(L.mt=R.mt),R.ct&&(L.ct=R.ct)),L}function S8(N,I){E(N);var k=ut.find(N,I);if(k){for(var R=0;R<N.FileIndex.length;++R)if(N.FileIndex[R]==k)return N.FileIndex.splice(R,1),N.FullPaths.splice(R,1),!0}return!1}function E8(N,I,k){E(N);var R=ut.find(N,I);if(R){for(var D=0;D<N.FileIndex.length;++D)if(N.FileIndex[D]==R)return N.FileIndex[D].name=a(k),N.FullPaths[D]=k,!0}return!1}function j8(N){T(N,!0)}return t.find=C,t.read=S,t.parse=d,t.write=ue,t.writeFile=G,t.utils={cfb_new:_8,cfb_add:Mg,cfb_del:S8,cfb_mov:E8,cfb_gc:j8,ReadShift:Fd,CheckField:FP,prep_blob:Rn,bconcat:Or,use_zlib:P,_deflateRaw:nS,_inflateRaw:cS,consts:se},t}();function lB(e){return typeof e=="string"?Tv(e):Array.isArray(e)?I7(e):e}function yh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Tv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?yf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([lB(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=xh(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Ir(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function tj(e,t){for(var r=[],n=Ir(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function g_(e){for(var t=[],r=Ir(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Ov(e){for(var t=[],r=Ir(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function cB(e){for(var t=[],r=Ir(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Bp=new Date(1899,11,30,0,0,0);function jn(e,t){var r=e.getTime(),n=Bp.getTime()+(e.getTimezoneOffset()-Bp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var _P=new Date,uB=Bp.getTime()+(_P.getTimezoneOffset()-Bp.getTimezoneOffset())*6e4,rj=_P.getTimezoneOffset();function SP(e){var t=new Date;return t.setTime(e*24*60*60*1e3+uB),t.getTimezoneOffset()!==rj&&t.setTime(t.getTime()+(t.getTimezoneOffset()-rj)*6e4),t}var nj=new Date("2017-02-19T19:06:09.000Z"),EP=isNaN(nj.getFullYear())?new Date("2/19/17"):nj,dB=EP.getFullYear()==2017;function on(e,t){var r=new Date(e);if(dB)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(EP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Cv(e,t){if(Qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Tn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Tn(e[r]));return t}function Bt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ni(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var fB=["january","february","march","april","may","june","july","august","september","october","november","december"];function xf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&fB.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ue(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qe?n=Qi(r):n=D7(r),ut.utils.cfb_add(e,t,n)}ut.utils.cfb_add(e,t,r)}else e.file(t,r)}function x_(){return ut.utils.cfb_new()}var tr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,hB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},y_=g_(hB),b_=/[&<>'"]/g,pB=/[\u0000-\u0008\u000b-\u001f]/g;function st(e){var t=e+"";return t.replace(b_,function(r){return y_[r]}).replace(pB,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function aj(e){return st(e).replace(/ /g,"_x0020_")}var jP=/[\u0000-\u001f]/g;function mB(e){var t=e+"";return t.replace(b_,function(r){return y_[r]}).replace(/\n/g,"<br/>").replace(jP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function vB(e){var t=e+"";return t.replace(b_,function(r){return y_[r]}).replace(jP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function gB(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function xB(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function mx(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ij(e){var t=nl(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function sj(e){return Qi(e,"binary").toString("utf8")}var v0="foo bar baz",Ld=Qe&&(sj(v0)==mx(v0)&&sj||ij(v0)==mx(v0)&&ij)||mx,yf=Qe?function(e){return Qi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},yB=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),TP=/(^\s|\s$|\n)/;function Cr(e,t){return"<"+e+(t.match(TP)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bf(e){return Ir(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ge(e,t,r){return"<"+e+(r!=null?bf(r):"")+(t!=null?(t.match(TP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function g1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function bB(e,t){switch(typeof e){case"string":var r=ge("vt:lpwstr",st(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ge((e|0)==e?"vt:i4":"vt:r8",st(String(e)));case"boolean":return ge("vt:bool",e?"true":"false")}if(e instanceof Date)return ge("vt:filetime",g1(e));throw new Error("Unable to serialize "+e)}var vr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Au=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],In={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function wB(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function _B(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var oj=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},lj=Qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Qi(t)})):oj(e)}:oj,cj=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Sd(e,a)));return n.join("").replace($d,"")},w_=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace($d,""):cj(e,t,r)}:cj,uj=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},AP=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):uj(e,t,r)}:uj,dj=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Fl(e,a)));return n.join("")},bh=Qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):dj(t,r,n)}:dj,NP=function(e,t){var r=Dn(e,t);return r>0?bh(e,t+4,t+4+r-1):""},OP=NP,CP=function(e,t){var r=Dn(e,t);return r>0?bh(e,t+4,t+4+r-1):""},kP=CP,PP=function(e,t){var r=2*Dn(e,t);return r>0?bh(e,t+4,t+4+r-1):""},RP=PP,IP=function(t,r){var n=Dn(t,r);return n>0?w_(t,r+4,r+4+n):""},DP=IP,MP=function(e,t){var r=Dn(e,t);return r>0?bh(e,t+4,t+4+r):""},$P=MP,LP=function(e,t){return wB(e,t)},Up=LP,__=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qe&&(OP=function(t,r){if(!Buffer.isBuffer(t))return NP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kP=function(t,r){if(!Buffer.isBuffer(t))return CP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},RP=function(t,r){if(!Buffer.isBuffer(t))return PP(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},DP=function(t,r){if(!Buffer.isBuffer(t))return IP(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},$P=function(t,r){if(!Buffer.isBuffer(t))return MP(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Up=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):LP(t,r)},__=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Fl=function(e,t){return e[t]},Sd=function(e,t){return e[t+1]*256+e[t]},SB=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Dn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},EB=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fd(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Sd(this,u)),u+=2;e*=2;break;case"utf8":r=bh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=w_(this,this.l,this.l+e);break;case"wstr":return Fd.call(this,e,"dbcs");case"lpstr-ansi":r=OP(this,this.l),e=4+Dn(this,this.l);break;case"lpstr-cp":r=kP(this,this.l),e=4+Dn(this,this.l);break;case"lpwstr":r=RP(this,this.l),e=4+2*Dn(this,this.l);break;case"lpp4":e=4+Dn(this,this.l),r=DP(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Dn(this,this.l),r=$P(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Fl(this,this.l+e++))!==0;)i.push(h0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Sd(this,this.l+e))!==0;)i.push(h0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Fl(this,u),this.l=u+1,o=Fd.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(h0(Sd(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Fl(this,u),this.l=u+1,o=Fd.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(h0(Fl(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Fl(this,this.l),this.l++,n;case 2:return n=(t==="i"?SB:Sd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wo:EB)(this,this.l),this.l+=4,n):(a=Dn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Up(this,this.l):a=Up([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=AP(this,this.l,e);break}}return this.l+=e,r}var jB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},TB=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},AB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function NB(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)AB(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,jB(this,t,this.l);break;case 8:if(n=8,r==="f"){_B(this,t,this.l);break}case 16:break;case-4:n=4,TB(this,t,this.l);break}return this.l+=n,this}function FP(e,t){var r=AP(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Rn(e,t){e.l=t,e.read_shift=Fd,e.chk=FP,e.write_shift=NB}function ai(e,t){e.l+=t}function ie(e){var t=nl(e);return Rn(t,0),t}function Sn(){var e=[],t=Qe?256:2048,r=function(u){var d=ie(u);return Rn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Or(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function de(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=wq[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&__(r)&&e.push(r)}}function Bd(e,t,r){var n=Tn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fj(e,t,r){var n=Tn(e);return n.s=Bd(n.s,t.s,r),n.e=Bd(n.e,t.s,r),n}function Ud(e,t){if(e.cRel&&e.c<0)for(e=Tn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Tn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=lt(e);return!e.cRel&&e.cRel!=null&&(r=kB(r)),!e.rRel&&e.rRel!=null&&(r=OB(r)),r}function vx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Hr(e.s.c)+":"+(e.e.cRel?"":"$")+Hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Pr(e.s.r)+":"+(e.e.rRel?"":"$")+Pr(e.e.r):Ud(e.s,t.biff)+":"+Ud(e.e,t.biff)}function S_(e){return parseInt(CB(e),10)-1}function Pr(e){return""+(e+1)}function OB(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function CB(e){return e.replace(/\$(\d+)$/,"$1")}function E_(e){for(var t=PB(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function kB(e){return e.replace(/^([A-Z])/,"$$$1")}function PB(e){return e.replace(/^\$([A-Z])/,"$1")}function RB(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function gr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function lt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Wn(e){var t=e.indexOf(":");return t==-1?{s:gr(e),e:gr(e)}:{s:gr(e.slice(0,t)),e:gr(e.slice(t+1))}}function Zt(e,t){return typeof t>"u"||typeof t=="number"?Zt(e.s,e.e):(typeof e!="string"&&(e=lt(e)),typeof t!="string"&&(t=lt(t)),e==t?e:e+":"+t)}function Et(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function hj(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ws(e.z,r?jn(t):t)}catch{}try{return e.w=Ws((e.XF||{}).numFmtId||(r?14:0),r?jn(t):t)}catch{return""+t}}function Bi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wh[e.v]||e.v:t==null?hj(e,e.v):hj(e,t))}function yl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function BP(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?gr(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Et(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,v=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>v&&(u.s.c=v),u.e.r<g&&(u.e.r=g),u.e.c<v&&(u.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ht[14],n.cellDates?(p.t="d",p.w=Ws(p.z,jn(p.v))):(p.t="n",p.v=jn(p.v),p.w=Ws(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][v]&&i[g][v].z&&(p.z=i[g][v].z),i[g][v]=p;else{var x=lt({c:v,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Zt(u)),i}function Nu(e,t){return BP(null,e,t)}function IB(e){return e.read_shift(4,"i")}function Da(e,t){return t||(t=ie(4)),t.write_shift(4,e),t}function qr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xr(e,t){var r=!1;return t==null&&(r=!0,t=ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function DB(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function MB(e,t){return t||(t=ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function j_(e,t){var r=e.l,n=e.read_shift(1),a=qr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(DB(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function $B(e,t){var r=!1;return t==null&&(r=!0,t=ie(15+4*e.t.length)),t.write_shift(1,0),xr(e.t,t),r?t.slice(0,t.l):t}var LB=j_;function FB(e,t){var r=!1;return t==null&&(r=!0,t=ie(23+4*e.t.length)),t.write_shift(1,1),xr(e.t,t),t.write_shift(4,1),MB({},t),r?t.slice(0,t.l):t}function fa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function bl(e,t){return t==null&&(t=ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function wl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function _l(e,t){return t==null&&(t=ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var BB=qr,UP=xr;function T_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function zp(e,t){var r=!1;return t==null&&(r=!0,t=ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var UB=qr,x1=T_,A_=zp;function zP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Up([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wo(t,0)>>2;return r?a/100:a}function WP(e,t){t==null&&(t=ie(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function HP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function zB(e,t){return t||(t=ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Sl=HP,Ou=zB;function Cu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function al(e,t){return(t||ie(8)).write_shift(8,e,"f")}function WB(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=JB[a];u&&(t.rgb=Ej(u));break;case 2:t.rgb=Ej([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Wp(e,t){if(t||(t=ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function HB(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function qB(e,t){t||(t=ie(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var qP=2,Cn=3,g0=11,Hp=19,x0=64,VB=65,KB=71,GB=4108,XB=4126,Nr=80,pj={1:{n:"CodePage",t:qP},2:{n:"Category",t:Nr},3:{n:"PresentationFormat",t:Nr},4:{n:"ByteCount",t:Cn},5:{n:"LineCount",t:Cn},6:{n:"ParagraphCount",t:Cn},7:{n:"SlideCount",t:Cn},8:{n:"NoteCount",t:Cn},9:{n:"HiddenCount",t:Cn},10:{n:"MultimediaClipCount",t:Cn},11:{n:"ScaleCrop",t:g0},12:{n:"HeadingPairs",t:GB},13:{n:"TitlesOfParts",t:XB},14:{n:"Manager",t:Nr},15:{n:"Company",t:Nr},16:{n:"LinksUpToDate",t:g0},17:{n:"CharacterCount",t:Cn},19:{n:"SharedDoc",t:g0},22:{n:"HyperlinksChanged",t:g0},23:{n:"AppVersion",t:Cn,p:"version"},24:{n:"DigSig",t:VB},26:{n:"ContentType",t:Nr},27:{n:"ContentStatus",t:Nr},28:{n:"Language",t:Nr},29:{n:"Version",t:Nr},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}},mj={1:{n:"CodePage",t:qP},2:{n:"Title",t:Nr},3:{n:"Subject",t:Nr},4:{n:"Author",t:Nr},5:{n:"Keywords",t:Nr},6:{n:"Comments",t:Nr},7:{n:"Template",t:Nr},8:{n:"LastAuthor",t:Nr},9:{n:"RevNumber",t:Nr},10:{n:"EditTime",t:x0},11:{n:"LastPrinted",t:x0},12:{n:"CreatedDate",t:x0},13:{n:"ModifiedDate",t:x0},14:{n:"PageCount",t:Cn},15:{n:"WordCount",t:Cn},16:{n:"CharCount",t:Cn},17:{n:"Thumbnail",t:KB},18:{n:"Application",t:Nr},19:{n:"DocSecurity",t:Cn},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}};function YB(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var QB=YB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),JB=Tn(QB),wh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ZB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},y0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function KP(e,t){var r=cB(ZB),n=[],a;n[n.length]=tr,n[n.length]=ge("Types",null,{xmlns:vr.CT,"xmlns:xsd":vr.xsd,"xmlns:xsi":vr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ge("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ge("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:y0[c][t.bookType]||y0[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:y0[c][t.bookType]||y0[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Xe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GP(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function hc(e){var t=[tr,ge("Relationships",null,{xmlns:vr.RELS})];return Ir(e["!id"]).forEach(function(r){t[t.length]=ge("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function at(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Xe.HLINK,Xe.XPATH,Xe.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function e9(e){var t=[tr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function vj(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function t9(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function r9(e){var t=[tr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(vj(e[r][0],e[r][1])),t.push(t9("",e[r][0]));return t.push(vj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function XP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dp.version+"</meta:generator></office:meta></office:document-meta>"}var Vo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function gx(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=st(t),n[n.length]=r?ge(e,t,r):Cr(e,t))}function YP(e,t){var r=t||{},n=[tr,ge("cp:coreProperties",null,{"xmlns:cp":vr.CORE_PROPS,"xmlns:dc":vr.dc,"xmlns:dcterms":vr.dcterms,"xmlns:dcmitype":vr.dcmitype,"xmlns:xsi":vr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&gx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:g1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&gx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:g1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Vo.length;++i){var s=Vo[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&gx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var pc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],QP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function JP(e){var t=[],r=ge;return e||(e={}),e.Application="SheetJS",t[t.length]=tr,t[t.length]=ge("Properties",null,{xmlns:vr.EXT_PROPS,"xmlns:vt":vr.vt}),pc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=st(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+st(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ZP(e){var t=[tr,ge("Properties",null,{xmlns:vr.CUST_PROPS,"xmlns:vt":vr.vt})];if(!e)return t.join("");var r=1;return Ir(e).forEach(function(a){++r,t[t.length]=ge("property",bB(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:st(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var gj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function n9(e,t){var r=[];return Ir(gj).map(function(n){for(var a=0;a<Vo.length;++a)if(Vo[a][1]==n)return Vo[a];for(a=0;a<pc.length;++a)if(pc[a][1]==n)return pc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Cr(gj[n[1]]||n[1],a))}}),ge("DocumentProperties",r.join(""),{xmlns:In.o})}function a9(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ir(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Vo.length;++s)if(i==Vo[s][1])return;for(s=0;s<pc.length;++s)if(i==pc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(ge(aj(i),o,{"dt:dt":c}))}}),t&&Ir(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ge(aj(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+In.o+'">'+a.join("")+"</"+n+">"}function i9(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ie(8);return s.write_shift(4,n),s.write_shift(4,a),s}function xj(e,t){var r=ie(4),n=ie(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ie(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=i9(t);break;case 31:case 80:for(n=ie(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Or([r,n])}var e3=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function s9(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function yj(e,t,r){var n=ie(8),a=[],i=[],s=8,o=0,c=ie(8),u=ie(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=ie(8),u.write_shift(4,0),a.unshift(u);var d=[ie(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=ie(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Or(d),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(e3.indexOf(e[o][0])>-1||QP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}c=xj(g.t,h)}else{var x=s9(h);x==-1&&(x=31,h=String(h)),c=xj(x,h)}i.push(c),u=ie(8),u.write_shift(4,t?p:2+o),a.push(u),s+=8+c.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Or([n].concat(a).concat(i))}function bj(e,t,r,n,a,i){var s=ie(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,ut.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=yj(e,r,n);if(o.push(c),a){var u=yj(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Or(o)}function o9(e,t){t||(t=ie(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function l9(e,t){return e.read_shift(t)===1}function en(e,t){return t||(t=ie(2)),t.write_shift(2,+!!e),t}function t3(e){return e.read_shift(2,"u")}function Zn(e,t){return t||(t=ie(2)),t.write_shift(2,e),t}function r3(e,t,r){return r||(r=ie(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function n3(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function c9(e){var t=e.t||"",r=ie(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ie(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Or(a)}function u9(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function d9(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):u9(e,n,r)}function f9(e,t,r){if(r.biff>5)return d9(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function a3(e,t,r){return r||(r=ie(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function wj(e,t){t||(t=ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function h9(e){var t=ie(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),wj(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&wj(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function il(e,t,r,n){return n||(n=ie(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function p9(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function m9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function i3(e,t){return t||(t=ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function N_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ie(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function v9(e,t){var r=!t||t.biff==8,n=ie(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function g9(e,t){var r=!t||t.biff>=8?2:1,n=ie(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function x9(e,t){var r=ie(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=c9(e[a]);var i=Or([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function y9(){var e=ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function b9(e){var t=ie(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function w9(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ie(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function _9(e,t,r,n){var a=ie(10);return il(e,t,n,a),a.write_shift(4,r),a}function S9(e,t,r,n,a){var i=!a||a.biff==8,s=ie(8+ +i+(1+i)*r.length);return il(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function E9(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function j9(e,t){var r=t.biff==8||!t.biff?4:2,n=ie(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function _j(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function T9(e){var t=ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function A9(e,t,r,n,a,i){var s=ie(8);return il(e,t,n,s),r3(r,i,s),s}function N9(e,t,r,n){var a=ie(14);return il(e,t,n,a),al(r,a),a}function O9(e,t,r){if(r.biff<8)return C9(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(p9(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function C9(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=n3(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function k9(e){var t=ie(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)i3(e[r],t);return t}function P9(e){var t=ie(24),r=gr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Or([t,h9(e[1])])}function R9(e){var t=e[1].Tooltip,r=ie(10+2*(t.length+1));r.write_shift(2,2048);var n=gr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function I9(e){return e||(e=ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function D9(e,t,r){if(!r.cellStyles)return ai(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function M9(e,t){var r=ie(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function $9(e){for(var t=ie(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function L9(e,t,r){var n=ie(15);return Sh(n,e,t),n.write_shift(8,r,"f"),n}function F9(e,t,r){var n=ie(9);return Sh(n,e,t),n.write_shift(2,r),n}var B9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=g_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=nl(1);switch(c.type){case"base64":d=Oa(Fi(o));break;case"binary":d=Oa(o);break;case"buffer":case"array":d=o;break}Rn(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,x=521;f==2&&(v=d.read_shift(2)),d.l+=3,f!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),m=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(m=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var y=[],_={},w=Math.min(d.length,f==2?521:x-10-(p?264:0)),S=g?32:11;d.l<w&&d[d.l]!=13;)switch(_={},_.name=Mp.utils.decode(m,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var E=0,j=0;for(u[0]=[],j=0;j!=y.length;++j)u[0][j]=y[j].name;for(;v-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++E]=[],j=0,j=0;j!=y.length;++j){var T=d.slice(d.l,d.l+y[j].len);d.l+=y[j].len,Rn(T,0);var O=Mp.utils.decode(m,T);switch(y[j].type){case"C":O.trim().length&&(u[E][j]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[E][j]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[E][j]=O;break;case"F":u[E][j]=parseFloat(O.trim());break;case"+":case"I":u[E][j]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[E][j]=!0;break;case"N":case"F":u[E][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][j]="##MEMO##"+(g?parseInt(O.trim(),10):T.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[E][j]=+O||0);break;case"@":u[E][j]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[E][j]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[E][j]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][j]=-T.read_shift(-8,"f");break;case"B":if(p&&y[j].len==8){u[E][j]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[j].len;break;case"0":if(y[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[j].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Nu(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return yl(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&vf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Sn(),f=Xp(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],v=0,x=0,b=0,m=1;for(v=0;v<h.length;++v){if(((g[v]||{}).DBF||{}).name){h[v]=g[v].DBF.name,++b;continue}if(h[v]!=null){if(++b,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(x=0;x<1024;++x)if(h.indexOf(h[v]+"_"+x)==-1){h[v]+="_"+x;break}}}}var y=Et(o["!ref"]),_=[],w=[],S=[];for(v=0;v<=y.e.c-y.s.c;++v){var E="",j="",T=0,O=[];for(x=0;x<p.length;++x)p[x][v]!=null&&O.push(p[x][v]);if(O.length==0||h[v]==null){_[v]="?";continue}for(x=0;x<O.length;++x){switch(typeof O[x]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=O[x]instanceof Date?"D":"C";break;default:j="C"}T=Math.max(T,String(O[x]).length),E=E&&E!=j?"C":j}T>250&&(T=250),j=((g[v]||{}).DBF||{}).type,j=="C"&&g[v].DBF.len>T&&(T=g[v].DBF.len),E=="B"&&j=="N"&&(E="N",S[v]=g[v].DBF.dec,T=g[v].DBF.len),w[v]=E=="C"||j=="N"?T:i[E]||0,m+=w[v],_[v]=E}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*b),C.write_shift(2,m),v=0;v<4;++v)C.write_shift(4,0);for(C.write_shift(4,0|(+t[oP]||3)<<8),v=0,x=0;v<h.length;++v)if(h[v]!=null){var M=d.next(32),F=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,F,"sbcs"),M.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),M.write_shift(4,x),M.write_shift(1,w[v]||i[_[v]]||0),M.write_shift(1,S[v]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=w[v]||i[_[v]]||0}var q=d.next(264);for(q.write_shift(4,13),v=0;v<65;++v)q.write_shift(4,0);for(v=0;v<p.length;++v){var V=d.next(m);for(V.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(_[x]){case"L":V.write_shift(1,p[v][x]==null?63:p[v][x]?84:70);break;case"B":V.write_shift(8,p[v][x]||0,"f");break;case"N":var ne="0";for(typeof p[v][x]=="number"&&(ne=p[v][x].toFixed(S[x]||0)),b=0;b<w[x]-ne.length;++b)V.write_shift(1,32);V.write_shift(1,ne,"sbcs");break;case"D":p[v][x]?(V.write_shift(4,("0000"+p[v][x].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(p[v][x].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+p[v][x].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var se=String(p[v][x]!=null?p[v][x]:"").slice(0,w[x]);for(V.write_shift(1,se,"sbcs"),b=0;b<w[x]-se.length;++b)V.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),U9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ir(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?VE(g):g},n=function(h,p,g){var v=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?h:VE(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Fi(h),p);case"binary":return i(h,p);case"buffer":return i(Qe&&Buffer.isBuffer(h)?h.toString("binary"):xh(h),p);case"array":return i(Cv(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),v=-1,x=-1,b=0,m=0,y=[],_=[],w=null,S={},E=[],j=[],T=[],O=0,C;for(+p.codepage>=0&&vf(+p.codepage);b!==g.length;++b){O=0;var M=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=M.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),q=F[0],V;if(M.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&_.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,se=!1,G=!1,te=!1,ue=-1,pe=-1;for(m=1;m<F.length;++m)switch(F[m].charAt(0)){case"A":break;case"X":x=parseInt(F[m].slice(1))-1,se=!0;break;case"Y":for(v=parseInt(F[m].slice(1))-1,se||(x=0),C=y.length;C<=v;++C)y[C]=[];break;case"K":V=F[m].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Ni(V))?isNaN(xf(V).getDate())||(V=on(V)):(V=Ni(V),w!==null&&yP(w)&&(V=SP(V))),ne=!0;break;case"E":te=!0;var P=FU(F[m].slice(1),{r:v,c:x});y[v][x]=[y[v][x],P];break;case"S":G=!0,y[v][x]=[y[v][x],"S5S"];break;case"G":break;case"R":ue=parseInt(F[m].slice(1))-1;break;case"C":pe=parseInt(F[m].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}if(ne&&(y[v][x]&&y[v][x].length==2?y[v][x][0]=V:y[v][x]=V,w=null),G){if(te)throw new Error("SYLK shared formula cannot have own formula");var H=ue>-1&&y[ue][pe];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");y[v][x][1]=BU(H[1],{r:v-ue,c:x-pe})}break;case"F":var U=0;for(m=1;m<F.length;++m)switch(F[m].charAt(0)){case"X":x=parseInt(F[m].slice(1))-1,++U;break;case"Y":for(v=parseInt(F[m].slice(1))-1,C=y.length;C<=v;++C)y[C]=[];break;case"M":O=parseInt(F[m].slice(1))/20;break;case"F":break;case"G":break;case"P":w=_[parseInt(F[m].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=F[m].slice(1).split(" "),C=parseInt(T[0],10);C<=parseInt(T[1],10);++C)O=parseInt(T[2],10),j[C-1]=O===0?{hidden:!0}:{wch:O},O_(j[C-1]);break;case"C":x=parseInt(F[m].slice(1))-1,j[x]||(j[x]={});break;case"R":v=parseInt(F[m].slice(1))-1,E[v]||(E[v]={}),O>0?(E[v].hpt=O,E[v].hpx=u3(O)):O===0&&(E[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}U<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}}return E.length>0&&(S["!rows"]=E),j.length>0&&(S["!cols"]=j),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function s(h,p){var g=a(h,p),v=g[0],x=g[1],b=Nu(v,p);return Ir(x).forEach(function(m){b[m]=x[m]}),b}function o(h,p){return yl(s(h,p),p)}function c(h,p,g,v){var x="C;Y"+(g+1)+";X"+(v+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+k_(h.f,{r:g,c:v}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,v){var x="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=qp(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Vp(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,v){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Kp(g.hpx)+";"),x.length>2&&h.push(x+"R"+(v+1))})}function f(h,p){var g=["ID;PWXL;N;E"],v=[],x=Et(h["!ref"]),b,m=Array.isArray(h),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var w=x.s.c;w<=x.e.c;++w){var S=lt({r:_,c:w});b=m?(h[_]||[])[w]:h[S],!(!b||b.v==null&&(!b.f||b.F))&&v.push(c(b,h,_,w))}return g.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),z9=function(){function e(i,s){switch(s.type){case"base64":return t(Fi(i),s);case"binary":return t(i,s);case"buffer":return t(Qe&&Buffer.isBuffer(i)?i.toString("binary"):xh(i),s);case"array":return t(Cv(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var v=o[d]||"";(v.match(/["]/g)||[]).length&1&&d<o.length-1;)v+=`
`+o[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[c][u]=!0:v==="FALSE"?f[c][u]=!1:isNaN(Ni(g))?isNaN(xf(g).getDate())?f[c][u]=g:f[c][u]=on(g):f[c][u]=Ni(g),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Nu(e(i,s),s)}function n(i,s){return yl(r(i,s),s)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Et(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var v=lt({r:p,c:g});if(f=h?(c[p]||[])[g]:c[v],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ws(f.z||Ht[14],jn(on(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var b=`\r
`,m=u.join(b);return m}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),s3=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,v=-1,x=0,b=[];x!==p.length;++x){var m=p[x].trim().split(":");if(m[0]==="cell"){var y=gr(m[1]);if(b.length<=y.r)for(g=b.length;g<=y.r;++g)b[g]||(b[g]=[]);switch(g=y.r,v=y.c,m[2]){case"t":b[g][v]=e(m[3]);break;case"v":b[g][v]=+m[3];break;case"vtf":var _=m[m.length-1];case"vtc":switch(m[3]){case"nl":b[g][v]=!!+m[4];break;default:b[g][v]=+m[4];break}m[2]=="vtf"&&(b[g][v]=[b[g][v],_])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Nu(r(f,h),h)}function a(f,h){return yl(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,v="",x=Wn(f["!ref"]),b=Array.isArray(f),m=x.s.r;m<=x.e.r;++m)for(var y=x.s.c;y<=x.e.c;++y)if(v=lt({r:m,c:y}),g=b?(f[m]||[])[y]:f[v],!(!g||g.v==null||g.t==="z")){switch(p=["cell",v,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=jn(on(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||Ws(g.z||Ht[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),W9=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Ni(d))?isNaN(xf(d).getDate())?f[h][p]=d:f[h][p]=on(d):f[h][p]=Ni(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var x=10,b=0,m=0;m<=v;++m)b=g[m].indexOf(" "),b==-1?b=g[m].length:b++,x=Math.max(x,b);for(m=0;m<=v;++m){p[m]=[];var y=0;for(e(g[m].slice(0,x).trim(),p,m,y,h),y=1;y<=(g[m].length-x)/10+1;++y)e(g[m].slice(x+(y-1)*10,x+y*10).trim(),p,m,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(v,x){return v[0]-x[0]||n[v[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},p="",g=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,m=0,y=0,_=0,w=p.charCodeAt(0),S=!1,E=0,j=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?iB(h.dateNF):null;function O(){var C=d.slice(y,_),M={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)M.t="z";else if(h.raw)M.t="s",M.v=C;else if(C.trim().length===0)M.t="s",M.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(M.t="s",M.v=C.slice(2,-1).replace(/""/g,'"')):UU(C)?(M.t="n",M.f=C.slice(1)):(M.t="s",M.v=C);else if(C=="TRUE")M.t="b",M.v=!0;else if(C=="FALSE")M.t="b",M.v=!1;else if(!isNaN(m=Ni(C)))M.t="n",h.cellText!==!1&&(M.w=C),M.v=m;else if(!isNaN(xf(C).getDate())||T&&C.match(T)){M.z=h.dateNF||Ht[14];var F=0;T&&C.match(T)&&(C=sB(C,h.dateNF,C.match(T)||[]),F=1),h.cellDates?(M.t="d",M.v=on(C,F)):(M.t="n",M.v=jn(on(C,F))),h.cellText!==!1&&(M.w=Ws(M.z,M.v instanceof Date?jn(M.v):M.v)),h.cellNF||delete M.z}else M.t="s",M.v=C;if(M.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=M):g[lt({c:b,r:x})]=M),y=_+1,j=d.charCodeAt(y),v.e.c<b&&(v.e.c=b),v.e.r<x&&(v.e.r=x),E==w)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;_<d.length;++_)switch(E=d.charCodeAt(_)){case 34:j===34&&(S=!S);break;case w:case 10:case 13:if(!S&&O())break e;break}return _-y>0&&O(),g["!ref"]=Zt(v),g}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Nu(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:tV(d,f);switch(f.type){case"base64":h=Fi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Mp<"u"||(h=Qe&&Buffer.isBuffer(d)?d.toString("binary"):xh(d));break;case"array":h=Cv(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Ld(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ld(h):f.type=="binary"&&typeof Mp<"u",h.slice(0,19)=="socialcalc:version:"?s3.to_sheet(f.type=="string"?h:Ld(h),f):s(h,f)}function c(d,f){return yl(o(d,f),f)}function u(d){for(var f=[],h=Et(d["!ref"]),p,g=Array.isArray(d),v=h.s.r;v<=h.e.r;++v){for(var x=[],b=h.s.c;b<=h.e.c;++b){var m=lt({r:v,c:b});if(p=g?(d[v]||[])[b]:d[m],!p||p.v==null){x.push("          ");continue}for(var y=(p.w||(Bi(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),Sj=function(){function e(P,H,U){if(P){Rn(P,P.l||0);for(var W=U.Enum||ue;P.l<P.length;){var ae=P.read_shift(2),Se=W[ae]||W[65535],J=P.read_shift(2),K=P.l+J,ee=Se.f&&Se.f(P,J,U);if(P.l=K,H(ee,Se,ae))return}}}function t(P,H){switch(H.type){case"base64":return r(Oa(Fi(P)),H);case"binary":return r(Oa(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var U=H||{},W=U.dense?[]:{},ae="Sheet1",Se="",J=0,K={},ee=[],be=[],re={s:{r:0,c:0},e:{r:0,c:0}},Le=U.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)U.Enum=ue,e(P,function(we,qt,Mr){switch(Mr){case 0:U.vers=we,we>=4096&&(U.qpro=!0);break;case 6:re=we;break;case 204:we&&(Se=we);break;case 222:Se=we;break;case 15:case 51:U.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:Mr==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=U.dateNF||Ht[14],U.cellDates&&(we[1].t="d",we[1].v=SP(we[1].v))),U.qpro&&we[3]>J&&(W["!ref"]=Zt(re),K[ae]=W,ee.push(ae),W=U.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},J=we[3],ae=Se||"Sheet"+(J+1),Se="");var Kn=U.dense?(W[we[0].r]||[])[we[0].c]:W[lt(we[0])];if(Kn){Kn.t=we[1].t,Kn.v=we[1].v,we[1].z!=null&&(Kn.z=we[1].z),we[1].f!=null&&(Kn.f=we[1].f);break}U.dense?(W[we[0].r]||(W[we[0].r]=[]),W[we[0].r][we[0].c]=we[1]):W[lt(we[0])]=we[1];break}},U);else if(P[2]==26||P[2]==14)U.Enum=pe,P[2]==14&&(U.qpro=!0,P.l=0),e(P,function(we,qt,Mr){switch(Mr){case 204:ae=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>J&&(W["!ref"]=Zt(re),K[ae]=W,ee.push(ae),W=U.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},J=we[3],ae="Sheet"+(J+1)),Le>0&&we[0].r>=Le)break;U.dense?(W[we[0].r]||(W[we[0].r]=[]),W[we[0].r][we[0].c]=we[1]):W[lt(we[0])]=we[1],re.e.c<we[0].c&&(re.e.c=we[0].c),re.e.r<we[0].r&&(re.e.r=we[0].r);break;case 27:we[14e3]&&(be[we[14e3][0]]=we[14e3][1]);break;case 1537:be[we[0]]=we[1],we[0]==J&&(ae=we[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=Zt(re),K[Se||ae]=W,ee.push(Se||ae),!be.length)return{SheetNames:ee,Sheets:K};for(var Ce={},rt=[],Fe=0;Fe<be.length;++Fe)K[ee[Fe]]?(rt.push(be[Fe]||ee[Fe]),Ce[be[Fe]]=K[be[Fe]]||K[ee[Fe]]):(rt.push(be[Fe]),Ce[be[Fe]]={"!ref":"A1"});return{SheetNames:rt,Sheets:Ce}}function n(P,H){var U=H||{};if(+U.codepage>=0&&vf(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Sn(),ae=Et(P["!ref"]),Se=Array.isArray(P),J=[];ye(W,0,i(1030)),ye(W,6,c(ae));for(var K=Math.min(ae.e.r,8191),ee=ae.s.r;ee<=K;++ee)for(var be=Pr(ee),re=ae.s.c;re<=ae.e.c;++re){ee===ae.s.r&&(J[re]=Hr(re));var Le=J[re]+be,Ce=Se?(P[ee]||[])[re]:P[Le];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?ye(W,13,p(ee,re,Ce.v)):ye(W,14,v(ee,re,Ce.v));else{var rt=Bi(Ce);ye(W,15,f(ee,re,rt.slice(0,239)))}}return ye(W,1),W.end()}function a(P,H){var U=H||{};if(+U.codepage>=0&&vf(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Sn();ye(W,0,s(P));for(var ae=0,Se=0;ae<P.SheetNames.length;++ae)(P.Sheets[P.SheetNames[ae]]||{})["!ref"]&&ye(W,27,te(P.SheetNames[ae],Se++));var J=0;for(ae=0;ae<P.SheetNames.length;++ae){var K=P.Sheets[P.SheetNames[ae]];if(!(!K||!K["!ref"])){for(var ee=Et(K["!ref"]),be=Array.isArray(K),re=[],Le=Math.min(ee.e.r,8191),Ce=ee.s.r;Ce<=Le;++Ce)for(var rt=Pr(Ce),Fe=ee.s.c;Fe<=ee.e.c;++Fe){Ce===ee.s.r&&(re[Fe]=Hr(Fe));var we=re[Fe]+rt,qt=be?(K[Ce]||[])[Fe]:K[we];if(!(!qt||qt.t=="z"))if(qt.t=="n")ye(W,23,O(Ce,Fe,J,qt.v));else{var Mr=Bi(qt);ye(W,22,E(Ce,Fe,J,Mr.slice(0,239)))}}++J}}return ye(W,1),W.end()}function i(P){var H=ie(2);return H.write_shift(2,P),H}function s(P){var H=ie(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var U=0,W=0,ae=0,Se=0;Se<P.SheetNames.length;++Se){var J=P.SheetNames[Se],K=P.Sheets[J];if(!(!K||!K["!ref"])){++ae;var ee=Wn(K["!ref"]);U<ee.e.r&&(U=ee.e.r),W<ee.e.c&&(W=ee.e.c)}}return U>8191&&(U=8191),H.write_shift(2,U),H.write_shift(1,ae),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,U){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&U.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(P){var H=ie(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function u(P,H,U){var W=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function d(P,H,U){var W=P.l+H,ae=u(P,H,U);if(ae[1].t="s",U.vers==20768){P.l++;var Se=P.read_shift(1);return ae[1].v=P.read_shift(Se,"utf8"),ae}return U.qpro&&P.l++,ae[1].v=P.read_shift(W-P.l,"cstr"),ae}function f(P,H,U){var W=ie(7+U.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(1,39);for(var ae=0;ae<W.length;++ae){var Se=U.charCodeAt(ae);W.write_shift(1,Se>=128?95:Se)}return W.write_shift(1,0),W}function h(P,H,U){var W=u(P,H,U);return W[1].v=P.read_shift(2,"i"),W}function p(P,H,U){var W=ie(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(2,U,"i"),W}function g(P,H,U){var W=u(P,H,U);return W[1].v=P.read_shift(8,"f"),W}function v(P,H,U){var W=ie(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(8,U,"f"),W}function x(P,H,U){var W=P.l+H,ae=u(P,H,U);if(ae[1].v=P.read_shift(8,"f"),U.qpro)P.l=W;else{var Se=P.read_shift(2);_(P.slice(P.l,P.l+Se),ae),P.l+=Se}return ae}function b(P,H,U){var W=H&32768;return H&=-32769,H=(W?P:0)+(H>=8192?H-16384:H),(W?"":"$")+(U?Hr(H):Pr(H))}var m={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,H){Rn(P,0);for(var U=[],W=0,ae="",Se="",J="",K="";P.l<P.length;){var ee=P[P.l++];switch(ee){case 0:U.push(P.read_shift(8,"f"));break;case 1:Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),U.push(Se+ae);break;case 2:{var be=b(H[0].c,P.read_shift(2),!0),re=b(H[0].r,P.read_shift(2),!1);Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),U.push(be+re+":"+Se+ae)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(P.read_shift(2));break;case 6:{for(var Le="";ee=P[P.l++];)Le+=String.fromCharCode(ee);U.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:K=U.pop(),J=U.pop(),U.push(["AND","OR"][ee-20]+"("+J+","+K+")");break;default:if(ee<32&&y[ee])K=U.pop(),J=U.pop(),U.push(J+y[ee]+K);else if(m[ee]){if(W=m[ee][1],W==69&&(W=P[P.l++]),W>U.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+U.join("|")+"|");return}var Ce=U.slice(-W);U.length-=W,U.push(m[ee][0]+"("+Ce.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}U.length==1?H[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function w(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function S(P,H){var U=w(P);return U[1].t="s",U[1].v=P.read_shift(H-4,"cstr"),U}function E(P,H,U,W){var ae=ie(6+W.length);ae.write_shift(2,P),ae.write_shift(1,U),ae.write_shift(1,H),ae.write_shift(1,39);for(var Se=0;Se<W.length;++Se){var J=W.charCodeAt(Se);ae.write_shift(1,J>=128?95:J)}return ae.write_shift(1,0),ae}function j(P,H){var U=w(P);U[1].v=P.read_shift(2);var W=U[1].v>>1;if(U[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return U[1].v=W,U}function T(P,H){var U=w(P),W=P.read_shift(4),ae=P.read_shift(4),Se=P.read_shift(2);if(Se==65535)return W===0&&ae===3221225472?(U[1].t="e",U[1].v=15):W===0&&ae===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var J=Se&32768;return Se=(Se&32767)-16446,U[1].v=(1-J*2)*(ae*Math.pow(2,Se+32)+W*Math.pow(2,Se)),U}function O(P,H,U,W){var ae=ie(14);if(ae.write_shift(2,P),ae.write_shift(1,U),ae.write_shift(1,H),W==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Se=0,J=0,K=0,ee=0;return W<0&&(Se=1,W=-W),J=Math.log2(W)|0,W/=Math.pow(2,J-31),ee=W>>>0,ee&2147483648||(W/=2,++J,ee=W>>>0),W-=ee,ee|=2147483648,ee>>>=0,W*=Math.pow(2,32),K=W>>>0,ae.write_shift(4,K),ae.write_shift(4,ee),J+=16383+(Se?32768:0),ae.write_shift(2,J),ae}function C(P,H){var U=T(P);return P.l+=H-14,U}function M(P,H){var U=w(P),W=P.read_shift(4);return U[1].v=W>>6,U}function F(P,H){var U=w(P),W=P.read_shift(8,"f");return U[1].v=W,U}function q(P,H){var U=F(P);return P.l+=H-10,U}function V(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function ne(P,H){var U=P[P.l++];U>H-1&&(U=H-1);for(var W="";W.length<U;)W+=String.fromCharCode(P[P.l++]);return W}function se(P,H,U){if(!(!U.qpro||H<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ae=P.read_shift(H-21,"cstr");return[W,ae]}}function G(P,H){for(var U={},W=P.l+H;P.l<W;){var ae=P.read_shift(2);if(ae==14e3){for(U[ae]=[0,""],U[ae][0]=P.read_shift(2);P[P.l];)U[ae][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return U}function te(P,H){var U=ie(5+P.length);U.write_shift(2,14e3),U.write_shift(2,H);for(var W=0;W<P.length;++W){var ae=P.charCodeAt(W);U[U.l++]=ae>127?95:ae}return U[U.l++]=0,U}var ue={0:{n:"BOF",f:t3},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),H9=/^\s|\s$|[\t\n\r]/;function o3(e,t){if(!t.bookSST)return"";var r=[tr];r[r.length]=ge("sst",null,{xmlns:Au[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(H9)&&(i+=' xml:space="preserve"'),i+=">"+st(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function q9(e){return[e.read_shift(4),e.read_shift(4)]}function V9(e,t){return t||(t=ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var K9=$B;function G9(e){var t=Sn();de(t,159,V9(e));for(var r=0;r<e.length;++r)de(t,19,K9(e[r]));return de(t,160),t.end()}function X9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function l3(e){var t=0,r,n=X9(e),a=n.length+1,i,s,o,c,u;for(r=nl(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var Y9=function(){function e(a,i){switch(i.type){case"base64":return t(Fi(a),i);case"binary":return t(a,i);case"buffer":return t(Qe&&Buffer.isBuffer(a)?a.toString("binary"):xh(a),i);case"array":return t(Cv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,v=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++v,x.length){var b={v:x,t:"s"};Array.isArray(o)?o[f][v]=b:o[lt({r:f,c:v})]=b}break}p=h.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Zt(u),o}function r(a,i){return yl(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Et(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=lt({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Bi(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Ej(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Q9=6,Oi=Q9;function qp(e){return Math.floor((e+Math.round(128/Oi)/256)*Oi)}function Vp(e){return Math.floor((e-5)/Oi*100+.5)/100}function y1(e){return Math.round((e*Oi+5)/Oi*256)/256}function O_(e){e.width?(e.wpx=qp(e.width),e.wch=Vp(e.wpx),e.MDW=Oi):e.wpx?(e.wch=Vp(e.wpx),e.width=y1(e.wch),e.MDW=Oi):typeof e.wch=="number"&&(e.width=y1(e.wch),e.wpx=qp(e.width),e.MDW=Oi),e.customWidth&&delete e.customWidth}var J9=96,c3=J9;function Kp(e){return e*96/c3}function u3(e){return e*c3/96}function Z9(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ge("numFmt",null,{numFmtId:n,formatCode:st(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ge("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function eU(e){var t=[];return t[t.length]=ge("cellXfs",null),e.forEach(function(r){t[t.length]=ge("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ge("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function d3(e,t){var r=[tr,ge("styleSheet",null,{xmlns:Au[0],"xmlns:vt":vr.vt})],n;return e.SSF&&(n=Z9(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=eU(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function tU(e,t){var r=e.read_shift(2),n=qr(e);return[r,n]}function rU(e,t,r){r||(r=ie(6+4*t.length)),r.write_shift(2,e),xr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function nU(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=HB(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=WB(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=qr(e),n}function aU(e,t){t||(t=ie(25+4*32)),t.write_shift(2,e.sz*20),qB(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Wp(e.color,t);var n=0;return n=2,t.write_shift(1,n),xr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var iU=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],xx,sU=ai;function jj(e,t){t||(t=ie(4*3+8*7+16*1)),xx||(xx=g_(iU));var r=xx[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Wp({auto:1},t),Wp({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function oU(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function f3(e,t,r){r||(r=ie(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function id(e,t){return t||(t=ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var lU=ai;function cU(e,t){return t||(t=ie(51)),t.write_shift(1,0),id(null,t),id(null,t),id(null,t),id(null,t),id(null,t),t.length>t.l?t.slice(0,t.l):t}function uU(e,t){return t||(t=ie(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),zp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function dU(e,t,r){var n=ie(2052);return n.write_shift(4,e),zp(t,n),zp(r,n),n.length>n.l?n.slice(0,n.l):n}function fU(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(de(e,615,Da(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&de(e,44,rU(a,t[a]))}),de(e,616))}}function hU(e){var t=1;de(e,611,Da(t)),de(e,43,aU({sz:12,color:{theme:1},name:"Calibri",family:2})),de(e,612)}function pU(e){var t=2;de(e,603,Da(t)),de(e,45,jj({patternType:"none"})),de(e,45,jj({patternType:"gray125"})),de(e,604)}function mU(e){var t=1;de(e,613,Da(t)),de(e,46,cU()),de(e,614)}function vU(e){var t=1;de(e,626,Da(t)),de(e,47,f3({numFmtId:0},65535)),de(e,627)}function gU(e,t){de(e,617,Da(t.length)),t.forEach(function(r){de(e,47,f3(r,0))}),de(e,618)}function xU(e){var t=1;de(e,619,Da(t)),de(e,48,uU({xfId:0,name:"Normal"})),de(e,620)}function yU(e){var t=0;de(e,505,Da(t)),de(e,506)}function bU(e){var t=0;de(e,508,dU(t,"TableStyleMedium9","PivotStyleMedium4")),de(e,509)}function wU(e,t){var r=Sn();return de(r,278),fU(r,e.SSF),hU(r),pU(r),mU(r),vU(r),gU(r,t.cellXfs),xU(r),yU(r),bU(r),de(r,279),r.end()}function h3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[tr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _U(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:qr(e)}}function SU(e){var t=ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xr(e.name,t),t.slice(0,t.l)}function EU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function jU(e){var t=ie(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function TU(e,t){var r=ie(8+2*t.length);return r.write_shift(4,e),xr(t,r),r.slice(0,r.l)}function AU(e){return e.l+=4,e.read_shift(4)!=0}function NU(e,t){var r=ie(8);return r.write_shift(4,e),r.write_shift(4,1),r}function OU(){var e=Sn();return de(e,332),de(e,334,Da(1)),de(e,335,SU({name:"XLDAPR",version:12e4,flags:3496657072})),de(e,336),de(e,339,TU(1,"XLDAPR")),de(e,52),de(e,35,Da(514)),de(e,4096,Da(0)),de(e,4097,Zn(1)),de(e,36),de(e,53),de(e,340),de(e,337,NU(1)),de(e,51,jU([[1,0]])),de(e,338),de(e,333),e.end()}function p3(){var e=[tr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function CU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=lt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var ec=1024;function m3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ge("xml",null,{"xmlns:v":In.v,"xmlns:o":In.o,"xmlns:x":In.x,"xmlns:mv":In.mv}).replace(/\/>/,">"),ge("o:shapelayout",ge("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ge("v:shapetype",[ge("v:stroke",null,{joinstyle:"miter"}),ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ec<e*1e3;)ec+=1e3;return t.forEach(function(i){var s=gr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ge("v:fill",c,o),d={on:"t",obscured:"t"};++ec,a=a.concat(["<v:shape"+bf({id:"_x0000_s"+ec,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ge("v:shadow",null,d),ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Cr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Cr("x:AutoFill","False"),Cr("x:Row",String(s.r)),Cr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function v3(e){var t=[tr,ge("comments",null,{xmlns:Au[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=st(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(st(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Cr("t",st(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Cr("t",st(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function kU(e,t,r){var n=[tr,ge("ThreadedComments",null,{xmlns:vr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ge("threadedComment",Cr("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function PU(e){var t=[tr,ge("personList",null,{xmlns:vr.TCMNT,"xmlns:x":Au[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function RU(e){var t={};t.iauthor=e.read_shift(4);var r=Sl(e);return t.rfx=r.s,t.ref=lt(r.s),e.l+=16,t}function IU(e,t){return t==null&&(t=ie(36)),t.write_shift(4,e[1].iauthor),Ou(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var DU=qr;function MU(e){return xr(e.slice(0,54))}function $U(e){var t=Sn(),r=[];return de(t,628),de(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),de(t,632,MU(a.a)))})}),de(t,631),de(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:gr(n[0]),e:gr(n[0])};de(t,635,IU([i,a])),a.t&&a.t.length>0&&de(t,637,FB(a)),de(t,636),delete a.iauthor})}),de(t,634),de(t,629),t.end()}function LU(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ut.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var g3=["xlsb","xlsm","xlam","biff8","xla"],FU=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+Hr(d)+(c?"":"$")+Pr(u)}return function(a,i){return t=i,a.replace(e,r)}}(),C_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,k_=function(){return function(t,r){return t.replace(C_,function(n,a,i,s,o,c){var u=E_(s)-(i?0:r.c),d=S_(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function BU(e,t){return e.replace(C_,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Hr(E_(i)+t.c))+(s=="$"?s+o:Pr(S_(o)+t.r))})}function UU(e){return e.length!=1}function Gt(e){e.l+=1}function Hs(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function x3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return y3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Hs(e),o=Hs(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function y3(e){var t=Hs(e),r=Hs(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function zU(e,t,r){if(r.biff<8)return y3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Hs(e),s=Hs(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function b3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return WU(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Hs(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function WU(e){var t=Hs(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function HU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function qU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return VU(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function VU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function KU(e,t,r){var n=(e[e.l++]&96)>>5,a=x3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function GU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=x3(e,i,r);return[n,a,s]}function XU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function YU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function QU(e,t,r){var n=(e[e.l++]&96)>>5,a=zU(e,t-1,r);return[n,a]}function JU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Tj(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function ZU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function ez(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function tz(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function rz(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function nz(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function w3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function az(e){return e.read_shift(2),w3(e)}function iz(e){return e.read_shift(2),w3(e)}function sz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=b3(e,0,r);return[n,a]}function oz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=qU(e,0,r);return[n,a]}function lz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=b3(e,0,r);return[n,a,i]}function cz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[cW[a],E3[a],n]}function uz(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:dz(e);return[a,(i[0]===0?E3:lW)[i[1]]]}function dz(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function fz(e,t,r){e.l+=r&&r.biff==2?3:4}function hz(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function pz(e){return e.l++,wh[e.read_shift(1)]}function mz(e){return e.l++,e.read_shift(2)}function vz(e){return e.l++,e.read_shift(1)!==0}function gz(e){return e.l++,Cu(e)}function xz(e,t,r){return e.l++,n3(e,t-1,r)}function yz(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=l9(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Cu(e);break;case 2:r[1]=f9(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function bz(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Sl:m9)(e));return a}function wz(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=yz(e,r.biff);return s}function _z(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Sz(e,t,r){if(r.biff==5)return Ez(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Ez(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function jz(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Tz(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Az(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Nz(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Oz=ai,Cz=ai,kz=ai;function _h(e,t,r){return e.l+=2,[HU(e)]}function P_(e){return e.l+=6,[]}var Pz=_h,Rz=P_,Iz=P_,Dz=_h;function _3(e){return e.l+=2,[t3(e),e.read_shift(2)&1]}var Mz=_h,$z=_3,Lz=P_,Fz=_h,Bz=_h,Uz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function zz(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Uz[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Wz(e){return e.l+=2,[e.read_shift(4)]}function Hz(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function qz(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Vz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Kz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Gz(e){return e.l+=4,[0,0]}var Aj={1:{n:"PtgExp",f:hz},2:{n:"PtgTbl",f:kz},3:{n:"PtgAdd",f:Gt},4:{n:"PtgSub",f:Gt},5:{n:"PtgMul",f:Gt},6:{n:"PtgDiv",f:Gt},7:{n:"PtgPower",f:Gt},8:{n:"PtgConcat",f:Gt},9:{n:"PtgLt",f:Gt},10:{n:"PtgLe",f:Gt},11:{n:"PtgEq",f:Gt},12:{n:"PtgGe",f:Gt},13:{n:"PtgGt",f:Gt},14:{n:"PtgNe",f:Gt},15:{n:"PtgIsect",f:Gt},16:{n:"PtgUnion",f:Gt},17:{n:"PtgRange",f:Gt},18:{n:"PtgUplus",f:Gt},19:{n:"PtgUminus",f:Gt},20:{n:"PtgPercent",f:Gt},21:{n:"PtgParen",f:Gt},22:{n:"PtgMissArg",f:Gt},23:{n:"PtgStr",f:xz},26:{n:"PtgSheet",f:Hz},27:{n:"PtgEndSheet",f:qz},28:{n:"PtgErr",f:pz},29:{n:"PtgBool",f:vz},30:{n:"PtgInt",f:mz},31:{n:"PtgNum",f:gz},32:{n:"PtgArray",f:JU},33:{n:"PtgFunc",f:cz},34:{n:"PtgFuncVar",f:uz},35:{n:"PtgName",f:_z},36:{n:"PtgRef",f:sz},37:{n:"PtgArea",f:KU},38:{n:"PtgMemArea",f:jz},39:{n:"PtgMemErr",f:Oz},40:{n:"PtgMemNoMem",f:Cz},41:{n:"PtgMemFunc",f:Tz},42:{n:"PtgRefErr",f:Az},43:{n:"PtgAreaErr",f:XU},44:{n:"PtgRefN",f:oz},45:{n:"PtgAreaN",f:QU},46:{n:"PtgMemAreaN",f:Vz},47:{n:"PtgMemNoMemN",f:Kz},57:{n:"PtgNameX",f:Sz},58:{n:"PtgRef3d",f:lz},59:{n:"PtgArea3d",f:GU},60:{n:"PtgRefErr3d",f:Nz},61:{n:"PtgAreaErr3d",f:YU},255:{}},Xz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Yz={1:{n:"PtgElfLel",f:_3},2:{n:"PtgElfRw",f:Fz},3:{n:"PtgElfCol",f:Pz},6:{n:"PtgElfRwV",f:Bz},7:{n:"PtgElfColV",f:Dz},10:{n:"PtgElfRadical",f:Mz},11:{n:"PtgElfRadicalS",f:Lz},13:{n:"PtgElfColS",f:Rz},15:{n:"PtgElfColSV",f:Iz},16:{n:"PtgElfRadicalLel",f:$z},25:{n:"PtgList",f:zz},29:{n:"PtgSxName",f:Wz},255:{}},Qz={0:{n:"PtgAttrNoop",f:Gz},1:{n:"PtgAttrSemi",f:nz},2:{n:"PtgAttrIf",f:tz},4:{n:"PtgAttrChoose",f:ZU},8:{n:"PtgAttrGoto",f:ez},16:{n:"PtgAttrSum",f:fz},32:{n:"PtgAttrBaxcel",f:Tj},33:{n:"PtgAttrBaxcel",f:Tj},64:{n:"PtgAttrSpace",f:az},65:{n:"PtgAttrSpaceSemi",f:iz},128:{n:"PtgAttrIfError",f:rz},255:{}};function Jz(e,t,r,n){if(n.biff<8)return ai(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=wz(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=bz(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ai(e,t)),i}function Zz(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Aj[i]||Aj[Xz[i]],(i===24||i===25)&&(a=(i===24?Yz:Qz)[e[e.l+1]]),!a||!a.f?ai(e,t):s.push([a.n,a.f(e,t,r)]);return s}function eW(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var tW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function rW(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function S3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Nj(e,t,r){var n=S3(e,t,r);return n=="#REF"?n:rW(n,r)}function qc(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var v=-1,x="",b=0,m=e[0].length;b<m;++b){var y=e[0][b];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:x=Bt(" ",e[0][v][1][1]);break;case 1:x=Bt("\r",e[0][v][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+x,v=-1}o.push(u+tW[y[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Bd(y[1][1],s,a),o.push(Ud(d,i));break;case"PtgRefN":d=r?Bd(y[1][1],r,a):y[1][1],o.push(Ud(d,i));break;case"PtgRef3d":f=y[1][1],d=Bd(y[1][2],s,a),g=Nj(n,f,a),o.push(g+"!"+Ud(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],w=y[1][1];_||(_=0),_&=127;var S=_==0?[]:o.slice(-_);o.length-=_,w==="User"&&(w=S.shift()),o.push(w+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=fj(y[1][1],r?{s:r}:s,a),o.push(vx(p,a));break;case"PtgArea":p=fj(y[1][1],s,a),o.push(vx(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],g=Nj(n,f,a),o.push(g+"!"+vx(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],j=E?E.Name:"SH33TJSNAME"+String(h);j&&j.slice(0,6)=="_xlfn."&&!a.xlfn&&(j=j.slice(6)),o.push(j);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var O;if(a.biff<=5)T<0&&(T=-T),n[T]&&(O=n[T][h]);else{var C="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(C=n.SheetNames[n[T][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])C+=n[T][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var M=(S3(n,T,a)||"").split(";;");M[h-1]?C=M[h-1]:C+="SH33TJSERRX"}o.push(C);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var F="(",q=")";if(v>=0){switch(x="",e[0][v][1][0]){case 2:F=Bt(" ",e[0][v][1][1])+F;break;case 3:F=Bt("\r",e[0][v][1][1])+F;break;case 4:q=Bt(" ",e[0][v][1][1])+q;break;case 5:q=Bt("\r",e[0][v][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(F+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[lt(d)]){var ne=n.sharedf[lt(d)];o.push(qc(ne,s,V,n,a))}else{var se=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(qc(u[1],s,V,n,a)),se=!0;break}se||o.push(y[1])}break;case"PtgArray":o.push("{"+eW(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&G.indexOf(e[0][b][0])==-1){y=e[0][v];var te=!0;switch(y[1][0]){case 4:te=!1;case 0:x=Bt(" ",y[1][1]);break;case 5:te=!1;case 1:x=Bt("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((te?x:"")+o.pop()+(te?"":x)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function nW(e){if(e==null){var t=ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return al(e);return al(0)}function aW(e,t,r,n,a){var i=il(t,r,a),s=nW(e.v),o=ie(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ie(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Or([i,s,o,u]);return f}function kv(e,t,r){var n=e.read_shift(4),a=Zz(e,n,r),i=e.read_shift(4),s=i>0?Jz(e,i,a,r):null;return[a,s]}var iW=kv,Pv=kv,sW=kv,oW=kv,lW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},E3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uW(e){var t="of:="+e.replace(C_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function dW(e){return e.replace(/\./,"!")}var zd=typeof Map<"u";function R_(e,t,r){var n=0,a=e.length;if(r){if(zd?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=zd?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(zd?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Rv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Oi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Vp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=y1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function j3(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ys(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){bP(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function fW(e,t,r){if(e&&e["!ref"]){var n=Et(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function hW(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Zt(e[r])+'"/>';return t+"</mergeCells>"}function pW(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=yf(st(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+ge("outlinePr",null,u)}!i&&!o||(a[a.length]=ge("sheetPr",o,s))}var mW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],vW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gW(e){var t={sheet:1};return mW.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),vW.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=l3(e.password).toString(16).toUpperCase()),ge("sheetProtection",null,t)}function xW(e){return j3(e),ge("pageMargins",null,e)}function yW(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ge("col",null,Rv(a,n)));return r[r.length]="</cols>",r.join("")}function bW(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Zt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Wn(a);s.s.r==s.e.r&&(s.e.r=Wn(t["!ref"]).e.r,a=Zt(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ge("autoFilter",null,{ref:a})}function wW(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ge("sheetViews",ge("sheetView",null,a),{})}function _W(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=wh[e.v];break;case"d":n&&n.cellDates?a=on(e.v,-1).toISOString():(e=Tn(e),e.t="n",a=""+(e.v=jn(on(e.v)))),typeof e.z>"u"&&(e.z=Ht[14]);break;default:a=e.v;break}var o=Cr("v",st(a)),c={r:t},u=Ys(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Cr("v",""+R_(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ge("f",st(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ge("c",o,c)}function SW(e,t,r,n){var a=[],i=[],s=Et(e["!ref"]),o="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),v={r:u},x,b=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=Hr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=Pr(f),h=s.s.c;h<=s.e.c;++h){c=d[h]+u;var m=g?(e[f]||[])[h]:e[c];m!==void 0&&(o=_W(m,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(v={r:u},p&&p[f]&&(x=p[f],x.hidden&&(v.hidden=1),b=-1,x.hpx?b=Kp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(v.ht=b,v.customHeight=1),x.level&&(v.outlineLevel=x.level)),a[a.length]=ge("row",i.join(""),v))}if(p)for(;f<p.length;++f)p&&p[f]&&(v={r:f+1},x=p[f],x.hidden&&(v.hidden=1),b=-1,x.hpx?b=Kp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(v.ht=b,v.customHeight=1),x.level&&(v.outlineLevel=x.level),a[a.length]=ge("row","",v));return a.join("")}function T3(e,t,r,n){var a=[tr,ge("worksheet",null,{xmlns:Au[0],"xmlns:r":vr.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Et(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Zt(d)}n||(n={}),c["!comments"]=[];var f=[];pW(c,r,e,t,a),a[a.length]=ge("dimension",null,{ref:u}),a[a.length]=wW(c,t,e,r),t.sheetFormat&&(a[a.length]=ge("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=yW(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=SW(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=gW(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=bW(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=hW(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(g=at(n,-1,st(v[1].Target).replace(/#.*$/,""),Xe.HLINK),p["r:id"]="rId"+g),(h=v[1].Target.indexOf("#"))>-1&&(p.location=st(v[1].Target.slice(h+1))),v[1].Tooltip&&(p.tooltip=st(v[1].Tooltip)),a[a.length]=ge("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=xW(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Cr("ignoredErrors",ge("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=at(n,-1,"../drawings/drawing"+(e+1)+".xml",Xe.DRAW),a[a.length]=ge("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=at(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xe.VML),a[a.length]=ge("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function EW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function jW(e,t,r){var n=ie(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Kp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[lt(u)];g&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var v=n.l;return n.l=c,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function TW(e,t,r,n){var a=jW(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&de(e,0,a)}var AW=Sl,NW=Ou;function OW(){}function CW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=BB(e),r}function kW(e,t,r){r==null&&(r=ie(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Wp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),UP(e,r),r.slice(0,r.l)}function PW(e){var t=fa(e);return[t]}function RW(e,t,r){return r==null&&(r=ie(8)),bl(t,r)}function IW(e){var t=wl(e);return[t]}function DW(e,t,r){return r==null&&(r=ie(4)),_l(t,r)}function MW(e){var t=fa(e),r=e.read_shift(1);return[t,r,"b"]}function $W(e,t,r){return r==null&&(r=ie(9)),bl(t,r),r.write_shift(1,e.v?1:0),r}function LW(e){var t=wl(e),r=e.read_shift(1);return[t,r,"b"]}function FW(e,t,r){return r==null&&(r=ie(5)),_l(t,r),r.write_shift(1,e.v?1:0),r}function BW(e){var t=fa(e),r=e.read_shift(1);return[t,r,"e"]}function UW(e,t,r){return r==null&&(r=ie(9)),bl(t,r),r.write_shift(1,e.v),r}function zW(e){var t=wl(e),r=e.read_shift(1);return[t,r,"e"]}function WW(e,t,r){return r==null&&(r=ie(8)),_l(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function HW(e){var t=fa(e),r=e.read_shift(4);return[t,r,"s"]}function qW(e,t,r){return r==null&&(r=ie(12)),bl(t,r),r.write_shift(4,t.v),r}function VW(e){var t=wl(e),r=e.read_shift(4);return[t,r,"s"]}function KW(e,t,r){return r==null&&(r=ie(8)),_l(t,r),r.write_shift(4,t.v),r}function GW(e){var t=fa(e),r=Cu(e);return[t,r,"n"]}function XW(e,t,r){return r==null&&(r=ie(16)),bl(t,r),al(e.v,r),r}function YW(e){var t=wl(e),r=Cu(e);return[t,r,"n"]}function QW(e,t,r){return r==null&&(r=ie(12)),_l(t,r),al(e.v,r),r}function JW(e){var t=fa(e),r=zP(e);return[t,r,"n"]}function ZW(e,t,r){return r==null&&(r=ie(12)),bl(t,r),WP(e.v,r),r}function eH(e){var t=wl(e),r=zP(e);return[t,r,"n"]}function tH(e,t,r){return r==null&&(r=ie(8)),_l(t,r),WP(e.v,r),r}function rH(e){var t=fa(e),r=j_(e);return[t,r,"is"]}function nH(e){var t=fa(e),r=qr(e);return[t,r,"str"]}function aH(e,t,r){return r==null&&(r=ie(12+4*e.v.length)),bl(t,r),xr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function iH(e){var t=wl(e),r=qr(e);return[t,r,"str"]}function sH(e,t,r){return r==null&&(r=ie(8+4*e.v.length)),_l(t,r),xr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function oH(e,t,r){var n=e.l+t,a=fa(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Pv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function lH(e,t,r){var n=e.l+t,a=fa(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Pv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function cH(e,t,r){var n=e.l+t,a=fa(e);a.r=r["!row"];var i=Cu(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Pv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function uH(e,t,r){var n=e.l+t,a=fa(e);a.r=r["!row"];var i=qr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Pv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}var dH=Sl,fH=Ou;function hH(e,t){return t==null&&(t=ie(4)),t.write_shift(4,e),t}function pH(e,t){var r=e.l+t,n=Sl(e),a=T_(e),i=qr(e),s=qr(e),o=qr(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function mH(e,t){var r=ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ou({s:gr(e[0]),e:gr(e[0])},r),A_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return xr(a||"",r),xr(e[1].Tooltip||"",r),xr("",r),r.slice(0,r.l)}function vH(){}function gH(e,t,r){var n=e.l+t,a=HP(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=iW(e,n-e.l,r);s[1]=o}else e.l=n;return s}function xH(e,t,r){var n=e.l+t,a=Sl(e),i=[a];if(r.cellFormula){var s=oW(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function yH(e,t,r){r==null&&(r=ie(18));var n=Rv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var A3=["left","right","top","bottom","header","footer"];function bH(e){var t={};return A3.forEach(function(r){t[r]=Cu(e)}),t}function wH(e,t){return t==null&&(t=ie(6*8)),j3(e),A3.forEach(function(r){al(e[r],t)}),t}function _H(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function SH(e,t,r){r==null&&(r=ie(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function EH(e){var t=ie(24);return t.write_shift(4,4),t.write_shift(4,1),Ou(e,t),t}function jH(e,t){return t==null&&(t=ie(16*4+2)),t.write_shift(2,e.password?l3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function TH(){}function AH(){}function NH(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Tn(t),t.z=t.z||Ht[14],t.v=jn(on(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Ys(a.cellXfs,t,a),t.l&&i["!links"].push([lt(c),t.l]),t.c&&i["!comments"].push([lt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=R_(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?de(e,18,KW(t,c)):de(e,7,qW(t,c))):(c.t="str",s?de(e,17,sH(t,c)):de(e,6,aH(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?de(e,13,tH(t,c)):de(e,2,ZW(t,c)):s?de(e,16,QW(t,c)):de(e,5,XW(t,c)),!0;case"b":return c.t="b",s?de(e,15,FW(t,c)):de(e,4,$W(t,c)),!0;case"e":return c.t="e",s?de(e,14,WW(t,c)):de(e,3,UW(t,c)),!0}return s?de(e,12,DW(t,c)):de(e,1,RW(t,c)),!0}function OH(e,t,r,n){var a=Et(t["!ref"]||"A1"),i,s="",o=[];de(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=Pr(d),TW(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=Hr(h)),i=o[h]+s;var p=c?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=NH(e,p,d,h,n,t,f)}}de(e,146)}function CH(e,t){!t||!t["!merges"]||(de(e,177,hH(t["!merges"].length)),t["!merges"].forEach(function(r){de(e,176,fH(r))}),de(e,178))}function kH(e,t){!t||!t["!cols"]||(de(e,390),t["!cols"].forEach(function(r,n){r&&de(e,60,yH(n,r))}),de(e,391))}function PH(e,t){!t||!t["!ref"]||(de(e,648),de(e,649,EH(Et(t["!ref"]))),de(e,650))}function RH(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=at(r,-1,n[1].Target.replace(/#.*$/,""),Xe.HLINK);de(e,494,mH(n,a))}}),delete t["!links"]}function IH(e,t,r,n){if(t["!comments"].length>0){var a=at(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Xe.VML);de(e,551,A_("rId"+a)),t["!legacy"]=a}}function DH(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Zt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Wn(i);o.s.r==o.e.r&&(o.e.r=Wn(t["!ref"]).e.r,i=Zt(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),de(e,161,Ou(Et(i))),de(e,162)}}function MH(e,t,r){de(e,133),de(e,137,SH(t,r)),de(e,138),de(e,134)}function $H(e,t){t["!protect"]&&de(e,535,jH(t["!protect"]))}function LH(e,t,r,n){var a=Sn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Et(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],de(a,129),(r.vbaraw||s["!outline"])&&de(a,147,kW(o,s["!outline"])),de(a,148,NW(c)),MH(a,s,r.Workbook),kH(a,s),OH(a,s,e,t),$H(a,s),DH(a,s,r,e),CH(a,s),RH(a,s,n),s["!margins"]&&de(a,476,wH(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&PH(a,s),IH(a,s,e,n),de(a,130),a.end()}function FH(e,t){e.l+=10;var r=qr(e);return{name:r}}var BH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function UH(e){return!e.Workbook||!e.Workbook.WBProps?"false":xB(e.Workbook.WBProps.date1904)?"true":"false"}var zH="][*?/\\".split("");function N3(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return zH.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function WH(e,t,r){e.forEach(function(n,a){N3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function HH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];WH(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)fW(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function O3(e){var t=[tr];t[t.length]=ge("workbook",null,{xmlns:Au[0],"xmlns:r":vr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(BH.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ge("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:st(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ge("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=ge("definedName",st(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function qH(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=x1(e),r.name=qr(e),r}function VH(e,t){return t||(t=ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),A_(e.strRelID,t),xr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function KH(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?qr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function GH(e,t){t||(t=ie(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),UP(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function XH(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=UB(e),s=sW(e,0,r),o=T_(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function YH(e,t){de(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};de(e,156,VH(a))}de(e,144)}function QH(e,t){t||(t=ie(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xr("SheetJS",t),xr(Dp.version,t),xr(Dp.version,t),xr("7262",t),t.length>t.l?t.slice(0,t.l):t}function JH(e,t){t||(t=ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function ZH(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(de(e,135),de(e,158,JH(a)),de(e,136))}}function eq(e,t){var r=Sn();return de(r,131),de(r,128,QH()),de(r,153,GH(e.Workbook&&e.Workbook.WBProps||null)),ZH(r,e),YH(r,e),de(r,132),r.end()}function tq(e,t,r){return(t.slice(-4)===".bin"?eq:O3)(e)}function rq(e,t,r,n,a){return(t.slice(-4)===".bin"?LH:T3)(e,r,n,a)}function nq(e,t,r){return(t.slice(-4)===".bin"?wU:d3)(e,r)}function aq(e,t,r){return(t.slice(-4)===".bin"?G9:o3)(e,r)}function iq(e,t,r){return(t.slice(-4)===".bin"?$U:v3)(e)}function sq(e){return(e.slice(-4)===".bin"?OU:p3)()}function oq(e,t){var r=[];return e.Props&&r.push(n9(e.Props,t)),e.Custprops&&r.push(a9(e.Props,e.Custprops)),r.join("")}function lq(){return""}function cq(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ge("NumberFormat",null,{"ss:Format":st(Ht[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ge("Style",i.join(""),s))}),ge("Styles",r.join(""))}function C3(e){return ge("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+k_(e.Ref,{r:0,c:0})})}function uq(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(C3(a)))}return ge("Names",r.join(""))}function dq(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(C3(o)))}return i.join("")}function fq(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ge("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ge("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ge("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Cr("ProtectContents","True")),e["!protect"].objects&&a.push(Cr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Cr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Cr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Cr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ge("WorksheetOptions",a.join(""),{xmlns:In.x})}function hq(e){return e.map(function(t){var r=gB(t.t||""),n=ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ge("Comment",n,{"ss:Author":t.a})}).join("")}function pq(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+st(k_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=gr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=st(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=st(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=wh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ht[14]);break;case"s":f="String",h=vB(e.v||"");break}var p=Ys(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",v=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(v+=hq(e.c)),ge("Cell",v,o)}function mq(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=u3(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function vq(e,t,r,n){if(!e["!ref"])return"";var a=Et(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,b){O_(x);var m=!!x.width,y=Rv(b,x),_={"ss:Index":b+1};m&&(_["ss:Width"]=qp(y.width)),x.hidden&&(_["ss:Hidden"]="1"),o.push(ge("Column",null,_))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[mq(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=lt(p),v=c?(e[u]||[])[f]:e[g];d.push(pq(v,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function gq(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?dq(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?vq(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(fq(i,t,e,r)),n.join("")}function xq(e,t){t||(t={}),e.SSF||(e.SSF=Tn(Ht)),e.SSF&&(Nv(),Av(e.SSF),t.revssf=Ov(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(oq(e,t)),r.push(lq()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ge("Worksheet",gq(n,t,e),{"ss:Name":st(e.SheetNames[n])}));return r[2]=cq(e,t),r[3]=uq(e),tr+ge("Workbook",r.join(""),{xmlns:In.ss,"xmlns:o":In.o,"xmlns:x":In.x,"xmlns:ss":In.ss,"xmlns:dt":In.dt,"xmlns:html":In.html})}var yx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yq(e,t){var r=[],n=[],a=[],i=0,s,o=tj(pj,"n"),c=tj(mj,"n");if(e.Props)for(s=Ir(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Ir(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)e3.indexOf(a[i][0])>-1||QP.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&ut.utils.cfb_add(t,"/SummaryInformation",bj(n,yx.SI,c,mj)),(r.length||u.length)&&ut.utils.cfb_add(t,"/DocumentSummaryInformation",bj(r,yx.DSI,o,pj,u.length?u:null,yx.UDI))}function bq(e,t){var r=t||{},n=ut.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ut.utils.cfb_add(n,a,k3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&yq(e,n),r.biff==8&&e.vbaraw&&LU(n,ut.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var wq={0:{f:EW},1:{f:PW},2:{f:JW},3:{f:BW},4:{f:MW},5:{f:GW},6:{f:nH},7:{f:HW},8:{f:uH},9:{f:cH},10:{f:oH},11:{f:lH},12:{f:IW},13:{f:eH},14:{f:zW},15:{f:LW},16:{f:YW},17:{f:iH},18:{f:VW},19:{f:j_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:XH},40:{},42:{},43:{f:nU},44:{f:tU},45:{f:sU},46:{f:lU},47:{f:oU},48:{},49:{f:IB},50:{},51:{f:EU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:D9},62:{f:rH},63:{f:CU},64:{f:TH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_H},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:CW},148:{f:AW,p:16},151:{f:vH},152:{},153:{f:KH},154:{},155:{},156:{f:qH},157:{},158:{},159:{T:1,f:q9},160:{T:-1},161:{T:1,f:Sl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_U},336:{T:-1},337:{f:AU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:x1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:O9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gH},427:{f:xH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:OW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:pH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:x1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:DU},633:{T:1},634:{T:-1},635:{T:1,f:RU},636:{T:-1},637:{f:LB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:FH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:AH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ye(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&__(r)&&e.push(r)}}function _q(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ye(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Sh(e,t,r){return e||(e=ie(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Sq(e,t,r,n){var a=ie(9);return Sh(a,e,t),r3(r,n||"b",a),a}function Eq(e,t,r){var n=ie(8+2*r.length);return Sh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function jq(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?jn(on(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ye(e,2,F9(r,n,a)):ye(e,3,L9(r,n,a));return;case"b":case"e":ye(e,5,Sq(r,n,t.v,t.t));return;case"s":case"str":ye(e,4,Eq(r,n,(t.v||"").slice(0,255)));return}ye(e,1,Sh(null,r,n))}function Tq(e,t,r,n){var a=Array.isArray(t),i=Et(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Zt(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Pr(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Hr(d)),s=c[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&jq(e,f,u,d)}}}function Aq(e,t){for(var r=t||{},n=Sn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ye(n,r.biff==4?1033:r.biff==3?521:9,N_(e,16,r)),Tq(n,e.Sheets[e.SheetNames[a]],a,r),ye(n,10),n.end()}function Nq(e,t,r){ye(e,49,w9({sz:12,name:"Arial"},r))}function Oq(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ye(e,1054,E9(a,t[a],r))})}function Cq(e,t){var r=ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ye(e,2151,r),r=ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),i3(Et(t["!ref"]||"A1"),r),r.write_shift(4,4),ye(e,2152,r)}function kq(e,t){for(var r=0;r<16;++r)ye(e,224,_j({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ye(e,224,_j(n,0,t))})}function Pq(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ye(e,440,P9(n)),n[1].Tooltip&&ye(e,2048,R9(n))}delete t["!links"]}function Rq(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ye(e,125,M9(Rv(a,n),a))})}}function Iq(e,t,r,n,a){var i=16+Ys(a.cellXfs,t,a);if(t.v==null&&!t.bf){ye(e,513,il(r,n,i));return}if(t.bf)ye(e,6,aW(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?jn(on(t.v)):t.v;ye(e,515,N9(r,n,s,i));break;case"b":case"e":ye(e,517,A9(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=R_(a.Strings,t.v,a.revStrings);ye(e,253,_9(r,n,o,i))}else ye(e,516,S9(r,n,(t.v||"").slice(0,255),i,a));break;default:ye(e,513,il(r,n,i))}}function Dq(e,t,r){var n=Sn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=Et(i["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}ye(n,2057,N_(r,16,t)),ye(n,13,Zn(1)),ye(n,12,Zn(100)),ye(n,15,en(!0)),ye(n,17,en(!1)),ye(n,16,al(.001)),ye(n,95,en(!0)),ye(n,42,en(!1)),ye(n,43,en(!1)),ye(n,130,Zn(1)),ye(n,128,T9()),ye(n,131,en(!1)),ye(n,132,en(!1)),u&&Rq(n,i["!cols"]),ye(n,512,j9(p,t)),u&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){f=Pr(v);for(var x=p.s.c;x<=p.e.c;++x){v===p.s.r&&(h[x]=Hr(x)),d=h[x]+f;var b=c?(i[v]||[])[x]:i[d];b&&(Iq(n,b,v,x,t),u&&b.l&&i["!links"].push([d,b.l]))}}var m=o.CodeName||o.name||a;return u&&ye(n,574,b9((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&ye(n,229,k9(i["!merges"])),u&&Pq(n,i),ye(n,442,a3(m)),u&&Cq(n,i),ye(n,10),n.end()}function Mq(e,t,r){var n=Sn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(ye(n,2057,N_(e,5,r)),r.bookType=="xla"&&ye(n,135),ye(n,225,o?Zn(1200):null),ye(n,193,o9(2)),c&&ye(n,191),c&&ye(n,192),ye(n,226),ye(n,92,v9("SheetJS",r)),ye(n,66,Zn(o?1200:1252)),o&&ye(n,353,Zn(0)),o&&ye(n,448),ye(n,317,$9(e.SheetNames.length)),o&&e.vbaraw&&ye(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";ye(n,442,a3(u))}ye(n,156,Zn(17)),ye(n,25,en(!1)),ye(n,18,en(!1)),ye(n,19,Zn(0)),o&&ye(n,431,en(!1)),o&&ye(n,444,Zn(0)),ye(n,61,y9()),ye(n,64,en(!1)),ye(n,141,Zn(0)),ye(n,34,en(UH(e)=="true")),ye(n,14,en(!0)),o&&ye(n,439,en(!1)),ye(n,218,Zn(0)),Nq(n,e,r),Oq(n,e.SSF,r),kq(n,r),o&&ye(n,352,en(!1));var d=n.end(),f=Sn();o&&ye(f,140,I9()),o&&r.Strings&&_q(f,252,x9(r.Strings)),ye(f,10);var h=f.end(),p=Sn(),g=0,v=0;for(v=0;v<e.SheetNames.length;++v)g+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var x=d.length+g+h.length;for(v=0;v<e.SheetNames.length;++v){var b=i[v]||{};ye(p,133,g9({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[v]},r)),x+=t[v].length}var m=p.end();if(g!=m.length)throw new Error("BS8 "+g+" != "+m.length);var y=[];return d.length&&y.push(d),m.length&&y.push(m),h.length&&y.push(h),Or(y)}function $q(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Tn(Ht)),e&&e.SSF&&(Nv(),Av(e.SSF),r.revssf=Ov(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,I_(r),r.cellXfs=[],Ys(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Dq(a,r,e);return n.unshift(Mq(e,n,r)),Or(n)}function k3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Wn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return $q(e,t);case 4:case 3:case 2:return Aq(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lq(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=lt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||mB(f.w||(Bi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ge("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var Fq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Bq="</body></html>";function Uq(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function P3(e,t){var r=t||{},n=r.header!=null?r.header:Fq,a=r.footer!=null?r.footer:Bq,i=[n],s=Wn(e["!ref"]);r.dense=Array.isArray(e),i.push(Uq(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(Lq(e,s,o,r));return i.push("</table>"+a),i.join("")}function R3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?gr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Wn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,v=0,x=0,b=0,m=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&v<c;++g){var _=o[g];if(Oj(_)){if(n.display)continue;p[v]={hidden:!0}}var w=_.children;for(x=b=0;x<w.length;++x){var S=w[x];if(!(n.display&&Oj(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):yB(S.innerHTML),j=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==b+i&&T.s.r<v+a&&v+a<=T.e.r&&(b=T.e.c+1-i,h=-1)}y=+S.getAttribute("colspan")||1,((m=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:b+i},e:{r:v+a+(m||1)-1,c:b+i+(y||1)-1}});var O={t:"s",v:E},C=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?O.t=C||"z":n.raw||E.trim().length==0||C=="s"||(E==="TRUE"?O={t:"b",v:!0}:E==="FALSE"?O={t:"b",v:!1}:isNaN(Ni(E))?isNaN(xf(E).getDate())||(O={t:"d",v:on(E)},n.cellDates||(O={t:"n",v:jn(O.v)}),O.z=n.dateNF||Ht[14]):O={t:"n",v:Ni(E)})),O.z===void 0&&j!=null&&(O.z=j);var M="",F=S.getElementsByTagName("A");if(F&&F.length)for(var q=0;q<F.length&&!(F[q].hasAttribute("href")&&(M=F[q].getAttribute("href"),M.charAt(0)!="#"));++q);M&&M.charAt(0)!="#"&&(O.l={Target:M}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][b+i]=O):e[lt({c:b+i,r:v+a})]=O,u.e.c<b+i&&(u.e.c=b+i),b+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=Zt(u),v>=c&&(e["!fullref"]=Zt((u.e.r=o.length-g+v-1+a,u))),e}function I3(e,t){var r=t||{},n=r.dense?[]:{};return R3(n,e,t)}function zq(e,t){return yl(I3(e,t),t)}function Oj(e){var t="",r=Wq(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Wq(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Hq=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return tr+t}}(),Cj=function(){var e=function(i){return st(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+st(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Wn(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)v=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=f.e.r;++u){for(v=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,m={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(b=!0),m["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,m["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){c.push(r);continue}var _=lt({r:u,c:d}),w=g?(i[u]||[])[d]:i[_];if(w&&w.f&&(m["table:formula"]=st(uW(w.f)),w.F&&w.F.slice(0,_.length)==_)){var S=Wn(w.F);m["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,m["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!w){c.push(t);continue}switch(w.t){case"b":y=w.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=w.v?"true":"false";break;case"n":y=w.w||String(w.v||0),m["office:value-type"]="float",m["office:value"]=w.v||0;break;case"s":case"str":y=w.v==null?"":w.v,m["office:value-type"]="string";break;case"d":y=w.w||on(w.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=on(w.v).toISOString(),m["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(y);if(w.l&&w.l.Target){var j=w.l.Target;j=j.charAt(0)=="#"?"#"+dW(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),E=ge("text:a",E,{"xlink:href":j.replace(/&/g,"&amp;")})}c.push("          "+ge("table:table-cell",ge("text:p",E,{}),m)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;O_(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[tr],u=bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=bf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(XP().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function D3(e,t){if(t.bookType=="fods")return Cj(e,t);var r=x_(),n="",a=[],i=[];return n="mimetype",Ue(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ue(r,n,Cj(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ue(r,n,Hq(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ue(r,n,tr+XP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ue(r,n,r9(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ue(r,n,e9(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function qq(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Oa(yf(e))}function Vq(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function qs(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Kq(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function wf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function nt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function mc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ar(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=wf(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=wf(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Er(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(nt(n*8+a.type)),a.type==2&&t.push(nt(a.data.length)),t.push(a.data))})}),qs(t)}function va(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=wf(e,n),i=ar(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:mc(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=ar(o.data),u=mc(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=mc(i[3][0].data)>>>0>0),r.push(s)}return r}function Cl(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:nt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:nt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:nt(s.data.length)}],n[2].push({data:Er(s.meta),type:2})});var i=Er(n);t.push(nt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),qs(t)}function Gq(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=wf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[qs(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=qs(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ga(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Gq(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return qs(t)}function kl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=nt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return qs(t)}function bx(e,t){var r=new Uint8Array(32),n=Gp(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Kq(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function wx(e,t){var r=new Uint8Array(32),n=Gp(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function ns(e){var t=ar(e);return wf(t[1][0].data)}function Xq(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&mc(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Gp(e[7][0].data),d=0,f=[],h=Gp(e[4][0].data),p=0,g=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535);continue}u.setUint16(v*2,d,!0),h.setUint16(v*2,p,!0);var x,b;switch(typeof t[v]){case"string":x=bx({t:"s",v:t[v]},r),b=wx({t:"s",v:t[v]},r);break;case"number":x=bx({t:"n",v:t[v]},r),b=wx({t:"n",v:t[v]},r);break;case"boolean":x=bx({t:"b",v:t[v]},r),b=wx({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}f.push(x),d+=x.length,g.push(b),p+=b.length,++c}for(e[2][0].data=nt(c);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535,!0);return e[6][0].data=qs(f),e[3][0].data=qs(g),c}function Yq(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Zt(n)));var i=Xp(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},c=[],u=ut.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,U){return[H,u.FullPaths[U]]}).forEach(function(H){var U=H[0],W=H[1];if(U.type==2&&U.name.match(/\.iwa/)){var ae=U.content,Se=ga(ae),J=va(Se);J.forEach(function(K){c.push(K.id),o[K.id]={deps:[],location:W,type:mc(K.messages[0].meta[1][0].data)}})}}),c.sort(function(H,U){return H-U});var d=c.filter(function(H){return H>1}).map(function(H){return[H,nt(H)]});u.FileIndex.map(function(H,U){return[H,u.FullPaths[U]]}).forEach(function(H){var U=H[0];if(H[1],!!U.name.match(/\.iwa/)){var W=va(ga(U.content));W.forEach(function(ae){ae.messages.forEach(function(Se){d.forEach(function(J){ae.messages.some(function(K){return mc(K.meta[1][0].data)!=11006&&Vq(K.data,J[1])})&&o[J[0]].deps.push(ae.id)})})})}});for(var f=ut.find(u,o[1].location),h=va(ga(f.content)),p,g=0;g<h.length;++g){var v=h[g];v.id==1&&(p=v)}var x=ns(ar(p.messages[0].data)[1][0].data);for(f=ut.find(u,o[x].location),h=va(ga(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);for(x=ns(ar(p.messages[0].data)[2][0].data),f=ut.find(u,o[x].location),h=va(ga(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);for(x=ns(ar(p.messages[0].data)[2][0].data),f=ut.find(u,o[x].location),h=va(ga(f.content)),g=0;g<h.length;++g)v=h[g],v.id==x&&(p=v);var b=ar(p.messages[0].data);{b[6][0].data=nt(n.e.r+1),b[7][0].data=nt(n.e.c+1);var m=ns(b[46][0].data),y=ut.find(u,o[m].location),_=va(ga(y.content));{for(var w=0;w<_.length&&_[w].id!=m;++w);if(_[w].id!=m)throw"Bad ColumnRowUIDMapArchive";var S=ar(_[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=n.e.c;++E){var j=[];j[1]=j[2]=[{type:0,data:nt(E+420690)}],S[1].push({type:2,data:Er(j)}),S[2].push({type:0,data:nt(E)}),S[3].push({type:0,data:nt(E)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)j=[],j[1]=j[2]=[{type:0,data:nt(T+726270)}],S[4].push({type:2,data:Er(j)}),S[5].push({type:0,data:nt(T)}),S[6].push({type:0,data:nt(T)});_[w].messages[0].data=Er(S)}y.content=kl(Cl(_)),y.size=y.content.length,delete b[46];var O=ar(b[4][0].data);{O[7][0].data=nt(n.e.r+1);var C=ar(O[1][0].data),M=ns(C[2][0].data);y=ut.find(u,o[M].location),_=va(ga(y.content));{if(_[0].id!=M)throw"Bad HeaderStorageBucket";var F=ar(_[0].messages[0].data);for(T=0;T<i.length;++T){var q=ar(F[2][0].data);q[1][0].data=nt(T),q[4][0].data=nt(i[T].length),F[2][T]={type:F[2][0].type,data:Er(q)}}_[0].messages[0].data=Er(F)}y.content=kl(Cl(_)),y.size=y.content.length;var V=ns(O[2][0].data);y=ut.find(u,o[V].location),_=va(ga(y.content));{if(_[0].id!=V)throw"Bad HeaderStorageBucket";for(F=ar(_[0].messages[0].data),E=0;E<=n.e.c;++E)q=ar(F[2][0].data),q[1][0].data=nt(E),q[4][0].data=nt(n.e.r+1),F[2][E]={type:F[2][0].type,data:Er(q)};_[0].messages[0].data=Er(F)}y.content=kl(Cl(_)),y.size=y.content.length;var ne=ns(O[4][0].data);(function(){for(var H=ut.find(u,o[ne].location),U=va(ga(H.content)),W,ae=0;ae<U.length;++ae){var Se=U[ae];Se.id==ne&&(W=Se)}var J=ar(W.messages[0].data);{J[3]=[];var K=[];s.forEach(function(re,Le){K[1]=[{type:0,data:nt(Le)}],K[2]=[{type:0,data:nt(1)}],K[3]=[{type:2,data:qq(re)}],J[3].push({type:2,data:Er(K)})})}W.messages[0].data=Er(J);var ee=Cl(U),be=kl(ee);H.content=be,H.size=H.content.length})();var se=ar(O[3][0].data);{var G=se[1][0];delete se[2];var te=ar(G.data);{var ue=ns(te[2][0].data);(function(){for(var H=ut.find(u,o[ue].location),U=va(ga(H.content)),W,ae=0;ae<U.length;++ae){var Se=U[ae];Se.id==ue&&(W=Se)}var J=ar(W.messages[0].data);{delete J[6],delete se[7];var K=new Uint8Array(J[5][0].data);J[5]=[];for(var ee=0,be=0;be<=n.e.r;++be){var re=ar(K);ee+=Xq(re,i[be],s),re[1][0].data=nt(be),J[5].push({data:Er(re),type:2})}J[1]=[{type:0,data:nt(n.e.c+1)}],J[2]=[{type:0,data:nt(n.e.r+1)}],J[3]=[{type:0,data:nt(ee)}],J[4]=[{type:0,data:nt(n.e.r+1)}]}W.messages[0].data=Er(J);var Le=Cl(U),Ce=kl(Le);H.content=Ce,H.size=H.content.length})()}G.data=Er(te)}O[3][0].data=Er(se)}b[4][0].data=Er(O)}p.messages[0].data=Er(b);var pe=Cl(h),P=kl(pe);return f.content=P,f.size=f.content.length,u}function Qq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function I_(e){Qq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Jq(e,t){return t.bookType=="ods"?D3(e,t):t.bookType=="numbers"?Yq(e,t):t.bookType=="xlsb"?Zq(e,t):eV(e,t)}function Zq(e,t){ec=1024,e&&!e.SSF&&(e.SSF=Tn(Ht)),e&&e.SSF&&(Nv(),Av(e.SSF),t.revssf=Ov(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=g3.indexOf(t.bookType)>-1,a=VP();I_(t=t||{});var i=x_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,YP(e.Props,t)),a.coreprops.push(s),at(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,JP(e.Props)),a.extprops.push(s),at(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&Ir(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,ZP(e.Custprops)),a.custprops.push(s),at(t.rels,4,s,Xe.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,rq(o-1,s,t,e,d)),a.sheets.push(s),at(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(f){var p=f["!comments"],g=!1,v="";p&&p.length>0&&(v="xl/comments"+o+"."+r,Ue(i,v,iq(p,v)),a.comments.push(v),at(d,-1,"../comments"+o+"."+r,Xe.CMNT),g=!0),f["!legacy"]&&g&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",m3(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ue(i,GP(s),hc(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,aq(t.Strings,s,t)),a.strs.push(s),at(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,tq(e,s)),a.workbooks.push(s),at(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,h3(e.Themes,t)),a.themes.push(s),at(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,nq(e,s,t)),a.styles.push(s),at(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),at(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,sq(s)),a.metadata.push(s),at(t.wbrels,-1,"metadata."+r,Xe.XLMETA),Ue(i,"[Content_Types].xml",KP(a,t)),Ue(i,"_rels/.rels",hc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",hc(t.wbrels)),delete t.revssf,delete t.ssf,i}function eV(e,t){ec=1024,e&&!e.SSF&&(e.SSF=Tn(Ht)),e&&e.SSF&&(Nv(),Av(e.SSF),t.revssf=Ov(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=g3.indexOf(t.bookType)>-1,a=VP();I_(t=t||{});var i=x_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,YP(e.Props,t)),a.coreprops.push(s),at(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,JP(e.Props)),a.extprops.push(s),at(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&Ir(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,ZP(e.Custprops)),a.custprops.push(s),at(t.rels,4,s,Xe.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,T3(o-1,t,e,f)),a.sheets.push(s),at(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(h){var g=h["!comments"],v=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(m){m[1].forEach(function(y){y.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+o+"."+r,Ue(i,x,kU(g,d,t)),a.threadedcomments.push(x),at(f,-1,"../threadedComments/threadedComment"+o+"."+r,Xe.TCMNT)),x="xl/comments"+o+"."+r,Ue(i,x,v3(g)),a.comments.push(x),at(f,-1,"../comments"+o+"."+r,Xe.CMNT),v=!0}h["!legacy"]&&v&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",m3(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ue(i,GP(s),hc(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,o3(t.Strings,t)),a.strs.push(s),at(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,O3(e)),a.workbooks.push(s),at(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,h3(e.Themes,t)),a.themes.push(s),at(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,d3(e,t)),a.styles.push(s),at(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),at(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,p3()),a.metadata.push(s),at(t.wbrels,-1,"metadata."+r,Xe.XLMETA),d.length>1&&(s="xl/persons/person.xml",Ue(i,s,PU(d)),a.people.push(s),at(t.wbrels,-1,"persons/person.xml",Xe.PEOPLE)),Ue(i,"[Content_Types].xml",KP(a,t)),Ue(i,"_rels/.rels",hc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",hc(t.wbrels)),delete t.revssf,delete t.ssf,i}function tV(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Fi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function M3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return yh(t.file,ut.write(e,{type:Qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ut.write(e,t)}function rV(e,t){var r=Tn(t||{}),n=Jq(e,r);return nV(n,r)}function nV(e,t){var r={},n=Qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ut.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Tv(a))}return t.password&&typeof encrypt_agile<"u"?M3(encrypt_agile(a,t.password),t):t.type==="file"?yh(t.file,a):t.type=="string"?Ld(a):a}function aV(e,t){var r=t||{},n=bq(e,r);return M3(n,r)}function Va(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return gf(yf(n));case"binary":return yf(n);case"string":return e;case"file":return yh(t.file,n,"utf8");case"buffer":return Qe?Qi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Va(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function iV(e,t){switch(t.type){case"base64":return gf(e);case"binary":return e;case"string":return e;case"file":return yh(t.file,e,"binary");case"buffer":return Qe?Qi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function b0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?gf(r):t.type=="string"?Ld(r):r;case"file":return yh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function $3(e,t){R7(),HH(e);var r=Tn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=$3(e,r);return r.type="array",Tv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Va(xq(e,r),r);case"slk":case"sylk":return Va(U9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Va(P3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return iV(L3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Va(D_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Va(z9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return b0(B9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Va(W9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Va(Y9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Va(s3.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Va(D3(e,r),r);case"wk1":return b0(Sj.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return b0(Sj.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),b0(k3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),aV(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return rV(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sV(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function oV(e,t,r){var n={};return n.type="file",n.file=t,sV(n),$3(e,n)}function lV(e,t,r,n,a,i,s,o){var c=Pr(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(v==null)if(g.t=="e"&&v===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&v===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?v:Bi(g,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function Xp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Et(d);break;case"number":c=Et(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Pr(c.s.r),h=[],p=[],g=0,v=0,x=Array.isArray(e),b=c.s.r,m=0,y={};x&&!e[b]&&(e[b]=[]);var _=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(m=c.s.c;m<=c.e.c;++m)if(!(_[m]||{}).hidden)switch(h[m]=Hr(m),r=x?e[b][m]:e[h[m]+f],n){case 1:i[m]=m-c.s.c;break;case 2:i[m]=h[m];break;case 3:i[m]=u.header[m-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Bi(r,null,u),v=y[s]||0,!v)y[s]=1;else{do o=s+"_"+v++;while(y[o]);y[s]=v,y[o]=1}i[m]=o}for(b=c.s.r+a;b<=c.e.r;++b)if(!(w[b]||{}).hidden){var S=lV(e,c,b,h,n,i,x,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=S.row)}return p.length=g,p}var kj=/"/g;function cV(e,t,r,n,a,i,s,o){for(var c=!0,u=[],d="",f=Pr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Bi(p,null,o));for(var g=0,v=0;g!==d.length;++g)if((v=d.charCodeAt(g))===a||v===i||v===34||o.forceQuotes){d='"'+d.replace(kj,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(kj,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function D_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Et(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Hr(g));for(var v=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=cV(e,a,x,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((v++?o:"")+d)));return delete n.dense,r.join("")}function L3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=D_(e,t);return r}function uV(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Et(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Hr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Pr(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function F3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?gr(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Et(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,x){Ir(v).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var m=v[b],y="z",_="",w=lt({c:o+p,r:s+x+a});u=_f(i,w),m&&typeof m=="object"&&!(m instanceof Date)?i[w]=m:(typeof m=="number"?y="n":typeof m=="boolean"?y="b":typeof m=="string"?y="s":m instanceof Date?(y="d",n.cellDates||(y="n",m=jn(m)),_=n.dateNF||Ht[14]):m===null&&n.nullError&&(y="e",m=0),u?(u.t=y,u.v=m,delete u.w,delete u.R,_&&(u.z=_)):i[w]=u={t:y,v:m},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=Pr(s);if(a)for(p=0;p<h.length;++p)i[Hr(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Zt(d),i}function dV(e,t){return F3(null,e,t)}function _f(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=gr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_f(e,lt(t)):_f(e,lt({r:t,c:r||0}))}function fV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function hV(){return{SheetNames:[],Sheets:{}}}function pV(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(N3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function mV(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=fV(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function vV(e,t){return e.z=t,e}function B3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function gV(e,t,r){return B3(e,"#"+t,r)}function xV(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function yV(e,t,r,n){for(var a=typeof t!="string"?t:Et(t),i=typeof t=="string"?t:Zt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=_f(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var _x={encode_col:Hr,encode_row:Pr,encode_cell:lt,encode_range:Zt,decode_col:E_,decode_row:S_,split_cell:RB,decode_cell:gr,decode_range:Wn,format_cell:Bi,sheet_add_aoa:BP,sheet_add_json:F3,sheet_add_dom:R3,aoa_to_sheet:Nu,json_to_sheet:dV,table_to_sheet:I3,table_to_book:zq,sheet_to_csv:D_,sheet_to_txt:L3,sheet_to_json:Xp,sheet_to_html:P3,sheet_to_formulae:uV,sheet_to_row_object_array:Xp,sheet_get_cell:_f,book_new:hV,book_append_sheet:pV,book_set_sheet_visibility:mV,cell_set_number_format:vV,cell_set_hyperlink:B3,cell_set_internal_link:gV,cell_add_comment:xV,sheet_set_array_formula:yV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const et=({filename:e,sheetName:t,rows:r,columns:n})=>{const a=e.endsWith(".xlsx")?e:`${e}.xlsx`,i=n.map(u=>u.header),s=r.map(u=>n.map(d=>(d.value?d.value(u):u[d.key])??"")),o=_x.aoa_to_sheet([i,...s]),c=_x.book_new();_x.book_append_sheet(c,o,t),oV(c,a)},Qs=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),Kt=e=>{const t=Qs(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},bV=e=>{const t=e.replace(/\D/g,"");let r=0,n=2;for(let i=t.length-1;i>=0;i--)r+=parseInt(t[i],10)*n,n=n===7?2:n+1;const a=11-r%11;return a===11?"0":a===10?"K":String(a)},b1=e=>{if(!e||e.trim()==="")return{valid:!1,error:"RUT es requerido"};const t=Qs(e);if(!/^\d{7,9}[0-9K]$/i.test(t))return{valid:!1,error:"Formato de RUT invlido"};const r=t.slice(0,-1),n=t.slice(-1).toUpperCase(),a=bV(r);return n!==a?{valid:!1,error:"Dgito verificador invlido"}:{valid:!0}};var w1=function(e,t){return w1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},w1(e,t)};function U3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yp=function(){return Yp=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yp.apply(this,arguments)};function ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function z3(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function W3(e,t){return function(r,n){t(r,n,e)}}function H3(e,t,r,n,a,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var x=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[c],g);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(d.get=f),(f=s(x.set))&&(d.set=f),(f=s(x.init))&&a.unshift(f)}else(f=s(x))&&(o==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function q3(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function V3(e){return typeof e=="symbol"?e:"".concat(e)}function K3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function G3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ne(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function X3(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Iv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Y3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Iv(t,e,r)}function Qp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function M_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Q3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(M_(arguments[t]));return e}function J3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function Z3(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vc(e){return this instanceof Vc?(this.v=e,this):new Vc(e)}function e5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(a[p]=function(v){return new Promise(function(x,b){i.push([p,v,x,b])>1||c(p,v)})},g&&(a[p]=g(a[p])))}function c(p,g){try{u(n[p](g))}catch(v){h(i[0][3],v)}}function u(p){p.value instanceof Vc?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function t5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:Vc(e[a](s)),done:!1}:i?i(s):s}:i}}function r5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Qp=="function"?Qp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,c){s=e[i](s),a(o,c,s.done,s.value)})}}function a(i,s,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},s)}}function n5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wV=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},_1=function(e){return _1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},_1(e)};function a5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=_1(e),n=0;n<r.length;n++)r[n]!=="default"&&Iv(t,e,r[n]);return wV(t,e),t}function i5(e){return e&&e.__esModule?e:{default:e}}function s5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function o5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function l5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function c5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var _V=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function u5(e){function t(i){e.error=e.hasError?new _V(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function d5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const SV={__extends:U3,__assign:Yp,__rest:ku,__decorate:z3,__param:W3,__esDecorate:H3,__runInitializers:q3,__propKey:V3,__setFunctionName:K3,__metadata:G3,__awaiter:Ne,__generator:X3,__createBinding:Iv,__exportStar:Y3,__values:Qp,__read:M_,__spread:Q3,__spreadArrays:J3,__spreadArray:Z3,__await:Vc,__asyncGenerator:e5,__asyncDelegator:t5,__asyncValues:r5,__makeTemplateObject:n5,__importStar:a5,__importDefault:i5,__classPrivateFieldGet:s5,__classPrivateFieldSet:o5,__classPrivateFieldIn:l5,__addDisposableResource:c5,__disposeResources:u5,__rewriteRelativeImportExtension:d5},EV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:c5,get __assign(){return Yp},__asyncDelegator:t5,__asyncGenerator:e5,__asyncValues:r5,__await:Vc,__awaiter:Ne,__classPrivateFieldGet:s5,__classPrivateFieldIn:l5,__classPrivateFieldSet:o5,__createBinding:Iv,__decorate:z3,__disposeResources:u5,__esDecorate:H3,__exportStar:Y3,__extends:U3,__generator:X3,__importDefault:i5,__importStar:a5,__makeTemplateObject:n5,__metadata:G3,__param:W3,__propKey:V3,__read:M_,__rest:ku,__rewriteRelativeImportExtension:d5,__runInitializers:q3,__setFunctionName:K3,__spread:Q3,__spreadArray:Z3,__spreadArrays:J3,__values:Qp,default:SV},Symbol.toStringTag,{value:"Module"})),jV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Dv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f5 extends Dv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class S1 extends Dv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class E1 extends Dv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jp||(Jp={}));class TV{constructor(t,{headers:r={},customFetch:n,region:a=Jp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=jV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ne(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let x=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(x=s.signal,d.addEventListener("abort",()=>s.abort())):x=s.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:x}).catch(w=>{throw new f5(w)}),m=b.headers.get("x-relay-error");if(m&&m==="true")throw new S1(b);if(!b.ok)throw new E1(b);let y=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield b.json():y==="application/octet-stream"||y==="application/pdf"?_=yield b.blob():y==="text/event-stream"?_=b:y==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof E1||o instanceof S1?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var tn={};const Pu=T8(EV);var w0={},_0={},S0={},E0={},j0={},T0={},Pj;function h5(){if(Pj)return T0;Pj=1,Object.defineProperty(T0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return T0.default=e,T0}var Rj;function p5(){if(Rj)return j0;Rj=1,Object.defineProperty(j0,"__esModule",{value:!0});const t=Pu.__importDefault(h5());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,g=null,v=null,x=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const w=await c.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,x=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await c.text();try{p=JSON.parse(y),Array.isArray(p)&&c.status===404&&(g=[],p=null,x=200,b="OK")}catch{c.status===404&&y===""?(x=204,b="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,b="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:v,status:x,statusText:b}});return this.shouldThrowOnError||(o=o.catch(c=>{var u,d,f,h,p,g;let v="";const x=c==null?void 0:c.cause;if(x){const b=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",m=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";v=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${b}`,m&&(v+=` (${m})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return j0.default=r,j0}var Ij;function m5(){if(Ij)return E0;Ij=1,Object.defineProperty(E0,"__esModule",{value:!0});const t=Pu.__importDefault(p5());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return E0.default=r,E0}var Dj;function $_(){if(Dj)return S0;Dj=1,Object.defineProperty(S0,"__esModule",{value:!0});const t=Pu.__importDefault(m5()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return S0.default=n,S0}var Mj;function v5(){if(Mj)return _0;Mj=1,Object.defineProperty(_0,"__esModule",{value:!0});const t=Pu.__importDefault($_());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},c=s?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return _0.default=r,_0}var $j;function AV(){if($j)return w0;$j=1,Object.defineProperty(w0,"__esModule",{value:!0});const e=Pu,t=e.__importDefault(v5()),r=e.__importDefault($_());class n{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(s).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return w0.default=n,w0}Object.defineProperty(tn,"__esModule",{value:!0});var g5=tn.PostgrestError=A5=tn.PostgrestBuilder=j5=tn.PostgrestTransformBuilder=S5=tn.PostgrestFilterBuilder=w5=tn.PostgrestQueryBuilder=y5=tn.PostgrestClient=void 0;const Ru=Pu,x5=Ru.__importDefault(AV());var y5=tn.PostgrestClient=x5.default;const b5=Ru.__importDefault(v5());var w5=tn.PostgrestQueryBuilder=b5.default;const _5=Ru.__importDefault($_());var S5=tn.PostgrestFilterBuilder=_5.default;const E5=Ru.__importDefault(m5());var j5=tn.PostgrestTransformBuilder=E5.default;const T5=Ru.__importDefault(p5());var A5=tn.PostgrestBuilder=T5.default;const N5=Ru.__importDefault(h5());g5=tn.PostgrestError=N5.default;var O5=tn.default={PostgrestClient:x5.default,PostgrestQueryBuilder:b5.default,PostgrestFilterBuilder:_5.default,PostgrestTransformBuilder:E5.default,PostgrestBuilder:T5.default,PostgrestError:N5.default};const NV=xC({__proto__:null,get PostgrestBuilder(){return A5},get PostgrestClient(){return y5},get PostgrestError(){return g5},get PostgrestFilterBuilder(){return S5},get PostgrestQueryBuilder(){return w5},get PostgrestTransformBuilder(){return j5},default:O5},[tn]),{PostgrestClient:OV,PostgrestQueryBuilder:yEe,PostgrestFilterBuilder:bEe,PostgrestTransformBuilder:wEe,PostgrestBuilder:_Ee,PostgrestError:CV}=O5||NV;class C5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kV="2.87.3",PV=`realtime-js/${kV}`,k5="1.0.0",RV="2.0.0",Lj=k5,j1=1e4,IV=1e3,DV=100;var _o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_o||(_o={}));var Xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xt||(Xt={}));var ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ja||(ja={}));var T1;(function(e){e.websocket="websocket"})(T1||(T1={}));var So;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(So||(So={}));class MV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,o.length),g.setUint8(v++,s.length),g.setUint8(v++,u.length),g.setUint8(v++,f.length),g.setUint8(v++,r),Array.from(c,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(v++,b.charCodeAt(0)));var x=new Uint8Array(p.byteLength+n.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(n),p.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,c]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class P5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const Fj=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=$V(s,e,t,a),i),{}):{}},$V=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?R5(i,s):A1(s)},R5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return UV(t,r)}switch(e){case ht.bool:return LV(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return FV(t);case ht.json:case ht.jsonb:return BV(t);case ht.timestamp:return zV(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return A1(t);default:return A1(t)}},A1=e=>e,LV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>R5(t,o))}return e},zV=e=>typeof e=="string"?e.replace(" ","T"):e,I5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sx{constructor(t,r,n={},a=j1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var N1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(N1||(N1={}));class vc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=vc.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=vc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(o[u]=g),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(O1||(O1={}));var gc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gc||(gc={}));var Ga;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ga||(Ga={}));const WV=Xt;class Oo{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sx(this,ja.join,this.params,this.timeout),this.rejoinTimer=new P5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new vc(this),this.broadcastEndpointURL=I5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[gc.PRESENCE]&&this.bindings[gc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ga.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ga.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ga.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,b=[];for(let m=0;m<x;m++){const y=v[m],{filter:{event:_,schema:w,table:S,filter:E}}=y,j=p&&p[m];if(j&&j.event===_&&Oo.isFilterValueEqual(j.schema,w)&&Oo.isFilterValueEqual(j.table,S)&&Oo.isFilterValueEqual(j.filter,E))b.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Xt.errored,t==null||t(Ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ga.SUBSCRIBED);return}}).receive("error",p=>{this.state=Xt.errored,t==null||t(Ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Xt.joined&&t===gc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Sx(this,ja.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=ja;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,v,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,v,x,b,m,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:x,commit_timestamp:b,type:m,errors:y}=g;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:b,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Oo.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ja.close,{},t)}_onError(t){this._on(ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fj(t.columns,t.old_record)),r}}const Ex=()=>{},A0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HV=[1e3,2e3,5e3,1e4],qV=1e4,VV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j1,this.transport=null,this.heartbeatIntervalMs=A0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ex,this.ref=0,this.reconnectTimer=null,this.vsn=Lj,this.logger=Ex,this.conn=null,this.sendBuffer=[],this.serializer=new MV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${T1.websocket}`,this.httpEndpoint=I5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return So.Connecting;case _o.open:return So.Open;case _o.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Oo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},A0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===_o.open||this.conn.readyState===_o.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:PV};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ja.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new P5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},A0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:j1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:A0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ex,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Lj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>HV[g-1]||qV,this.vsn){case k5:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,v)=>v(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case RV:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Mv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class KV extends Mv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class C1 extends Mv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const L_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GV=()=>Response,k1=e=>{if(Array.isArray(e))return e.map(r=>k1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=k1(n)}),t},XV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),jx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},QV=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){const n=yield GV();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new KV(jx(a),i,s))}).catch(a=>{t(new C1(jx(a),a))}):t(new C1(jx(e),e))}),JV=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(XV(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Eh(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,JV(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>QV(c,o,n))})})}function Sf(e,t,r,n){return Ne(this,void 0,void 0,function*(){return Eh(e,"GET",t,r,n)})}function wa(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"POST",t,n,a,r)})}function P1(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"PUT",t,n,a,r)})}function ZV(e,t,r,n){return Ne(this,void 0,void 0,function*(){return Eh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function F_(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"DELETE",t,n,a,r)})}class eK{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}var M5;class tK{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[M5]="BlobDownloadBuilder",this.promise=null}asStream(){return new eK(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}M5=Symbol.toStringTag;const rK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nK{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=L_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ne(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Bj),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?P1:wa)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Bj.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield P1(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield wa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Mv("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield wa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=yield wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>Sf(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new tK(c,this.shouldThrowOnError)}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:k1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ZV(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n)&&n instanceof C1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rK),r),{prefix:t||""});return{data:yield wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield wa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $5="2.87.3",L5={"X-Client-Info":`storage-js/${$5}`};class aK{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L5),r),this.fetch=L_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Sf(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}createBucket(t){return Ne(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield wa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield P1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ef=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iK(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function sK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function oK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=iK(e.baseUrl,n,a),c=await sK(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new Ef((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function N0(e){return e.join("")}var lK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:N0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${N0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${N0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${N0(e.namespace)}`}),!0}catch(t){if(t instanceof Ef&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return;throw r}}};function Pl(e){return e.join("")}var cK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ef&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},uK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=oK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new lK(this.client,t),this.tableOps=new cK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class dK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L5),r),this.fetch=L_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Sf(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}from(t){if(!YV(t))throw new Mv("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new uK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:(...c)=>Ne(this,void 0,void 0,function*(){try{return{data:yield o.apply(i,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const B_={"X-Client-Info":`storage-js/${$5}`,"Content-Type":"application/json"};class F5 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tx extends F5{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fK extends F5{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Uj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uj||(Uj={}));const U_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pK=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new Tx(zj(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new Tx(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new Tx(o,a,s))}}else t(new fK(zj(e),e))}),mK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(hK(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function vK(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,mK(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>pK(c,o,n))})})}function $n(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return vK(e,"POST",t,n,a,r)})}class gK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}}class xK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}}class yK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(t={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}}class bK extends yK{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new wK(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ne(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ne(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ne(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ne(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class wK extends gK{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _K(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _K extends xK{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SK extends aK{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new nK(this.url,this.headers,t,this.fetch)}get vectors(){return new bK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dK(this.url+"/iceberg",this.headers,this.fetch)}}const EK="2.87.3";let Ed="";typeof Deno<"u"?Ed="deno":typeof document<"u"?Ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ed="react-native":Ed="node";const jK={"X-Client-Info":`supabase-js-${Ed}/${EK}`},TK={headers:jK},AK={schema:"public"},NK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OK={},CK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kK=()=>Headers,PK=(e,t,r)=>{const n=CK(r),a=kK();return async(i,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))}};function RK(e){return e.endsWith("/")?e:e+"/"}function IK(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function DK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const B5="2.87.3",Bl=30*1e3,R1=3,Ax=R1*Bl,MK="http://localhost:9999",$K="supabase.auth.token",LK={"X-Client-Info":`gotrue-js/${B5}`},I1="X-Supabase-Api-Version",U5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BK=10*60*1e3;class Kc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z5 extends Kc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function W5(e){return ke(e)&&e.name==="AuthApiError"}class ds extends Kc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class li extends Kc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class fn extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H5(e){return ke(e)&&e.name==="AuthSessionMissingError"}class mo extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jd extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Td extends li{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q5(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class D1 extends li{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class V5 extends li{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function UK(e){return ke(e)&&e.name==="AuthPKCECodeVerifierMissingError"}class Zp extends li{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function np(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class M1 extends li{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function zK(e){return ke(e)&&e.name==="AuthWeakPasswordError"}class em extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wj=` 	
\r=`.split(""),WK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wj.length;t+=1)e[Wj[t].charCodeAt(0)]=-2;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=t;return e})();function Hj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tm[n]),t.queuedBits-=6}}function K5(e,t,r){const n=WK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qj(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{VK(s,n,r)};for(let s=0;s<e.length;s+=1)K5(e.charCodeAt(s),a,i);return t.join("")}function HK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}HK(n,t)}}function VK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)K5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function KK(e){const t=[];return qK(e,r=>t.push(r)),new Uint8Array(t)}function Co(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Hj(a,r,n)),Hj(null,r,n),t.join("")}function GK(e){return Math.round(Date.now()/1e3)+e}function XK(){return Symbol("auth-callback")}const jr=()=>typeof window<"u"&&typeof document<"u",oo={tested:!1,writable:!1},G5=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function YK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const X5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},lo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sr=async(e,t)=>{await e.removeItem(t)};class $v{constructor(){this.promise=new $v.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$v.promiseConstructor=Promise;function Nx(e){const t=e.split(".");if(t.length!==3)throw new em("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FK.test(t[n]))throw new em("JWT not in base64url format");return{header:JSON.parse(qj(t[0])),payload:JSON.parse(qj(t[1])),signature:xc(t[2]),raw:{header:t[0],payload:t[1]}}}async function JK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZK(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function eG(e){return("0"+e.toString(16)).substr(-2)}function tG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,eG).join("")}async function rG(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function nG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rG(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rl(e,t,r=!1){const n=tG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ul(e,`${t}-code-verifier`,a);const i=await nG(n);return[i,n===i?"plain":"s256"]}const aG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iG(e){const t=e.headers.get(I1);if(!t||!t.match(aG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Il(e){if(!lG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ox(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Vj(e){return JSON.parse(JSON.stringify(e))}const vo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uG=[502,503,504];async function Kj(e){var t;if(!QK(e))throw new Zp(vo(e),0);if(uG.includes(e.status))throw new Zp(vo(e),e.status);let r;try{r=await e.json()}catch(i){throw new ds(vo(i),i)}let n;const a=iG(e);if(a&&a.getTime()>=U5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new M1(vo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new fn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new M1(vo(r),e.status,r.weak_password.reasons);throw new z5(vo(r),e.status||500,n)}const dG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[I1]||(i[I1]=U5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await fG(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function fG(e,t,r,n,a,i){const s=dG(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Zp(vo(c),0)}if(o.ok||await Kj(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Kj(c)}}function ya(e){var t;let r=null;mG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=GK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gj(e){const t=ya(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hG(e){return{data:e,error:null}}function pG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=ku(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Xj(e){return e}function mG(e){return e.access_token&&e.refresh_token&&e.expires_in}const ap=["global","local","others"];class z_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=X5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ap[0]){if(ap.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ap.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ku(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:pG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Xj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Il(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Il(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fs})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Il(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Il(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Il(t.userId),Il(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Xj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Yj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const go={debug:!!(globalThis&&G5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y5 extends W_{}class vG extends W_{}async function Q5(e,t,r){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(go.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Qj={};async function gG(e,t,r){var n;const a=(n=Qj[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((s,o)=>{setTimeout(()=>{o(new vG(`Acquiring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return Qj[e]=i.catch(async s=>{if(s&&s.isAcquireTimeout)return await a,null;throw s}),await i}function xG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yG(e){return parseInt(e,16)}function bG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function wG(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=J5(e.address),g=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}b+=m}return`${x}
${b}`}class Qt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class rm extends Qt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function _G({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Z5(s)){if(i.rp.id!==s)return new Qt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function SG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Z5(n)){if(r.rpId!==n)return new Qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class EG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jG=new EG;function TG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ku(e,["challenge","user","excludeCredentials"]),i=xc(t).buffer,s=Object.assign(Object.assign({},r),{id:xc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function AG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ku(e,["challenge","allowCredentials"]),a=xc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:xc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function NG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Co(new Uint8Array(e.response.attestationObject)),clientDataJSON:Co(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Co(new Uint8Array(a.authenticatorData)),clientDataJSON:Co(new Uint8Array(a.clientDataJSON)),signature:Co(new Uint8Array(a.signature)),userHandle:a.userHandle?Co(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Z5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jj(){var e,t;return!!(jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rm("Browser returned unexpected credential type",t)}:{data:null,error:new rm("Empty credential response",t)}}catch(t){return{data:null,error:_G({error:t,options:e})}}}async function kG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rm("Browser returned unexpected credential type",t)}:{data:null,error:new rm("Empty credential response",t)}}catch(t){return{data:null,error:SG({error:t,options:e})}}}const PG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=nm(o,s):n[i]=nm(s)}else n[i]=s}return n}function IG(e,t){return nm(PG,e,t||{})}function DG(e,t){return nm(RG,e,t||{})}class MG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=a??jG.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=IG(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await CG({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=DG(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await kG(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new ds("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kc("rpId is required for WebAuthn authentication")};try{if(!Jj())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new ds("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kc("rpId is required for WebAuthn registration")};try{if(!Jj())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new ds("Unexpected error in register",s)}}}}xG();const $G={url:MK,storageKey:$K,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zj(e,t,r){return await r()}const Dl={};class Gc{get jwks(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},$G),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&jr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new z_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=X5(i.fetch),this.lock=i.lock||Zj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Q5:this.lock=Zj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:G5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Yj(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(jr()&&(r=YK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),jr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),q5(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new ds("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ya}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rl(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ya})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ya})}else throw new jd("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return await Sr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gj})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gj})}else throw new jd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new mo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:b,options:m}=t;let y;if(jr())if(typeof x=="object")y=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),w=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=J5(w[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await y.request({method:"eth_chainId"});E=yG(T)}const j={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:E,nonce:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=wG(j),g=await y.request({method:"personal_sign",params:[bG(p),S]})}try{const{data:v,error:x}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ya});if(x)throw x;if(!v||!v.session||!v.user){const b=new mo;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(ke(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,i,s,o,c,u,d,f,h,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:m,options:y}=t;let _;if(jr())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),m?{statement:m}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:x,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Co(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ya});if(b)throw b;if(!x||!x.session||!x.user){const m=new mo;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(ke(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await lo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new V5;const{data:i,error:s}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ya});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new mo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ya}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new mo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rl(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new jd("You must provide either an email or phone number.")}catch(o){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ya});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Rl(this.storage,this.storageKey));const u=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:hG});return!((i=u.data)===null||i===void 0)&&i.url&&jr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new fn;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new jd("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ax:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await lo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ox()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=cG(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fs}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:fs})})}catch(r){if(ke(r))return H5(r)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new fn;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Rl(this.storage,this.storageKey));const{data:u,error:d}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:fs});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Nx(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new fn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!jr())throw new Td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new D1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new D1("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new Td("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await lo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(W5(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=XK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Rl(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,f=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ya}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new mo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Sr(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ZK(async a=>(a>0&&await JK(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ya})),(a,i)=>{const s=200*Math.pow(2,a);return i&&np(i)&&Date.now()+s-n<Bl})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await lo(this.storage,this.storageKey);if(a&&this.userStorage){let s=await lo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Ul(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ox()}else if(a&&!a.user&&!a.user){const s=await lo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Sr(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,a)):a.user=Ox()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ax;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ax}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),np(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $v;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new fn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ke(i)){const s={data:null,error:i};return np(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Vj(a);await Ul(this.storage,this.storageKey,i)}else{const a=Vj(r);await Ul(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bl}ms, refresh threshold is ${R1} ticks`),a<=R1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Rl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NG(t.webauthn.credential_response):OG(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:TG(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:AG(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Nx(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new fn})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new fn});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new fn});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new fn})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fn})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+BK>a)return n;const{data:i,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=Nx(n);r!=null&&r.allowExpired||sG(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=oG(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,KK(`${o}.${c}`)))throw new em("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}Gc.nextInstanceID={};const LG=z_,eR=Gc;class FG extends eR{constructor(t){super(t)}}class tR{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=DK(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:AK,realtime:OK,auth:Object.assign(Object.assign({},NK),{storageKey:c}),global:TK},d=IK(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=PK(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new OV(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new SK(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new TV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new D5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BG=(e,t,r)=>new tR(e,t,r);function UG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zG=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:LG,AuthApiError:z5,AuthClient:eR,AuthError:Kc,AuthImplicitGrantRedirectError:Td,AuthInvalidCredentialsError:jd,AuthInvalidJwtError:em,AuthInvalidTokenResponseError:mo,AuthPKCECodeVerifierMissingError:V5,AuthPKCEGrantCodeExchangeError:D1,AuthRetryableFetchError:Zp,AuthSessionMissingError:fn,AuthUnknownError:ds,AuthWeakPasswordError:M1,CustomAuthError:li,get FunctionRegion(){return Jp},FunctionsError:Dv,FunctionsFetchError:f5,FunctionsHttpError:E1,FunctionsRelayError:S1,GoTrueAdminApi:z_,GoTrueClient:Gc,NavigatorLockAcquireTimeoutError:Y5,PostgrestError:CV,REALTIME_CHANNEL_STATES:WV,get REALTIME_LISTEN_TYPES(){return gc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return O1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return N1},get REALTIME_SUBSCRIBE_STATES(){return Ga},RealtimeChannel:Oo,RealtimeClient:D5,RealtimePresence:vc,SIGN_OUT_SCOPES:ap,SupabaseClient:tR,WebSocketFactory:C5,createClient:BG,isAuthApiError:W5,isAuthError:ke,isAuthImplicitGrantRedirectError:q5,isAuthPKCECodeVerifierMissingError:UK,isAuthRetryableFetchError:np,isAuthSessionMissingError:H5,isAuthWeakPasswordError:zK,lockInternals:go,navigatorLock:Q5,processLock:gG},Symbol.toStringTag,{value:"Module"})),{createClient:rR}=zG,WG="https://kzslhhctjfxsdvcrqvvs.supabase.co",nR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",xe=rR(WG,nR,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),un=()=>!!nR,Xc=[{value:"conductor",label:"Conductor"},{value:"inspector_patio",label:"Inspector Patio"},{value:"cleaner",label:"Cleaner"},{value:"planillero",label:"Planillero"},{value:"supervisor",label:"Supervisor"}],HG=[{value:"todos",label:"Todos"},{value:"ACTIVO",label:"Activo"},{value:"DESVINCULADO",label:"Desvinculado"}],aR=async(e,t)=>{if(!un())return console.warn("Supabase not configured, returning empty array"),[];const r=oi(e);let n=xe.from("staff").select(`
      *,
      staff_admonitions(count)
    `).in("terminal_code",r).order("nombre",{ascending:!0});if(t!=null&&t.status&&t.status!=="todos"&&(n=n.eq("status",t.status)),t!=null&&t.cargo&&t.cargo!=="todos"&&(n=n.eq("cargo",t.cargo)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw console.error("Error fetching staff:",i),i;return(a||[]).map(s=>{var o,c;return{...s,admonition_count:((c=(o=s.staff_admonitions)==null?void 0:o[0])==null?void 0:c.count)??0}})},qG=async e=>{const t=Qs(e),{data:r,error:n}=await xe.from("staff").select("*").eq("rut",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},VG=async e=>{var n,a,i,s,o,c;const{data:t,error:r}=await xe.from("staff").insert({rut:Qs(e.rut),nombre:e.nombre.trim(),cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno.trim(),horario:e.horario.trim(),contacto:e.contacto.trim(),email:((n=e.email)==null?void 0:n.trim())||null,talla_polera:((a=e.talla_polera)==null?void 0:a.trim())||null,talla_chaqueta:((i=e.talla_chaqueta)==null?void 0:i.trim())||null,talla_pantalon:((s=e.talla_pantalon)==null?void 0:s.trim())||null,talla_zapato_seguridad:((o=e.talla_zapato_seguridad)==null?void 0:o.trim())||null,talla_chaleco_reflectante:((c=e.talla_chaleco_reflectante)==null?void 0:c.trim())||null}).select().single();if(r)throw r.code==="23505"?new Error("Ya existe un trabajador con ese RUT"):r;return t},KG=async(e,t)=>{var i,s,o,c,u,d;const r={};t.rut!==void 0&&(r.rut=Qs(t.rut)),t.nombre!==void 0&&(r.nombre=t.nombre.trim()),t.cargo!==void 0&&(r.cargo=t.cargo),t.terminal_code!==void 0&&(r.terminal_code=t.terminal_code),t.turno!==void 0&&(r.turno=t.turno.trim()),t.horario!==void 0&&(r.horario=t.horario.trim()),t.contacto!==void 0&&(r.contacto=t.contacto.trim()),t.email!==void 0&&(r.email=((i=t.email)==null?void 0:i.trim())||null),t.talla_polera!==void 0&&(r.talla_polera=((s=t.talla_polera)==null?void 0:s.trim())||null),t.talla_chaqueta!==void 0&&(r.talla_chaqueta=((o=t.talla_chaqueta)==null?void 0:o.trim())||null),t.talla_pantalon!==void 0&&(r.talla_pantalon=((c=t.talla_pantalon)==null?void 0:c.trim())||null),t.talla_zapato_seguridad!==void 0&&(r.talla_zapato_seguridad=((u=t.talla_zapato_seguridad)==null?void 0:u.trim())||null),t.talla_chaleco_reflectante!==void 0&&(r.talla_chaleco_reflectante=((d=t.talla_chaleco_reflectante)==null?void 0:d.trim())||null);const{data:n,error:a}=await xe.from("staff").update(r).eq("id",e).select().single();if(a)throw a;return n},GG=async(e,t)=>{const{data:r,error:n}=await xe.from("staff").update({status:"DESVINCULADO",terminated_at:new Date().toISOString(),termination_comment:t.trim()}).eq("id",e).select().single();if(n)throw n;return r},XG=async e=>{const t=oi(e),{data:r,error:n}=await xe.from("staff").select("cargo, terminal_code").eq("status","ACTIVO").in("terminal_code",t);if(n)throw n;const{data:a}=await xe.from("staff_caps").select("*").eq("scope_code","ER_LR"),i=new Map;(a||[]).forEach(d=>{i.set(d.cargo,d.max_q)});const s=new Map;Xc.forEach(d=>s.set(d.value,0)),(r||[]).forEach(d=>{const f=s.get(d.cargo)||0;s.set(d.cargo,f+1)});const o=Xc.map(d=>({cargo:d.value,count:s.get(d.value)||0,max_q:i.get(d.value)??null})),c=new Map;t.forEach(d=>c.set(d,0)),(r||[]).forEach(d=>{const f=c.get(d.terminal_code)||0;c.set(d.terminal_code,f+1)});const u=t.map(d=>({terminal_code:d,count:c.get(d)||0}));return{byCargo:o,byTerminal:u,total:(r==null?void 0:r.length)||0}},YG=async(e,t,r,n)=>{const a=n.name.split(".").pop(),i=`staff/${e}/admonitions/${Date.now()}.${a}`,{error:s}=await xe.storage.from("staff-docs").upload(i,n);if(s)throw console.error("Upload error:",s),new Error("Error al subir el documento");const{data:o,error:c}=await xe.from("staff_admonitions").insert({staff_id:e,reason:t.trim(),admonition_date:r,document_path:i}).select().single();if(c)throw c;return o},QG=(e,t)=>{const r=xe.channel("staff-changes").on("postgres_changes",{event:"*",schema:"public",table:"staff"},n=>{e({eventType:n.eventType,new:n.new,old:n.old})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"staff_admonitions"},n=>{t({eventType:n.eventType,new:n.new})}).subscribe();return()=>{xe.removeChannel(r)}},jt={all:["staff"],lists:()=>[...jt.all,"list"],list:(e,t)=>[...jt.lists(),e,t],details:()=>[...jt.all,"detail"],detail:e=>[...jt.details(),e],counts:e=>[...jt.all,"counts",e],caps:()=>[...jt.all,"caps"],admonitions:e=>[...jt.all,"admonitions",e]},iR=(e,t)=>St({queryKey:jt.list(e,t),queryFn:()=>aR(e,t)}),JG=e=>St({queryKey:jt.counts(e),queryFn:()=>XG(e)}),ZG=()=>{const e=Mt();return zt({mutationFn:t=>VG(t),onSuccess:()=>{e.invalidateQueries({queryKey:jt.lists()}),e.invalidateQueries({queryKey:jt.counts({})})}})},eX=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>KG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:jt.lists()}),e.invalidateQueries({queryKey:jt.detail(t.id)}),e.invalidateQueries({queryKey:jt.counts({})})}})},tX=()=>{const e=Mt();return zt({mutationFn:({id:t,comment:r})=>GG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:jt.lists()}),e.invalidateQueries({queryKey:jt.detail(t.id)}),e.invalidateQueries({queryKey:jt.counts({})})}})},rX=()=>{const e=Mt();return zt({mutationFn:({staffId:t,reason:r,admonitionDate:n,file:a})=>YG(t,r,n,a),onSuccess:t=>{e.invalidateQueries({queryKey:jt.admonitions(t.staff_id)}),e.invalidateQueries({queryKey:jt.lists()})}})},nX=e=>{const t=Mt();A.useEffect(()=>QG(n=>{console.log("Staff change:",n.eventType),t.invalidateQueries({queryKey:jt.lists()}),t.invalidateQueries({queryKey:jt.counts(e)}),n.new&&t.invalidateQueries({queryKey:jt.detail(n.new.id)})},n=>{console.log("Admonition change:",n.eventType),n.new&&(t.invalidateQueries({queryKey:jt.admonitions(n.new.staff_id)}),t.invalidateQueries({queryKey:jt.lists()}))}),[t,e])},aX=e=>({conductor:"calendar",inspector_patio:"clipboard",cleaner:"check-circle",planillero:"layers",supervisor:"users"})[e]||"users",iX=e=>{var t;return((t=Xc.find(r=>r.value===e))==null?void 0:t.label)||e},sX=({terminalContext:e})=>{const{data:t,isLoading:r}=JG(e);if(r)return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[...Array(5)].map((a,i)=>l.jsxs("div",{className:"card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),l.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});if(!t)return null;const n=e.mode==="ALL"||e.mode==="TERMINAL"&&(e.value==="EL_ROBLE"||e.value==="LA_REINA");return l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:["Personal por Cargo ",n&&"(ER-LR)"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:t.byCargo.map(a=>{const i=a.max_q?a.count/a.max_q*100:0,s=a.max_q&&a.count>a.max_q,o=a.max_q&&i>=80&&!s;return l.jsxs("div",{className:`card p-4 transition-all ${s?"border-danger-300 bg-danger-50":o?"border-warning-300 bg-warning-50":""}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100",children:l.jsx(le,{name:aX(a.cargo),size:18,className:"text-slate-600"})}),l.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:iX(a.cargo)})]}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:`text-2xl font-bold ${s?"text-danger-600":o?"text-warning-600":"text-slate-900"}`,children:a.count}),a.max_q&&l.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",a.max_q]})]}),a.max_q&&l.jsx("div",{className:"mt-2 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${s?"bg-danger-500":o?"bg-warning-500":"bg-brand-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},a.cargo)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"Personal por Terminal"}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.byTerminal.map(a=>l.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3",children:[l.jsx(le,{name:"building",size:18,className:"text-slate-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:Ke(a.terminal_code)}),l.jsx("p",{className:"text-lg font-bold text-slate-900",children:a.count})]})]},a.terminal_code)),l.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3 bg-brand-50 border-brand-200",children:[l.jsx(le,{name:"users",size:18,className:"text-brand-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-brand-600 font-semibold",children:"Total"}),l.jsx("p",{className:"text-lg font-bold text-brand-700",children:t.total})]})]})]})]})]})},oX=e=>{var t;return((t=Xc.find(r=>r.value===e))==null?void 0:t.label)||e},lX=({staff:e,onEdit:t,onOffboard:r,onAdmonish:n})=>e.length?l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"table-header-cell",children:"RUT"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Nombre"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Cargo"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Terminal"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Turno"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Horario"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Contacto"}),l.jsx("th",{scope:"col",className:"table-header-cell",children:"Estado"}),l.jsx("th",{scope:"col",className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:e.map(a=>{const i=a.status==="DESVINCULADO";return l.jsxs("tr",{className:`table-row ${i?"bg-danger-50 hover:bg-danger-100":""}`,children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(a.rut)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-slate-900",children:a.nombre}),a.admonition_count>0&&l.jsxs("span",{className:"badge badge-warning text-xs",title:`${a.admonition_count} amonestacin(es)`,children:[" ",a.admonition_count]})]})}),l.jsx("td",{className:"table-cell",children:oX(a.cargo)}),l.jsx("td",{className:"table-cell",children:Ke(a.terminal_code)}),l.jsx("td",{className:"table-cell",children:a.turno}),l.jsx("td",{className:"table-cell font-mono text-xs",children:a.horario}),l.jsx("td",{className:"table-cell text-sm",children:a.contacto}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${i?"badge-danger":"badge-success"}`,children:a.status})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[!i&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-brand-600",title:"Modificar",children:l.jsx(le,{name:"clipboard",size:16})}),l.jsx("button",{onClick:()=>n(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-warning-600",title:"Amonestar",children:l.jsx(le,{name:"megaphone",size:16})}),l.jsx("button",{onClick:()=>r(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-danger-600",title:"Desvincular",children:l.jsx(le,{name:"logout",size:16})})]}),i&&l.jsx("span",{className:"text-xs text-danger-600",children:a.terminated_at?new Date(a.terminated_at).toLocaleDateString("es-CL"):"Desvinculado"})]})})]},a.id)})})]})}):l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[l.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:l.jsx(le,{name:"users",size:28,className:"text-slate-400"})}),l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"No hay personal registrado"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:'Comienza agregando trabajadores con el botn "Nuevo Trabajador"'})]}),cX=["Maana","Tarde","Noche","Rotativo"],O0=["XS","S","M","L","XL","XXL","XXXL"],uX=["35","36","37","38","39","40","41","42","43","44","45","46"],eT=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0,dX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"conductor",terminal_code:"EL_ROBLE",turno:"Maana",horario:"08:00-18:00",contacto:"",email:"",talla_polera:"",talla_chaqueta:"",talla_pantalon:"",talla_zapato_seguridad:"",talla_chaleco_reflectante:""}),[s,o]=A.useState(null),[c,u]=A.useState(null),[d,f]=A.useState(""),[h,p]=A.useState(!1);A.useEffect(()=>{if(e){i({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,horario:e.horario,contacto:e.contacto,email:e.email||"",talla_polera:e.talla_polera||"",talla_chaqueta:e.talla_chaqueta||"",talla_pantalon:e.talla_pantalon||"",talla_zapato_seguridad:e.talla_zapato_seguridad||"",talla_chaleco_reflectante:e.talla_chaleco_reflectante||""}),f(Kt(e.rut));const _=e.email||e.talla_polera||e.talla_chaqueta||e.talla_pantalon||e.talla_zapato_seguridad||e.talla_chaleco_reflectante;p(!!_)}},[e]);const g=_=>{f(_);const w=b1(_);w.valid?(o(null),i(S=>({...S,rut:Qs(_)}))):o(w.error||null)},v=()=>{a.rut&&f(Kt(a.rut))},x=_=>{i(w=>({...w,email:_})),_&&!eT(_)?u("Formato de correo invlido"):u(null)},b=_=>{_.preventDefault();const w=b1(a.rut);if(!w.valid){o(w.error||"RUT invlido");return}if(a.email&&!eT(a.email)){u("Formato de correo invlido");return}t(a)},m=!!e,y=(_,w,S)=>l.jsxs("div",{children:[l.jsx("label",{className:"label",children:_}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"input",list:`${w}-options`,value:a[w]||"",onChange:E=>i(j=>({...j,[w]:E.target.value})),placeholder:"Seleccionar o escribir..."}),l.jsx("datalist",{id:`${w}-options`,children:S.map(E=>l.jsx("option",{value:E},E))})]})]});return l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"RUT"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:`input ${s?"border-danger-500 focus:ring-danger-500":""}`,value:d,onChange:_=>g(_.target.value),onBlur:v,placeholder:"12.345.678-9",disabled:m,required:!0}),m&&l.jsx(le,{name:"key",size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),s&&l.jsx("p",{className:"mt-1 text-xs text-danger-600",children:s}),m&&l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"El RUT no puede modificarse"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre Completo"}),l.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:_=>i(w=>({...w,nombre:_.target.value})),placeholder:"Juan Prez Gonzlez",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cargo"}),l.jsx("select",{className:"input",value:a.cargo,onChange:_=>i(w=>({...w,cargo:_.target.value})),required:!0,children:Xc.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsx("select",{className:"input",value:a.terminal_code,onChange:_=>i(w=>({...w,terminal_code:_.target.value})),required:!0,children:La.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Turno"}),l.jsx("select",{className:"input",value:a.turno,onChange:_=>i(w=>({...w,turno:_.target.value})),required:!0,children:cX.map(_=>l.jsx("option",{value:_,children:_},_))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Horario"}),l.jsx("input",{type:"text",className:"input",value:a.horario,onChange:_=>i(w=>({...w,horario:_.target.value})),placeholder:"08:00-18:00",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Contacto"}),l.jsx("input",{type:"text",className:"input",value:a.contacto,onChange:_=>i(w=>({...w,contacto:_.target.value})),placeholder:"Telfono o email",required:!0})]}),l.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>p(!h),className:"w-full flex items-center justify-between px-4 py-3 bg-slate-50 hover:bg-slate-100 transition-colors",children:[l.jsxs("span",{className:"font-medium text-slate-700 flex items-center gap-2",children:[l.jsx(le,{name:"tag",size:18}),"Tallas y Correo"]}),l.jsx(le,{name:"chevron-down",size:18,className:`text-slate-500 transition-transform ${h?"rotate-180":""}`})]}),h&&l.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Correo Electrnico"}),l.jsx("input",{type:"email",className:`input ${c?"border-danger-500 focus:ring-danger-500":""}`,value:a.email||"",onChange:_=>x(_.target.value),placeholder:"trabajador@ejemplo.com"}),c&&l.jsx("p",{className:"mt-1 text-xs text-danger-600",children:c})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y("Talla Polera","talla_polera",O0),y("Talla Chaqueta","talla_chaqueta",O0),y("Talla Pantaln","talla_pantalon",O0),y("Talla Zapato de Seguridad","talla_zapato_seguridad",uX),y("Talla Chaleco Reflectante","talla_chaleco_reflectante",O0)]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!!s||!!c,children:n?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):m?"Guardar Cambios":"Crear Trabajador"})]})]})},fX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),s=o=>{o.preventDefault(),a.trim()&&t(a.trim())};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),l.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-danger-100",children:l.jsx(le,{name:"logout",size:24,className:"text-danger-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Desvincular Trabajador"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Ests seguro que deseas desvincular a ",l.jsx("strong",{children:e}),"?"]})]})]}),l.jsx("div",{className:"mb-4 p-3 rounded-lg bg-warning-50 border border-warning-200",children:l.jsxs("p",{className:"text-sm text-warning-800",children:[l.jsx("strong",{children:" Esta accin es irreversible."})," El trabajador quedar marcado como desvinculado y no podr ser eliminado del sistema."]})}),l.jsxs("form",{onSubmit:s,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"label",children:"Motivo de Desvinculacin *"}),l.jsx("textarea",{className:"input min-h-[100px]",value:a,onChange:o=>i(o.target.value),placeholder:"Describe el motivo de la desvinculacin...",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-danger",disabled:n||!a.trim(),children:n?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):"Confirmar Desvinculacin"})]})]})]})]})},hX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(new Date().toISOString().split("T")[0]),[c,u]=A.useState(null),[d,f]=A.useState(!1),h=A.useRef(null),p=m=>{m.preventDefault(),a.trim()&&s&&c&&t(a.trim(),s,c)},g=m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?f(!0):m.type==="dragleave"&&f(!1)},v=m=>{m.preventDefault(),m.stopPropagation(),f(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&u(m.dataTransfer.files[0])},x=m=>{m.target.files&&m.target.files[0]&&u(m.target.files[0])},b=()=>{u(null),h.current&&(h.current.value="")};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),l.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-warning-100",children:l.jsx(le,{name:"megaphone",size:24,className:"text-warning-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Registrar Amonestacin"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Amonestacin para ",l.jsx("strong",{children:e})]})]})]}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Motivo de la Amonestacin *"}),l.jsx("textarea",{className:"input min-h-[80px]",value:a,onChange:m=>i(m.target.value),placeholder:"Describe el motivo de la amonestacin...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha de Amonestacin *"}),l.jsx("input",{type:"date",className:"input",value:s,onChange:m=>o(m.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Documento Adjunto *"}),l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${d?"border-brand-500 bg-brand-50":c?"border-success-300 bg-success-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:[l.jsx("input",{ref:h,type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:x,className:"hidden",id:"admonition-file"}),c?l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(le,{name:"check-circle",size:24,className:"text-success-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:c.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(c.size/1024).toFixed(1)," KB"]})]}),l.jsx("button",{type:"button",onClick:b,className:"ml-4 text-danger-600 hover:text-danger-700",children:l.jsx(le,{name:"x",size:20})})]}):l.jsxs("label",{htmlFor:"admonition-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[l.jsx(le,{name:"image",size:32,className:"text-slate-400"}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("span",{className:"font-semibold text-brand-600",children:"Haz clic para subir"})," ","o arrastra el archivo aqu"]}),l.jsx("p",{className:"text-xs text-slate-400",children:"PDF, JPG, PNG (mx. 10MB)"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!a.trim()||!s||!c,children:n?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):"Registrar Amonestacin"})]})]})]})]})},pX=()=>{const e=We(y=>y.context),t=We(y=>y.setContext),[r,n]=A.useState({status:"todos",cargo:"todos"}),[a,i]=A.useState({type:"none"}),s=iR(e,r),o=ZG(),c=eX(),u=tX(),d=rX();nX(e);const f=[{key:"rut",header:"RUT",value:y=>Kt(y.rut)},{key:"nombre",header:"NOMBRE",value:y=>y.nombre},{key:"cargo",header:"CARGO",value:y=>y.cargo},{key:"terminal_code",header:"TERMINAL",value:y=>Ke(y.terminal_code)},{key:"turno",header:"TURNO",value:y=>y.turno},{key:"horario",header:"HORARIO",value:y=>y.horario},{key:"contacto",header:"CONTACTO",value:y=>y.contacto},{key:"email",header:"CORREO",value:y=>y.email||""},{key:"talla_polera",header:"TALLA_POLERA",value:y=>y.talla_polera||""},{key:"talla_chaqueta",header:"TALLA_CHAQUETA",value:y=>y.talla_chaqueta||""},{key:"talla_pantalon",header:"TALLA_PANTALON",value:y=>y.talla_pantalon||""},{key:"talla_zapato_seguridad",header:"TALLA_ZAPATO_SEGURIDAD",value:y=>y.talla_zapato_seguridad||""},{key:"talla_chaleco_reflectante",header:"TALLA_CHALECO_REFLECTANTE",value:y=>y.talla_chaleco_reflectante||""},{key:"status",header:"ESTADO",value:y=>y.status},{key:"terminated_at",header:"FECHA_DESVINCULACION",value:y=>y.terminated_at?new Date(y.terminated_at).toLocaleDateString("es-CL"):""},{key:"termination_comment",header:"COMENTARIO_DESVINCULACION",value:y=>y.termination_comment||""}],h=()=>{s.data&&et({filename:"personal_vista",sheetName:"Personal",rows:s.data,columns:f})},p=()=>{s.data&&et({filename:"personal_completo",sheetName:"Personal",rows:s.data,columns:f})},g=async y=>{try{await o.mutateAsync(y),i({type:"none"})}catch(_){console.error("Error creating staff:",_),alert(_ instanceof Error?_.message:"Error al crear trabajador")}},v=async y=>{if(a.type==="edit")try{await c.mutateAsync({id:a.staff.id,values:y}),i({type:"none"})}catch(_){console.error("Error updating staff:",_),alert(_ instanceof Error?_.message:"Error al actualizar trabajador")}},x=async y=>{if(a.type==="offboard")try{await u.mutateAsync({id:a.staff.id,comment:y}),i({type:"none"})}catch(_){console.error("Error offboarding staff:",_),alert(_ instanceof Error?_.message:"Error al desvincular trabajador")}},b=async(y,_,w)=>{if(a.type==="admonish")try{await d.mutateAsync({staffId:a.staff.id,reason:y,admonitionDate:_,file:w}),i({type:"none"})}catch(S){console.error("Error creating admonition:",S),alert(S instanceof Error?S.message:"Error al registrar amonestacin")}},m=()=>i({type:"none"});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Personal",description:"Gestin del equipo operativo por terminal.",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>i({type:"create"}),children:[l.jsx(le,{name:"users",size:18}),"Nuevo Trabajador"]}),l.jsx(Dr,{onExportView:h,onExportAll:p})]})}),l.jsx(sX,{terminalContext:e}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:r.status,onChange:y=>n(_=>({..._,status:y.target.value})),children:HG.map(y=>l.jsx("option",{value:y.value,children:y.label},y.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Cargo"}),l.jsxs("select",{className:"input",value:r.cargo||"todos",onChange:y=>n(_=>({..._,cargo:y.target.value})),children:[l.jsx("option",{value:"todos",children:"Todos"}),Xc.map(y=>l.jsx("option",{value:y.value,children:y.label},y.value))]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:r.search??"",onChange:y=>n(_=>({..._,search:y.target.value}))})]})]}),s.isLoading&&l.jsx(cr,{label:"Cargando personal..."}),s.isError&&l.jsx(wr,{onRetry:()=>s.refetch()}),!s.isLoading&&!s.isError&&l.jsx(lX,{staff:s.data||[],onEdit:y=>i({type:"edit",staff:y}),onOffboard:y=>i({type:"offboard",staff:y}),onAdmonish:y=>i({type:"admonish",staff:y})}),(a.type==="create"||a.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:m}),l.jsxs("div",{className:"relative w-full max-w-2xl card p-6 animate-scale-in max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.type==="create"?"Nuevo Trabajador":"Editar Trabajador"}),l.jsx("button",{onClick:m,className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(dX,{initialData:a.type==="edit"?a.staff:null,onSubmit:a.type==="create"?g:v,onCancel:m,isLoading:o.isPending||c.isPending})]})]}),a.type==="offboard"&&l.jsx(fX,{staffName:a.staff.nombre,onConfirm:x,onCancel:m,isLoading:u.isPending}),a.type==="admonish"&&l.jsx(hX,{staffName:a.staff.nombre,onConfirm:b,onCancel:m,isLoading:d.isPending})]})},Fa=({columns:e,rows:t,emptyMessage:r="Sin resultados"})=>t.length?l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsx("tr",{children:e.map(n=>l.jsx("th",{scope:"col",className:"table-header-cell",children:n.header},n.key))})}),l.jsx("tbody",{className:"table-body",children:t.map((n,a)=>l.jsx("tr",{className:"table-row",children:e.map(i=>l.jsx("td",{className:"table-cell",children:i.render?i.render(n):n[i.key]},i.key))},a))})]})}):l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 mb-3",children:l.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),l.jsx("p",{className:"text-sm font-medium text-slate-600",children:r}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"No hay datos para mostrar en este momento"})]}),Ba=({label:e="Sin datos",description:t})=>l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[l.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:l.jsx("svg",{className:"h-7 w-7 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),t&&l.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:t})]}),Iu=(e,t)=>({list:async({terminalContext:r,filters:n,scope:a})=>{const i=_7(e,r);return a==="all"?i:t?i.filter(s=>t(s,n)):i}}),mX=[{id:"r-1",tema:"Coordinacin semanal",fecha:"2023-12-04T09:00:00Z",responsable:"Ana Prez",participantes:8,estado:"agendada",terminal:"EL_ROBLE"},{id:"r-2",tema:"Operacin nocturna",fecha:"2023-12-03T18:00:00Z",responsable:"Carlos Vega",participantes:6,estado:"en_curso",terminal:"LA_REINA"},{id:"r-3",tema:"Revisin de seguridad",fecha:"2023-12-01T15:30:00Z",responsable:"Laura Soto",participantes:5,estado:"cerrada",terminal:"EL_SALTO"}],tT=Iu(mX,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),vX=()=>{var u;const e=We(d=>d.context),t=We(d=>d.setContext),[r,n]=A.useState({estado:"todas"}),a=St({queryKey:["reuniones",e,r],queryFn:()=>tT.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"tema",header:"Tema"},{key:"fecha",header:"Fecha",render:d=>Wt(d.fecha),value:d=>Wt(d.fecha)},{key:"responsable",header:"Responsable"},{key:"participantes",header:"Asistentes"},{key:"estado",header:"Estado",render:d=>l.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"terminal",header:"Terminal",render:d=>Ke(d.terminal),value:d=>Ke(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&et({filename:"reuniones_vista",sheetName:"Reuniones",rows:a.data,columns:s})},c=async()=>{const d=await tT.list({terminalContext:e,scope:"all"});et({filename:"reuniones_completo",sheetName:"Reuniones",rows:d,columns:s})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Reuniones",description:"Agenda y seguimiento de reuniones.",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",children:"Nueva reunin"}),l.jsx(Dr,{onExportView:o,onExportAll:c})]})}),l.jsx(Vn,{terminalContext:e,onTerminalChange:t,children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsxs("select",{className:"input",value:r.estado,onChange:d=>n({estado:d.target.value}),children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"agendada",children:"Agendada"}),l.jsx("option",{value:"en_curso",children:"En curso"}),l.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),a.isLoading&&l.jsx(cr,{}),a.isError&&l.jsx(wr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&l.jsxs(l.Fragment,{children:[!((u=a.data)!=null&&u.length)&&l.jsx(Ba,{description:"No hay reuniones con estos filtros."}),a.data&&a.data.length>0&&l.jsx(Fa,{columns:i,rows:a.data})]})]})},gX=[{id:"t-1",titulo:"Inventario patio",responsable:"Ana Prez",prioridad:"alta",estado:"pendiente",vencimiento:"2023-12-06",terminal:"EL_ROBLE"},{id:"t-2",titulo:"Actualizar checklists",responsable:"Carlos Vega",prioridad:"media",estado:"en_progreso",vencimiento:"2023-12-07",terminal:"EL_SALTO"},{id:"t-3",titulo:"Control de EPIs",responsable:"Laura Soto",prioridad:"baja",estado:"completada",vencimiento:"2023-11-30",terminal:"COLO_COLO"}],rT=Iu(gX,(e,t)=>{const r=t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0,n=t!=null&&t.prioridad&&t.prioridad!=="todas"?e.prioridad===t.prioridad:!0;return r&&n}),xX=()=>{var u;const e=We(d=>d.context),t=We(d=>d.setContext),[r,n]=A.useState({estado:"todas",prioridad:"todas"}),a=St({queryKey:["tareas",e,r],queryFn:()=>rT.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"titulo",header:"Tarea"},{key:"responsable",header:"Responsable"},{key:"prioridad",header:"Prioridad",render:d=>l.jsx("span",{className:"badge capitalize",children:d.prioridad}),value:d=>d.prioridad},{key:"estado",header:"Estado",render:d=>l.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"vencimiento",header:"Vencimiento",render:d=>Wt(d.vencimiento),value:d=>Wt(d.vencimiento)},{key:"terminal",header:"Terminal",render:d=>Ke(d.terminal),value:d=>Ke(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&et({filename:"tareas_vista",sheetName:"Tareas",rows:a.data,columns:s})},c=async()=>{const d=await rT.list({terminalContext:e,scope:"all"});et({filename:"tareas_completo",sheetName:"Tareas",rows:d,columns:s})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Tareas",description:"Seguimiento de pendientes y compromisos.",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",children:"Nueva tarea"}),l.jsx(Dr,{onExportView:o,onExportAll:c})]})}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsxs("select",{className:"input",value:r.estado,onChange:d=>n(f=>({...f,estado:d.target.value})),children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"pendiente",children:"Pendiente"}),l.jsx("option",{value:"en_progreso",children:"En progreso"}),l.jsx("option",{value:"completada",children:"Completada"})]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Prioridad"}),l.jsxs("select",{className:"input",value:r.prioridad,onChange:d=>n(f=>({...f,prioridad:d.target.value})),children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"alta",children:"Alta"}),l.jsx("option",{value:"media",children:"Media"}),l.jsx("option",{value:"baja",children:"Baja"})]})]})]}),a.isLoading&&l.jsx(cr,{}),a.isError&&l.jsx(wr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&l.jsxs(l.Fragment,{children:[!((u=a.data)!=null&&u.length)&&l.jsx(Ba,{description:"No hay tareas para mostrar."}),a.data&&a.data.length>0&&l.jsx(Fa,{columns:i,rows:a.data})]})]})},yX=[{id:"i-1",titulo:"Actualizacin de protocolos",fecha:"2023-12-02",enviadoPor:"Equipo Seguridad",alcance:"todos",terminal:"EL_ROBLE"},{id:"i-2",titulo:"Corte programado",fecha:"2023-12-03",enviadoPor:"Operaciones",alcance:"terminal",terminal:"LA_REINA"},{id:"i-3",titulo:"Campaa de seguridad",fecha:"2023-12-01",enviadoPor:"Prevencin",alcance:"segmentado",terminal:"EL_SALTO"}],nT=Iu(yX,(e,t)=>t!=null&&t.alcance&&t.alcance!=="todos"?e.alcance===t.alcance:!0),bX="https://kzslhhctjfxsdvcrqvvs.supabase.co/functions/v1/send-email",aT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",sl={sendEmail:async e=>{const t=await fetch(bX,{method:"POST",headers:{"Content-Type":"application/json",apikey:aT,Authorization:`Bearer ${aT}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Email send failed: ${t.status} ${n}`)}const r=await t.json();return{accepted:r.accepted??!0,messageId:r.messageId??"pending"}}},wX=Object.freeze(Object.defineProperty({__proto__:null,emailService:sl},Symbol.toStringTag,{value:"Module"})),_X=()=>{var O;const e=We(C=>C.context),t=We(C=>C.setContext),[r,n]=A.useState({alcance:"todos"}),[a,i]=A.useState("todos"),[s,o]=A.useState("EL_ROBLE"),[c,u]=A.useState(""),[d,f]=A.useState(""),[h,p]=A.useState(""),[g,v]=A.useState(!1),[x,b]=A.useState(""),[m,y]=A.useState(""),_=St({queryKey:["informativos",e,r],queryFn:()=>nT.list({terminalContext:e,filters:r,scope:"view"})}),w=A.useMemo(()=>[{key:"titulo",header:"Ttulo"},{key:"enviadoPor",header:"Enviado por"},{key:"alcance",header:"Alcance",render:C=>l.jsx("span",{className:"badge",children:C.alcance}),value:C=>C.alcance},{key:"fecha",header:"Fecha",render:C=>Wt(C.fecha),value:C=>Wt(C.fecha)},{key:"terminal",header:"Terminal",render:C=>Ke(C.terminal),value:C=>Ke(C.terminal)}],[]),S=w.map(C=>({key:C.key,header:C.header,value:M=>C.value?C.value(M):M[C.key]})),E=()=>{_.data&&et({filename:"informativos_vista",sheetName:"Informativos",rows:_.data,columns:S})},j=async()=>{const C=await nT.list({terminalContext:e,scope:"all"});et({filename:"informativos_completo",sheetName:"Informativos",rows:C,columns:S})},T=async()=>{y(""),v(!0);try{const C=await sl.sendEmail({audience:a,terminalCodes:a==="por_terminal"?[s]:void 0,manualRecipients:a==="manual"?c.split(",").map(M=>M.trim()).filter(Boolean):void 0,subject:d,body:h});b(`Correo enviado (${C.messageId})`),f(""),p(""),u("")}catch(C){y(C.message)}finally{v(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Informativos",description:"Comunicaciones internas con opciones de envo por terminal.",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",children:"Nuevo informativo"}),l.jsx(Dr,{onExportView:E,onExportAll:j})]})}),l.jsx(Vn,{terminalContext:e,onTerminalChange:t,children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Alcance"}),l.jsxs("select",{className:"input",value:r.alcance,onChange:C=>n({alcance:C.target.value}),children:[l.jsx("option",{value:"todos",children:"Todos"}),l.jsx("option",{value:"terminal",children:"Por terminal"}),l.jsx("option",{value:"segmentado",children:"Segmentado"})]})]})}),_.isLoading&&l.jsx(cr,{}),_.isError&&l.jsx(wr,{onRetry:_.refetch}),!_.isLoading&&!_.isError&&l.jsxs(l.Fragment,{children:[!((O=_.data)!=null&&O.length)&&l.jsx(Ba,{description:"No hay informativos con los filtros actuales."}),_.data&&_.data.length>0&&l.jsx(Fa,{columns:w,rows:_.data})]}),l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Enviar correo interno"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Mdulo preparado para conectar a Edge Function."})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[x&&l.jsx("span",{className:"badge",children:x}),m&&l.jsx("span",{className:"text-xs font-semibold text-red-600",children:m})]})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Destinatarios"}),l.jsxs("select",{className:"input",value:a,onChange:C=>i(C.target.value),children:[l.jsx("option",{value:"todos",children:"Todos"}),l.jsx("option",{value:"por_terminal",children:"Por terminal"}),l.jsx("option",{value:"manual",children:"Lista manual"})]})]}),a==="por_terminal"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Terminal objetivo"}),l.jsx("select",{className:"input",value:s,onChange:C=>o(C.target.value),children:La.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})]}),a==="manual"&&l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx("label",{className:"label",children:"Correos (separados por coma)"}),l.jsx("input",{className:"input",value:c,onChange:C=>u(C.target.value),placeholder:"correo1@dominio.com, correo2@dominio.com"})]}),l.jsxs("div",{className:"md:col-span-3 grid gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Asunto"}),l.jsx("input",{className:"input",value:d,onChange:C=>f(C.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Mensaje"}),l.jsx("textarea",{className:"input min-h-[120px]",value:h,onChange:C=>p(C.target.value),placeholder:"Contenido del correo"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{className:"btn btn-primary",onClick:T,disabled:g||!d||!h,children:g?"Enviando...":"Enviar (mock)"})})]})]})]})]})},SX=["ISAAC AVILA","CLAUDIO ARRIAGADA","CRISTIAN LURASCHI"],EX={EL_ROBLE:"CRISTIAN LURASCHI",LA_REINA:"CRISTIAN LURASCHI"},Js=e=>e.trim().replace(/\s+/g," ").toUpperCase(),jh=e=>{const t=Js(e);return SX.includes(t)},jX=e=>EX[e]??"",Th=({data:e,isLoading:t})=>{if(t)return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((n,a)=>l.jsxs("div",{className:"card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),l.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},a))});if(!e)return null;const r=[{label:"Pendientes Hoy",value:e.pendingToday,icon:"clock",bgClass:"bg-warning-50 border-warning-200",textClass:"text-warning-700",iconClass:"text-warning-500"},{label:"Pendientes Total",value:e.pendingTotal,icon:"inbox",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",iconClass:"text-orange-500"},{label:"Autorizados (30d)",value:e.authorizedRange,icon:"check-circle",bgClass:"bg-success-50 border-success-200",textClass:"text-success-700",iconClass:"text-success-500"},{label:"Rechazados (30d)",value:e.rejectedRange,icon:"x",bgClass:"bg-danger-50 border-danger-200",textClass:"text-danger-700",iconClass:"text-danger-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map(n=>l.jsxs("div",{className:`card p-4 ${n.bgClass}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(le,{name:n.icon,size:18,className:n.iconClass}),l.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:n.label})]}),l.jsx("p",{className:`text-2xl font-bold ${n.textClass}`,children:n.value})]},n.label))})},ii=({mode:e,itemName:t,onConfirm:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState(""),o=u=>{u.preventDefault(),!(e==="reject"&&!i.trim())&&r(i.trim()||void 0)},c=e==="authorize";return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),l.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${c?"bg-success-100":"bg-danger-100"}`,children:l.jsx(le,{name:c?"check-circle":"x",size:24,className:c?"text-success-600":"text-danger-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:c?"Autorizar Registro":"Rechazar Registro"}),l.jsx("p",{className:"text-sm text-slate-600",children:c?`Confirmas la autorizacin de "${t}"?`:`Confirmas el rechazo de "${t}"?`})]})]}),l.jsxs("form",{onSubmit:o,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"label",children:c?"Comentario (opcional)":"Motivo del rechazo *"}),l.jsx("textarea",{className:"input min-h-[80px]",value:i,onChange:u=>s(u.target.value),placeholder:c?"Agregar comentario...":"Describe el motivo del rechazo...",required:!c})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),l.jsx("button",{type:"submit",className:`btn ${c?"btn-success":"btn-danger"}`,disabled:a||!c&&!i.trim(),children:a?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):c?"Autorizar":"Rechazar"})]})]})]})]})},Lv=({value:e,onChange:t,onStaffFound:r,disabled:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(!1),[c,u]=A.useState(null),[d,f]=A.useState(!1);A.useEffect(()=>{e&&i(Kt(e))},[e]);const h=v=>{if(i(v),u(null),f(!1),b1(v).valid){const b=Qs(v);t(b),p(b)}else t(""),r(null)},p=async v=>{o(!0);try{const x=await qG(v);x?(f(!0),r(x)):(u("RUT no encontrado en Personal"),r(null))}catch{u("Error al buscar RUT"),r(null)}finally{o(!1)}},g=()=>{e&&i(Kt(e))};return l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"RUT"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:`input pr-10 ${c?"border-danger-500":d?"border-success-500":""}`,value:a,onChange:v=>h(v.target.value),onBlur:g,placeholder:"12.345.678-9",disabled:n}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s?l.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-400",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d?l.jsx(le,{name:"check-circle",size:18,className:"text-success-500"}):c?l.jsx(le,{name:"x",size:18,className:"text-danger-500"}):l.jsx(le,{name:"search",size:18,className:"text-slate-400"})})]}),c&&l.jsx("p",{className:"mt-1 text-xs text-danger-600",children:c}),d&&l.jsx("p",{className:"mt-1 text-xs text-success-600",children:"Datos cargados desde Personal"})]})},TX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",area:"Logstica",cargo:"",jefe_terminal:"",terminal_code:"EL_ROBLE",cabezal:"",incident_state:"",schedule_in_out:"",date:new Date().toISOString().split("T")[0],time_range:"",observations:"",informed_by:t,...e});A.useEffect(()=>{const u=jX(i.terminal_code);u&&s(d=>({...d,jefe_terminal:u}))},[i.terminal_code]);const o=u=>{u&&s(d=>({...d,nombre:u.nombre,cargo:u.cargo,terminal_code:u.terminal_code}))},c=u=>{u.preventDefault(),r(i)};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Lv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre"}),l.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"rea"}),l.jsx("input",{type:"text",className:"input",value:i.area,onChange:u=>s(d=>({...d,area:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cargo"}),l.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:u=>s(d=>({...d,cargo:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:La.map(u=>l.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Jefe de Terminal"}),l.jsx("input",{type:"text",className:"input",value:i.jefe_terminal,onChange:u=>s(d=>({...d,jefe_terminal:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cabezal"}),l.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Estado (Incidente)"}),l.jsx("input",{type:"text",className:"input",value:i.incident_state,onChange:u=>s(d=>({...d,incident_state:u.target.value}))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Horario Entrada/Salida"}),l.jsx("input",{type:"text",className:"input",value:i.schedule_in_out,onChange:u=>s(d=>({...d,schedule_in_out:u.target.value})),placeholder:"08:00-18:00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha"}),l.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Horario (Rango)"}),l.jsx("input",{type:"text",className:"input",value:i.time_range,onChange:u=>s(d=>({...d,time_range:u.target.value})),placeholder:"10:00-14:00"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Observaciones"}),l.jsx("textarea",{className:"input min-h-[80px]",value:i.observations,onChange:u=>s(d=>({...d,observations:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Informado Por"}),l.jsx("input",{type:"text",className:"input",value:i.informed_by,onChange:u=>s(d=>({...d,informed_by:u.target.value}))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},H_=async e=>{const{data:t,error:r}=await xe.from("app_configuration").select("value").eq("key",e).single();return r?(r.code==="PGRST116"||console.error(`Error fetching config ${e}:`,r),null):t.value},AX=async(e,t,r)=>{const{error:n}=await xe.from("app_configuration").upsert({key:e,value:t,description:r},{onConflict:"key"});if(n)throw console.error(`Error updating config ${e}:`,n),n},NX=async(e,t)=>{if(!un())return[];const r=oi(e);let n=xe.from("attendance_no_marcaciones").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}t!=null&&t.date_from&&(n=n.gte("date",t.date_from)),t!=null&&t.date_to&&(n=n.lte("date",t.date_to));const{data:a,error:i}=await n;if(i)throw i;return a||[]},OX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_no_marcaciones").insert({...e,created_by_supervisor:Js(t)}).select().single();if(n)throw ka("Error al crear registro","No se pudo guardar el registro de No Marcacin"),n;try{await Ah("No Marcaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{rea:e.area||"",Cargo:e.cargo||"","Jefe Terminal":e.jefe_terminal||"",Observaciones:e.observations||""}}),ua("Registro creado exitosamente",`No Marcacin para ${e.nombre} guardado y correo enviado`,t)}catch{ua("Registro creado",`No Marcacin para ${e.nombre} guardado (correo no enviado)`,t)}return r},CX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_no_marcaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},kX=async(e,t)=>{if(!un())return[];const r=oi(e);let n=xe.from("attendance_sin_credenciales").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},PX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_sin_credenciales").insert({...e,created_by_supervisor:Js(t)}).select().single();if(n)throw ka("Error al crear registro","No se pudo guardar el registro de Sin Credenciales"),n;try{await Ah("Sin Credenciales",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{Cabezal:e.cabezal||"",Horario:`${e.start_time||""} - ${e.end_time||""}`,Cargo:e.cargo||"","Supervisor Autoriza":e.supervisor_autoriza||""}}),ua("Registro creado exitosamente",`Sin Credenciales para ${e.nombre} guardado y correo enviado`,t)}catch{ua("Registro creado",`Sin Credenciales para ${e.nombre} guardado (correo no enviado)`,t)}return r},RX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_sin_credenciales").update(t).eq("id",e).select().single();if(n)throw n;return r},IX=async(e,t)=>{if(!un())return[];const r=oi(e);let n=xe.from("attendance_cambios_dia").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},DX=async(e,t)=>{let r=null;if(e.document){const u=e.document.name.split(".").pop(),d=`cambios-dia/${Date.now()}.${u}`,{error:f}=await xe.storage.from("attendance-docs").upload(d,e.document);if(f)throw console.error("Storage Upload Error Detail:",f),ka("Error al subir documento","Verifica que el archivo sea imagen o PDF y menor a 5MB"),new Error(`Error al subir documento: ${f.message}`);r=d}const{document:n,...a}=e,i={...a,document_path:r,created_by_supervisor:Js(t)};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(u=>{i[u]===""&&(i[u]=null)});const{data:o,error:c}=await xe.from("attendance_cambios_dia").insert(i).select().single();if(c)throw ka("Error al crear registro","No se pudo guardar el registro de Cambio de Da"),c;try{let u="No adjunto";if(r){const{data:d}=xe.storage.from("attendance-docs").getPublicUrl(r);u=`<a href="${d.publicUrl}" target="_blank" style="color: #2563eb; text-decoration: underline; font-weight: 700;">Ver Documento Adjunto</a>`}await Ah("Cambios de Da",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{"Jornada Programada":`${e.prog_start||""} - ${e.prog_end||""}`,"Da No Trabaja":e.day_off_date||"","Da Trabaja":e.day_on_date||"",Documento:u}}),ua("Registro creado exitosamente",`Cambio de Da para ${e.nombre} guardado y correo enviado`,t)}catch{ua("Registro creado",`Cambio de Da para ${e.nombre} guardado (correo no enviado)`,t)}return o},MX=async(e,t)=>{const{document:r,...n}=t,a={...n};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(c=>{a[c]===""&&(a[c]=null)});const{data:s,error:o}=await xe.from("attendance_cambios_dia").update(a).eq("id",e).select().single();if(o)throw o;return s},$X=async e=>{const{data:t,error:r}=await xe.storage.from("attendance-docs").createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},LX=async(e,t)=>{if(!un())return[];const r=oi(e);let n=xe.from("attendance_autorizaciones").select("*").in("terminal_code",r).order("authorization_date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},FX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_autorizaciones").insert({...e,created_by_supervisor:Js(t)}).select().single();if(n)throw ka("Error al crear registro","No se pudo guardar la autorizacin"),n;try{await Ah("Autorizaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.authorization_date,createdBy:t,details:{Tipo:e.entry_or_exit==="ENTRADA"?"Llegada Tarda":"Retiro Anticipado",Horario:e.horario||"",Turno:e.turno||"",Motivo:e.motivo||""}}),ua("Registro creado exitosamente",`Autorizacin para ${e.nombre} guardada y correo enviado`,t)}catch{ua("Registro creado",`Autorizacin para ${e.nombre} guardada (correo no enviado)`,t)}return r},BX=async(e,t)=>{const{data:r,error:n}=await xe.from("attendance_autorizaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},UX=async(e,t,r)=>{const{error:n}=await xe.from(e).update({auth_status:"AUTORIZADO",authorized_by:Js(r),authorized_at:new Date().toISOString()}).eq("id",t);if(n)throw n},zX=async(e,t,r,n)=>{const{error:a}=await xe.from(e).update({auth_status:"RECHAZADO",authorized_by:Js(r),authorized_at:new Date().toISOString(),rejection_reason:n}).eq("id",t);if(a)throw a},WX=async(e,t,r="date")=>{if(!un())return{pendingToday:0,pendingTotal:0,authorizedRange:0,rejectedRange:0};const n=oi(t),a=new Date().toISOString().split("T")[0],{count:i}=await xe.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE").eq(r,a),{count:s}=await xe.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE"),o=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],{count:c}=await xe.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","AUTORIZADO").gte(r,o),{count:u}=await xe.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","RECHAZADO").gte(r,o);return{pendingToday:i??0,pendingTotal:s??0,authorizedRange:c??0,rejectedRange:u??0}},HX=(e,t)=>{const r=xe.channel("attendance-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_no_marcaciones"},()=>e("attendance_no_marcaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_no_marcaciones"},()=>t("attendance_no_marcaciones")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_sin_credenciales"},()=>e("attendance_sin_credenciales")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_sin_credenciales"},()=>t("attendance_sin_credenciales")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_cambios_dia"},()=>e("attendance_cambios_dia")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_cambios_dia"},()=>t("attendance_cambios_dia")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_autorizaciones"},()=>e("attendance_autorizaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_autorizaciones"},()=>t("attendance_autorizaciones")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_vacaciones"},()=>e("attendance_vacaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_vacaciones"},()=>t("attendance_vacaciones")).subscribe();return()=>{xe.removeChannel(r)}},q_=(e,t)=>{const r=new Date(e+"T12:00:00"),n=new Date(t+"T12:00:00");let a=0;const i=new Date(r);for(;i<=n;){const s=i.getDay();s!==0&&s!==6&&a++,i.setDate(i.getDate()+1)}return a},V_=(e,t)=>{const r=new Date(e+"T12:00:00"),n=new Date(t+"T12:00:00"),a=Math.abs(n.getTime()-r.getTime());return Math.ceil(a/(1e3*60*60*24))+1},qX=async(e,t,r)=>{const{count:n,error:a}=await xe.from("staff").select("*",{count:"exact",head:!0}).eq("cargo",e).eq("terminal_code",t).eq("turno",r).eq("status","ACTIVO");if(a)throw a;return n??0},sR=async(e,t,r,n,a,i)=>{let s=xe.from("attendance_vacaciones").select("*").eq("cargo",e).eq("terminal_code",t).eq("turno",r).in("auth_status",["PENDIENTE","AUTORIZADO"]).lte("start_date",a).gte("end_date",n);i&&(s=s.neq("rut",i));const{data:o,error:c}=await s;if(c)throw c;const u=await qX(e,t,r),d=new Set((o==null?void 0:o.map(p=>p.rut))||[]).size,f=u-d-1;let h=0;if(o&&o.length>0){const p=new Date(n),g=new Date(a);for(const v of o){const x=new Date(v.start_date),b=new Date(v.end_date),m=new Date(Math.max(p.getTime(),x.getTime())),y=new Date(Math.min(g.getTime(),b.getTime())),_=Math.ceil((y.getTime()-m.getTime())/(1e3*60*60*24))+1;_>h&&(h=_)}}return{hasConflict:((o==null?void 0:o.length)??0)>0,conflictingVacations:(o||[]).map(p=>({nombre:p.nombre,cargo:p.cargo,turno:p.turno,start_date:p.start_date,end_date:p.end_date})),totalStaffCount:u,availableStaffCount:Math.max(0,f),overlappingDays:h}},VX=async(e,t)=>{if(!un())return[];const r=oi(e);let n=xe.from("attendance_vacaciones").select("*").in("terminal_code",r).order("start_date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}t!=null&&t.date_from&&(n=n.gte("start_date",t.date_from)),t!=null&&t.date_to&&(n=n.lte("end_date",t.date_to));const{data:a,error:i}=await n;if(i)throw i;return a||[]},KX=async(e,t)=>{const r=V_(e.start_date,e.end_date),n=q_(e.start_date,e.end_date),a=await sR(e.cargo,e.terminal_code,e.turno,e.start_date,e.end_date),i=a.hasConflict?`${a.conflictingVacations.length} persona(s) en misma posicin en vacaciones. Disponibles: ${a.availableStaffCount}/${a.totalStaffCount}`:null,{data:s,error:o}=await xe.from("attendance_vacaciones").insert({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,start_date:e.start_date,end_date:e.end_date,return_date:e.return_date,calendar_days:r,business_days:n,has_conflict:a.hasConflict,conflict_authorized:e.conflict_authorized,conflict_details:i,created_by_supervisor:Js(t)}).select().single();if(o)throw ka("Error al crear registro","No se pudo guardar la solicitud de vacaciones"),o;try{const c=a.hasConflict?`<strong style="color: #dc2626;">ADVERTENCIA:</strong> ${i}`:"Sin conflictos detectados";await Ah("Vacaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.start_date,createdBy:t,details:{"Fecha Inicio":e.start_date,"Fecha Trmino":e.end_date,"Fecha Vuelta":e.return_date,"Das Calendario":r.toString(),"Das a Descontar":n.toString(),Conflictos:c}}),ua("Solicitud de vacaciones creada",`Vacaciones para ${e.nombre} (${n} das hbiles) registradas`,t)}catch{ua("Solicitud creada",`Vacaciones para ${e.nombre} registradas (correo no enviado)`,t)}return s},GX=async(e,t)=>{const r={...t};t.start_date&&t.end_date&&(r.calendar_days=V_(t.start_date,t.end_date),r.business_days=q_(t.start_date,t.end_date));const{data:n,error:a}=await xe.from("attendance_vacaciones").update(r).eq("id",e).select().single();if(a)throw a;return n},oR="isaac.avila@transdev.cl",mn={check:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
        <path d="M18 28L24 34L38 20" stroke="#16a34a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,x:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fee2e2" stroke="#ef4444" stroke-width="3"/>
        <path d="M20 20L36 36M36 20L20 36" stroke="#dc2626" stroke-width="4" stroke-linecap="round"/>
    </svg>`,clock:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <circle cx="28" cy="28" r="3" fill="#d97706"/>
        <path d="M28 16V28L36 33" stroke="#d97706" stroke-width="3" stroke-linecap="round"/>
    </svg>`,user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`},lR=e=>new Date(e+"T12:00:00").toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Na=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,cR=async(e,t,r,n,a,i,s)=>{const o=e==="AUTORIZADO",c=o?"#16a34a":"#dc2626",u=o?"#f0fdf4":"#fef2f2",d=o?"#bbf7d0":"#fecaca",f=o?mn.check:mn.x,h=`${t} ${e} - ${n}`,p=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: ${u}; border: 1px solid ${d}; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${f}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 20px; font-weight: 800; color: ${c}; letter-spacing: -0.5px;">${e}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Na(mn.id,"Subseccin",t,!0)}
            ${Na(mn.id,"RUT",Kt(r))}
            ${Na(mn.user,"Trabajador",n)}
            ${Na(mn.building,"Terminal",Ke(a))}
            ${Na(mn.calendar,"Fecha",lR(i))}
            ${s?Na(mn.id,"Motivo",s,!0):""}
        </table>
    `.trim(),g=await H_("email_notifications"),v=g!=null&&g.to&&g.to.length>0?g.to:[oR],x=(g==null?void 0:g.cc)||[];try{await sl.sendEmail({audience:"manual",manualRecipients:v,cc:x,subject:h,body:p})}catch(b){console.error("Error sending authorization email:",b)}},Ah=async(e,t)=>{const r=t.details?Object.entries(t.details).filter(([c,u])=>u&&u.trim()).map(([c,u])=>Na(mn.id,c,u)).join(""):"",n=`Nuevo Registro: ${e}`,a=`
        <!-- Worker Name Header -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td align="center">
                    <h2 style="margin: 0; font-size: 24px; font-weight: 800; color: #0f172a;">${t.nombre}</h2>
                </td>
            </tr>
        </table>
        
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: #fffbeb; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${mn.clock}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">PENDIENTE DE AUTORIZACIN</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Subsection Badge -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td align="center">
                    <span style="display: inline-block; padding: 8px 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 100px; color: #2563eb; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${e}</span>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Na(mn.id,"RUT",Kt(t.rut))}
            ${Na(mn.user,"Trabajador",t.nombre,!0)}
            ${Na(mn.building,"Terminal",Ke(t.terminal))}
            ${Na(mn.calendar,"Fecha",lR(t.date))}
            ${r}
        </table>
        
        <!-- Registered By -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top: 24px;">
            <tr>
                <td style="padding: 16px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                        <tr>
                            <td width="40" style="padding-right: 12px; vertical-align: middle;">
                                <div style="width: 40px; height: 40px; background: #2563eb; border-radius: 50%; text-align: center; line-height: 40px; color: white; font-weight: 700; font-size: 16px;">${t.createdBy.charAt(0)}</div>
                            </td>
                            <td style="vertical-align: middle;">
                                <span style="display: block; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;">Registrado por</span>
                                <span style="display: block; font-size: 14px; font-weight: 700; color: #0f172a;">${t.createdBy}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    `.trim(),i=await H_("email_notifications"),s=i!=null&&i.to&&i.to.length>0?i.to:[oR],o=(i==null?void 0:i.cc)||[];try{await sl.sendEmail({audience:"manual",manualRecipients:s,cc:o,subject:n,body:a})}catch(c){console.error("Error sending record created email:",c)}},Nh=[{value:"todos",label:"Todos"},{value:"PENDIENTE",label:"Pendiente"},{value:"AUTORIZADO",label:"Autorizado"},{value:"RECHAZADO",label:"Rechazado"}],uR=[{value:"ENTRADA",label:"Llegada Tarda"},{value:"SALIDA",label:"Retiro Anticipado"}],dR={"no-marcaciones":"No Marcaciones","sin-credenciales":"Sin Credenciales","cambios-dia":"Cambios de Da",autorizaciones:"Autorizaciones",vacaciones:"Vacaciones"},vt={all:["attendance"],noMarcaciones:(e,t)=>[...vt.all,"no-marcaciones",e,t],sinCredenciales:(e,t)=>[...vt.all,"sin-credenciales",e,t],cambiosDia:(e,t)=>[...vt.all,"cambios-dia",e,t],autorizaciones:(e,t)=>[...vt.all,"autorizaciones",e,t],vacaciones:(e,t)=>[...vt.all,"vacaciones",e,t],kpis:(e,t)=>[...vt.all,"kpis",e,t]},XX=(e,t)=>St({queryKey:vt.noMarcaciones(e,t),queryFn:()=>NX(e,t)}),YX=(e,t)=>St({queryKey:vt.sinCredenciales(e,t),queryFn:()=>kX(e,t)}),QX=(e,t)=>St({queryKey:vt.cambiosDia(e,t),queryFn:()=>IX(e,t)}),JX=(e,t)=>St({queryKey:vt.autorizaciones(e,t),queryFn:()=>LX(e,t)}),ZX=(e,t)=>St({queryKey:vt.vacaciones(e,t),queryFn:()=>VX(e,t)}),K_={"no-marcaciones":"attendance_no_marcaciones","sin-credenciales":"attendance_sin_credenciales","cambios-dia":"attendance_cambios_dia",autorizaciones:"attendance_autorizaciones",vacaciones:"attendance_vacaciones"},eY={"no-marcaciones":"date","sin-credenciales":"date","cambios-dia":"date",autorizaciones:"authorization_date",vacaciones:"start_date"},Oh=(e,t)=>St({queryKey:vt.kpis(e,t),queryFn:()=>WX(K_[e],t,eY[e])}),tY=()=>{const e=Mt();return zt({mutationFn:({values:t,createdBy:r})=>OX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},rY=()=>{const e=Mt();return zt({mutationFn:({values:t,createdBy:r})=>PX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},nY=()=>{const e=Mt();return zt({mutationFn:({values:t,createdBy:r})=>DX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},aY=()=>{const e=Mt();return zt({mutationFn:({values:t,createdBy:r})=>FX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},iY=()=>{const e=Mt();return zt({mutationFn:({values:t,createdBy:r})=>KX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},sY=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>CX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},oY=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>RX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},lY=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>MX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},cY=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>BX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},uY=()=>{const e=Mt();return zt({mutationFn:({id:t,values:r})=>GX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},Ch=()=>{const e=Mt();return zt({mutationFn:async({subsection:t,id:r,authorizedBy:n,rut:a,nombre:i,terminal:s,date:o})=>{await UX(K_[t],r,n),await cR("AUTORIZADO",dR[t],a,i,s,o)},onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},kh=()=>{const e=Mt();return zt({mutationFn:async({subsection:t,id:r,authorizedBy:n,reason:a,rut:i,nombre:s,terminal:o,date:c})=>{await zX(K_[t],r,n,a),await cR("RECHAZADO",dR[t],i,s,o,c,a)},onSuccess:()=>e.invalidateQueries({queryKey:vt.all})})},Ph=()=>{const e=Mt();A.useEffect(()=>{const t=HX(()=>e.invalidateQueries({queryKey:vt.all}),()=>e.invalidateQueries({queryKey:vt.all}));return()=>{t()}},[e])},dY=()=>{const e=We(w=>w.context),t=We(w=>w.setContext),r=En(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=jh(n),[i,s]=A.useState({auth_status:"todos"}),[o,c]=A.useState({type:"none"}),u=XX(e,i),d=Oh("no-marcaciones",e),f=tY(),h=sY(),p=Ch(),g=kh();Ph();const v=[{key:"rut",header:"RUT",value:w=>Kt(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"area",header:"rea",value:w=>w.area},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"jefe_terminal",header:"Jefe Terminal",value:w=>w.jefe_terminal},{key:"terminal",header:"Terminal",value:w=>Ke(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"incident_state",header:"Estado",value:w=>w.incident_state},{key:"date",header:"Fecha",value:w=>w.date},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),c({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),c({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"no-marcaciones",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),c({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"no-marcaciones",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),c({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return l.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return l.jsx("span",{className:"badge badge-danger",children:w});default:return l.jsx("span",{className:"badge badge-warning",children:w})}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"No Marcaciones",description:"Registros de no marcacin de personal",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>c({type:"create"}),children:[l.jsx(le,{name:"clipboard",size:18})," Nuevo Registro"]}),l.jsx(Dr,{onExportView:()=>et({filename:"no_marcaciones",sheetName:"Datos",rows:u.data||[],columns:v}),onExportAll:()=>et({filename:"no_marcaciones_all",sheetName:"Datos",rows:u.data||[],columns:v})})]})}),l.jsx(Th,{data:d.data,isLoading:d.isLoading}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Nh.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),u.isLoading&&l.jsx(cr,{label:"Cargando registros..."}),u.isError&&l.jsx(wr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"RUT"}),l.jsx("th",{className:"table-header-cell",children:"Nombre"}),l.jsx("th",{className:"table-header-cell",children:"Terminal"}),l.jsx("th",{className:"table-header-cell",children:"Fecha"}),l.jsx("th",{className:"table-header-cell",children:"Estado"}),l.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),l.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:(u.data||[]).map(w=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(w.rut)}),l.jsx("td",{className:"table-cell font-medium",children:w.nombre}),l.jsx("td",{className:"table-cell",children:Ke(w.terminal_code)}),l.jsx("td",{className:"table-cell",children:w.date}),l.jsx("td",{className:"table-cell",children:w.incident_state||"-"}),l.jsx("td",{className:"table-cell",children:_(w.auth_status)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&l.jsx("button",{onClick:()=>c({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:l.jsx(le,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:l.jsx(le,{name:"check-circle",size:16})}),l.jsx("button",{onClick:()=>c({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:l.jsx(le,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c({type:"none"})}),l.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),l.jsx("button",{onClick:()=>c({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(TX,{initialData:o.type==="edit"?{...o.record,area:o.record.area??"Logstica",cargo:o.record.cargo??"",jefe_terminal:o.record.jefe_terminal??"",cabezal:o.record.cabezal??"",incident_state:o.record.incident_state??"",schedule_in_out:o.record.schedule_in_out??"",time_range:o.record.time_range??"",observations:o.record.observations??"",informed_by:o.record.informed_by??n}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>c({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&l.jsx(ii,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>c({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&l.jsx(ii,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>c({type:"none"}),isLoading:g.isPending})]})},fY=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",cargo:"",supervisor_autoriza:t,area:"Logstica",responsable:"",observacion:"",...e}),o=u=>{if(u){const[d,f]=(u.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:u.nombre,cargo:u.cargo,terminal_code:u.terminal_code,start_time:h,end_time:p}))}},c=u=>{u.preventDefault(),r(i)};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Lv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre"}),l.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:La.map(u=>l.jsx("option",{value:u.value,children:u.label},u.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cabezal"}),l.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha"}),l.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Hora Inicio"}),l.jsx("input",{type:"time",className:"input",value:i.start_time,onChange:u=>s(d=>({...d,start_time:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Hora Fin"}),l.jsx("input",{type:"time",className:"input",value:i.end_time,onChange:u=>s(d=>({...d,end_time:u.target.value}))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cargo"}),l.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:u=>s(d=>({...d,cargo:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Supervisor Autoriza"}),l.jsx("input",{type:"text",className:"input",value:i.supervisor_autoriza,onChange:u=>s(d=>({...d,supervisor_autoriza:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"rea"}),l.jsx("input",{type:"text",className:"input",value:i.area,onChange:u=>s(d=>({...d,area:u.target.value}))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Responsable"}),l.jsx("input",{type:"text",className:"input",value:i.responsable,onChange:u=>s(d=>({...d,responsable:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Observacin"}),l.jsx("textarea",{className:"input min-h-[80px]",value:i.observacion,onChange:u=>s(d=>({...d,observacion:u.target.value}))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},hY=()=>{const e=We(w=>w.context),t=We(w=>w.setContext),r=En(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=jh(n),[i,s]=A.useState({auth_status:"todos"}),[o,c]=A.useState({type:"none"}),u=YX(e,i),d=Oh("sin-credenciales",e),f=rY(),h=oY(),p=Ch(),g=kh();Ph();const v=[{key:"rut",header:"RUT",value:w=>Kt(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"terminal",header:"Terminal",value:w=>Ke(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"date",header:"Fecha",value:w=>w.date},{key:"start_time",header:"Hora Inicio",value:w=>w.start_time},{key:"end_time",header:"Hora Fin",value:w=>w.end_time},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"supervisor_autoriza",header:"Supervisor Autoriza",value:w=>w.supervisor_autoriza},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),c({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),c({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"sin-credenciales",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),c({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"sin-credenciales",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),c({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return l.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return l.jsx("span",{className:"badge badge-danger",children:w});default:return l.jsx("span",{className:"badge badge-warning",children:w})}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Sin Credenciales",description:"Registros de personal sin credencial",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>c({type:"create"}),children:[l.jsx(le,{name:"key",size:18})," Nuevo Registro"]}),l.jsx(Dr,{onExportView:()=>et({filename:"sin_credenciales",sheetName:"Datos",rows:u.data||[],columns:v}),onExportAll:()=>et({filename:"sin_credenciales_all",sheetName:"Datos",rows:u.data||[],columns:v})})]})}),l.jsx(Th,{data:d.data,isLoading:d.isLoading}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Nh.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),u.isLoading&&l.jsx(cr,{label:"Cargando registros..."}),u.isError&&l.jsx(wr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"RUT"}),l.jsx("th",{className:"table-header-cell",children:"Nombre"}),l.jsx("th",{className:"table-header-cell",children:"Terminal"}),l.jsx("th",{className:"table-header-cell",children:"Cabezal"}),l.jsx("th",{className:"table-header-cell",children:"Fecha"}),l.jsx("th",{className:"table-header-cell",children:"Hora"}),l.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),l.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:(u.data||[]).map(w=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(w.rut)}),l.jsx("td",{className:"table-cell font-medium",children:w.nombre}),l.jsx("td",{className:"table-cell",children:Ke(w.terminal_code)}),l.jsx("td",{className:"table-cell",children:w.cabezal||"-"}),l.jsx("td",{className:"table-cell",children:w.date}),l.jsxs("td",{className:"table-cell",children:[w.start_time," - ",w.end_time]}),l.jsx("td",{className:"table-cell",children:_(w.auth_status)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&l.jsx("button",{onClick:()=>c({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:l.jsx(le,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:l.jsx(le,{name:"check-circle",size:16})}),l.jsx("button",{onClick:()=>c({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:l.jsx(le,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c({type:"none"})}),l.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),l.jsx("button",{onClick:()=>c({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(fY,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",start_time:o.record.start_time??"",end_time:o.record.end_time??"",cargo:o.record.cargo??"",supervisor_autoriza:o.record.supervisor_autoriza??"",area:o.record.area??"",responsable:o.record.responsable??"",observacion:o.record.observacion??""}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>c({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&l.jsx(ii,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>c({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&l.jsx(ii,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>c({type:"none"}),isLoading:g.isPending})]})},pY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const a=A.useRef(null),[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],prog_start:"",prog_end:"",reprogram_start:"",reprogram_end:"",day_off_date:"",day_off_start:"",day_off_end:"",day_on_date:"",day_on_start:"",day_on_end:"",document:null,...e}),o=u=>{if(u){const[d,f]=(u.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:u.nombre,terminal_code:u.terminal_code,prog_start:h,prog_end:p,day_off_start:h,day_off_end:p,day_on_start:h,day_on_end:p}))}},c=u=>{u.preventDefault(),t(i)};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Lv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre"}),l.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:La.map(u=>l.jsx("option",{value:u.value,children:u.label},u.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cabezal"}),l.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha Registro"}),l.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]})]}),l.jsxs("div",{className:"card p-4 bg-brand-50 border-brand-200",children:[l.jsx("h4",{className:"font-semibold text-brand-800 mb-3",children:"Jornada Programada (desde Personal)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Entrada"}),l.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_start,onChange:u=>s(d=>({...d,prog_start:u.target.value})),placeholder:"--:--",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Salida"}),l.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_end,onChange:u=>s(d=>({...d,prog_end:u.target.value})),placeholder:"--:--",readOnly:!0})]})]})]}),l.jsxs("div",{className:"card p-4 bg-slate-50",children:[l.jsx("h4",{className:"font-semibold text-slate-700 mb-3",children:"Da Programado (No Trabaja)"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha"}),l.jsx("input",{type:"date",className:"input",value:i.day_off_date,onChange:u=>s(d=>({...d,day_off_date:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inicio"}),l.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_start,onChange:u=>s(d=>({...d,day_off_start:u.target.value})),placeholder:"--:--"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Trmino"}),l.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_end,onChange:u=>s(d=>({...d,day_off_end:u.target.value})),placeholder:"--:--"})]})]})]}),l.jsxs("div",{className:"card p-4 bg-success-50 border-success-200",children:[l.jsx("h4",{className:"font-semibold text-success-800 mb-3",children:"Da ReProgramado (Trabaja)"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha"}),l.jsx("input",{type:"date",className:"input",value:i.day_on_date,onChange:u=>s(d=>({...d,day_on_date:u.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inicio"}),l.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_start,onChange:u=>s(d=>({...d,day_on_start:u.target.value})),placeholder:"--:--"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Trmino"}),l.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_end,onChange:u=>s(d=>({...d,day_on_end:u.target.value})),placeholder:"--:--"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Documento Adjunto (opcional)"}),l.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-center",children:[l.jsx("input",{ref:a,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:u=>s(d=>{var f;return{...d,document:((f=u.target.files)==null?void 0:f[0])||null}})}),i.document?l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(le,{name:"check-circle",size:20,className:"text-success-600"}),l.jsx("span",{className:"text-sm",children:i.document.name}),l.jsx("button",{type:"button",onClick:()=>{s(u=>({...u,document:null})),a.current&&(a.current.value="")},className:"text-danger-600",children:l.jsx(le,{name:"x",size:18})})]}):l.jsxs("button",{type:"button",onClick:()=>{var u;return(u=a.current)==null?void 0:u.click()},className:"btn btn-secondary",children:[l.jsx(le,{name:"image",size:18})," Seleccionar Archivo"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},mY=()=>{const e=We(S=>S.context),t=We(S=>S.setContext),r=En(S=>S.session),n=(r==null?void 0:r.supervisorName)??"",a=jh(n),[i,s]=A.useState({auth_status:"todos"}),[o,c]=A.useState({type:"none"}),u=QX(e,i),d=Oh("cambios-dia",e),f=nY(),h=lY(),p=Ch(),g=kh();Ph();const v=[{key:"rut",header:"RUT",value:S=>Kt(S.rut)},{key:"nombre",header:"Nombre",value:S=>S.nombre},{key:"terminal",header:"Terminal",value:S=>Ke(S.terminal_code)},{key:"cabezal",header:"Cabezal",value:S=>S.cabezal},{key:"date",header:"Fecha",value:S=>S.date},{key:"prog_start",header:"Prog. Inicio",value:S=>S.prog_start},{key:"prog_end",header:"Prog. Fin",value:S=>S.prog_end},{key:"reprogram_start",header:"Reprog. Inicio",value:S=>S.reprogram_start},{key:"reprogram_end",header:"Reprog. Fin",value:S=>S.reprogram_end},{key:"auth_status",header:"Autorizacin",value:S=>S.auth_status}],x=async S=>{await f.mutateAsync({values:S,createdBy:n}),c({type:"none"})},b=async S=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:S}),c({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const S=o.record;await p.mutateAsync({subsection:"cambios-dia",id:S.id,authorizedBy:n,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),c({type:"none"})},y=async S=>{if(o.type!=="reject"||!S)return;const E=o.record;await g.mutateAsync({subsection:"cambios-dia",id:E.id,authorizedBy:n,reason:S,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.date}),c({type:"none"})},_=async S=>{try{const E=await $X(S);window.open(E,"_blank")}catch(E){console.error("Error getting document URL:",E)}},w=S=>{switch(S){case"AUTORIZADO":return l.jsx("span",{className:"badge badge-success",children:S});case"RECHAZADO":return l.jsx("span",{className:"badge badge-danger",children:S});default:return l.jsx("span",{className:"badge badge-warning",children:S})}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Cambios de Da",description:"Reprogramaciones de jornada laboral",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>c({type:"create"}),children:[l.jsx(le,{name:"calendar",size:18})," Nuevo Registro"]}),l.jsx(Dr,{onExportView:()=>et({filename:"cambios_dia",sheetName:"Datos",rows:u.data||[],columns:v}),onExportAll:()=>et({filename:"cambios_dia_all",sheetName:"Datos",rows:u.data||[],columns:v})})]})}),l.jsx(Th,{data:d.data,isLoading:d.isLoading}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:i.auth_status,onChange:S=>s(E=>({...E,auth_status:S.target.value})),children:Nh.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:S=>s(E=>({...E,search:S.target.value}))})]})]}),u.isLoading&&l.jsx(cr,{label:"Cargando registros..."}),u.isError&&l.jsx(wr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"RUT"}),l.jsx("th",{className:"table-header-cell",children:"Nombre"}),l.jsx("th",{className:"table-header-cell",children:"Terminal"}),l.jsx("th",{className:"table-header-cell",children:"Fecha"}),l.jsx("th",{className:"table-header-cell",children:"Jornada Prog."}),l.jsx("th",{className:"table-header-cell",children:"Jornada Reprog."}),l.jsx("th",{className:"table-header-cell",children:"Doc"}),l.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),l.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:(u.data||[]).map(S=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(S.rut)}),l.jsx("td",{className:"table-cell font-medium",children:S.nombre}),l.jsx("td",{className:"table-cell",children:Ke(S.terminal_code)}),l.jsx("td",{className:"table-cell",children:S.date}),l.jsxs("td",{className:"table-cell text-xs",children:[S.prog_start," - ",S.prog_end]}),l.jsxs("td",{className:"table-cell text-xs",children:[S.reprogram_start," - ",S.reprogram_end]}),l.jsx("td",{className:"table-cell",children:S.document_path?l.jsx("button",{onClick:()=>_(S.document_path),className:"text-brand-600 hover:underline",children:l.jsx(le,{name:"image",size:16})}):"-"}),l.jsx("td",{className:"table-cell",children:w(S.auth_status)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.auth_status==="PENDIENTE"&&l.jsx("button",{onClick:()=>c({type:"edit",record:S}),className:"btn btn-ghost btn-icon",title:"Editar",children:l.jsx(le,{name:"clipboard",size:16})}),a&&S.auth_status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c({type:"authorize",record:S}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:l.jsx(le,{name:"check-circle",size:16})}),l.jsx("button",{onClick:()=>c({type:"reject",record:S}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:l.jsx(le,{name:"x",size:16})})]})]})})]},S.id))})]})}),(o.type==="create"||o.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c({type:"none"})}),l.jsxs("div",{className:"relative w-full max-w-4xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),l.jsx("button",{onClick:()=>c({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(pY,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",prog_start:o.record.prog_start??"",prog_end:o.record.prog_end??"",reprogram_start:o.record.reprogram_start??"",reprogram_end:o.record.reprogram_end??"",day_off_date:o.record.day_off_date??"",day_off_start:o.record.day_off_start??"",day_off_end:o.record.day_off_end??"",day_on_date:o.record.day_on_date??"",day_on_start:o.record.day_on_start??"",day_on_end:o.record.day_on_end??"",document:null}:void 0,onSubmit:o.type==="create"?x:b,onCancel:()=>c({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&l.jsx(ii,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>c({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&l.jsx(ii,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>c({type:"none"}),isLoading:g.isPending})]})},vY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"",terminal_code:"EL_ROBLE",turno:"",horario:"",authorization_date:new Date().toISOString().split("T")[0],entry_or_exit:"ENTRADA",motivo:"",...e}),s=c=>{c&&i(u=>({...u,nombre:c.nombre,cargo:c.cargo,terminal_code:c.terminal_code,turno:c.turno,horario:c.horario}))},o=c=>{c.preventDefault(),t(a)};return l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Lv,{value:a.rut,onChange:c=>i(u=>({...u,rut:c})),onStaffFound:s,disabled:!!(e!=null&&e.rut)}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nombre"}),l.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:c=>i(u=>({...u,nombre:c.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Cargo"}),l.jsx("input",{type:"text",className:"input",value:a.cargo,onChange:c=>i(u=>({...u,cargo:c.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Terminal"}),l.jsx("select",{className:"input",value:a.terminal_code,onChange:c=>i(u=>({...u,terminal_code:c.target.value})),required:!0,children:La.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Turno"}),l.jsx("input",{type:"text",className:"input",value:a.turno,onChange:c=>i(u=>({...u,turno:c.target.value}))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Horario"}),l.jsx("input",{type:"text",className:"input",value:a.horario,onChange:c=>i(u=>({...u,horario:c.target.value})),placeholder:"08:00-18:00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha de Autorizacin"}),l.jsx("input",{type:"date",className:"input",value:a.authorization_date,onChange:c=>i(u=>({...u,authorization_date:c.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Tipo"}),l.jsx("select",{className:"input",value:a.entry_or_exit,onChange:c=>i(u=>({...u,entry_or_exit:c.target.value})),required:!0,children:uR.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Motivo"}),l.jsx("textarea",{className:"input min-h-[80px]",value:a.motivo,onChange:c=>i(u=>({...u,motivo:c.target.value})),placeholder:"Describe el motivo de la autorizacin...",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},gY=()=>{const e=We(E=>E.context),t=We(E=>E.setContext),r=En(E=>E.session),n=(r==null?void 0:r.supervisorName)??"",a=jh(n),[i,s]=A.useState({auth_status:"todos"}),[o,c]=A.useState({type:"none"}),u=JX(e,i),d=Oh("autorizaciones",e),f=aY(),h=cY(),p=Ch(),g=kh();Ph();const v=E=>{var j;return((j=uR.find(T=>T.value===E))==null?void 0:j.label)||E},x=[{key:"rut",header:"RUT",value:E=>Kt(E.rut)},{key:"nombre",header:"Nombre",value:E=>E.nombre},{key:"cargo",header:"Cargo",value:E=>E.cargo},{key:"terminal",header:"Terminal",value:E=>Ke(E.terminal_code)},{key:"turno",header:"Turno",value:E=>E.turno},{key:"horario",header:"Horario",value:E=>E.horario},{key:"authorization_date",header:"Fecha",value:E=>E.authorization_date},{key:"entry_or_exit",header:"Tipo",value:E=>v(E.entry_or_exit)},{key:"motivo",header:"Motivo",value:E=>E.motivo},{key:"auth_status",header:"Autorizacin",value:E=>E.auth_status}],b=async E=>{await f.mutateAsync({values:E,createdBy:n}),c({type:"none"})},m=async E=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:E}),c({type:"none"}))},y=async()=>{if(o.type!=="authorize")return;const E=o.record;await p.mutateAsync({subsection:"autorizaciones",id:E.id,authorizedBy:n,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.authorization_date}),c({type:"none"})},_=async E=>{if(o.type!=="reject"||!E)return;const j=o.record;await g.mutateAsync({subsection:"autorizaciones",id:j.id,authorizedBy:n,reason:E,rut:j.rut,nombre:j.nombre,terminal:j.terminal_code,date:j.authorization_date}),c({type:"none"})},w=E=>{switch(E){case"AUTORIZADO":return l.jsx("span",{className:"badge badge-success",children:E});case"RECHAZADO":return l.jsx("span",{className:"badge badge-danger",children:E});default:return l.jsx("span",{className:"badge badge-warning",children:E})}},S=E=>E==="ENTRADA"?l.jsx("span",{className:"badge bg-blue-100 text-blue-700",children:"Llegada Tarda"}):l.jsx("span",{className:"badge bg-purple-100 text-purple-700",children:"Retiro Anticipado"});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Autorizaciones",description:"Retiros anticipados y llegadas tardas",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>c({type:"create"}),children:[l.jsx(le,{name:"check-circle",size:18})," Nueva Solicitud"]}),l.jsx(Dr,{onExportView:()=>et({filename:"autorizaciones",sheetName:"Datos",rows:u.data||[],columns:x}),onExportAll:()=>et({filename:"autorizaciones_all",sheetName:"Datos",rows:u.data||[],columns:x})})]})}),l.jsx(Th,{data:d.data,isLoading:d.isLoading}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:i.auth_status,onChange:E=>s(j=>({...j,auth_status:E.target.value})),children:Nh.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:E=>s(j=>({...j,search:E.target.value}))})]})]}),u.isLoading&&l.jsx(cr,{label:"Cargando registros..."}),u.isError&&l.jsx(wr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"RUT"}),l.jsx("th",{className:"table-header-cell",children:"Nombre"}),l.jsx("th",{className:"table-header-cell",children:"Terminal"}),l.jsx("th",{className:"table-header-cell",children:"Fecha"}),l.jsx("th",{className:"table-header-cell",children:"Tipo"}),l.jsx("th",{className:"table-header-cell",children:"Motivo"}),l.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),l.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:(u.data||[]).map(E=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(E.rut)}),l.jsx("td",{className:"table-cell font-medium",children:E.nombre}),l.jsx("td",{className:"table-cell",children:Ke(E.terminal_code)}),l.jsx("td",{className:"table-cell",children:E.authorization_date}),l.jsx("td",{className:"table-cell",children:S(E.entry_or_exit)}),l.jsx("td",{className:"table-cell max-w-[200px] truncate",title:E.motivo,children:E.motivo}),l.jsx("td",{className:"table-cell",children:w(E.auth_status)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[E.auth_status==="PENDIENTE"&&l.jsx("button",{onClick:()=>c({type:"edit",record:E}),className:"btn btn-ghost btn-icon",title:"Editar",children:l.jsx(le,{name:"clipboard",size:16})}),a&&E.auth_status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c({type:"authorize",record:E}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:l.jsx(le,{name:"check-circle",size:16})}),l.jsx("button",{onClick:()=>c({type:"reject",record:E}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:l.jsx(le,{name:"x",size:16})})]})]})})]},E.id))})]})}),(o.type==="create"||o.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c({type:"none"})}),l.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nueva Solicitud":"Editar Solicitud"}),l.jsx("button",{onClick:()=>c({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(vY,{initialData:o.type==="edit"?{...o.record,cargo:o.record.cargo??"",turno:o.record.turno??"",horario:o.record.horario??""}:void 0,onSubmit:o.type==="create"?b:m,onCancel:()=>c({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&l.jsx(ii,{mode:"authorize",itemName:o.record.nombre,onConfirm:y,onCancel:()=>c({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&l.jsx(ii,{mode:"reject",itemName:o.record.nombre,onConfirm:_,onCancel:()=>c({type:"none"}),isLoading:g.isPending})]})},xY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const a=We(j=>j.context),i=iR(a),[s,o]=A.useState(""),[c,u]=A.useState(null),[d,f]=A.useState(!1),[h,p]=A.useState({rut:"",nombre:"",cargo:"",terminal_code:"",turno:"",start_date:"",end_date:"",return_date:"",conflict_authorized:!1}),[g,v]=A.useState(null),[x,b]=A.useState(!1),m=A.useMemo(()=>!h.start_date||!h.end_date?0:V_(h.start_date,h.end_date),[h.start_date,h.end_date]),y=A.useMemo(()=>!h.start_date||!h.end_date?0:q_(h.start_date,h.end_date),[h.start_date,h.end_date]);A.useEffect(()=>{e&&(p({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,start_date:e.start_date,end_date:e.end_date,return_date:e.return_date,conflict_authorized:e.conflict_authorized}),o(Kt(e.rut)))},[e]);const _=A.useMemo(()=>{if(!s||!i.data)return[];const j=Qs(s).toLowerCase();return i.data.filter(T=>T.status==="ACTIVO").filter(T=>T.rut.toLowerCase().includes(j)||T.nombre.toLowerCase().includes(j)).slice(0,8)},[s,i.data]);A.useEffect(()=>{(async()=>{if(!h.cargo||!h.terminal_code||!h.turno||!h.start_date||!h.end_date){v(null);return}b(!0);try{const T=await sR(h.cargo,h.terminal_code,h.turno,h.start_date,h.end_date,e==null?void 0:e.rut);v(T)}catch(T){console.error("Error checking conflicts:",T)}finally{b(!1)}})()},[h.cargo,h.terminal_code,h.turno,h.start_date,h.end_date,e==null?void 0:e.rut]),A.useEffect(()=>{if(h.end_date){const j=new Date(h.end_date+"T12:00:00");for(j.setDate(j.getDate()+1);j.getDay()===0||j.getDay()===6;)j.setDate(j.getDate()+1);p(T=>({...T,return_date:j.toISOString().split("T")[0]}))}},[h.end_date]);const w=j=>{u(j),o(Kt(j.rut)),p(T=>({...T,rut:j.rut,nombre:j.nombre,cargo:j.cargo,terminal_code:j.terminal_code,turno:j.turno})),f(!1)},S=async j=>{j.preventDefault(),await t(h)},E=h.rut&&h.start_date&&h.end_date&&h.return_date&&(!(g!=null&&g.hasConflict)||h.conflict_authorized);return l.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"label",children:"Buscar Trabajador por RUT"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"input pr-10",placeholder:"Ingrese RUT o nombre...",value:s,onChange:j=>{o(j.target.value),f(!0)},onFocus:()=>f(!0)}),l.jsx(le,{name:"search",size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),d&&_.length>0&&l.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:_.map(j=>l.jsx("button",{type:"button",onClick:()=>w(j),className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b last:border-b-0 border-slate-100",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-slate-800",children:j.nombre}),l.jsx("div",{className:"text-sm text-slate-500 font-mono",children:Kt(j.rut)})]}),l.jsxs("div",{className:"text-right text-sm text-slate-500",children:[l.jsx("div",{children:j.cargo}),l.jsx("div",{children:j.turno})]})]})},j.id))}),d&&s&&_.length===0&&i.data&&l.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg p-4 text-slate-500 text-sm",children:"No se encontraron trabajadores activos"})]}),c&&l.jsx("div",{className:"bg-brand-50 border border-brand-200 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 block",children:"Nombre"}),l.jsx("span",{className:"font-semibold text-slate-800",children:c.nombre})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 block",children:"Cargo"}),l.jsx("span",{className:"font-semibold text-slate-800",children:c.cargo})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 block",children:"Terminal"}),l.jsx("span",{className:"font-semibold text-slate-800",children:rl[c.terminal_code]||c.terminal_code})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 block",children:"Turno"}),l.jsx("span",{className:"font-semibold text-slate-800",children:c.turno})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha Inicio"}),l.jsx("input",{type:"date",className:"input",value:h.start_date,onChange:j=>p(T=>({...T,start_date:j.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha Trmino"}),l.jsx("input",{type:"date",className:"input",value:h.end_date,min:h.start_date,onChange:j=>p(T=>({...T,end_date:j.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Fecha Vuelta"}),l.jsx("input",{type:"date",className:"input",value:h.return_date,min:h.end_date,onChange:j=>p(T=>({...T,return_date:j.target.value})),required:!0})]})]}),h.start_date&&h.end_date&&l.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-slate-700",children:m}),l.jsx("div",{className:"text-sm text-slate-500",children:"Das calendario"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-brand-600",children:y}),l.jsx("div",{className:"text-sm text-slate-500",children:"Das a descontar"}),l.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"(sin sbados ni domingos)"})]})]})}),x&&l.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center text-slate-500",children:[l.jsx(le,{name:"clock",size:20,className:"inline-block mr-2 animate-spin"}),"Verificando disponibilidad..."]}),(g==null?void 0:g.hasConflict)&&!x&&l.jsx("div",{className:"bg-amber-50 border border-amber-300 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(le,{name:"alert-triangle",size:24,className:"text-amber-600 shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Conflicto de Personal Detectado"}),l.jsxs("p",{className:"text-sm text-amber-700 mb-3",children:["Hay ",g.conflictingVacations.length," persona(s) del mismo cargo, terminal y turno con vacaciones en fechas solapadas."]}),l.jsx("div",{className:"bg-white/50 rounded p-3 mb-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-amber-700",children:"Personal total:"}),l.jsx("span",{className:"font-bold ml-2",children:g.totalStaffCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-amber-700",children:"Disponibles:"}),l.jsx("span",{className:"font-bold ml-2 text-amber-800",children:g.availableStaffCount})]})]})}),l.jsxs("div",{className:"text-sm text-amber-700 mb-3",children:[l.jsx("strong",{children:"En vacaciones:"}),l.jsx("ul",{className:"mt-1 space-y-1",children:g.conflictingVacations.map((j,T)=>l.jsxs("li",{children:[" ",j.nombre," (",j.start_date," al ",j.end_date,")"]},T))})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h.conflict_authorized,onChange:j=>p(T=>({...T,conflict_authorized:j.target.checked})),className:"w-4 h-4 text-amber-600 border-amber-300 rounded focus:ring-amber-500"}),l.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Autorizo esta solicitud a pesar del conflicto"})]})]})]})}),g&&!g.hasConflict&&!x&&h.start_date&&h.end_date&&l.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 flex items-center gap-3",children:[l.jsx(le,{name:"check-circle",size:24,className:"text-green-600"}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-green-800",children:"Sin conflictos"}),l.jsxs("span",{className:"text-green-700 text-sm ml-2",children:["(",g.availableStaffCount+1," de ",g.totalStaffCount," disponibles despus de esta solicitud)"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:!E||n,className:"btn btn-primary",children:n?"Guardando...":e?"Actualizar":"Solicitar Vacaciones"})]})]})},yY=()=>{const e=We(S=>S.context),t=We(S=>S.setContext),r=En(S=>S.session),n=(r==null?void 0:r.supervisorName)??"",a=jh(n),[i,s]=A.useState({auth_status:"todos"}),[o,c]=A.useState({type:"none"}),u=ZX(e,i),d=Oh("vacaciones",e),f=iY(),h=uY(),p=Ch(),g=kh();Ph();const v=[{key:"rut",header:"RUT",value:S=>Kt(S.rut)},{key:"nombre",header:"Nombre",value:S=>S.nombre},{key:"cargo",header:"Cargo",value:S=>S.cargo},{key:"terminal",header:"Terminal",value:S=>Ke(S.terminal_code)},{key:"turno",header:"Turno",value:S=>S.turno},{key:"start_date",header:"Fecha Inicio",value:S=>S.start_date},{key:"end_date",header:"Fecha Trmino",value:S=>S.end_date},{key:"return_date",header:"Fecha Vuelta",value:S=>S.return_date},{key:"calendar_days",header:"Das Calendario",value:S=>S.calendar_days.toString()},{key:"business_days",header:"Das Hbiles",value:S=>S.business_days.toString()},{key:"has_conflict",header:"Conflicto",value:S=>S.has_conflict?"S":"No"},{key:"auth_status",header:"Estado",value:S=>S.auth_status}],x=async S=>{await f.mutateAsync({values:S,createdBy:n}),c({type:"none"})},b=async S=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:S}),c({type:"none"}))},m=async()=>{if(o.type!=="authorize")return;const S=o.record;await p.mutateAsync({subsection:"vacaciones",id:S.id,authorizedBy:n,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.start_date}),c({type:"none"})},y=async S=>{if(o.type!=="reject"||!S)return;const E=o.record;await g.mutateAsync({subsection:"vacaciones",id:E.id,authorizedBy:n,reason:S,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.start_date}),c({type:"none"})},_=S=>{switch(S){case"AUTORIZADO":return l.jsx("span",{className:"badge badge-success",children:S});case"RECHAZADO":return l.jsx("span",{className:"badge badge-danger",children:S});default:return l.jsx("span",{className:"badge badge-warning",children:S})}},w=S=>new Date(S+"T12:00:00").toLocaleDateString("es-CL",{day:"2-digit",month:"short"});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Vacaciones",description:"Gestin inteligente de vacaciones con deteccin de conflictos",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-primary",onClick:()=>c({type:"create"}),children:[l.jsx(le,{name:"calendar",size:18})," Nueva Solicitud"]}),l.jsx(Dr,{onExportView:()=>et({filename:"vacaciones",sheetName:"Datos",rows:u.data||[],columns:v}),onExportAll:()=>et({filename:"vacaciones_all",sheetName:"Datos",rows:u.data||[],columns:v})})]})}),l.jsx(Th,{data:d.data,isLoading:d.isLoading}),l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsx("select",{className:"input",value:i.auth_status,onChange:S=>s(E=>({...E,auth_status:S.target.value})),children:Nh.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Buscar"}),l.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:S=>s(E=>({...E,search:S.target.value}))})]})]}),u.isLoading&&l.jsx(cr,{label:"Cargando vacaciones..."}),u.isError&&l.jsx(wr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&l.jsx("div",{className:"table-container overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"RUT"}),l.jsx("th",{className:"table-header-cell",children:"Nombre"}),l.jsx("th",{className:"table-header-cell",children:"Cargo/Turno"}),l.jsx("th",{className:"table-header-cell",children:"Perodo"}),l.jsx("th",{className:"table-header-cell text-center",children:"Das"}),l.jsx("th",{className:"table-header-cell",children:"Conflicto"}),l.jsx("th",{className:"table-header-cell",children:"Estado"}),l.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"table-body",children:(u.data||[]).length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"table-cell text-center text-slate-500 py-8",children:"No hay solicitudes de vacaciones registradas"})}):(u.data||[]).map(S=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell font-mono text-sm",children:Kt(S.rut)}),l.jsx("td",{className:"table-cell font-medium",children:S.nombre}),l.jsxs("td",{className:"table-cell",children:[l.jsx("div",{className:"text-sm",children:S.cargo}),l.jsx("div",{className:"text-xs text-slate-500",children:S.turno})]}),l.jsxs("td",{className:"table-cell",children:[l.jsxs("div",{className:"text-sm",children:[w(S.start_date)," - ",w(S.end_date)]}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Vuelta: ",w(S.return_date)]})]}),l.jsxs("td",{className:"table-cell text-center",children:[l.jsx("div",{className:"text-lg font-bold text-brand-600",children:S.business_days}),l.jsxs("div",{className:"text-xs text-slate-500",children:[S.calendar_days," cal"]})]}),l.jsx("td",{className:"table-cell",children:S.has_conflict?l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${S.conflict_authorized?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[l.jsx(le,{name:"alert-triangle",size:12}),S.conflict_authorized?"Autorizado":"Sin autorizar"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700",children:[l.jsx(le,{name:"check-circle",size:12}),"Sin conflicto"]})}),l.jsx("td",{className:"table-cell",children:_(S.auth_status)}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.auth_status==="PENDIENTE"&&l.jsx("button",{onClick:()=>c({type:"edit",record:S}),className:"btn btn-ghost btn-icon",title:"Editar",children:l.jsx(le,{name:"clipboard",size:16})}),a&&S.auth_status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c({type:"authorize",record:S}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:l.jsx(le,{name:"check-circle",size:16})}),l.jsx("button",{onClick:()=>c({type:"reject",record:S}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:l.jsx(le,{name:"x",size:16})})]})]})})]},S.id))})]})}),(o.type==="create"||o.type==="edit")&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>c({type:"none"})}),l.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nueva Solicitud de Vacaciones":"Editar Solicitud"}),l.jsx("button",{onClick:()=>c({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),l.jsx(xY,{initialData:o.type==="edit"?o.record:void 0,onSubmit:o.type==="create"?x:b,onCancel:()=>c({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&l.jsx(ii,{mode:"authorize",itemName:o.record.nombre,onConfirm:m,onCancel:()=>c({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&l.jsx(ii,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>c({type:"none"}),isLoading:g.isPending})]})},iT="email_notifications",bY=({isOpen:e,onClose:t})=>{const[r,n]=A.useState({to:[],cc:[]}),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[c,u]=A.useState(""),[d,f]=A.useState("");A.useEffect(()=>{e&&h()},[e]);const h=async()=>{i(!0);try{const m=await H_(iT);n(m||{to:["isaac.avila@transdev.cl"],cc:[]})}catch(m){console.error("Error loading config:",m),ka("Error","No se pudo cargar la configuracin")}finally{i(!1)}},p=async()=>{o(!0);try{await AX(iT,r,"Configuracin de destinatarios para notificaciones"),ua("Configuracin guardada","Los correos se enviarn a los nuevos destinatarios"),t()}catch(m){console.error("Error saving config:",m),ka("Error","No se pudo guardar la configuracin")}finally{o(!1)}},g=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),v=m=>{const y=m==="to"?c:d,_=m==="to"?u:f,w=y.trim();if(w){if(!g(w)){ka("Email invlido","Por favor ingresa un correo electrnico vlido");return}if(r[m].includes(w)){ka("Email duplicado","Este correo ya est en la lista");return}n(S=>({...S,[m]:[...S[m],w]})),_("")}},x=(m,y)=>{n(_=>({..._,[m]:_[m].filter(w=>w!==y)}))},b=(m,y)=>{m.key==="Enter"&&(m.preventDefault(),v(y))};return e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-brand-100 p-2 rounded-lg text-brand-600",children:l.jsx(le,{name:"settings",size:24})}),l.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Configuracin de Correos"})]}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:l.jsx(le,{name:"x",size:24})})]}),a?l.jsx("div",{className:"py-12 flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label mb-2 flex justify-between",children:[l.jsx("span",{children:"Destinatarios Principales (Para)"}),l.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben el correo directamente"})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",className:"input flex-1",placeholder:"ejemplo@transdev.cl",value:c,onChange:m=>u(m.target.value),onKeyDown:m=>b(m,"to")}),l.jsx("button",{type:"button",onClick:()=>v("to"),className:"btn btn-secondary px-3",disabled:!c.trim(),children:l.jsx(le,{name:"plus",size:18})})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.to.length===0&&l.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin destinatarios"}),r.to.map(m=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[m,l.jsx("button",{onClick:()=>x("to",m),className:"text-slate-400 hover:text-danger-500 ml-1",children:l.jsx(le,{name:"x",size:14})})]},m))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label mb-2 flex justify-between",children:[l.jsx("span",{children:"En Copia (CC)"}),l.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben una copia"})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",className:"input flex-1",placeholder:"jefe@transdev.cl",value:d,onChange:m=>f(m.target.value),onKeyDown:m=>b(m,"cc")}),l.jsx("button",{type:"button",onClick:()=>v("cc"),className:"btn btn-secondary px-3",disabled:!d.trim(),children:l.jsx(le,{name:"plus",size:18})})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.cc.length===0&&l.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin copias"}),r.cc.map(m=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[m,l.jsx("button",{onClick:()=>x("cc",m),className:"text-slate-400 hover:text-danger-500 ml-1",children:l.jsx(le,{name:"x",size:14})})]},m))]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[l.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),l.jsx("button",{onClick:p,className:"btn btn-primary min-w-[120px]",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]}):null},wY=[{id:"no-marcaciones",label:"No Marcaciones",icon:"clock"},{id:"sin-credenciales",label:"Sin Credenciales",icon:"key"},{id:"cambios-dia",label:"Cambios de Da",icon:"calendar"},{id:"autorizaciones",label:"Autorizaciones",icon:"check-circle"},{id:"vacaciones",label:"Vacaciones",icon:"sparkles"}],_Y=()=>{const[e,t]=A.useState("no-marcaciones"),[r,n]=A.useState(!1),a=()=>{switch(e){case"no-marcaciones":return l.jsx(dY,{});case"sin-credenciales":return l.jsx(hY,{});case"cambios-dia":return l.jsx(mY,{});case"autorizaciones":return l.jsx(gY,{});case"vacaciones":return l.jsx(yY,{});default:return null}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 border-b border-slate-200 pb-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:wY.map(i=>l.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===i.id?"bg-brand-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[l.jsx(le,{name:i.icon,size:18}),l.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.id))}),l.jsxs("button",{onClick:()=>n(!0),className:"btn btn-secondary text-sm flex items-center gap-2 shrink-0",children:[l.jsx(le,{name:"settings",size:16}),l.jsx("span",{children:"Configurar Correos"})]})]}),a(),l.jsx(bY,{isOpen:r,onClose:()=>n(!1)})]})},SY=[{id:"ai-1",area:"interior",responsable:"Equipo Aseo 1",fecha:"2023-12-04T08:00:00Z",estado:"pendiente",observaciones:"Pendiente zona comedor",terminal:"EL_ROBLE"},{id:"ae-1",area:"exterior",responsable:"Equipo Aseo 2",fecha:"2023-12-03T15:00:00Z",estado:"completado",observaciones:"Patio listo",terminal:"LA_REINA"},{id:"ar-1",area:"rodillo",responsable:"Equipo Rodillo",fecha:"2023-12-02T17:00:00Z",estado:"pendiente",terminal:"EL_SALTO"}],EY=e=>Iu(SY.filter(t=>t.area===e),(t,r)=>r!=null&&r.estado&&r.estado!=="todos"?t.estado===r.estado:!0),G_=({area:e,title:t})=>{var h;const r=We(p=>p.context),n=We(p=>p.setContext),[a,i]=A.useState({estado:"todos"}),s=A.useMemo(()=>EY(e),[e]),o=St({queryKey:["aseo",e,r,a],queryFn:()=>s.list({terminalContext:r,filters:a,scope:"view"})}),c=A.useMemo(()=>[{key:"responsable",header:"Responsable"},{key:"fecha",header:"Fecha",render:p=>Wt(p.fecha),value:p=>Wt(p.fecha)},{key:"estado",header:"Estado",render:p=>l.jsx("span",{className:"badge capitalize",children:p.estado}),value:p=>p.estado},{key:"observaciones",header:"Observaciones",render:p=>p.observaciones??"",value:p=>p.observaciones??""},{key:"terminal",header:"Terminal",render:p=>Ke(p.terminal),value:p=>Ke(p.terminal)}],[]),u=c.map(p=>({key:p.key,header:p.header,value:g=>p.value?p.value(g):g[p.key]})),d=()=>{o.data&&et({filename:`aseo_${e}_vista`,sheetName:`Aseo ${e}`,rows:o.data,columns:u})},f=async()=>{const p=await s.list({terminalContext:r,scope:"all"});et({filename:`aseo_${e}_completo`,sheetName:`Aseo ${e}`,rows:p,columns:u})};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:`Aseo - ${t}`,description:"Control de aseo por rea",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",children:"Nuevo registro"}),l.jsx(Dr,{onExportView:d,onExportAll:f})]})}),l.jsx(Vn,{terminalContext:r,onTerminalChange:n,children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsxs("select",{className:"input",value:a.estado,onChange:p=>i({estado:p.target.value}),children:[l.jsx("option",{value:"todos",children:"Todos"}),l.jsx("option",{value:"pendiente",children:"Pendiente"}),l.jsx("option",{value:"completado",children:"Completado"})]})]})}),o.isLoading&&l.jsx(cr,{}),o.isError&&l.jsx(wr,{onRetry:o.refetch}),!o.isLoading&&!o.isError&&l.jsxs(l.Fragment,{children:[!((h=o.data)!=null&&h.length)&&l.jsx(Ba,{description:"Sin registros"}),o.data&&o.data.length>0&&l.jsx(Fa,{columns:c,rows:o.data})]})]})},jY=()=>l.jsx(G_,{area:"interior",title:"Interior"}),TY=()=>l.jsx(G_,{area:"exterior",title:"Exterior"}),AY=()=>l.jsx(G_,{area:"rodillo",title:"Rodillo"});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),sT=e=>{const t=OY(e);return t.charAt(0).toUpperCase()+t.slice(1)},fR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),CY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>A.createElement("svg",{ref:c,...kY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fR("lucide",a),...!i&&!CY(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>A.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const r=A.forwardRef(({className:n,...a},i)=>A.createElement(PY,{ref:i,iconNode:t,className:fR(`lucide-${NY(sT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=sT(e),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IY=Nt("calendar",RY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],MY=Nt("circle-alert",DY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hR=Nt("clock",$Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jf=Nt("credit-card",LY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pR=Nt("dollar-sign",FY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],UY=Nt("download",BY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WY=Nt("eye",zY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qY=Nt("file-text",HY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KY=Nt("funnel",VY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mR=Nt("mail",GY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vR=Nt("plus",XY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],QY=Nt("printer",YY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gR=Nt("rotate-ccw",JY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eQ=Nt("save",ZY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rQ=Nt("search",tQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],aQ=Nt("send",nQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sQ=Nt("settings",iQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lQ=Nt("square-pen",oQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uQ=Nt("trash-2",cQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fQ=Nt("trending-up",dQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fv=Nt("triangle-alert",hQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mQ=Nt("upload",pQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gQ=Nt("user",vQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ui=Nt("x",xQ),Vs=["El Roble","La Reina","Maria Angelica"],xR=[{value:"PERDIDA",label:"Perdida"},{value:"DETERIORO",label:"Deterioro"}],yQ=[{value:"ASIGNADA",label:"Asignada"},{value:"RECUPERADA",label:"Recuperada"},{value:"CERRADA",label:"Cerrada"},{value:"CANCELADA",label:"Cancelada"}],bQ=[{value:"LIBRE",label:"Libre"},{value:"ASIGNADA",label:"Asignada"},{value:"INACTIVA",label:"Inactiva"}],sd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-slate-50 text-slate-600"})=>l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:e}),l.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:t}),r&&l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]}),l.jsx("div",{className:`p-2 rounded-lg ${a}`,children:n})]})}),wQ=({kpis:e,isLoading:t})=>{if(t)return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Array.from({length:5}).map((a,i)=>l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm animate-pulse",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),l.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});const r=Vs.reduce((a,i)=>a+(e.availableByTerminal[i]||0),0),n=Vs.map(a=>`${a.split(" ")[0]}: ${e.availableByTerminal[a]||0}`).join(" | ");return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[l.jsx(sd,{title:"Disponibles",value:r,subtitle:n,icon:l.jsx(jf,{className:"w-5 h-5"}),colorClass:"bg-emerald-50 text-emerald-600"}),l.jsx(sd,{title:"Prestamos Activos",value:e.activeLoans,icon:l.jsx(hR,{className:"w-5 h-5"}),colorClass:"bg-blue-50 text-blue-600"}),l.jsx(sd,{title:"Atrasados (+7d)",value:e.overdueLoans,icon:l.jsx(Fv,{className:"w-5 h-5"}),colorClass:e.overdueLoans>0?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}),l.jsx(sd,{title:"Tiempo Promedio",value:`${e.avgReturnDays} dias`,subtitle:"Ultimos 30 dias",icon:l.jsx(fQ,{className:"w-5 h-5"}),colorClass:"bg-indigo-50 text-indigo-600"}),l.jsx(sd,{title:"Descuentos",value:`$${e.totalDiscounts.toLocaleString("es-CL")}`,icon:l.jsx(pR,{className:"w-5 h-5"}),colorClass:"bg-violet-50 text-violet-600"})]})};function yR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yR(e))&&(n&&(n+=" "),n+=t);return n}var _Q=Array.isArray,An=_Q,SQ=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh,bR=SQ,EQ=bR,jQ=typeof self=="object"&&self&&self.Object===Object&&self,TQ=EQ||jQ||Function("return this")(),ci=TQ,AQ=ci,NQ=AQ.Symbol,Rh=NQ,oT=Rh,wR=Object.prototype,OQ=wR.hasOwnProperty,CQ=wR.toString,od=oT?oT.toStringTag:void 0;function kQ(e){var t=OQ.call(e,od),r=e[od];try{e[od]=void 0;var n=!0}catch{}var a=CQ.call(e);return n&&(t?e[od]=r:delete e[od]),a}var PQ=kQ,RQ=Object.prototype,IQ=RQ.toString;function DQ(e){return IQ.call(e)}var MQ=DQ,lT=Rh,$Q=PQ,LQ=MQ,FQ="[object Null]",BQ="[object Undefined]",cT=lT?lT.toStringTag:void 0;function UQ(e){return e==null?e===void 0?BQ:FQ:cT&&cT in Object(e)?$Q(e):LQ(e)}var Ji=UQ;function zQ(e){return e!=null&&typeof e=="object"}var Zi=zQ,WQ=Ji,HQ=Zi,qQ="[object Symbol]";function VQ(e){return typeof e=="symbol"||HQ(e)&&WQ(e)==qQ}var Du=VQ,KQ=An,GQ=Du,XQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YQ=/^\w*$/;function QQ(e,t){if(KQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||GQ(e)?!0:YQ.test(e)||!XQ.test(e)||t!=null&&e in Object(t)}var X_=QQ;function JQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zs=JQ;const Mu=tt(Zs);var ZQ=Ji,eJ=Zs,tJ="[object AsyncFunction]",rJ="[object Function]",nJ="[object GeneratorFunction]",aJ="[object Proxy]";function iJ(e){if(!eJ(e))return!1;var t=ZQ(e);return t==rJ||t==nJ||t==tJ||t==aJ}var Y_=iJ;const Me=tt(Y_);var sJ=ci,oJ=sJ["__core-js_shared__"],lJ=oJ,Cx=lJ,uT=function(){var e=/[^.]+$/.exec(Cx&&Cx.keys&&Cx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cJ(e){return!!uT&&uT in e}var uJ=cJ,dJ=Function.prototype,fJ=dJ.toString;function hJ(e){if(e!=null){try{return fJ.call(e)}catch{}try{return e+""}catch{}}return""}var _R=hJ,pJ=Y_,mJ=uJ,vJ=Zs,gJ=_R,xJ=/[\\^$.*+?()[\]{}|]/g,yJ=/^\[object .+?Constructor\]$/,bJ=Function.prototype,wJ=Object.prototype,_J=bJ.toString,SJ=wJ.hasOwnProperty,EJ=RegExp("^"+_J.call(SJ).replace(xJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jJ(e){if(!vJ(e)||mJ(e))return!1;var t=pJ(e)?EJ:yJ;return t.test(gJ(e))}var TJ=jJ;function AJ(e,t){return e==null?void 0:e[t]}var NJ=AJ,OJ=TJ,CJ=NJ;function kJ(e,t){var r=CJ(e,t);return OJ(r)?r:void 0}var El=kJ,PJ=El,RJ=PJ(Object,"create"),Bv=RJ,dT=Bv;function IJ(){this.__data__=dT?dT(null):{},this.size=0}var DJ=IJ;function MJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $J=MJ,LJ=Bv,FJ="__lodash_hash_undefined__",BJ=Object.prototype,UJ=BJ.hasOwnProperty;function zJ(e){var t=this.__data__;if(LJ){var r=t[e];return r===FJ?void 0:r}return UJ.call(t,e)?t[e]:void 0}var WJ=zJ,HJ=Bv,qJ=Object.prototype,VJ=qJ.hasOwnProperty;function KJ(e){var t=this.__data__;return HJ?t[e]!==void 0:VJ.call(t,e)}var GJ=KJ,XJ=Bv,YJ="__lodash_hash_undefined__";function QJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=XJ&&t===void 0?YJ:t,this}var JJ=QJ,ZJ=DJ,eZ=$J,tZ=WJ,rZ=GJ,nZ=JJ;function $u(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$u.prototype.clear=ZJ;$u.prototype.delete=eZ;$u.prototype.get=tZ;$u.prototype.has=rZ;$u.prototype.set=nZ;var aZ=$u;function iZ(){this.__data__=[],this.size=0}var sZ=iZ;function oZ(e,t){return e===t||e!==e&&t!==t}var Q_=oZ,lZ=Q_;function cZ(e,t){for(var r=e.length;r--;)if(lZ(e[r][0],t))return r;return-1}var Uv=cZ,uZ=Uv,dZ=Array.prototype,fZ=dZ.splice;function hZ(e){var t=this.__data__,r=uZ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fZ.call(t,r,1),--this.size,!0}var pZ=hZ,mZ=Uv;function vZ(e){var t=this.__data__,r=mZ(t,e);return r<0?void 0:t[r][1]}var gZ=vZ,xZ=Uv;function yZ(e){return xZ(this.__data__,e)>-1}var bZ=yZ,wZ=Uv;function _Z(e,t){var r=this.__data__,n=wZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var SZ=_Z,EZ=sZ,jZ=pZ,TZ=gZ,AZ=bZ,NZ=SZ;function Lu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lu.prototype.clear=EZ;Lu.prototype.delete=jZ;Lu.prototype.get=TZ;Lu.prototype.has=AZ;Lu.prototype.set=NZ;var zv=Lu,OZ=El,CZ=ci,kZ=OZ(CZ,"Map"),J_=kZ,fT=aZ,PZ=zv,RZ=J_;function IZ(){this.size=0,this.__data__={hash:new fT,map:new(RZ||PZ),string:new fT}}var DZ=IZ;function MZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $Z=MZ,LZ=$Z;function FZ(e,t){var r=e.__data__;return LZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Wv=FZ,BZ=Wv;function UZ(e){var t=BZ(this,e).delete(e);return this.size-=t?1:0,t}var zZ=UZ,WZ=Wv;function HZ(e){return WZ(this,e).get(e)}var qZ=HZ,VZ=Wv;function KZ(e){return VZ(this,e).has(e)}var GZ=KZ,XZ=Wv;function YZ(e,t){var r=XZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var QZ=YZ,JZ=DZ,ZZ=zZ,eee=qZ,tee=GZ,ree=QZ;function Fu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fu.prototype.clear=JZ;Fu.prototype.delete=ZZ;Fu.prototype.get=eee;Fu.prototype.has=tee;Fu.prototype.set=ree;var Z_=Fu,SR=Z_,nee="Expected a function";function e2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nee);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(e2.Cache||SR),r}e2.Cache=SR;var ER=e2;const aee=tt(ER);var iee=ER,see=500;function oee(e){var t=iee(e,function(n){return r.size===see&&r.clear(),n}),r=t.cache;return t}var lee=oee,cee=lee,uee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dee=/\\(\\)?/g,fee=cee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uee,function(r,n,a,i){t.push(a?i.replace(dee,"$1"):n||r)}),t}),hee=fee;function pee(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var t2=pee,hT=Rh,mee=t2,vee=An,gee=Du,pT=hT?hT.prototype:void 0,mT=pT?pT.toString:void 0;function jR(e){if(typeof e=="string")return e;if(vee(e))return mee(e,jR)+"";if(gee(e))return mT?mT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xee=jR,yee=xee;function bee(e){return e==null?"":yee(e)}var TR=bee,wee=An,_ee=X_,See=hee,Eee=TR;function jee(e,t){return wee(e)?e:_ee(e,t)?[e]:See(Eee(e))}var AR=jee,Tee=Du;function Aee(e){if(typeof e=="string"||Tee(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Hv=Aee,Nee=AR,Oee=Hv;function Cee(e,t){t=Nee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Oee(t[r++])];return r&&r==n?e:void 0}var r2=Cee,kee=r2;function Pee(e,t,r){var n=e==null?void 0:kee(e,t);return n===void 0?r:n}var NR=Pee;const Un=tt(NR);function Ree(e){return e==null}var Iee=Ree;const He=tt(Iee);var Dee=Ji,Mee=An,$ee=Zi,Lee="[object String]";function Fee(e){return typeof e=="string"||!Mee(e)&&$ee(e)&&Dee(e)==Lee}var Bee=Fee;const ol=tt(Bee);var OR={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=Symbol.for("react.element"),a2=Symbol.for("react.portal"),qv=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),Uee=Symbol.for("react.server_context"),Yv=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Jv=Symbol.for("react.suspense_list"),Zv=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),zee=Symbol.for("react.offscreen"),CR;CR=Symbol.for("react.module.reference");function ha(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case n2:switch(e=e.type,e){case qv:case Kv:case Vv:case Qv:case Jv:return e;default:switch(e=e&&e.$$typeof,e){case Uee:case Xv:case Yv:case eg:case Zv:case Gv:return e;default:return t}}case a2:return t}}}ct.ContextConsumer=Xv;ct.ContextProvider=Gv;ct.Element=n2;ct.ForwardRef=Yv;ct.Fragment=qv;ct.Lazy=eg;ct.Memo=Zv;ct.Portal=a2;ct.Profiler=Kv;ct.StrictMode=Vv;ct.Suspense=Qv;ct.SuspenseList=Jv;ct.isAsyncMode=function(){return!1};ct.isConcurrentMode=function(){return!1};ct.isContextConsumer=function(e){return ha(e)===Xv};ct.isContextProvider=function(e){return ha(e)===Gv};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n2};ct.isForwardRef=function(e){return ha(e)===Yv};ct.isFragment=function(e){return ha(e)===qv};ct.isLazy=function(e){return ha(e)===eg};ct.isMemo=function(e){return ha(e)===Zv};ct.isPortal=function(e){return ha(e)===a2};ct.isProfiler=function(e){return ha(e)===Kv};ct.isStrictMode=function(e){return ha(e)===Vv};ct.isSuspense=function(e){return ha(e)===Qv};ct.isSuspenseList=function(e){return ha(e)===Jv};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qv||e===Kv||e===Vv||e===Qv||e===Jv||e===zee||typeof e=="object"&&e!==null&&(e.$$typeof===eg||e.$$typeof===Zv||e.$$typeof===Gv||e.$$typeof===Xv||e.$$typeof===Yv||e.$$typeof===CR||e.getModuleId!==void 0)};ct.typeOf=ha;OR.exports=ct;var Wee=OR.exports,Hee=Ji,qee=Zi,Vee="[object Number]";function Kee(e){return typeof e=="number"||qee(e)&&Hee(e)==Vee}var kR=Kee;const Gee=tt(kR);var Xee=kR;function Yee(e){return Xee(e)&&e!=+e}var Qee=Yee;const Ih=tt(Qee);var rn=function(t){return t===0?0:t>0?1:-1},ko=function(t){return ol(t)&&t.indexOf("%")===t.length-1},ve=function(t){return Gee(t)&&!Ih(t)},Jee=function(t){return He(t)},lr=function(t){return ve(t)||ol(t)},Zee=0,Dh=function(t){var r=++Zee;return"".concat(t||"").concat(r)},nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!ol(t))return n;var i;if(ko(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ih(i)&&(i=n),a&&i>r&&(i=r),i},hs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ete=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},os=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function $1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Un(n,t))===r})}var tte=function(t,r){return ve(t)&&ve(r)?t-r:ol(t)&&ol(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function yc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}var rte=["viewBox","children"],nte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vT=["points","pathLength"],kx={svg:rte,polygon:vT,polyline:vT},i2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],am=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!Mu(n))return null;var a={};return Object.keys(n).forEach(function(i){i2.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},ate=function(t,r,n){return function(a){return t(r,n,a),null}},ll=function(t,r,n){if(!Mu(t)||L1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];i2.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=ate(s,r,n))}),a},ite=["children"],ste=["children"];function gT(e,t){if(e==null)return{};var r=ote(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ote(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yT=null,Px=null,s2=function e(t){if(t===yT&&Array.isArray(Px))return Px;var r=[];return A.Children.forEach(t,function(n){He(n)||(Wee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Px=r,yT=t,r};function oa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ci(a)}):n=[Ci(t)],s2(e).forEach(function(a){var i=Un(a,"type.displayName")||Un(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Pn(e,t){var r=oa(e,t);return r&&r[0]}var bT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},lte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cte=function(t){return t&&t.type&&ol(t.type)&&lte.indexOf(t.type)>=0},ute=function(t,r,n,a){var i,s=(i=kx==null?void 0:kx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Me(t)&&(a&&s.includes(r)||nte.includes(r))||n&&i2.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!Mu(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;ute((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},F1=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!wT(i,s))return!1}return!0},wT=function(t,r){if(He(t)&&He(r))return!0;if(!He(t)&&!He(r)){var n=t.props||{},a=n.children,i=gT(n,ite),s=r.props||{},o=s.children,c=gT(s,ste);return a&&o?yc(i,c)&&F1(a,o):!a&&!o?yc(i,c):!1}return!1},_T=function(t,r){var n=[],a={};return s2(t).forEach(function(i,s){if(cte(i))n.push(i);else if(i){var o=Ci(i.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},dte=function(t){var r=t&&t.type;return r&&xT[r]?xT[r]:null},fte=function(t,r){return s2(r).indexOf(t)},hte=["children","width","height","viewBox","className","style","title","desc"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function pte(e,t){if(e==null)return{};var r=mte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,u=pte(e,hte),d=a||{width:r,height:n,x:0,y:0},f=ze("recharts-surface",i);return z.createElement("svg",B1({},De(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,c),t)}var vte=["children","className"];function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}function gte(e,t){if(e==null)return{};var r=xte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var it=z.forwardRef(function(e,t){var r=e.children,n=e.className,a=gte(e,vte),i=ze("recharts-layer",n);return z.createElement("g",z1({className:i},De(a,!0),{ref:t}),r)}),Ma=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function yte(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var bte=yte,wte=bte;function _te(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wte(e,t,r)}var Ste=_te,Ete="\\ud800-\\udfff",jte="\\u0300-\\u036f",Tte="\\ufe20-\\ufe2f",Ate="\\u20d0-\\u20ff",Nte=jte+Tte+Ate,Ote="\\ufe0e\\ufe0f",Cte="\\u200d",kte=RegExp("["+Cte+Ete+Nte+Ote+"]");function Pte(e){return kte.test(e)}var PR=Pte;function Rte(e){return e.split("")}var Ite=Rte,RR="\\ud800-\\udfff",Dte="\\u0300-\\u036f",Mte="\\ufe20-\\ufe2f",$te="\\u20d0-\\u20ff",Lte=Dte+Mte+$te,Fte="\\ufe0e\\ufe0f",Bte="["+RR+"]",W1="["+Lte+"]",H1="\\ud83c[\\udffb-\\udfff]",Ute="(?:"+W1+"|"+H1+")",IR="[^"+RR+"]",DR="(?:\\ud83c[\\udde6-\\uddff]){2}",MR="[\\ud800-\\udbff][\\udc00-\\udfff]",zte="\\u200d",$R=Ute+"?",LR="["+Fte+"]?",Wte="(?:"+zte+"(?:"+[IR,DR,MR].join("|")+")"+LR+$R+")*",Hte=LR+$R+Wte,qte="(?:"+[IR+W1+"?",W1,DR,MR,Bte].join("|")+")",Vte=RegExp(H1+"(?="+H1+")|"+qte+Hte,"g");function Kte(e){return e.match(Vte)||[]}var Gte=Kte,Xte=Ite,Yte=PR,Qte=Gte;function Jte(e){return Yte(e)?Qte(e):Xte(e)}var Zte=Jte,ere=Ste,tre=PR,rre=Zte,nre=TR;function are(e){return function(t){t=nre(t);var r=tre(t)?rre(t):void 0,n=r?r[0]:t.charAt(0),a=r?ere(r,1).join(""):t.slice(1);return n[e]()+a}}var ire=are,sre=ire,ore=sre("toUpperCase"),lre=ore;const tg=tt(lre);function mt(e){return function(){return e}}const FR=Math.cos,im=Math.sin,Ua=Math.sqrt,sm=Math.PI,rg=2*sm,q1=Math.PI,V1=2*q1,xo=1e-6,cre=V1-xo;function BR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ure(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BR;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BR:ure(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>xo)if(!(Math.abs(f*c-u*d)>xo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,v=c*c+u*u,x=p*p+g*g,b=Math.sqrt(v),m=Math.sqrt(h),y=i*Math.tan((q1-Math.acos((v+h-x)/(2*b*m)))/2),_=y/m,w=y/b;Math.abs(_-1)>xo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xo||Math.abs(this._y1-d)>xo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%V1+V1),h>cre?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>xo&&this._append`A${n},${n},0,${+(h>=q1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function o2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dre(t)}function l2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UR(e){this._context=e}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ng(e){return new UR(e)}function zR(e){return e[0]}function WR(e){return e[1]}function HR(e,t){var r=mt(!0),n=null,a=ng,i=null,s=o2(o);e=typeof e=="function"?e:e===void 0?zR:mt(e),t=typeof t=="function"?t:t===void 0?WR:mt(t);function o(c){var u,d=(c=l2(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:mt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mt(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function C0(e,t,r){var n=null,a=mt(!0),i=null,s=ng,o=null,c=o2(u);e=typeof e=="function"?e:e===void 0?zR:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WR:mt(+r);function u(f){var h,p,g,v=(f=l2(f)).length,x,b=!1,m,y=new Array(v),_=new Array(v);for(i==null&&(o=s(m=c())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(y[g],_[g]);o.lineEnd(),o.areaEnd()}b&&(y[h]=+e(x,h,f),_[h]=+t(x,h,f),o.point(n?+n(x,h,f):y[h],r?+r(x,h,f):_[h]))}if(m)return o=null,m+""||null}function d(){return HR().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class qR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fre(e){return new qR(e,!0)}function hre(e){return new qR(e,!1)}const c2={draw(e,t){const r=Ua(t/sm);e.moveTo(r,0),e.arc(0,0,r,0,rg)}},pre={draw(e,t){const r=Ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VR=Ua(1/3),mre=VR*2,vre={draw(e,t){const r=Ua(t/mre),n=r*VR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gre={draw(e,t){const r=Ua(t),n=-r/2;e.rect(n,n,r,r)}},xre=.8908130915292852,KR=im(sm/10)/im(7*sm/10),yre=im(rg/10)*KR,bre=-FR(rg/10)*KR,wre={draw(e,t){const r=Ua(t*xre),n=yre*r,a=bre*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=rg*i/5,o=FR(s),c=im(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Rx=Ua(3),_re={draw(e,t){const r=-Ua(t/(Rx*3));e.moveTo(0,r*2),e.lineTo(-Rx*r,-r),e.lineTo(Rx*r,-r),e.closePath()}},Gn=-.5,Xn=Ua(3)/2,K1=1/Ua(12),Sre=(K1/2+1)*3,Ere={draw(e,t){const r=Ua(t/Sre),n=r/2,a=r*K1,i=n,s=r*K1+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Gn*n-Xn*a,Xn*n+Gn*a),e.lineTo(Gn*i-Xn*s,Xn*i+Gn*s),e.lineTo(Gn*o-Xn*c,Xn*o+Gn*c),e.lineTo(Gn*n+Xn*a,Gn*a-Xn*n),e.lineTo(Gn*i+Xn*s,Gn*s-Xn*i),e.lineTo(Gn*o+Xn*c,Gn*c-Xn*o),e.closePath()}};function jre(e,t){let r=null,n=o2(a);e=typeof e=="function"?e:mt(e||c2),t=typeof t=="function"?t:mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function om(){}function lm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GR(e){this._context=e}GR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tre(e){return new GR(e)}function XR(e){this._context=e}XR.prototype={areaStart:om,areaEnd:om,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Are(e){return new XR(e)}function YR(e){this._context=e}YR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nre(e){return new YR(e)}function QR(e){this._context=e}QR.prototype={areaStart:om,areaEnd:om,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ore(e){return new QR(e)}function ST(e){return e<0?-1:1}function ET(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(ST(i)+ST(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function jT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ix(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function cm(e){this._context=e}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ix(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ix(this,jT(this,r=ET(this,e,t)),r);break;default:Ix(this,this._t0,r=ET(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JR(e){this._context=new ZR(e)}(JR.prototype=Object.create(cm.prototype)).point=function(e,t){cm.prototype.point.call(this,t,e)};function ZR(e){this._context=e}ZR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Cre(e){return new cm(e)}function kre(e){return new JR(e)}function eI(e){this._context=e}eI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=TT(e),a=TT(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Pre(e){return new eI(e)}function ag(e,t){this._context=e,this._t=t}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rre(e){return new ag(e,.5)}function Ire(e){return new ag(e,0)}function Dre(e){return new ag(e,1)}function Yc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function G1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Mre(e,t){return e[t]}function $re(e){const t=[];return t.key=e,t}function Lre(){var e=mt([]),t=G1,r=Yc,n=Mre;function a(i){var s=Array.from(e.apply(this,arguments),$re),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=l2(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?G1:typeof i=="function"?i:mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Yc,a):r},a}function Fre(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Yc(e,t)}}function Bre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Yc(e,t)}}function Ure(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var v=e[t[g]],x=v[n][1]||0,b=v[n-1][1]||0;p+=x-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Yc(e,t)}}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var zre=["type","size","sizeType"];function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wre(e,t,r){return t=Hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hre(e){var t=qre(e,"string");return Tf(t)=="symbol"?t:t+""}function qre(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e,t){if(e==null)return{};var r=Kre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tI={symbolCircle:c2,symbolCross:pre,symbolDiamond:vre,symbolSquare:gre,symbolStar:wre,symbolTriangle:_re,symbolWye:Ere},Gre=Math.PI/180,Xre=function(t){var r="symbol".concat(tg(t));return tI[r]||c2},Yre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Gre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Qre=function(t,r){tI["symbol".concat(tg(t))]=r},u2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,c=Vre(t,zre),u=NT(NT({},c),{},{type:n,size:i,sizeType:o}),d=function(){var x=Xre(n),b=jre().type(x).size(Yre(i,o,n));return b()},f=u.className,h=u.cx,p=u.cy,g=De(u,!0);return h===+h&&p===+p&&i===+i?z.createElement("path",X1({},g,{className:ze("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};u2.registerSymbol=Qre;function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ene(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nI(n.key),n)}}function tne(e,t,r){return t&&ene(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rne(e,t,r){return t=um(t),nne(e,rI()?Reflect.construct(t,r||[],um(e).constructor):t.apply(e,r))}function nne(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ane(e)}function ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!e})()}function um(e){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(e)}function ine(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(e,t)}function Af(e,t,r){return t=nI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(e){var t=sne(e,"string");return Qc(t)=="symbol"?t:t+""}function sne(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=32,d2=function(e){function t(){return Zre(this,t),rne(this,t,arguments)}return ine(t,e),tne(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Yn/2,s=Yn/6,o=Yn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Yn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Yn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=Jre({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(u2,{fill:c,cx:i,cy:i,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Yn,height:Yn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var v=p.formatter||c,x=ze(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Me(p.value)?null:p.value;Ma(!Me(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var m=p.inactive?u:p.color;return z.createElement("li",Y1({className:x,style:f,key:"legend-item-".concat(g)},ll(n.props,p,g)),z.createElement(U1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v?v(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(A.PureComponent);Af(d2,"displayName","Legend");Af(d2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var one=zv;function lne(){this.__data__=new one,this.size=0}var cne=lne;function une(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dne=une;function fne(e){return this.__data__.get(e)}var hne=fne;function pne(e){return this.__data__.has(e)}var mne=pne,vne=zv,gne=J_,xne=Z_,yne=200;function bne(e,t){var r=this.__data__;if(r instanceof vne){var n=r.__data__;if(!gne||n.length<yne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xne(n)}return r.set(e,t),this.size=r.size,this}var wne=bne,_ne=zv,Sne=cne,Ene=dne,jne=hne,Tne=mne,Ane=wne;function Bu(e){var t=this.__data__=new _ne(e);this.size=t.size}Bu.prototype.clear=Sne;Bu.prototype.delete=Ene;Bu.prototype.get=jne;Bu.prototype.has=Tne;Bu.prototype.set=Ane;var aI=Bu,Nne="__lodash_hash_undefined__";function One(e){return this.__data__.set(e,Nne),this}var Cne=One;function kne(e){return this.__data__.has(e)}var Pne=kne,Rne=Z_,Ine=Cne,Dne=Pne;function dm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Rne;++t<r;)this.add(e[t])}dm.prototype.add=dm.prototype.push=Ine;dm.prototype.has=Dne;var iI=dm;function Mne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var sI=Mne;function $ne(e,t){return e.has(t)}var oI=$ne,Lne=iI,Fne=sI,Bne=oI,Une=1,zne=2;function Wne(e,t,r,n,a,i){var s=r&Une,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&zne?new Lne:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],v=t[f];if(n)var x=s?n(v,g,f,t,e,i):n(g,v,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Fne(t,function(b,m){if(!Bne(p,m)&&(g===b||a(g,b,r,n,i)))return p.push(m)})){h=!1;break}}else if(!(g===v||a(g,v,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var lI=Wne,Hne=ci,qne=Hne.Uint8Array,Vne=qne;function Kne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Gne=Kne;function Xne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var f2=Xne,CT=Rh,kT=Vne,Yne=Q_,Qne=lI,Jne=Gne,Zne=f2,eae=1,tae=2,rae="[object Boolean]",nae="[object Date]",aae="[object Error]",iae="[object Map]",sae="[object Number]",oae="[object RegExp]",lae="[object Set]",cae="[object String]",uae="[object Symbol]",dae="[object ArrayBuffer]",fae="[object DataView]",PT=CT?CT.prototype:void 0,Dx=PT?PT.valueOf:void 0;function hae(e,t,r,n,a,i,s){switch(r){case fae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dae:return!(e.byteLength!=t.byteLength||!i(new kT(e),new kT(t)));case rae:case nae:case sae:return Yne(+e,+t);case aae:return e.name==t.name&&e.message==t.message;case oae:case cae:return e==t+"";case iae:var o=Jne;case lae:var c=n&eae;if(o||(o=Zne),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=tae,s.set(e,t);var d=Qne(o(e),o(t),n,a,i,s);return s.delete(e),d;case uae:if(Dx)return Dx.call(e)==Dx.call(t)}return!1}var pae=hae;function mae(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var cI=mae,vae=cI,gae=An;function xae(e,t,r){var n=t(e);return gae(e)?n:vae(n,r(e))}var yae=xae;function bae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var wae=bae;function _ae(){return[]}var Sae=_ae,Eae=wae,jae=Sae,Tae=Object.prototype,Aae=Tae.propertyIsEnumerable,RT=Object.getOwnPropertySymbols,Nae=RT?function(e){return e==null?[]:(e=Object(e),Eae(RT(e),function(t){return Aae.call(e,t)}))}:jae,Oae=Nae;function Cae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var kae=Cae,Pae=Ji,Rae=Zi,Iae="[object Arguments]";function Dae(e){return Rae(e)&&Pae(e)==Iae}var Mae=Dae,IT=Mae,$ae=Zi,uI=Object.prototype,Lae=uI.hasOwnProperty,Fae=uI.propertyIsEnumerable,Bae=IT(function(){return arguments}())?IT:function(e){return $ae(e)&&Lae.call(e,"callee")&&!Fae.call(e,"callee")},h2=Bae,fm={exports:{}};function Uae(){return!1}var zae=Uae;fm.exports;(function(e,t){var r=ci,n=zae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(fm,fm.exports);var dI=fm.exports,Wae=9007199254740991,Hae=/^(?:0|[1-9]\d*)$/;function qae(e,t){var r=typeof e;return t=t??Wae,!!t&&(r=="number"||r!="symbol"&&Hae.test(e))&&e>-1&&e%1==0&&e<t}var p2=qae,Vae=9007199254740991;function Kae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vae}var m2=Kae,Gae=Ji,Xae=m2,Yae=Zi,Qae="[object Arguments]",Jae="[object Array]",Zae="[object Boolean]",eie="[object Date]",tie="[object Error]",rie="[object Function]",nie="[object Map]",aie="[object Number]",iie="[object Object]",sie="[object RegExp]",oie="[object Set]",lie="[object String]",cie="[object WeakMap]",uie="[object ArrayBuffer]",die="[object DataView]",fie="[object Float32Array]",hie="[object Float64Array]",pie="[object Int8Array]",mie="[object Int16Array]",vie="[object Int32Array]",gie="[object Uint8Array]",xie="[object Uint8ClampedArray]",yie="[object Uint16Array]",bie="[object Uint32Array]",bt={};bt[fie]=bt[hie]=bt[pie]=bt[mie]=bt[vie]=bt[gie]=bt[xie]=bt[yie]=bt[bie]=!0;bt[Qae]=bt[Jae]=bt[uie]=bt[Zae]=bt[die]=bt[eie]=bt[tie]=bt[rie]=bt[nie]=bt[aie]=bt[iie]=bt[sie]=bt[oie]=bt[lie]=bt[cie]=!1;function wie(e){return Yae(e)&&Xae(e.length)&&!!bt[Gae(e)]}var _ie=wie;function Sie(e){return function(t){return e(t)}}var fI=Sie,hm={exports:{}};hm.exports;(function(e,t){var r=bR,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(hm,hm.exports);var Eie=hm.exports,jie=_ie,Tie=fI,DT=Eie,MT=DT&&DT.isTypedArray,Aie=MT?Tie(MT):jie,hI=Aie,Nie=kae,Oie=h2,Cie=An,kie=dI,Pie=p2,Rie=hI,Iie=Object.prototype,Die=Iie.hasOwnProperty;function Mie(e,t){var r=Cie(e),n=!r&&Oie(e),a=!r&&!n&&kie(e),i=!r&&!n&&!a&&Rie(e),s=r||n||a||i,o=s?Nie(e.length,String):[],c=o.length;for(var u in e)(t||Die.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Pie(u,c)))&&o.push(u);return o}var $ie=Mie,Lie=Object.prototype;function Fie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Lie;return e===r}var Bie=Fie;function Uie(e,t){return function(r){return e(t(r))}}var pI=Uie,zie=pI,Wie=zie(Object.keys,Object),Hie=Wie,qie=Bie,Vie=Hie,Kie=Object.prototype,Gie=Kie.hasOwnProperty;function Xie(e){if(!qie(e))return Vie(e);var t=[];for(var r in Object(e))Gie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Yie=Xie,Qie=Y_,Jie=m2;function Zie(e){return e!=null&&Jie(e.length)&&!Qie(e)}var Mh=Zie,ese=$ie,tse=Yie,rse=Mh;function nse(e){return rse(e)?ese(e):tse(e)}var ig=nse,ase=yae,ise=Oae,sse=ig;function ose(e){return ase(e,sse,ise)}var lse=ose,$T=lse,cse=1,use=Object.prototype,dse=use.hasOwnProperty;function fse(e,t,r,n,a,i){var s=r&cse,o=$T(e),c=o.length,u=$T(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:dse.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<c;){h=o[f];var b=e[h],m=t[h];if(n)var y=s?n(m,b,h,t,e,i):n(b,m,h,e,t,i);if(!(y===void 0?b===m||a(b,m,r,n,i):y)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(e),i.delete(t),v}var hse=fse,pse=El,mse=ci,vse=pse(mse,"DataView"),gse=vse,xse=El,yse=ci,bse=xse(yse,"Promise"),wse=bse,_se=El,Sse=ci,Ese=_se(Sse,"Set"),mI=Ese,jse=El,Tse=ci,Ase=jse(Tse,"WeakMap"),Nse=Ase,J1=gse,Z1=J_,eb=wse,tb=mI,rb=Nse,vI=Ji,Uu=_R,LT="[object Map]",Ose="[object Object]",FT="[object Promise]",BT="[object Set]",UT="[object WeakMap]",zT="[object DataView]",Cse=Uu(J1),kse=Uu(Z1),Pse=Uu(eb),Rse=Uu(tb),Ise=Uu(rb),yo=vI;(J1&&yo(new J1(new ArrayBuffer(1)))!=zT||Z1&&yo(new Z1)!=LT||eb&&yo(eb.resolve())!=FT||tb&&yo(new tb)!=BT||rb&&yo(new rb)!=UT)&&(yo=function(e){var t=vI(e),r=t==Ose?e.constructor:void 0,n=r?Uu(r):"";if(n)switch(n){case Cse:return zT;case kse:return LT;case Pse:return FT;case Rse:return BT;case Ise:return UT}return t});var Dse=yo,Mx=aI,Mse=lI,$se=pae,Lse=hse,WT=Dse,HT=An,qT=dI,Fse=hI,Bse=1,VT="[object Arguments]",KT="[object Array]",k0="[object Object]",Use=Object.prototype,GT=Use.hasOwnProperty;function zse(e,t,r,n,a,i){var s=HT(e),o=HT(t),c=s?KT:WT(e),u=o?KT:WT(t);c=c==VT?k0:c,u=u==VT?k0:u;var d=c==k0,f=u==k0,h=c==u;if(h&&qT(e)){if(!qT(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Mx),s||Fse(e)?Mse(e,t,r,n,a,i):$se(e,t,c,r,n,a,i);if(!(r&Bse)){var p=d&&GT.call(e,"__wrapped__"),g=f&&GT.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,x=g?t.value():t;return i||(i=new Mx),a(v,x,r,n,i)}}return h?(i||(i=new Mx),Lse(e,t,r,n,a,i)):!1}var Wse=zse,Hse=Wse,XT=Zi;function gI(e,t,r,n,a){return e===t?!0:e==null||t==null||!XT(e)&&!XT(t)?e!==e&&t!==t:Hse(e,t,r,n,gI,a)}var v2=gI,qse=aI,Vse=v2,Kse=1,Gse=2;function Xse(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new qse;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Vse(d,u,Kse|Gse,n,f):h))return!1}}return!0}var Yse=Xse,Qse=Zs;function Jse(e){return e===e&&!Qse(e)}var xI=Jse,Zse=xI,eoe=ig;function toe(e){for(var t=eoe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Zse(a)]}return t}var roe=toe;function noe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var yI=noe,aoe=Yse,ioe=roe,soe=yI;function ooe(e){var t=ioe(e);return t.length==1&&t[0][2]?soe(t[0][0],t[0][1]):function(r){return r===e||aoe(r,e,t)}}var loe=ooe;function coe(e,t){return e!=null&&t in Object(e)}var uoe=coe,doe=AR,foe=h2,hoe=An,poe=p2,moe=m2,voe=Hv;function goe(e,t,r){t=doe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=voe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&moe(a)&&poe(s,a)&&(hoe(e)||foe(e)))}var xoe=goe,yoe=uoe,boe=xoe;function woe(e,t){return e!=null&&boe(e,t,yoe)}var _oe=woe,Soe=v2,Eoe=NR,joe=_oe,Toe=X_,Aoe=xI,Noe=yI,Ooe=Hv,Coe=1,koe=2;function Poe(e,t){return Toe(e)&&Aoe(t)?Noe(Ooe(e),t):function(r){var n=Eoe(r,e);return n===void 0&&n===t?joe(r,e):Soe(t,n,Coe|koe)}}var Roe=Poe;function Ioe(e){return e}var zu=Ioe;function Doe(e){return function(t){return t==null?void 0:t[e]}}var Moe=Doe,$oe=r2;function Loe(e){return function(t){return $oe(t,e)}}var Foe=Loe,Boe=Moe,Uoe=Foe,zoe=X_,Woe=Hv;function Hoe(e){return zoe(e)?Boe(Woe(e)):Uoe(e)}var qoe=Hoe,Voe=loe,Koe=Roe,Goe=zu,Xoe=An,Yoe=qoe;function Qoe(e){return typeof e=="function"?e:e==null?Goe:typeof e=="object"?Xoe(e)?Koe(e[0],e[1]):Voe(e):Yoe(e)}var ui=Qoe;function Joe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var bI=Joe;function Zoe(e){return e!==e}var ele=Zoe;function tle(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var rle=tle,nle=bI,ale=ele,ile=rle;function sle(e,t,r){return t===t?ile(e,t,r):nle(e,ale,r)}var ole=sle,lle=ole;function cle(e,t){var r=e==null?0:e.length;return!!r&&lle(e,t,0)>-1}var ule=cle;function dle(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fle=dle;function hle(){}var ple=hle,$x=mI,mle=ple,vle=f2,gle=1/0,xle=$x&&1/vle(new $x([,-0]))[1]==gle?function(e){return new $x(e)}:mle,yle=xle,ble=iI,wle=ule,_le=fle,Sle=oI,Ele=yle,jle=f2,Tle=200;function Ale(e,t,r){var n=-1,a=wle,i=e.length,s=!0,o=[],c=o;if(r)s=!1,a=_le;else if(i>=Tle){var u=t?null:Ele(e);if(u)return jle(u);s=!1,a=Sle,c=new ble}else c=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else a(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var Nle=Ale,Ole=ui,Cle=Nle;function kle(e,t){return e&&e.length?Cle(e,Ole(t)):[]}var Ple=kle;const YT=tt(Ple);function wI(e,t,r){return t===!0?YT(e,r):Me(t)?YT(e,t):e}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var Rle=["ref"];function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ile(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function Dle(e,t,r){return t&&JT(e.prototype,t),r&&JT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mle(e,t,r){return t=pm(t),$le(e,_I()?Reflect.construct(t,r||[],pm(e).constructor):t.apply(e,r))}function $le(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lle(e)}function Lle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!e})()}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(e)}function Fle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nb(e,t)}function nb(e,t){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nb(e,t)}function sg(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=Ble(e,"string");return Jc(t)=="symbol"?t:t+""}function Ble(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ule(e,t){if(e==null)return{};var r=zle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wle(e){return e.value}function Hle(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=Ule(t,Rle);return z.createElement(d2,r)}var ZT=1,ki=function(e){function t(){var r;Ile(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Mle(this,t,[].concat(a)),sg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fle(t,e),Dle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ZT||Math.abs(a.height-this.lastBoundingBox.height)>ZT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fi(fi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=fi(fi({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Hle(i,fi(fi({},this.props),{},{payload:wI(d,u,Wle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=fi(fi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);sg(ki,"displayName","Legend");sg(ki,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eA=Rh,qle=h2,Vle=An,tA=eA?eA.isConcatSpreadable:void 0;function Kle(e){return Vle(e)||qle(e)||!!(tA&&e&&e[tA])}var Gle=Kle,Xle=cI,Yle=Gle;function EI(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Yle),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?EI(o,t-1,r,n,a):Xle(a,o):n||(a[a.length]=o)}return a}var jI=EI;function Qle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++a];if(r(i[c],c,i)===!1)break}return t}}var Jle=Qle,Zle=Jle,ece=Zle(),tce=ece,rce=tce,nce=ig;function ace(e,t){return e&&rce(e,t,nce)}var TI=ace,ice=Mh;function sce(e,t){return function(r,n){if(r==null)return r;if(!ice(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var oce=sce,lce=TI,cce=oce,uce=cce(lce),g2=uce,dce=g2,fce=Mh;function hce(e,t){var r=-1,n=fce(e)?Array(e.length):[];return dce(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var AI=hce;function pce(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mce=pce,rA=Du;function vce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=rA(e),s=t!==void 0,o=t===null,c=t===t,u=rA(t);if(!o&&!u&&!i&&e>t||i&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var gce=vce,xce=gce;function yce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var c=xce(a[n],i[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bce=yce,Lx=t2,wce=r2,_ce=ui,Sce=AI,Ece=mce,jce=fI,Tce=bce,Ace=zu,Nce=An;function Oce(e,t,r){t.length?t=Lx(t,function(i){return Nce(i)?function(s){return wce(s,i.length===1?i[0]:i)}:i}):t=[Ace];var n=-1;t=Lx(t,jce(_ce));var a=Sce(e,function(i,s,o){var c=Lx(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Ece(a,function(i,s){return Tce(i,s,r)})}var Cce=Oce;function kce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Pce=kce,Rce=Pce,nA=Math.max;function Ice(e,t,r){return t=nA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=nA(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),Rce(e,this,o)}}var Dce=Ice;function Mce(e){return function(){return e}}var $ce=Mce,Lce=El,Fce=function(){try{var e=Lce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),NI=Fce,Bce=$ce,aA=NI,Uce=zu,zce=aA?function(e,t){return aA(e,"toString",{configurable:!0,enumerable:!1,value:Bce(t),writable:!0})}:Uce,Wce=zce,Hce=800,qce=16,Vce=Date.now;function Kce(e){var t=0,r=0;return function(){var n=Vce(),a=qce-(n-r);if(r=n,a>0){if(++t>=Hce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Gce=Kce,Xce=Wce,Yce=Gce,Qce=Yce(Xce),Jce=Qce,Zce=zu,eue=Dce,tue=Jce;function rue(e,t){return tue(eue(e,t,Zce),e+"")}var nue=rue,aue=Q_,iue=Mh,sue=p2,oue=Zs;function lue(e,t,r){if(!oue(r))return!1;var n=typeof t;return(n=="number"?iue(r)&&sue(t,r.length):n=="string"&&t in r)?aue(r[t],e):!1}var og=lue,cue=jI,uue=Cce,due=nue,iA=og,fue=due(function(e,t){if(e==null)return[];var r=t.length;return r>1&&iA(e,t[0],t[1])?t=[]:r>2&&iA(t[0],t[1],t[2])&&(t=[t[0]]),uue(e,cue(t,1),[])}),hue=fue;const x2=tt(hue);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}function pue(e,t){return xue(e)||gue(e,t)||vue(e,t)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function xue(e){if(Array.isArray(e))return e}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return t=bue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=wue(e,"string");return Nf(t)=="symbol"?t:t+""}function wue(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ue(e){return Array.isArray(e)&&lr(e[0])&&lr(e[1])?e.join(" ~ "):e}var Sue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,v=t.label,x=t.labelFormatter,b=t.accessibilityLayer,m=b===void 0?!1:b,y=function(){if(d&&d.length){var M={padding:0,margin:0},F=(h?x2(d,h):d).map(function(q,V){if(q.type==="none")return null;var ne=Fx({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},o),se=q.formatter||f||_ue,G=q.value,te=q.name,ue=G,pe=te;if(se&&ue!=null&&pe!=null){var P=se(G,te,q,V,d);if(Array.isArray(P)){var H=pue(P,2);ue=H[0],pe=H[1]}else ue=P}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ne},lr(pe)?z.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,lr(pe)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ue),z.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},_=Fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Fx({margin:0},u),S=!He(v),E=S?v:"",j=ze("recharts-default-tooltip",p),T=ze("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(E=x(v,d));var O=m?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ab({className:j,style:_},O),z.createElement("p",{className:T,style:w},z.isValidElement(E)?E:"".concat(E)),y())};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function P0(e,t,r){return t=Eue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eue(e){var t=jue(e,"string");return Of(t)=="symbol"?t:t+""}function jue(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld="recharts-tooltip-wrapper",Tue={visibility:"hidden"};function Aue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ze(ld,P0(P0(P0(P0({},"".concat(ld,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(ld,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(ld,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(ld,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function lA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+o,v=c[n]+u;return g>v?Math.max(d,c[n]):Math.max(f,c[n])}function Nue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Oue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=lA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=lA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Nue({translateX:d,translateY:f,useTranslate3d:o})):u=Tue,{cssProperties:u,cssClasses:Aue({translateX:d,translateY:f,coordinate:r})}}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CI(n.key),n)}}function Pue(e,t,r){return t&&kue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rue(e,t,r){return t=mm(t),Iue(e,OI()?Reflect.construct(t,r||[],mm(e).constructor):t.apply(e,r))}function Iue(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(e)}function Due(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OI=function(){return!!e})()}function mm(e){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(e)}function Mue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ib(e,t)}function ib(e,t){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ib(e,t)}function sb(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=$ue(e,"string");return Zc(t)=="symbol"?t:t+""}function $ue(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dA=1,Lue=function(e){function t(){var r;Cue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Rue(this,t,[].concat(a)),sb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sb(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Mue(t,e),Pue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>dA||Math.abs(n.height-this.state.lastBoundingBox.height)>dA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,m=a.wrapperStyle,y=Oue({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=y.cssClasses,w=y.cssProperties,S=uA(uA({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},m);return z.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(j){n.wrapperNode=j}},u)}}])}(A.PureComponent),Fue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wu={isSsr:Fue()};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PI(n.key),n)}}function zue(e,t,r){return t&&Uue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wue(e,t,r){return t=vm(t),Hue(e,kI()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function Hue(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(e)}function que(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kI=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function Vue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ob(e,t)}function ob(e,t){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ob(e,t)}function y2(e,t,r){return t=PI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PI(e){var t=Kue(e,"string");return eu(t)=="symbol"?t:t+""}function Kue(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gue(e){return e.dataKey}function Xue(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(Sue,t)}var pr=function(e){function t(){return Bue(this,t),Wue(this,t,arguments)}return Vue(t,e),zue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,v=a.payloadUniqBy,x=a.position,b=a.reverseDirection,m=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,w=g??[];f&&w.length&&(w=wI(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),v,Gue));var S=w.length>0;return z.createElement(Lue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:x,reverseDirection:b,useTranslate3d:m,viewBox:y,wrapperStyle:_},Xue(u,hA(hA({},this.props),{},{payload:w})))}}])}(A.PureComponent);y2(pr,"displayName","Tooltip");y2(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yue=ci,Que=function(){return Yue.Date.now()},Jue=Que,Zue=/\s/;function ede(e){for(var t=e.length;t--&&Zue.test(e.charAt(t)););return t}var tde=ede,rde=tde,nde=/^\s+/;function ade(e){return e&&e.slice(0,rde(e)+1).replace(nde,"")}var ide=ade,sde=ide,pA=Zs,ode=Du,mA=NaN,lde=/^[-+]0x[0-9a-f]+$/i,cde=/^0b[01]+$/i,ude=/^0o[0-7]+$/i,dde=parseInt;function fde(e){if(typeof e=="number")return e;if(ode(e))return mA;if(pA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sde(e);var r=cde.test(e);return r||ude.test(e)?dde(e.slice(2),r?2:8):lde.test(e)?mA:+e}var RI=fde,hde=Zs,Bx=Jue,vA=RI,pde="Expected a function",mde=Math.max,vde=Math.min;function gde(e,t,r){var n,a,i,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(pde);t=vA(t)||0,hde(r)&&(d=!!r.leading,f="maxWait"in r,i=f?mde(vA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var E=n,j=a;return n=a=void 0,u=S,s=e.apply(j,E),s}function g(S){return u=S,o=setTimeout(b,t),d?p(S):s}function v(S){var E=S-c,j=S-u,T=t-E;return f?vde(T,i-j):T}function x(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function b(){var S=Bx();if(x(S))return m(S);o=setTimeout(b,v(S))}function m(S){return o=void 0,h&&n?p(S):(n=a=void 0,s)}function y(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function _(){return o===void 0?s:m(Bx())}function w(){var S=Bx(),E=x(S);if(n=arguments,a=this,c=S,E){if(o===void 0)return g(c);if(f)return clearTimeout(o),o=setTimeout(b,t),p(c)}return o===void 0&&(o=setTimeout(b,t)),s}return w.cancel=y,w.flush=_,w}var xde=gde,yde=xde,bde=Zs,wde="Expected a function";function _de(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(wde);return bde(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),yde(e,t,{leading:n,maxWait:t,trailing:a})}var Sde=_de;const II=tt(Sde);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){Ede(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ede(e,t,r){return t=jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=Tde(e,"string");return Cf(t)=="symbol"?t:t+""}function Tde(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ade(e,t){return kde(e)||Cde(e,t)||Ode(e,t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function kde(e){if(Array.isArray(e))return e}var Pi=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,v=g===void 0?0:g,x=e.id,b=e.className,m=e.onResize,y=e.style,_=y===void 0?{}:y,w=A.useRef(null),S=A.useRef();S.current=m,A.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=A.useState({containerWidth:a.width,containerHeight:a.height}),j=Ade(E,2),T=j[0],O=j[1],C=A.useCallback(function(F,q){O(function(V){var ne=Math.round(F),se=Math.round(q);return V.containerWidth===ne&&V.containerHeight===se?V:{containerWidth:ne,containerHeight:se}})},[]);A.useEffect(function(){var F=function(te){var ue,pe=te[0].contentRect,P=pe.width,H=pe.height;C(P,H),(ue=S.current)===null||ue===void 0||ue.call(S,P,H)};v>0&&(F=II(F,v,{trailing:!0,leading:!1}));var q=new ResizeObserver(F),V=w.current.getBoundingClientRect(),ne=V.width,se=V.height;return C(ne,se),q.observe(w.current),function(){q.disconnect()}},[C,v]);var M=A.useMemo(function(){var F=T.containerWidth,q=T.containerHeight;if(F<0||q<0)return null;Ma(ko(s)||ko(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ma(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=ko(s)?F:s,ne=ko(c)?q:c;r&&r>0&&(V?ne=V/r:ne&&(V=ne*r),h&&ne>h&&(ne=h)),Ma(V>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,ne,s,c,d,f,r);var se=!Array.isArray(p)&&Ci(p.type).endsWith("Chart");return z.Children.map(p,function(G){return z.isValidElement(G)?A.cloneElement(G,R0({width:V,height:ne},se?{style:R0({height:"100%",width:"100%",maxHeight:ne,maxWidth:V},G.props.style)}:{})):G})},[r,p,c,h,f,d,T,s]);return z.createElement("div",{id:x?"".concat(x):void 0,className:ze("recharts-responsive-container",b),style:R0(R0({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},M)}),es=function(t){return null};es.displayName="Cell";function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){Pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pde(e,t,r){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rde(e){var t=Ide(e,"string");return kf(t)=="symbol"?t:t+""}function Ide(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml={widthCache:{},cacheCount:0},Dde=2e3,Mde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bA="recharts_measurement_span";function $de(e){var t=lb({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wu.isSsr)return{width:0,height:0};var n=$de(r),a=JSON.stringify({text:t,copyStyle:n});if(Ml.widthCache[a])return Ml.widthCache[a];try{var i=document.getElementById(bA);i||(i=document.createElement("span"),i.setAttribute("id",bA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=lb(lb({},Mde),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return Ml.widthCache[a]=c,++Ml.cacheCount>Dde&&(Ml.cacheCount=0,Ml.widthCache={}),c}catch{return{width:0,height:0}}},Lde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function gm(e,t){return zde(e)||Ude(e,t)||Bde(e,t)||Fde()}function Fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bde(e,t){if(e){if(typeof e=="string")return wA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(e,t)}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ude(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function zde(e){if(Array.isArray(e))return e}function Wde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qde(n.key),n)}}function Hde(e,t,r){return t&&_A(e.prototype,t),r&&_A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qde(e){var t=Vde(e,"string");return Pf(t)=="symbol"?t:t+""}function Vde(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xde=Object.keys(DI),tc="NaN";function Yde(e,t){return e*DI[t]}var I0=function(){function e(t,r){Wde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Kde.test(r)&&(this.num=NaN,this.unit=""),Xde.includes(r)&&(this.num=Yde(t,r),this.unit="px")}return Hde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Gde.exec(r))!==null&&n!==void 0?n:[],i=gm(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function MI(e){if(e.includes(tc))return tc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=SA.exec(t))!==null&&r!==void 0?r:[],a=gm(n,4),i=a[1],s=a[2],o=a[3],c=I0.parse(i??""),u=I0.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return tc;t=t.replace(SA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=EA.exec(t))!==null&&f!==void 0?f:[],p=gm(h,4),g=p[1],v=p[2],x=p[3],b=I0.parse(g??""),m=I0.parse(x??""),y=v==="+"?b.add(m):b.subtract(m);if(y.isNaN())return tc;t=t.replace(EA,y.toString())}return t}var jA=/\(([^()]*)\)/;function Qde(e){for(var t=e;t.includes("(");){var r=jA.exec(t),n=gm(r,2),a=n[1];t=t.replace(jA,MI(a))}return t}function Jde(e){var t=e.replace(/\s+/g,"");return t=Qde(t),t=MI(t),t}function Zde(e){try{return Jde(e)}catch{return tc}}function Ux(e){var t=Zde(e.slice(5,-1));return t===tc?"":t}var efe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tfe=["dx","dy","angle","className","breakAll"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function TA(e,t){if(e==null)return{};var r=rfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AA(e,t){return sfe(e)||ife(e,t)||afe(e,t)||nfe()}function nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(e,t){if(e){if(typeof e=="string")return NA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NA(e,t)}}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ife(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function sfe(e){if(Array.isArray(e))return e}var $I=/[ \f\n\r\t\v\u2028\u2029]+/,LI=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];He(r)||(n?i=r.toString().split(""):i=r.toString().split($I));var s=i.map(function(c){return{word:c,width:Wd(c,a).width}}),o=n?0:Wd("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ofe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=ve(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(ne,se){var G=se.word,te=se.width,ue=ne[ne.length-1];if(ue&&(a==null||i||ue.width+te+n<Number(a)))ue.words.push(G),ue.width+=te+n;else{var pe={words:[G],width:te};ne.push(pe)}return ne},[])},p=h(r),g=function(V){return V.reduce(function(ne,se){return ne.width>se.width?ne:se})};if(!d)return p;for(var v="",x=function(V){var ne=f.slice(0,V),se=LI({breakAll:u,style:c,children:ne+v}).wordsWithComputedWidth,G=h(se),te=G.length>s||g(G).width>Number(a);return[te,G]},b=0,m=f.length-1,y=0,_;b<=m&&y<=f.length-1;){var w=Math.floor((b+m)/2),S=w-1,E=x(S),j=AA(E,2),T=j[0],O=j[1],C=x(w),M=AA(C,1),F=M[0];if(!T&&!F&&(b=w+1),T&&F&&(m=w-1),!T&&F){_=O;break}y++}return _||p},OA=function(t){var r=He(t)?[]:t.toString().split($I);return[{words:r}]},lfe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Wu.isSsr){var c,u,d=LI({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return OA(a);return ofe({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return OA(a)},CA="#808080",cl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,v=g===void 0?"end":g,x=t.fill,b=x===void 0?CA:x,m=TA(t,efe),y=A.useMemo(function(){return lfe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width})},[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),_=m.dx,w=m.dy,S=m.angle,E=m.className,j=m.breakAll,T=TA(m,tfe);if(!lr(n)||!lr(i))return null;var O=n+(ve(_)?_:0),C=i+(ve(w)?w:0),M;switch(v){case"start":M=Ux("calc(".concat(u,")"));break;case"middle":M=Ux("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:M=Ux("calc(".concat(y.length-1," * -").concat(o,")"));break}var F=[];if(f){var q=y[0].width,V=m.width;F.push("scale(".concat((ve(V)?V/q:1)/q,")"))}return S&&F.push("rotate(".concat(S,", ").concat(O,", ").concat(C,")")),F.length&&(T.transform=F.join(" ")),z.createElement("text",cb({},De(T,!0),{x:O,y:C,className:ze("recharts-text",E),textAnchor:p,fill:b.includes("url")?CA:b}),y.map(function(ne,se){var G=ne.words.join(j?"":" ");return z.createElement("tspan",{x:O,dy:se===0?M:o,key:"".concat(G,"-").concat(se)},G)}))};function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function b2(e){let t,r,n;e.length!==2?(t=Fs,r=(o,c)=>Fs(e(o),c),n=(o,c)=>e(o)-c):(t=e===Fs||e===cfe?e:ufe,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function ufe(){return 0}function FI(e){return e===null?NaN:+e}function*dfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ffe=b2(Fs),$h=ffe.right;b2(FI).center;class kA extends Map{constructor(t,r=mfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(PA(this,t))}has(t){return super.has(PA(this,t))}set(t,r){return super.set(hfe(this,t),r)}delete(t){return super.delete(pfe(this,t))}}function PA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vfe(e=Fs){if(e===Fs)return BI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function BI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gfe=Math.sqrt(50),xfe=Math.sqrt(10),yfe=Math.sqrt(2);function xm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=gfe?10:i>=xfe?5:i>=yfe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?xm(e,t,r*2):[o,c,u]}function ub(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?xm(t,e,r):xm(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function db(e,t,r){return t=+t,e=+e,r=+r,xm(e,t,r)[2]}function fb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?db(t,e,r):db(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function IA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?BI:vfe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));UI(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(cd(e,r,t),a(e[n],i)>0&&cd(e,r,n);s<o;){for(cd(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?cd(e,r,o):(++o,cd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function cd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bfe(e,t,r){if(e=Float64Array.from(dfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return IA(e);if(t>=1)return RA(e);var n,a=(n-1)*t,i=Math.floor(a),s=RA(UI(e,i).subarray(0,i+1)),o=IA(e.subarray(i+1));return s+(o-s)*(a-i)}}function wfe(e,t,r=FI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function _fe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ts(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hb=Symbol("implicit");function w2(){var e=new kA,t=[],r=[],n=hb;function a(i){let s=e.get(i);if(s===void 0){if(n!==hb)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kA;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return w2(t,r).unknown(n)},pa.apply(a,arguments),a}function Rf(){var e=w2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,v=p?n:a;i=(v-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(v-g-i*(h-c))*d,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var x=_fe(h).map(function(b){return g+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rf(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},pa.apply(f(),arguments)}function zI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zI(t())},e}function Hd(){return zI(Rf.apply(null,arguments).paddingInner(1))}function _2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lh(){}var If=.7,ym=1/If,bc="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sfe=/^#([0-9a-f]{3,8})$/,Efe=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),jfe=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),Tfe=new RegExp(`^rgba\\(${bc},${bc},${bc},${Df}\\)$`),Afe=new RegExp(`^rgba\\(${ri},${ri},${ri},${Df}\\)$`),Nfe=new RegExp(`^hsl\\(${Df},${ri},${ri}\\)$`),Ofe=new RegExp(`^hsla\\(${Df},${ri},${ri},${Df}\\)$`),DA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_2(Lh,Mf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MA,formatHex:MA,formatHex8:Cfe,formatHsl:kfe,formatRgb:$A,toString:$A});function MA(){return this.rgb().formatHex()}function Cfe(){return this.rgb().formatHex8()}function kfe(){return HI(this).formatHsl()}function $A(){return this.rgb().formatRgb()}function Mf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Sfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?LA(t):r===3?new xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?D0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?D0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Efe.exec(e))?new xn(t[1],t[2],t[3],1):(t=jfe.exec(e))?new xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tfe.exec(e))?D0(t[1],t[2],t[3],t[4]):(t=Afe.exec(e))?D0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nfe.exec(e))?UA(t[1],t[2]/100,t[3]/100,1):(t=Ofe.exec(e))?UA(t[1],t[2]/100,t[3]/100,t[4]):DA.hasOwnProperty(e)?LA(DA[e]):e==="transparent"?new xn(NaN,NaN,NaN,0):null}function LA(e){return new xn(e>>16&255,e>>8&255,e&255,1)}function D0(e,t,r,n){return n<=0&&(e=t=r=NaN),new xn(e,t,r,n)}function Pfe(e){return e instanceof Lh||(e=Mf(e)),e?(e=e.rgb(),new xn(e.r,e.g,e.b,e.opacity)):new xn}function pb(e,t,r,n){return arguments.length===1?Pfe(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_2(xn,pb,WI(Lh,{brighter(e){return e=e==null?ym:Math.pow(ym,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xn(Ko(this.r),Ko(this.g),Ko(this.b),bm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FA,formatHex:FA,formatHex8:Rfe,formatRgb:BA,toString:BA}));function FA(){return`#${Po(this.r)}${Po(this.g)}${Po(this.b)}`}function Rfe(){return`#${Po(this.r)}${Po(this.g)}${Po(this.b)}${Po((isNaN(this.opacity)?1:this.opacity)*255)}`}function BA(){const e=bm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ko(this.r)}, ${Ko(this.g)}, ${Ko(this.b)}${e===1?")":`, ${e})`}`}function bm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ko(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Po(e){return e=Ko(e),(e<16?"0":"")+e.toString(16)}function UA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ca(e,t,r,n)}function HI(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);if(e instanceof Lh||(e=Mf(e)),!e)return new Ca;if(e instanceof Ca)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new Ca(s,o,c,e.opacity)}function Ife(e,t,r,n){return arguments.length===1?HI(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_2(Ca,Ife,WI(Lh,{brighter(e){return e=e==null?ym:Math.pow(ym,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xn(zx(e>=240?e-240:e+120,a,n),zx(e,a,n),zx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ca(zA(this.h),M0(this.s),M0(this.l),bm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bm(this.opacity);return`${e===1?"hsl(":"hsla("}${zA(this.h)}, ${M0(this.s)*100}%, ${M0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zA(e){return e=(e||0)%360,e<0?e+360:e}function M0(e){return Math.max(0,Math.min(1,e||0))}function zx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const S2=e=>()=>e;function Dfe(e,t){return function(r){return e+r*t}}function Mfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $fe(e){return(e=+e)==1?qI:function(t,r){return r-t?Mfe(t,r,e):S2(isNaN(t)?r:t)}}function qI(e,t){var r=t-e;return r?Dfe(e,r):S2(isNaN(e)?t:e)}const WA=function e(t){var r=$fe(t);function n(a,i){var s=r((a=pb(a)).r,(i=pb(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=qI(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Lfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Ffe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Ufe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zfe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wx=new RegExp(mb.source,"g");function Wfe(e){return function(){return e}}function Hfe(e){return function(t){return e(t)+""}}function qfe(e,t){var r=mb.lastIndex=Wx.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=mb.exec(e))&&(a=Wx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:wm(n,a)})),r=Wx.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Hfe(c[0].x):Wfe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Hu(e,t){var r=typeof t,n;return t==null||r==="boolean"?S2(t):(r==="number"?wm:r==="string"?(n=Mf(t))?(t=n,WA):qfe:t instanceof Mf?WA:t instanceof Date?Ufe:Ffe(t)?Lfe:Array.isArray(t)?Bfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zfe:wm)(e,t)}function E2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vfe(e,t){t===void 0&&(t=e,e=Hu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Kfe(e){return function(){return e}}function _m(e){return+e}var HA=[0,1];function an(e){return e}function vb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kfe(isNaN(t)?NaN:.5)}function Gfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Xfe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=vb(a,n),i=r(s,i)):(n=vb(n,a),i=r(i,s)),function(o){return i(n(o))}}function Yfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=vb(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=$h(e,o,1,n)-1;return i[c](a[c](o))}}function Fh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lg(){var e=HA,t=HA,r=Hu,n,a,i,s=an,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==an&&(s=Gfe(e[0],e[h-1])),o=h>2?Yfe:Xfe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),wm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,_m),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=E2,d()},f.clamp=function(h){return arguments.length?(s=h?!0:an,d()):s!==an},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function j2(){return lg()(an,an)}function Qfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tu(e){return e=Sm(Math.abs(e)),e?e[1]:NaN}function Jfe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Zfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ehe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=ehe.exec(e)))throw new Error("invalid format: "+e);var t;return new T2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=T2.prototype;function T2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function the(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var VI;function rhe(e,t){var r=Sm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(VI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sm(e,Math.max(0,t+i-1))[0]}function qA(e,t){var r=Sm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const VA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qA(e*100,t),r:qA,s:rhe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KA(e){return e}var GA=Array.prototype.map,XA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nhe(e){var t=e.grouping===void 0||e.thousands===void 0?KA:Jfe(GA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?KA:Zfe(GA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$f(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,x=f.zero,b=f.width,m=f.comma,y=f.precision,_=f.trim,w=f.type;w==="n"?(m=!0,w="g"):VA[w]||(y===void 0&&(y=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=v==="$"?n:/[%p]/.test(w)?s:"",j=VA[w],T=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function O(C){var M=S,F=E,q,V,ne;if(w==="c")F=j(C)+F,C="";else{C=+C;var se=C<0||1/C<0;if(C=isNaN(C)?c:j(Math.abs(C),y),_&&(C=the(C)),se&&+C==0&&g!=="+"&&(se=!1),M=(se?g==="("?g:o:g==="-"||g==="("?"":g)+M,F=(w==="s"?XA[8+VI/3]:"")+F+(se&&g==="("?")":""),T){for(q=-1,V=C.length;++q<V;)if(ne=C.charCodeAt(q),48>ne||ne>57){F=(ne===46?a+C.slice(q+1):C.slice(q))+F,C=C.slice(0,q);break}}}m&&!x&&(C=t(C,1/0));var G=M.length+C.length+F.length,te=G<b?new Array(b-G+1).join(h):"";switch(m&&x&&(C=t(te+C,te.length?b-F.length:1/0),te=""),p){case"<":C=M+C+F+te;break;case"=":C=M+te+C+F;break;case"^":C=te.slice(0,G=te.length>>1)+M+C+F+te.slice(G);break;default:C=te+M+C+F;break}return i(C)}return O.toString=function(){return f+""},O}function d(f,h){var p=u((f=$f(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(tu(h)/3)))*3,v=Math.pow(10,-g),x=XA[8+g/3];return function(b){return p(v*b)+x}}return{format:u,formatPrefix:d}}var $0,A2,KI;ahe({thousands:",",grouping:[3],currency:["$",""]});function ahe(e){return $0=nhe(e),A2=$0.format,KI=$0.formatPrefix,$0}function ihe(e){return Math.max(0,-tu(Math.abs(e)))}function she(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tu(t)/3)))*3-tu(Math.abs(e)))}function ohe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tu(t)-tu(e))+1}function GI(e,t,r,n){var a=fb(e,t,r),i;switch(n=$f(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=she(a,s))&&(n.precision=i),KI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ohe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ihe(a))&&(n.precision=i-(n.type==="%")*2);break}}return A2(n)}function eo(e){var t=e.domain;return e.ticks=function(r){var n=t();return ub(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return GI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=db(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Em(){var e=j2();return e.copy=function(){return Fh(e,Em())},pa.apply(e,arguments),eo(e)}function XI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_m),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XI(e).unknown(t)},e=arguments.length?Array.from(e,_m):[0,1],eo(r)}function YI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function YA(e){return Math.log(e)}function QA(e){return Math.exp(e)}function lhe(e){return-Math.log(-e)}function che(e){return-Math.exp(-e)}function uhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dhe(e){return e===10?uhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JA(e){return(t,r)=>-e(-t,r)}function N2(e){const t=e(YA,QA),r=t.domain;let n=10,a,i;function s(){return a=fhe(n),i=dhe(n),r()[0]<0?(a=JA(a),i=JA(i),e(lhe,che)):e(YA,QA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,v;const x=o==null?10:+o;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(v=h<0?g/i(-h):g*i(h),!(v<u)){if(v>d)break;b.push(v)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/i(-h):g*i(h),!(v<u)){if(v>d)break;b.push(v)}b.length*2<x&&(b=ub(u,d,x))}else b=ub(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$f(c)).precision==null&&(c.trim=!0),c=A2(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(YI(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function QI(){const e=N2(lg()).domain([1,10]);return e.copy=()=>Fh(e,QI()).base(e.base()),pa.apply(e,arguments),e}function ZA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function O2(e){var t=1,r=e(ZA(t),eN(t));return r.constant=function(n){return arguments.length?e(ZA(t=+n),eN(t)):t},eo(r)}function JI(){var e=O2(lg());return e.copy=function(){return Fh(e,JI()).constant(e.constant())},pa.apply(e,arguments)}function tN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function phe(e){return e<0?-e*e:e*e}function C2(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(hhe,phe):e(tN(r),tN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},eo(t)}function k2(){var e=C2(lg());return e.copy=function(){return Fh(e,k2()).exponent(e.exponent())},pa.apply(e,arguments),e}function mhe(){return k2.apply(null,arguments).exponent(.5)}function rN(e){return Math.sign(e)*e*e}function vhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZI(){var e=j2(),t=[0,1],r=!1,n;function a(i){var s=vhe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(rN(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_m)).map(rN)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ZI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pa.apply(a,arguments),eo(a)}function e6(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=wfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[$h(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Fs),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return e6().domain(e).range(t).unknown(n)},pa.apply(i,arguments)}function t6(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[$h(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return t6().domain([e,t]).range(a).unknown(i)},pa.apply(eo(s),arguments)}function r6(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[$h(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return r6().domain(e).range(t).unknown(r)},pa.apply(a,arguments)}const Hx=new Date,qx=new Date;function ur(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>ur(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Hx.setTime(+i),qx.setTime(+s),e(Hx),e(qx),Math.floor(r(Hx,qx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const jm=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):jm);jm.range;const Si=1e3,ia=Si*60,Ei=ia*60,zi=Ei*24,P2=zi*7,nN=zi*30,Vx=zi*365,Ro=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCSeconds());Ro.range;const R2=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Si)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getMinutes());R2.range;const I2=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCMinutes());I2.range;const D2=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Si-e.getMinutes()*ia)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());D2.range;const M2=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());M2.range;const Bh=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ia)/zi,e=>e.getDate()-1);Bh.range;const cg=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>e.getUTCDate()-1);cg.range;const n6=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>Math.floor(e/zi));n6.range;function jl(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ia)/P2)}const ug=jl(0),Tm=jl(1),ghe=jl(2),xhe=jl(3),ru=jl(4),yhe=jl(5),bhe=jl(6);ug.range;Tm.range;ghe.range;xhe.range;ru.range;yhe.range;bhe.range;function Tl(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/P2)}const dg=Tl(0),Am=Tl(1),whe=Tl(2),_he=Tl(3),nu=Tl(4),She=Tl(5),Ehe=Tl(6);dg.range;Am.range;whe.range;_he.range;nu.range;She.range;Ehe.range;const $2=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$2.range;const L2=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());L2.range;const Wi=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wi.range;const Hi=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hi.range;function a6(e,t,r,n,a,i){const s=[[Ro,1,Si],[Ro,5,5*Si],[Ro,15,15*Si],[Ro,30,30*Si],[i,1,ia],[i,5,5*ia],[i,15,15*ia],[i,30,30*ia],[a,1,Ei],[a,3,3*Ei],[a,6,6*Ei],[a,12,12*Ei],[n,1,zi],[n,2,2*zi],[r,1,P2],[t,1,nN],[t,3,3*nN],[e,1,Vx]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=b2(([,,x])=>x).right(s,h);if(p===s.length)return e.every(fb(u/Vx,d/Vx,f));if(p===0)return jm.every(Math.max(fb(u,d,f),1));const[g,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(v)}return[o,c]}const[jhe,The]=a6(Hi,L2,dg,n6,M2,I2),[Ahe,Nhe]=a6(Wi,$2,ug,Bh,D2,R2);function Kx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ud(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ohe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=dd(a),d=fd(a),f=dd(i),h=fd(i),p=dd(s),g=fd(s),v=dd(o),x=fd(o),b=dd(c),m=fd(c),y={a:se,A:G,b:te,B:ue,c:null,d:cN,e:cN,f:Jhe,g:l0e,G:u0e,H:Xhe,I:Yhe,j:Qhe,L:i6,m:Zhe,M:e0e,p:pe,q:P,Q:fN,s:hN,S:t0e,u:r0e,U:n0e,V:a0e,w:i0e,W:s0e,x:null,X:null,y:o0e,Y:c0e,Z:d0e,"%":dN},_={a:H,A:U,b:W,B:ae,c:null,d:uN,e:uN,f:m0e,g:j0e,G:A0e,H:f0e,I:h0e,j:p0e,L:o6,m:v0e,M:g0e,p:Se,q:J,Q:fN,s:hN,S:x0e,u:y0e,U:b0e,V:w0e,w:_0e,W:S0e,x:null,X:null,y:E0e,Y:T0e,Z:N0e,"%":dN},w={a:O,A:C,b:M,B:F,c:q,d:oN,e:oN,f:qhe,g:sN,G:iN,H:lN,I:lN,j:Uhe,L:Hhe,m:Bhe,M:zhe,p:T,q:Fhe,Q:Khe,s:Ghe,S:Whe,u:Ihe,U:Dhe,V:Mhe,w:Rhe,W:$he,x:V,X:ne,y:sN,Y:iN,Z:Lhe,"%":Vhe};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(K,ee){return function(be){var re=[],Le=-1,Ce=0,rt=K.length,Fe,we,qt;for(be instanceof Date||(be=new Date(+be));++Le<rt;)K.charCodeAt(Le)===37&&(re.push(K.slice(Ce,Le)),(we=aN[Fe=K.charAt(++Le)])!=null?Fe=K.charAt(++Le):we=Fe==="e"?" ":"0",(qt=ee[Fe])&&(Fe=qt(be,we)),re.push(Fe),Ce=Le+1);return re.push(K.slice(Ce,Le)),re.join("")}}function E(K,ee){return function(be){var re=ud(1900,void 0,1),Le=j(re,K,be+="",0),Ce,rt;if(Le!=be.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ce=Gx(ud(re.y,0,1)),rt=Ce.getUTCDay(),Ce=rt>4||rt===0?Am.ceil(Ce):Am(Ce),Ce=cg.offset(Ce,(re.V-1)*7),re.y=Ce.getUTCFullYear(),re.m=Ce.getUTCMonth(),re.d=Ce.getUTCDate()+(re.w+6)%7):(Ce=Kx(ud(re.y,0,1)),rt=Ce.getDay(),Ce=rt>4||rt===0?Tm.ceil(Ce):Tm(Ce),Ce=Bh.offset(Ce,(re.V-1)*7),re.y=Ce.getFullYear(),re.m=Ce.getMonth(),re.d=Ce.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),rt="Z"in re?Gx(ud(re.y,0,1)).getUTCDay():Kx(ud(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(rt+5)%7:re.w+re.U*7-(rt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Gx(re)):Kx(re)}}function j(K,ee,be,re){for(var Le=0,Ce=ee.length,rt=be.length,Fe,we;Le<Ce;){if(re>=rt)return-1;if(Fe=ee.charCodeAt(Le++),Fe===37){if(Fe=ee.charAt(Le++),we=w[Fe in aN?ee.charAt(Le++):Fe],!we||(re=we(K,be,re))<0)return-1}else if(Fe!=be.charCodeAt(re++))return-1}return re}function T(K,ee,be){var re=u.exec(ee.slice(be));return re?(K.p=d.get(re[0].toLowerCase()),be+re[0].length):-1}function O(K,ee,be){var re=p.exec(ee.slice(be));return re?(K.w=g.get(re[0].toLowerCase()),be+re[0].length):-1}function C(K,ee,be){var re=f.exec(ee.slice(be));return re?(K.w=h.get(re[0].toLowerCase()),be+re[0].length):-1}function M(K,ee,be){var re=b.exec(ee.slice(be));return re?(K.m=m.get(re[0].toLowerCase()),be+re[0].length):-1}function F(K,ee,be){var re=v.exec(ee.slice(be));return re?(K.m=x.get(re[0].toLowerCase()),be+re[0].length):-1}function q(K,ee,be){return j(K,t,ee,be)}function V(K,ee,be){return j(K,r,ee,be)}function ne(K,ee,be){return j(K,n,ee,be)}function se(K){return s[K.getDay()]}function G(K){return i[K.getDay()]}function te(K){return c[K.getMonth()]}function ue(K){return o[K.getMonth()]}function pe(K){return a[+(K.getHours()>=12)]}function P(K){return 1+~~(K.getMonth()/3)}function H(K){return s[K.getUTCDay()]}function U(K){return i[K.getUTCDay()]}function W(K){return c[K.getUTCMonth()]}function ae(K){return o[K.getUTCMonth()]}function Se(K){return a[+(K.getUTCHours()>=12)]}function J(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ee=S(K+="",y);return ee.toString=function(){return K},ee},parse:function(K){var ee=E(K+="",!1);return ee.toString=function(){return K},ee},utcFormat:function(K){var ee=S(K+="",_);return ee.toString=function(){return K},ee},utcParse:function(K){var ee=E(K+="",!0);return ee.toString=function(){return K},ee}}}var aN={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,Che=/^%/,khe=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Phe(e){return e.replace(khe,"\\$&")}function dd(e){return new RegExp("^(?:"+e.map(Phe).join("|")+")","i")}function fd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rhe(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ihe(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Dhe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mhe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $he(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iN(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sN(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fhe(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bhe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oN(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Uhe(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lN(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zhe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Whe(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hhe(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qhe(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vhe(e,t,r){var n=Che.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Khe(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ghe(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cN(e,t){return Ye(e.getDate(),t,2)}function Xhe(e,t){return Ye(e.getHours(),t,2)}function Yhe(e,t){return Ye(e.getHours()%12||12,t,2)}function Qhe(e,t){return Ye(1+Bh.count(Wi(e),e),t,3)}function i6(e,t){return Ye(e.getMilliseconds(),t,3)}function Jhe(e,t){return i6(e,t)+"000"}function Zhe(e,t){return Ye(e.getMonth()+1,t,2)}function e0e(e,t){return Ye(e.getMinutes(),t,2)}function t0e(e,t){return Ye(e.getSeconds(),t,2)}function r0e(e){var t=e.getDay();return t===0?7:t}function n0e(e,t){return Ye(ug.count(Wi(e)-1,e),t,2)}function s6(e){var t=e.getDay();return t>=4||t===0?ru(e):ru.ceil(e)}function a0e(e,t){return e=s6(e),Ye(ru.count(Wi(e),e)+(Wi(e).getDay()===4),t,2)}function i0e(e){return e.getDay()}function s0e(e,t){return Ye(Tm.count(Wi(e)-1,e),t,2)}function o0e(e,t){return Ye(e.getFullYear()%100,t,2)}function l0e(e,t){return e=s6(e),Ye(e.getFullYear()%100,t,2)}function c0e(e,t){return Ye(e.getFullYear()%1e4,t,4)}function u0e(e,t){var r=e.getDay();return e=r>=4||r===0?ru(e):ru.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function d0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function uN(e,t){return Ye(e.getUTCDate(),t,2)}function f0e(e,t){return Ye(e.getUTCHours(),t,2)}function h0e(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function p0e(e,t){return Ye(1+cg.count(Hi(e),e),t,3)}function o6(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function m0e(e,t){return o6(e,t)+"000"}function v0e(e,t){return Ye(e.getUTCMonth()+1,t,2)}function g0e(e,t){return Ye(e.getUTCMinutes(),t,2)}function x0e(e,t){return Ye(e.getUTCSeconds(),t,2)}function y0e(e){var t=e.getUTCDay();return t===0?7:t}function b0e(e,t){return Ye(dg.count(Hi(e)-1,e),t,2)}function l6(e){var t=e.getUTCDay();return t>=4||t===0?nu(e):nu.ceil(e)}function w0e(e,t){return e=l6(e),Ye(nu.count(Hi(e),e)+(Hi(e).getUTCDay()===4),t,2)}function _0e(e){return e.getUTCDay()}function S0e(e,t){return Ye(Am.count(Hi(e)-1,e),t,2)}function E0e(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function j0e(e,t){return e=l6(e),Ye(e.getUTCFullYear()%100,t,2)}function T0e(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function A0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nu(e):nu.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function N0e(){return"+0000"}function dN(){return"%"}function fN(e){return+e}function hN(e){return Math.floor(+e/1e3)}var $l,c6,u6;O0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O0e(e){return $l=Ohe(e),c6=$l.format,$l.parse,u6=$l.utcFormat,$l.utcParse,$l}function C0e(e){return new Date(e)}function k0e(e){return e instanceof Date?+e:+new Date(+e)}function F2(e,t,r,n,a,i,s,o,c,u){var d=j2(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),m=u("%b %d"),y=u("%B"),_=u("%Y");function w(S){return(c(S)<S?p:o(S)<S?g:s(S)<S?v:i(S)<S?x:n(S)<S?a(S)<S?b:m:r(S)<S?y:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,k0e)):h().map(C0e)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?w:u(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(YI(E,S)):d},d.copy=function(){return Fh(d,F2(e,t,r,n,a,i,s,o,c,u))},d}function P0e(){return pa.apply(F2(Ahe,Nhe,Wi,$2,ug,Bh,D2,R2,Ro,c6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R0e(){return pa.apply(F2(jhe,The,Hi,L2,dg,cg,M2,I2,Ro,u6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fg(){var e=0,t=1,r,n,a,i,s=an,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(Hu),u.rangeRound=d(E2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function to(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d6(){var e=eo(fg()(an));return e.copy=function(){return to(e,d6())},ts.apply(e,arguments)}function f6(){var e=N2(fg()).domain([1,10]);return e.copy=function(){return to(e,f6()).base(e.base())},ts.apply(e,arguments)}function h6(){var e=O2(fg());return e.copy=function(){return to(e,h6()).constant(e.constant())},ts.apply(e,arguments)}function B2(){var e=C2(fg());return e.copy=function(){return to(e,B2()).exponent(e.exponent())},ts.apply(e,arguments)}function I0e(){return B2.apply(null,arguments).exponent(.5)}function p6(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t(($h(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bfe(e,i/n))},r.copy=function(){return p6(t).domain(e)},ts.apply(r,arguments)}function hg(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=an,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?o:c),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(x){var b,m,y;return arguments.length?([b,m,y]=x,u=Vfe(v,[b,m,y]),p):[u(0),u(.5),u(1)]}}return p.range=g(Hu),p.rangeRound=g(E2),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),i=v(t),s=v(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function m6(){var e=eo(hg()(an));return e.copy=function(){return to(e,m6())},ts.apply(e,arguments)}function v6(){var e=N2(hg()).domain([.1,1,10]);return e.copy=function(){return to(e,v6()).base(e.base())},ts.apply(e,arguments)}function g6(){var e=O2(hg());return e.copy=function(){return to(e,g6()).constant(e.constant())},ts.apply(e,arguments)}function U2(){var e=C2(hg());return e.copy=function(){return to(e,U2()).exponent(e.exponent())},ts.apply(e,arguments)}function D0e(){return U2.apply(null,arguments).exponent(.5)}const pN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rf,scaleDiverging:m6,scaleDivergingLog:v6,scaleDivergingPow:U2,scaleDivergingSqrt:D0e,scaleDivergingSymlog:g6,scaleIdentity:XI,scaleImplicit:hb,scaleLinear:Em,scaleLog:QI,scaleOrdinal:w2,scalePoint:Hd,scalePow:k2,scaleQuantile:e6,scaleQuantize:t6,scaleRadial:ZI,scaleSequential:d6,scaleSequentialLog:f6,scaleSequentialPow:B2,scaleSequentialQuantile:p6,scaleSequentialSqrt:I0e,scaleSequentialSymlog:h6,scaleSqrt:mhe,scaleSymlog:JI,scaleThreshold:r6,scaleTime:P0e,scaleUtc:R0e,tickFormat:GI},Symbol.toStringTag,{value:"Module"}));var M0e=Du;function $0e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!M0e(s):r(s,o)))var o=s,c=i}return c}var pg=$0e;function L0e(e,t){return e>t}var x6=L0e,F0e=pg,B0e=x6,U0e=zu;function z0e(e){return e&&e.length?F0e(e,U0e,B0e):void 0}var W0e=z0e;const mg=tt(W0e);function H0e(e,t){return e<t}var y6=H0e,q0e=pg,V0e=y6,K0e=zu;function G0e(e){return e&&e.length?q0e(e,K0e,V0e):void 0}var X0e=G0e;const vg=tt(X0e);var Y0e=t2,Q0e=ui,J0e=AI,Z0e=An;function epe(e,t){var r=Z0e(e)?Y0e:J0e;return r(e,Q0e(t))}var tpe=epe,rpe=jI,npe=tpe;function ape(e,t){return rpe(npe(e,t),1)}var ipe=ape;const spe=tt(ipe);var ope=v2;function lpe(e,t){return ope(e,t)}var cpe=lpe;const gg=tt(cpe);var qu=1e9,upe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W2,At=!0,da="[DecimalError] ",Go=da+"Invalid argument: ",z2=da+"Exponent out of range: ",Vu=Math.floor,bo=Math.pow,dpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,fr=1e7,wt=7,b6=9007199254740991,Nm=Vu(b6/wt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Ri(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return ft(Ri(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return er(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ln))throw Error(da+"NaN");if(r.s<1)throw Error(da+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(At=!1,t=Ri(Lf(r,i),Lf(e,i),i),At=!0,ft(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S6(t,e):w6(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(da+"NaN");return r.s?(At=!1,t=Ri(r,e,0,1).times(e),At=!0,r.minus(t)):ft(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return _6(this)};Oe.naturalLogarithm=Oe.ln=function(){return Lf(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w6(t,e):S6(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Go+e);if(t=er(a)+1,n=a.d.length-1,r=n*wt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(da+"NaN")}for(e=er(o),At=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Za(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Ri(o,i,s+2)).times(.5),Za(i.d).slice(0,s)===(t=Za(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(ft(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return At=!0,ft(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%fr|0,t=o/fr|0;i[a]=(i[a]+t)%fr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,At?ft(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(si(e,0,qu),t===void 0?t=n.rounding:si(t,0,8),ft(r,e+er(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ul(n,!0):(si(e,0,qu),t===void 0?t=a.rounding:si(t,0,8),n=ft(new a(n),e+1,t),r=ul(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ul(a):(si(e,0,qu),t===void 0?t=i.rounding:si(t,0,8),n=ft(new i(a),e+er(a)+1,t),r=ul(n.abs(),!1,e+er(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return ft(new t(e),er(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ln);if(o=new c(o),!o.s){if(e.s<1)throw Error(da+"Infinity");return o}if(o.eq(Ln))return o;if(n=c.precision,e.eq(Ln))return ft(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=b6){for(a=new c(Ln),t=Math.ceil(n/wt+4),At=!1;r%2&&(a=a.times(o),vN(a.d,t)),r=Vu(r/2),r!==0;)o=o.times(o),vN(o.d,t);return At=!0,e.s<0?new c(Ln).div(a):ft(a,n)}}else if(i<0)throw Error(da+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,At=!1,a=e.times(Lf(o,n+u)),At=!0,a=_6(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=er(a),n=ul(a,r<=i.toExpNeg||r>=i.toExpPos)):(si(e,1,qu),t===void 0?t=i.rounding:si(t,0,8),a=ft(new i(a),e,t),r=er(a),n=ul(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(si(e,1,qu),t===void 0?t=n.rounding:si(t,0,8)),ft(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),r=e.constructor;return ul(e,t<=r.toExpNeg||t>=r.toExpPos)};function w6(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),At?ft(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/wt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/fr|0,c[i]%=fr;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,At?ft(t,f):t}function si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Go+e)}function Za(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=wt-n.length,r&&(i+=ls(r)),i+=n;s=e[t],n=s+"",r=wt-n.length,r&&(i+=ls(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ri=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%fr|0,s=i/fr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*fr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,g,v,x,b,m,y,_,w,S,E,j,T=n.constructor,O=n.s==a.s?1:-1,C=n.d,M=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(da+"Division by zero");for(c=n.e-a.e,E=M.length,w=C.length,p=new T(O),g=p.d=[],u=0;M[u]==(C[u]||0);)++u;if(M[u]>(C[u]||0)&&--c,i==null?m=i=T.precision:s?m=i+(er(n)-er(a))+1:m=i,m<0)return new T(0);if(m=m/wt+2|0,u=0,E==1)for(d=0,M=M[0],m++;(u<w||d)&&m--;u++)y=d*fr+(C[u]||0),g[u]=y/M|0,d=y%M|0;else{for(d=fr/(M[0]+1)|0,d>1&&(M=e(M,d),C=e(C,d),E=M.length,w=C.length),_=E,v=C.slice(0,E),x=v.length;x<E;)v[x++]=0;j=M.slice(),j.unshift(0),S=M[0],M[1]>=fr/2&&++S;do d=0,o=t(M,v,E,x),o<0?(b=v[0],E!=x&&(b=b*fr+(v[1]||0)),d=b/S|0,d>1?(d>=fr&&(d=fr-1),f=e(M,d),h=f.length,x=v.length,o=t(f,v,h,x),o==1&&(d--,r(f,E<h?j:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),o==-1&&(x=v.length,o=t(M,v,E,x),o<1&&(d++,r(v,E<x?j:M,x))),x=v.length):o===0&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[x++]=C[_]||0:(v=[C[_]],x=1);while((_++<w||v[0]!==void 0)&&m--)}return g[0]||g.shift(),p.e=c,ft(p,s?i+er(p)+1:i)}}();function _6(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(er(e)>16)throw Error(z2+er(e));if(!e.s)return new d(Ln);for(At=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(bo(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Ln),d.precision=o;;){if(a=ft(a.times(e),o),r=r.times(++c),s=i.plus(Ri(a,r,o)),Za(s.d).slice(0,o)===Za(i.d).slice(0,o)){for(;u--;)i=ft(i.times(i),o);return d.precision=f,t==null?(At=!0,ft(i,f)):i}i=s}}function er(e){for(var t=e.e*wt,r=e.d[0];r>=10;r/=10)t++;return t}function Xx(e,t,r){if(t>e.LN10.sd())throw At=!0,r&&(e.precision=r),Error(da+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function ls(e){for(var t="";e--;)t+="0";return t}function Lf(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=e,g=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(da+(p.s?"NaN":"-Infinity"));if(p.eq(Ln))return new v(0);if(t==null?(At=!1,u=x):u=t,p.eq(10))return t==null&&(At=!0),Xx(v,u);if(u+=h,v.precision=u,r=Za(g),n=r.charAt(0),i=er(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Za(p.d),n=r.charAt(0),f++;i=er(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return c=Xx(v,u+2,x).times(i+""),p=Lf(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=x,t==null?(At=!0,ft(p,x)):p;for(o=s=p=Ri(p.minus(Ln),p.plus(Ln),u),d=ft(p.times(p),u),a=3;;){if(s=ft(s.times(d),u),c=o.plus(Ri(s,new v(a),u)),Za(c.d).slice(0,u)===Za(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Xx(v,u+2,x).times(i+""))),o=Ri(o,new v(f),u),v.precision=x,t==null?(At=!0,ft(o,x)):o;o=c,a+=2}}function mN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vu(r/wt),e.d=[],n=(r+1)%wt,r<0&&(n+=wt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wt;n<a;)e.d.push(+t.slice(n,n+=wt));t=t.slice(n),n=wt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),At&&(e.e>Nm||e.e<-Nm))throw Error(z2+r)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=wt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=wt,a=n-wt+s}if(r!==void 0&&(i=bo(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/bo(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=er(e),f.length=1,t=t-i-1,f[0]=bo(10,(wt-t%wt)%wt),e.e=Vu(-t/wt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=bo(10,wt-n),f[d]=a>0?(u/bo(10,s-a)%bo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==fr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=fr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(At&&(e.e>Nm||e.e<-Nm))throw Error(z2+er(e));return e}function S6(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),At?ft(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/wt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=fr-1;--c[i],c[a]+=fr}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,At?ft(t,p):t):new h(0)}function ul(e,t,r){var n,a=er(e),i=Za(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ls(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ls(-a-1)+i,r&&(n=r-s)>0&&(i+=ls(n))):a>=s?(i+=ls(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ls(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ls(n))),e.s<0?"-"+i:i}function vN(e,t){if(e.length>t)return e.length=t,!0}function E6(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Go+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return mN(s,i.toString())}else if(typeof i!="string")throw Error(Go+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,dpe.test(i))mN(s,i);else throw Error(Go+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=E6,a.config=a.set=fpe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fpe(e){if(!e||typeof e!="object")throw Error(da+"Object expected");var t,r,n,a=["precision",1,qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Go+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Go+r+": "+n);return this}var W2=E6(upe);Ln=new W2(1);const dt=W2;function hpe(e){return gpe(e)||vpe(e)||mpe(e)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mpe(e,t){if(e){if(typeof e=="string")return gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(e,t)}}function vpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gpe(e){if(Array.isArray(e))return gb(e)}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xpe=function(t){return t},j6={},T6=function(t){return t===j6},gN=function(t){return function r(){return arguments.length===0||arguments.length===1&&T6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ype=function e(t,r){return t===1?r:gN(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==j6}).length;return s>=t?r.apply(void 0,a):e(t-s,gN(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return T6(f)?c.shift():f});return r.apply(void 0,hpe(d).concat(c))}))})},xg=function(t){return ype(t.length,t)},xb=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bpe=xg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xpe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},yb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},A6=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function _pe(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function Spe(e,t,r){for(var n=new dt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Epe=xg(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),jpe=xg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Tpe=xg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const yg={rangeStep:Spe,getDigitCount:_pe,interpolateNumber:Epe,uninterpolateNumber:jpe,uninterpolateTruncation:Tpe};function bb(e){return Ope(e)||Npe(e)||N6(e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ope(e){if(Array.isArray(e))return wb(e)}function Ff(e,t){return Ppe(e)||kpe(e,t)||N6(e,t)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6(e,t){if(e){if(typeof e=="string")return wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wb(e,t)}}function wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Ppe(e){if(Array.isArray(e))return e}function O6(e){var t=Ff(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function C6(e,t,r){if(e.lte(0))return new dt(0);var n=yg.getDigitCount(e.toNumber()),a=new dt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new dt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?c:new dt(Math.ceil(c))}function Rpe(e,t,r){var n=1,a=new dt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new dt(10).pow(yg.getDigitCount(e)-1),a=new dt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new dt(Math.floor(e)))}else e===0?a=new dt(Math.floor((t-1)/2)):r||(a=new dt(Math.floor(e)));var s=Math.floor((t-1)/2),o=wpe(bpe(function(c){return a.add(new dt(c-s).mul(n)).toNumber()}),xb);return o(0,t)}function k6(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var i=C6(new dt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new dt(0):(s=new dt(e).add(t).div(2),s=s.sub(new dt(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new dt(t).sub(s).div(i).toNumber()),u=o+c+1;return u>r?k6(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new dt(o).mul(i)),tickMax:s.add(new dt(c).mul(i))})}function Ipe(e){var t=Ff(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=O6([r,n]),c=Ff(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(bb(xb(0,a-1).map(function(){return 1/0}))):[].concat(bb(xb(0,a-1).map(function(){return-1/0})),[d]);return r>n?yb(f):f}if(u===d)return Rpe(u,a,i);var h=k6(u,d,s,i),p=h.step,g=h.tickMin,v=h.tickMax,x=yg.rangeStep(g,v.add(new dt(.1).mul(p)),p);return r>n?yb(x):x}function Dpe(e,t){var r=Ff(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=O6([n,a]),o=Ff(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=C6(new dt(u).sub(c).div(d-1),i,0),h=[].concat(bb(yg.rangeStep(new dt(c),new dt(u).sub(new dt(.99).mul(f)),f)),[u]);return n>a?yb(h):h}var Mpe=A6(Ipe),$pe=A6(Dpe),Lpe="Invariant failed";function dl(e,t){throw new Error(Lpe)}var Fpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}function Bpe(e,t){return Hpe(e)||Wpe(e,t)||zpe(e,t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(e,t){if(e){if(typeof e=="string")return xN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xN(e,t)}}function xN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Hpe(e){if(Array.isArray(e))return e}function qpe(e,t){if(e==null)return{};var r=Vpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I6(n.key),n)}}function Xpe(e,t,r){return t&&Gpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ype(e,t,r){return t=Cm(t),Qpe(e,P6()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function Qpe(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(e)}function Jpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P6=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function Zpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_b(e,t)}function R6(e,t,r){return t=I6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I6(e){var t=eme(e,"string");return au(t)=="symbol"?t:t+""}function eme(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bg=function(e){function t(){return Kpe(this,t),Ype(this,t,arguments)}return Zpe(t,e),Xpe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=qpe(n,Fpe),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&dl();var g=c.map(function(v){var x=u(v,o),b=x.x,m=x.y,y=x.value,_=x.errorVal;if(!_)return null;var w=[],S,E;if(Array.isArray(_)){var j=Bpe(_,2);S=j[0],E=j[1]}else S=E=_;if(i==="vertical"){var T=d.scale,O=m+a,C=O+s,M=O-s,F=T(y-S),q=T(y+E);w.push({x1:q,y1:C,x2:q,y2:M}),w.push({x1:F,y1:O,x2:q,y2:O}),w.push({x1:F,y1:C,x2:F,y2:M})}else if(i==="horizontal"){var V=f.scale,ne=b+a,se=ne-s,G=ne+s,te=V(y-S),ue=V(y+E);w.push({x1:se,y1:ue,x2:G,y2:ue}),w.push({x1:ne,y1:te,x2:ne,y2:ue}),w.push({x1:se,y1:te,x2:G,y2:te})}return z.createElement(it,Om({className:"recharts-errorBar",key:"bar-".concat(w.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},p),w.map(function(pe){return z.createElement("line",Om({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return z.createElement(it,{className:"recharts-errorBars"},g)}}])}(z.Component);R6(bg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});R6(bg,"displayName","ErrorBar");function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){tme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tme(e,t,r){return t=rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rme(e){var t=nme(e,"string");return Bf(t)=="symbol"?t:t+""}function nme(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D6=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Pn(r,ki);if(!s)return null;var o=ki.defaultProps,c=o!==void 0?co(co({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?co(co({},h),f.props):{},g=p.dataKey,v=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:H2(f),value:v||g,payload:p}}),co(co(co({},c),ki.getWithHeight(s,a)),{},{payload:u,item:s})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function bN(e){return ome(e)||sme(e)||ime(e)||ame()}function ame(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function sme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ome(e){if(Array.isArray(e))return Sb(e)}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wc(e,t,r){return t=lme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e){var t=cme(e,"string");return Uf(t)=="symbol"?t:t+""}function cme(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wr(e,t,r){return He(e)||He(t)?r:lr(t)?Un(e,t,r):Me(t)?t(e):r}function qd(e,t,r,n){var a=spe(e,function(o){return Wr(o,t)});if(r==="number"){var i=a.filter(function(o){return ve(o)||parseFloat(o)});return i.length?[vg(i),mg(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!He(o)}):a;return s.map(function(o){return lr(o)||o instanceof Date?o:""})}var ume=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(rn(f-d)!==rn(h-f)){var g=[];if(rn(h-f)===rn(c[1]-c[0])){p=h;var v=f+c[1]-c[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{p=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[u].index;break}}else{var m=Math.min(d,h),y=Math.max(d,h);if(t>(m+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},H2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},dme=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var d=i[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],v=g.items,x=g.cateAxisId,b=v.filter(function(E){return Ci(E.type).indexOf("Bar")>=0});if(b&&b.length){var m=b[0].type.defaultProps,y=m!==void 0?Ut(Ut({},m),b[0].props):b[0].props,_=y.barSize,w=y[x];s[w]||(s[w]=[]);var S=He(_)?r:_;s[w].push({item:b[0],stackList:b.slice(1),barSize:He(S)?void 0:nn(S,n,0)})}}return s},fme=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=nn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,g=s.reduce(function(_,w){return _+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var v=(a-g)/2>>0,x={offset:v-u,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},E=[].concat(bN(_),[S]);return x=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:x})}),E},f)}else{var b=nn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var m=(a-2*b-(c-1)*u)/c;m>1&&(m>>=0);var y=o===+o?Math.min(m,o):m;d=s.reduce(function(_,w,S){var E=[].concat(bN(_),[{item:w.item,position:{offset:b+(m+u)*S+(m-y)/2,size:y}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},hme=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=D6({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&ve(t[p]))return Ut(Ut({},t),{},wc({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&ve(t[g]))return Ut(Ut({},t),{},wc({},g,t[g]+(h||0)))}return t},pme=function(t,r,n){return He(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},M6=function(t,r,n,a,i){var s=r.props.children,o=oa(s,bg).filter(function(u){return pme(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wr(d,n);if(He(f))return u;var h=Array.isArray(f)?[vg(f),mg(f)]:[f,f],p=c.reduce(function(g,v){var x=Wr(d,v,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),m=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(m,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},mme=function(t,r,n,a,i){var s=r.map(function(o){return M6(t,o,n,i,a)}).filter(function(o){return!He(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},$6=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&M6(t,c,u,a)||qd(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},L6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},F6=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},ji=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?rn(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ih(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Yx=new WeakMap,L0=function(t,r){if(typeof r!="function")return t;Yx.has(t)||Yx.set(t,new WeakMap);var n=Yx.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},B6=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Rf(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Em(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hd(),realScaleType:"point"}:i==="category"?{scale:Rf(),realScaleType:"band"}:{scale:Em(),realScaleType:"linear"};if(ol(a)){var c="scale".concat(tg(a));return{scale:(pN[c]||Hd)(),realScaleType:pN[c]?c:"point"}}return Me(a)?{scale:a}:{scale:Hd(),realScaleType:"point"}},_N=1e-4,U6=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-_N,s=Math.max(a[0],a[1])+_N,o=t(r[0]),c=t(r[n-1]);(o<i||o>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},vme=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},gme=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},xme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=Ih(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},yme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Ih(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},bme={sign:xme,expand:Fre,none:Yc,silhouette:Bre,wiggle:Ure,positive:yme},wme=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=bme[n],s=Lre().keys(a).value(function(o,c){return+Wr(o,c,0)}).order(G1).offset(i);return s(t)},_me=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ut(Ut({},h.type.defaultProps),h.props):h.props,v=g.stackId,x=g.hide;if(x)return f;var b=g[n],m=f[b]||{hasStack:!1,stackGroups:{}};if(lr(v)){var y=m.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),m.hasStack=!0,m.stackGroups[v]=y}else m.stackGroups[Dh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ut(Ut({},f),{},wc({},b,m))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var b=p.stackGroups[x];return Ut(Ut({},v),{},wc({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:wme(t,b.items,i)}))},g)}return Ut(Ut({},f),{},wc({},h,p))},d)},z6=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Mpe(u,i,o);return t.domain([vg(d),mg(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=$pe(f,i,o);return{niceTicks:h}}return null},SN=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=Wr(s,r.dataKey,r.domain[o]);return He(c)?null:r.scale(c)-i/2+a},Sme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Eme=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(lr(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},jme=function(t){return t.reduce(function(r,n){return[vg(n.concat([r[0]]).filter(ve)),mg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},W6=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,c=o.reduce(function(u,d){var f=jme(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},EN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eb=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ve(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(EN.test(t[0])){var i=+EN.exec(t[0])[1];a[0]=r[0]-i}else Me(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ve(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(jN.test(t[1])){var s=+jN.exec(t[1])[1];a[1]=r[1]+s}else Me(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},km=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=x2(r,function(f){return f.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},TN=function(t,r,n){return!t||!t.length||gg(t,Un(n,"type.defaultProps.domain"))?r:t},H6=function(t,r){var n=t.type.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ut(Ut({},De(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:H2(t),value:Wr(r,a),type:c,payload:r,chartType:u,hide:d})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q6(e,t,r){return t=Tme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tme(e){var t=Ame(e,"string");return zf(t)=="symbol"?t:t+""}function Ame(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nme(e,t){return Pme(e)||kme(e,t)||Cme(e,t)||Ome()}function Ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(e,t){if(e){if(typeof e=="string")return NN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(e,t)}}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Pme(e){if(Array.isArray(e))return e}var Pm=Math.PI/180,Rme=function(t){return t*180/Math.PI},xt=function(t,r,n,a){return{x:t+Math.cos(-Pm*a)*n,y:r+Math.sin(-Pm*a)*n}},V6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ime=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=nn(t.cx,s,s/2),f=nn(t.cy,o,o/2),h=V6(s,o,n),p=nn(t.innerRadius,h,0),g=nn(t.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(x,b){var m=r[b],y=m.domain,_=m.reversed,w;if(He(m.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[p,g]),_&&(w=[w[1],w[0]]);else{w=m.range;var S=w,E=Nme(S,2);c=E[0],u=E[1]}var j=B6(m,i),T=j.realScaleType,O=j.scale;O.domain(y).range(w),U6(O);var C=z6(O,mi(mi({},m),{},{realScaleType:T})),M=mi(mi(mi({},m),C),{},{range:w,radius:g,realScaleType:T,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return mi(mi({},x),{},q6({},b,M))},{})},Dme=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Mme=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=Dme({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:Rme(u),angleInRadian:u}},$me=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Lme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},ON=function(t,r){var n=t.x,a=t.y,i=Mme({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=$me(r),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?mi(mi({},r),{},{radius:s,angle:Lme(p,r)}):null},K6=function(t){return!A.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var Fme=["offset"];function Bme(e){return Hme(e)||Wme(e)||zme(e)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(e,t){if(e){if(typeof e=="string")return jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jb(e,t)}}function Wme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hme(e){if(Array.isArray(e))return jb(e)}function jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qme(e,t){if(e==null)return{};var r=Vme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){Kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kme(e,t,r){return t=Gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gme(e){var t=Xme(e,"string");return Wf(t)=="symbol"?t:t+""}function Xme(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}var Yme=function(t){var r=t.value,n=t.formatter,a=He(t.children)?r:t.children;return Me(n)?n(a):a},Qme=function(t,r){var n=rn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Jme=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,v=c.clockWise,x=(f+h)/2,b=Qme(p,g),m=b>=0?1:-1,y,_;a==="insideStart"?(y=p+m*s,_=v):a==="insideEnd"?(y=g-m*s,_=!v):a==="end"&&(y=g+m*s,_=v),_=b<=0?_:!_;var w=xt(u,d,x,y),S=xt(u,d,x,y+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),j=He(t.id)?Dh("recharts-radial-line-"):t.id;return z.createElement("text",Hf({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:j,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Zme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=xt(s,o,u+n,h),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=xt(s,o,x,h),m=b.x,y=b.y;return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},eve=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,x=v*a,b=v>0?"end":"start",m=v>0?"start":"end";if(i==="top"){var y={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return nr(nr({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return nr(nr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:o-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return nr(nr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:o+u+x,y:c+d/2,textAnchor:m,verticalAnchor:"middle"};return nr(nr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?nr({x:o+x,y:c+d/2,textAnchor:m,verticalAnchor:"middle"},E):i==="insideRight"?nr({x:o+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?nr({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?nr({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?nr({x:o+x,y:c+h,textAnchor:m,verticalAnchor:g},E):i==="insideTopRight"?nr({x:o+u-x,y:c+h,textAnchor:b,verticalAnchor:g},E):i==="insideBottomLeft"?nr({x:o+x,y:c+d-h,textAnchor:m,verticalAnchor:p},E):i==="insideBottomRight"?nr({x:o+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},E):Mu(i)&&(ve(i.x)||ko(i.x))&&(ve(i.y)||ko(i.y))?nr({x:o+nn(i.x,u),y:c+nn(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):nr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},tve=function(t){return"cx"in t&&ve(t.cx)};function mr(e){var t=e.offset,r=t===void 0?5:t,n=qme(e,Fme),a=nr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||He(o)&&He(c)&&!A.isValidElement(u)&&!Me(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var p;if(Me(u)){if(p=A.createElement(u,a),A.isValidElement(p))return p}else p=Yme(a);var g=tve(i),v=De(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Jme(a,p,v);var x=g?Zme(a):eve(a);return z.createElement(cl,Hf({className:ze("recharts-label",f)},v,x,{breakAll:h}),p)}mr.displayName="Label";var G6=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,v=t.width,x=t.height,b=t.clockWise,m=t.labelViewBox;if(m)return m;if(ve(v)&&ve(x)){if(ve(f)&&ve(h))return{x:f,y:h,width:v,height:x};if(ve(p)&&ve(g))return{x:p,y:g,width:v,height:x}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},rve=function(t,r){return t?t===!0?z.createElement(mr,{key:"label-implicit",viewBox:r}):lr(t)?z.createElement(mr,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===mr?A.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(mr,{key:"label-implicit",content:t,viewBox:r}):Me(t)?z.createElement(mr,{key:"label-implicit",content:t,viewBox:r}):Mu(t)?z.createElement(mr,Hf({viewBox:r},t,{key:"label-implicit"})):null:null},nve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=G6(t),s=oa(a,mr).map(function(c,u){return A.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=rve(t.label,r||i);return[o].concat(Bme(s))};mr.parseViewBox=G6;mr.renderCallByParent=nve;function ave(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ive=ave;const sve=tt(ive);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}var ove=["valueAccessor"],lve=["data","dataKey","clockWise","id","textBreakAll"];function cve(e){return hve(e)||fve(e)||dve(e)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(e,t){if(e){if(typeof e=="string")return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}}function fve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hve(e){if(Array.isArray(e))return Tb(e)}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){pve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pve(e,t,r){return t=mve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mve(e){var t=vve(e,"string");return qf(t)=="symbol"?t:t+""}function vve(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RN(e,t){if(e==null)return{};var r=gve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xve=function(t){return Array.isArray(t.value)?sve(t.value):t.value};function Bs(e){var t=e.valueAccessor,r=t===void 0?xve:t,n=RN(e,ove),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=RN(n,lve);return!a||!a.length?null:z.createElement(it,{className:"recharts-label-list"},a.map(function(d,f){var h=He(i)?r(d,f):Wr(d&&d.payload,i),p=He(o)?{}:{id:"".concat(o,"-").concat(f)};return z.createElement(mr,Rm({},De(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:mr.parseViewBox(He(s)?d:PN(PN({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Bs.displayName="LabelList";function yve(e,t){return e?e===!0?z.createElement(Bs,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Me(e)?z.createElement(Bs,{key:"labelList-implicit",data:t,content:e}):Mu(e)?z.createElement(Bs,Rm({data:t},e,{key:"labelList-implicit"})):null:null}function bve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=oa(n,Bs).map(function(s,o){return A.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=yve(e.label,t);return[i].concat(cve(a))}Bs.renderCallByParent=bve;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wve(e,t,r){return t=_ve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ve(e){var t=Sve(e,"string");return Vf(t)=="symbol"?t:t+""}function Sve(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eve=function(t,r){var n=rn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},F0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/Pm,h=u?i:i+s*f,p=xt(r,n,d,h),g=xt(r,n,a,h),v=u?i-s*f:i,x=xt(r,n,d*Math.cos(f*Pm),v);return{center:p,circleTangency:g,lineTangency:x,theta:f}},X6=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,c=Eve(s,o),u=s+c,d=xt(r,n,i,s),f=xt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=xt(r,n,a,s),g=xt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=rn(d-u),h=F0({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,v=h.theta,x=F0({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=x.circleTangency,m=x.lineTangency,y=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-v-y;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):X6({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
  `);if(a>0){var S=F0({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),E=S.circleTangency,j=S.lineTangency,T=S.theta,O=F0({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=O.circleTangency,M=O.lineTangency,F=O.theta,q=c?Math.abs(u-d):Math.abs(u-d)-T-F;if(q<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Tve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y6=function(t){var r=DN(DN({},Tve),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=ze("recharts-sector",h),g=s-i,v=nn(o,g,0,!0),x;return v>0&&Math.abs(d-f)<360?x=jve({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=X6({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",Ab({},De(r,!0),{className:p,d:x,role:"img"}))};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ave(e,t,r){return t=Nve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nve(e){var t=Ove(e,"string");return Kf(t)=="symbol"?t:t+""}function Ove(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LN={curveBasisClosed:Are,curveBasisOpen:Nre,curveBasis:Tre,curveBumpX:fre,curveBumpY:hre,curveLinearClosed:Ore,curveLinear:ng,curveMonotoneX:Cre,curveMonotoneY:kre,curveNatural:Pre,curveStep:Rre,curveStepAfter:Dre,curveStepBefore:Ire},B0=function(t){return t.x===+t.x&&t.y===+t.y},hd=function(t){return t.x},pd=function(t){return t.y},Cve=function(t,r){if(Me(t))return t;var n="curve".concat(tg(t));return(n==="curveMonotone"||n==="curveBump")&&r?LN["".concat(n).concat(r==="vertical"?"Y":"X")]:LN[n]||ng},kve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Cve(n,o),f=u?i.filter(function(v){return B0(v)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(v){return B0(v)}):s,g=f.map(function(v,x){return $N($N({},v),{},{base:p[x]})});return o==="vertical"?h=C0().y(pd).x1(hd).x0(function(v){return v.base.x}):h=C0().x(hd).y1(pd).y0(function(v){return v.base.y}),h.defined(B0).curve(d),h(g)}return o==="vertical"&&ve(s)?h=C0().y(pd).x1(hd).x0(s):ve(s)?h=C0().x(hd).y1(pd).y0(s):h=HR().x(hd).y(pd),h.defined(B0).curve(d),h(f)},Ob=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?kve(t):a;return A.createElement("path",Nb({},De(t,!1),am(t),{className:ze("recharts-curve",r),d:s,ref:i}))},Q6={exports:{}},Pve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rve=Pve,Ive=Rve;function J6(){}function Z6(){}Z6.resetWarningCache=J6;var Dve=function(){function e(n,a,i,s,o,c){if(c!==Ive){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Z6,resetWarningCache:J6};return r.PropTypes=r,r};Q6.exports=Dve();var Mve=Q6.exports;const Je=tt(Mve),{getOwnPropertyNames:$ve,getOwnPropertySymbols:Lve}=Object,{hasOwnProperty:Fve}=Object.prototype;function Qx(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function U0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Bve(e){return e!=null?e[Symbol.toStringTag]:void 0}function FN(e){return $ve(e).concat(Lve(e))}const Uve=Object.hasOwn||((e,t)=>Fve.call(e,t));function Al(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const zve="__v",Wve="__o",Hve="_owner",{getOwnPropertyDescriptor:BN,keys:UN}=Object;function qve(e,t){return e.byteLength===t.byteLength&&Im(new Uint8Array(e),new Uint8Array(t))}function Vve(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Kve(e,t){return e.byteLength===t.byteLength&&Im(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Gve(e,t){return Al(e.getTime(),t.getTime())}function Xve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yve(e,t){return e===t}function zN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,o,c=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(o=u.next())&&!o.done;){if(a[f]){f++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Qve=Al;function Jve(e,t,r){const n=UN(e);let a=n.length;if(UN(t).length!==a)return!1;for(;a-- >0;)if(!eD(e,t,r,n[a]))return!1;return!0}function md(e,t,r){const n=FN(e);let a=n.length;if(FN(t).length!==a)return!1;let i,s,o;for(;a-- >0;)if(i=n[a],!eD(e,t,r,i)||(s=BN(e,i),o=BN(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Zve(e,t){return Al(e.valueOf(),t.valueOf())}function ege(e,t){return e.source===t.source&&e.flags===t.flags}function WN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Im(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function tge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function eD(e,t,r,n){return(n===Hve||n===Wve||n===zve)&&(e.$$typeof||t.$$typeof)?!0:Uve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const rge="[object ArrayBuffer]",nge="[object Arguments]",age="[object Boolean]",ige="[object DataView]",sge="[object Date]",oge="[object Error]",lge="[object Map]",cge="[object Number]",uge="[object Object]",dge="[object RegExp]",fge="[object Set]",hge="[object String]",pge={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},mge="[object URL]",vge=Object.prototype.toString;function gge({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(x,b,m){if(x===b)return!0;if(x==null||b==null)return!1;const y=typeof x;if(y!==typeof b)return!1;if(y!=="object")return y==="number"?o(x,b,m):y==="function"?i(x,b,m):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(x,b,m);if(Array.isArray(x))return t(x,b,m);if(_===Date)return n(x,b,m);if(_===RegExp)return d(x,b,m);if(_===Map)return s(x,b,m);if(_===Set)return f(x,b,m);const w=vge.call(x);if(w===sge)return n(x,b,m);if(w===dge)return d(x,b,m);if(w===lge)return s(x,b,m);if(w===fge)return f(x,b,m);if(w===uge)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,m);if(w===mge)return p(x,b,m);if(w===oge)return a(x,b,m);if(w===nge)return c(x,b,m);if(pge[w])return h(x,b,m);if(w===rge)return e(x,b,m);if(w===ige)return r(x,b,m);if(w===age||w===cge||w===hge)return u(x,b,m);if(g){let S=g[w];if(!S){const E=Bve(x);E&&(S=g[E])}if(S)return S(x,b,m)}return!1}}function xge({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:qve,areArraysEqual:r?md:Vve,areDataViewsEqual:Kve,areDatesEqual:Gve,areErrorsEqual:Xve,areFunctionsEqual:Yve,areMapsEqual:r?Qx(zN,md):zN,areNumbersEqual:Qve,areObjectsEqual:r?md:Jve,arePrimitiveWrappersEqual:Zve,areRegExpsEqual:ege,areSetsEqual:r?Qx(WN,md):WN,areTypedArraysEqual:r?Qx(Im,md):Im,areUrlsEqual:tge,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=U0(n.areArraysEqual),i=U0(n.areMapsEqual),s=U0(n.areObjectsEqual),o=U0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:o})}return n}function yge(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function bge({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(o,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(o,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(o,c){return t(o,c,i)}}const wge=ro();ro({strict:!0});ro({circular:!0});ro({circular:!0,strict:!0});ro({createInternalComparator:()=>Al});ro({strict:!0,createInternalComparator:()=>Al});ro({circular:!0,createInternalComparator:()=>Al});ro({circular:!0,createInternalComparator:()=>Al,strict:!0});function ro(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=xge(e),s=gge(i),o=r?r(s):yge(s);return bge({circular:t,comparator:s,createState:n,equals:o,strict:a})}function _ge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):_ge(a)};requestAnimationFrame(n)}function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}function Sge(e){return Age(e)||Tge(e)||jge(e)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jge(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Age(e){if(Array.isArray(e))return e}function Nge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=Sge(s),c=o[0],u=o.slice(1);if(typeof c=="number"){HN(a.bind(null,u),c);return}a(c),HN(a.bind(null,u));return}Cb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){tD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tD(e,t,r){return t=Oge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oge(e){var t=Cge(e,"string");return Gf(t)==="symbol"?t:String(t)}function Cge(e,t){if(Gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Pge=function(t){return t},Rge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vd=function(t,r){return Object.keys(r).reduce(function(n,a){return KN(KN({},n),{},tD({},a,t(a,r[a])))},{})},GN=function(t,r,n){return t.map(function(a){return"".concat(Rge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Ige(e,t){return $ge(e)||Mge(e,t)||rD(e,t)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function $ge(e){if(Array.isArray(e))return e}function Lge(e){return Uge(e)||Bge(e)||rD(e)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,t){if(e){if(typeof e=="string")return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}}function Bge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uge(e){if(Array.isArray(e))return kb(e)}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dm=1e-4,nD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},aD=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},XN=function(t,r){return function(n){var a=nD(t,r);return aD(a,n)}},zge=function(t,r){return function(n){var a=nD(t,r),i=[].concat(Lge(a.map(function(s,o){return s*o}).slice(1)),[0]);return aD(i,n)}},YN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Ige(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=XN(a,s),h=XN(i,o),p=zge(a,s),g=function(b){return b>1?1:b<0?0:b},v=function(b){for(var m=b>1?1:b,y=m,_=0;_<8;++_){var w=f(y)-m,S=p(y);if(Math.abs(w-m)<Dm||S<Dm)return h(y);y=g(y-w/S)}return h(y)};return v.isStepper=!1,v},Wge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,g=h*i,v=h+(p-g)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<Dm&&Math.abs(v)<Dm?[f,0]:[x,v]};return c.isStepper=!0,c.dt=o,c},Hge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YN(a);case"spring":return Wge();default:if(a.split("(")[0]==="cubic-bezier")return YN(a)}return typeof a=="function"?a:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function QN(e){return Kge(e)||Vge(e)||iD(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kge(e){if(Array.isArray(e))return Rb(e)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){Pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pb(e,t,r){return t=Gge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gge(e){var t=Xge(e,"string");return Xf(t)==="symbol"?t:String(t)}function Xge(e,t){if(Xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yge(e,t){return Zge(e)||Jge(e,t)||iD(e,t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(e,t){if(e){if(typeof e=="string")return Rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Zge(e){if(Array.isArray(e))return e}var Mm=function(t,r,n){return t+(r-t)*n},Ib=function(t){var r=t.from,n=t.to;return r!==n},exe=function e(t,r,n){var a=Vd(function(i,s){if(Ib(s)){var o=t(s.from,s.to,s.velocity),c=Yge(o,2),u=c[0],d=c[1];return Tr(Tr({},s),{},{from:u,velocity:d})}return s},r);return n<1?Vd(function(i,s){return Ib(s)?Tr(Tr({},s),{},{velocity:Mm(s.velocity,a[i].velocity,n),from:Mm(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const txe=function(e,t,r,n,a){var i=kge(e,t),s=i.reduce(function(x,b){return Tr(Tr({},x),{},Pb({},b,[e[b],t[b]]))},{}),o=i.reduce(function(x,b){return Tr(Tr({},x),{},Pb({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Vd(function(b,m){return m.from},o)},p=function(){return!Object.values(o).filter(Ib).length},g=function(b){u||(u=b);var m=b-u,y=m/r.dt;o=exe(r,o,y),a(Tr(Tr(Tr({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},v=function(b){d||(d=b);var m=(b-d)/n,y=Vd(function(w,S){return Mm.apply(void 0,QN(S).concat([r(m)]))},s);if(a(Tr(Tr(Tr({},e),t),y)),m<1)c=requestAnimationFrame(f);else{var _=Vd(function(w,S){return Mm.apply(void 0,QN(S).concat([r(1)]))},s);a(Tr(Tr(Tr({},e),t),_))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var rxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nxe(e,t){if(e==null)return{};var r=axe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function axe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Jx(e){return lxe(e)||oxe(e)||sxe(e)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function oxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lxe(e){if(Array.isArray(e))return Db(e)}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){Ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ad(e,t,r){return t=sD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sD(n.key),n)}}function dxe(e,t,r){return t&&uxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sD(e){var t=fxe(e,"string");return iu(t)==="symbol"?t:String(t)}function fxe(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mb(e,t)}function pxe(e){var t=mxe();return function(){var n=$m(e),a;if(t){var i=$m(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $b(this,a)}}function $b(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lb(e)}function Lb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}var qi=function(e){hxe(r,e);var t=pxe(r);function r(n,a){var i;cxe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Lb(i)),i.changeStyle=i.changeStyle.bind(Lb(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),$b(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},$b(i);i.state={style:c?Ad({},c,u):u}}else i.state={style:{}};return i}return dxe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:c?Ad({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(wge(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:a.to;if(this.state&&h){var x={style:c?Ad({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(x)}this.runAnimation(xa(xa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=txe(s,o,Hge(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(v,x,b){if(b===0)return v;var m=x.duration,y=x.easing,_=y===void 0?"ease":y,w=x.style,S=x.properties,E=x.onAnimationEnd,j=b>0?s[b-1]:x,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Jx(v),[i.runJSAnimation.bind(i,{from:j.style,to:w,duration:m,easing:_}),m]);var O=GN(T,m,_),C=xa(xa(xa({},j.style),w),{},{transition:O});return[].concat(Jx(v),[C,m,E]).filter(Pge)};return this.manager.start([c].concat(Jx(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Nge());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=o?Ad({},o,c):c,x=GN(Object.keys(v),s,u);g.start([d,i,xa(xa({},v),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nxe(a,rxe),u=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(p){var g=p.props,v=g.style,x=v===void 0?{}:v,b=g.className,m=A.cloneElement(p,xa(xa({},c),{},{style:xa(xa({},x),d),className:b}));return m};return u===1?f(A.Children.only(i)):z.createElement("div",null,A.Children.map(i,function(h){return f(h)}))}}]),r}(A.PureComponent);qi.displayName="Animate";qi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qi.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function vxe(e,t){return bxe(e)||yxe(e,t)||xxe(e,t)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xxe(e,t){if(e){if(typeof e=="string")return eO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(e,t)}}function eO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function bxe(e){if(Array.isArray(e))return e}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){wxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t,r){return t=_xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Sxe(e,"string");return Yf(t)=="symbol"?t:t+""}function Sxe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Exe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},jxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q2=function(t){var r=rO(rO({},jxe),t),n=A.useRef(),a=A.useState(-1),i=vxe(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,m=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=ze("recharts-rectangle",p);return m?z.createElement(qi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:g,isActive:m},function(_){var w=_.width,S=_.height,E=_.x,j=_.y;return z.createElement(qi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:b,easing:g},z.createElement("path",Lm({},De(r,!0),{className:y,d:nO(E,j,w,S,h),ref:n})))}):z.createElement("path",Lm({},De(r,!0),{className:y,d:nO(c,u,d,f,h)}))},Txe=["points","className","baseLinePoints","connectNulls"];function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function Axe(e,t){if(e==null)return{};var r=Nxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aO(e){return Pxe(e)||kxe(e)||Cxe(e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cxe(e,t){if(e){if(typeof e=="string")return Fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(e,t)}}function kxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pxe(e){if(Array.isArray(e))return Fb(e)}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iO=function(t){return t&&t.x===+t.x&&t.y===+t.y},Rxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){iO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),iO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kd=function(t,r){var n=Rxe(t);r&&(n=[n.reduce(function(i,s){return[].concat(aO(i),aO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Ixe=function(t,r,n){var a=Kd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Kd(r.reverse(),n).slice(1))},Dxe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=Axe(t,Txe);if(!r||!r.length)return null;var o=ze("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Ixe(r,a,i);return z.createElement("g",{className:o},z.createElement("path",rc({},De(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?z.createElement("path",rc({},De(s,!0),{fill:"none",d:Kd(r,i)})):null,c?z.createElement("path",rc({},De(s,!0),{fill:"none",d:Kd(a,i)})):null)}var d=Kd(r,i);return z.createElement("path",rc({},De(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}var V2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=ze("recharts-dot",i);return r===+r&&n===+n&&a===+a?A.createElement("circle",Bb({},De(t,!1),am(t),{className:s,cx:r,cy:n,r:a})):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var Mxe=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){Lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t,r){return t=Fxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fxe(e){var t=Bxe(e,"string");return Qf(t)=="symbol"?t:t+""}function Bxe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uxe(e,t){if(e==null)return{};var r=zxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wxe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Hxe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,v=Uxe(t,Mxe),x=$xe({x:n,y:i,top:o,left:u,width:f,height:p},v);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(o)||!ve(u)?null:z.createElement("path",Ub({},De(x,!0),{className:ze("recharts-cross",g),d:Wxe(n,i,f,p,o,u)}))},qxe=pg,Vxe=x6,Kxe=ui;function Gxe(e,t){return e&&e.length?qxe(e,Kxe(t),Vxe):void 0}var Xxe=Gxe;const Yxe=tt(Xxe);var Qxe=pg,Jxe=ui,Zxe=y6;function eye(e,t){return e&&e.length?Qxe(e,Jxe(t),Zxe):void 0}var tye=eye;const rye=tt(tye);var nye=["cx","cy","angle","ticks","axisLine"],aye=["ticks","tick","angle","tickFormatter","stroke"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lO(e,t){if(e==null)return{};var r=iye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lD(n.key),n)}}function oye(e,t,r){return t&&cO(e.prototype,t),r&&cO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lye(e,t,r){return t=Fm(t),cye(e,oD()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function cye(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(e)}function uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function dye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zb(e,t)}function wg(e,t,r){return t=lD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lD(e){var t=fye(e,"string");return su(t)=="symbol"?t:t+""}function fye(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _g=function(e){function t(){return sye(this,t),lye(this,t,arguments)}return dye(t,e),oye(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return xt(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=Yxe(o,function(d){return d.coordinate||0}),u=rye(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=lO(n,nye),d=o.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=xt(a,i,d[0],s),h=xt(a,i,d[1],s),p=uo(uo(uo({},De(u,!1)),{},{fill:"none"},De(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",Gd({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,u=a.stroke,d=lO(a,aye),f=this.getTickTextAnchor(),h=De(d,!1),p=De(s,!1),g=i.map(function(v,x){var b=n.getTickValueCoord(v),m=uo(uo(uo(uo({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:v});return z.createElement(it,Gd({className:ze("recharts-polar-radius-axis-tick",K6(s)),key:"tick-".concat(v.coordinate)},ll(n.props,v,x)),t.renderTickItem(s,m,c?c(v.value,x):v.value))});return z.createElement(it,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:z.createElement(it,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):Me(n)?s=n(a):s=z.createElement(cl,Gd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(A.PureComponent);wg(_g,"displayName","PolarRadiusAxis");wg(_g,"axisType","radiusAxis");wg(_g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(this,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uD(n.key),n)}}function pye(e,t,r){return t&&dO(e.prototype,t),r&&dO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mye(e,t,r){return t=Bm(t),vye(e,cD()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function vye(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(e)}function gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function xye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wb(e,t)}function Sg(e,t,r){return t=uD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uD(e){var t=yye(e,"string");return ou(t)=="symbol"?t:t+""}function yye(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bye=Math.PI/180,fO=1e-5,Eg=function(e){function t(){return hye(this,t),mye(this,t,arguments)}return xye(t,e),pye(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=xt(i,s,o,n.coordinate),h=xt(i,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*bye),s;return i>fO?s=a==="outer"?"start":"end":i<-fO?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=fo(fo({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(c==="circle")return z.createElement(V2,Eo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return xt(a,i,s,h.coordinate)});return z.createElement(Dxe,Eo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,u=a.stroke,d=De(this.props,!1),f=De(s,!1),h=fo(fo({},d),{},{fill:"none"},De(o,!1)),p=i.map(function(g,v){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),m=fo(fo(fo({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:g,x:x.x2,y:x.y2});return z.createElement(it,Eo({className:ze("recharts-polar-angle-axis-tick",K6(s)),key:"tick-".concat(g.coordinate)},ll(n.props,g,v)),o&&z.createElement("line",Eo({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,m,c?c(g.value,v):g.value))});return z.createElement(it,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:z.createElement(it,{className:ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):Me(n)?s=n(a):s=z.createElement(cl,Eo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(A.PureComponent);Sg(Eg,"displayName","PolarAngleAxis");Sg(Eg,"axisType","angleAxis");Sg(Eg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wye=pI,_ye=wye(Object.getPrototypeOf,Object),Sye=_ye,Eye=Ji,jye=Sye,Tye=Zi,Aye="[object Object]",Nye=Function.prototype,Oye=Object.prototype,dD=Nye.toString,Cye=Oye.hasOwnProperty,kye=dD.call(Object);function Pye(e){if(!Tye(e)||Eye(e)!=Aye)return!1;var t=jye(e);if(t===null)return!0;var r=Cye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&dD.call(r)==kye}var Rye=Pye;const Iye=tt(Rye);var Dye=Ji,Mye=Zi,$ye="[object Boolean]";function Lye(e){return e===!0||e===!1||Mye(e)&&Dye(e)==$ye}var Fye=Lye;const Bye=tt(Fye);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}function Uye(e,t){return qye(e)||Hye(e,t)||Wye(e,t)||zye()}function zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(e,t){if(e){if(typeof e=="string")return hO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(e,t)}}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function qye(e){if(Array.isArray(e))return e}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){Vye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vye(e,t,r){return t=Kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kye(e){var t=Gye(e,"string");return Jf(t)=="symbol"?t:t+""}function Gye(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vO=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},Xye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yye=function(t){var r=mO(mO({},Xye),t),n=A.useRef(),a=A.useState(-1),i=Uye(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&o(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var m=ze("recharts-trapezoid",p);return b?z.createElement(qi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:v,animationEasing:g,isActive:b},function(y){var _=y.upperWidth,w=y.lowerWidth,S=y.height,E=y.x,j=y.y;return z.createElement(qi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:g},z.createElement("path",Um({},De(r,!0),{className:m,d:vO(E,j,_,w,S),ref:n})))}):z.createElement("g",null,z.createElement("path",Um({},De(r,!0),{className:m,d:vO(c,u,d,f,h)})))},Qye=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function Jye(e,t){if(e==null)return{};var r=Zye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){e1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1e(e,t,r){return t=t1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return Zf(t)=="symbol"?t:t+""}function r1e(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n1e(e,t){return zm(zm({},t),e)}function a1e(e,t){return e==="symbols"}function xO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(q2,r);case"trapezoid":return z.createElement(Yye,r);case"sector":return z.createElement(Y6,r);case"symbols":if(a1e(t))return z.createElement(u2,r);break;default:return null}}function i1e(e){return A.isValidElement(e)?e.props:e}function fD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?n1e:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,c=Jye(e,Qye),u;if(A.isValidElement(t))u=A.cloneElement(t,zm(zm({},c),i1e(t)));else if(Me(t))u=t(c);else if(Iye(t)&&!Bye(t)){var d=a(t,c);u=z.createElement(xO,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(xO,{shapeType:r,elementProps:f})}return o?z.createElement(it,{className:s},u):u}function jg(e,t){return t!=null&&"trapezoids"in e.props}function Tg(e,t){return t!=null&&"sectors"in e.props}function eh(e,t){return t!=null&&"points"in e.props}function s1e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function o1e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function l1e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function c1e(e,t){var r;return jg(e,t)?r=s1e:Tg(e,t)?r=o1e:eh(e,t)&&(r=l1e),r}function u1e(e,t){var r;return jg(e,t)?r="trapezoids":Tg(e,t)?r="sectors":eh(e,t)&&(r="points"),r}function d1e(e,t){if(jg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Tg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eh(e,t)?t.payload:{}}function f1e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=u1e(r,t),i=d1e(r,t),s=n.filter(function(c,u){var d=gg(i,c),f=r.props[a].filter(function(g){var v=c1e(r,t);return v(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var ip;function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pD(n.key),n)}}function p1e(e,t,r){return t&&bO(e.prototype,t),r&&bO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m1e(e,t,r){return t=Wm(t),v1e(e,hD()?Reflect.construct(t,r||[],Wm(e).constructor):t.apply(e,r))}function v1e(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g1e(e)}function g1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!e})()}function Wm(e){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(e)}function x1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hb(e,t)}function na(e,t,r){return t=pD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pD(e){var t=y1e(e,"string");return lu(t)=="symbol"?t:t+""}function y1e(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var za=function(e){function t(r){var n;return h1e(this,t),n=m1e(this,t,[r]),na(n,"pieRef",null),na(n,"sectorRefs",[]),na(n,"id",Dh("recharts-pie-")),na(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(a)&&a()}),na(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return x1e(t,e),p1e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,u=i.valueKey,d=De(this.props,!1),f=De(s,!1),h=De(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(v,x){var b=(v.startAngle+v.endAngle)/2,m=xt(v.cx,v.cy,v.outerRadius+p,b),y=pt(pt(pt(pt({},d),v),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(m.x,v.cx)},m),_=pt(pt(pt(pt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:x,points:[xt(v.cx,v.cy,v.outerRadius,b),m]}),w=c;return He(c)&&He(u)?w="value":He(c)&&(w=u),z.createElement(it,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,y,Wr(v,w)))});return z.createElement(it,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,g=pt(pt({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return z.createElement(it,nc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ll(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(fD,nc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return z.createElement(qi,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,x=[],b=i&&i[0],m=b.startAngle;return i.forEach(function(y,_){var w=h&&h[_],S=_>0?Un(y,"paddingAngle",0):0;if(w){var E=os(w.endAngle-w.startAngle,y.endAngle-y.startAngle),j=pt(pt({},y),{},{startAngle:m+S,endAngle:m+E(v)+S});x.push(j),m=j.endAngle}else{var T=y.endAngle,O=y.startAngle,C=os(0,T-O),M=C(v),F=pt(pt({},y),{},{startAngle:m+S,endAngle:m+M+S});x.push(F),m=F.endAngle}}),z.createElement(it,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!gg(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var v=ze("recharts-pie",o);return z.createElement(it,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),mr.renderCallByParent(this.props,null,!1),(!p||g)&&Bs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);if(Me(n))return n(a);var s=ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Ob,nc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);var s=i;if(Me(n)&&(s=n(a),z.isValidElement(s)))return s;var o=ze("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return z.createElement(cl,nc({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(A.PureComponent);ip=za;na(za,"displayName","Pie");na(za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});na(za,"parseDeltaAngle",function(e,t){var r=rn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});na(za,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=oa(r,es);return t&&t.length?t.map(function(i,s){return pt(pt(pt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return pt(pt({},n),i.props)}):[]});na(za,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=V6(a,i),o=n+nn(e.cx,a,a/2),c=r+nn(e.cy,i,i/2),u=nn(e.innerRadius,s,0),d=nn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});na(za,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?pt(pt({},t.type.defaultProps),t.props):t.props,a=ip.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=ip.parseCoordinateOfPie(n,r),v=ip.parseDeltaAngle(s,o),x=Math.abs(v),b=u;He(u)&&He(f)?(Ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):He(u)&&(Ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var m=a.filter(function(j){return Wr(j,b,0)!==0}).length,y=(x>=360?m:m-1)*c,_=x-m*p-y,w=a.reduce(function(j,T){var O=Wr(T,b,0);return j+(ve(O)?O:0)},0),S;if(w>0){var E;S=a.map(function(j,T){var O=Wr(j,b,0),C=Wr(j,d,T),M=(ve(O)?O:0)/w,F;T?F=E.endAngle+rn(v)*c*(O!==0?1:0):F=s;var q=F+rn(v)*((O!==0?p:0)+M*_),V=(F+q)/2,ne=(g.innerRadius+g.outerRadius)/2,se=[{name:C,value:O,payload:j,dataKey:b,type:h}],G=xt(g.cx,g.cy,ne,V);return E=pt(pt(pt({percent:M,cornerRadius:i,name:C,tooltipPayload:se,midAngle:V,middleRadius:ne,tooltipPosition:G},j),g),{},{value:Wr(j,b),startAngle:F,endAngle:q,payload:j,paddingAngle:rn(v)*c}),E})}return pt(pt({},g),{},{sectors:S,data:a})});var b1e=Math.ceil,w1e=Math.max;function _1e(e,t,r,n){for(var a=-1,i=w1e(b1e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var S1e=_1e,E1e=RI,wO=1/0,j1e=17976931348623157e292;function T1e(e){if(!e)return e===0?e:0;if(e=E1e(e),e===wO||e===-wO){var t=e<0?-1:1;return t*j1e}return e===e?e:0}var mD=T1e,A1e=S1e,N1e=og,Zx=mD;function O1e(e){return function(t,r,n){return n&&typeof n!="number"&&N1e(t,r,n)&&(r=n=void 0),t=Zx(t),r===void 0?(r=t,t=0):r=Zx(r),n=n===void 0?t<r?1:-1:Zx(n),A1e(t,r,n,e)}}var C1e=O1e,k1e=C1e,P1e=k1e(),R1e=P1e;const Hm=tt(R1e);function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){vD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vD(e,t,r){return t=I1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1e(e){var t=D1e(e,"string");return th(t)=="symbol"?t:t+""}function D1e(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M1e=["Webkit","Moz","O","ms"],$1e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=M1e.reduce(function(i,s){return SO(SO({},i),{},vD({},s+n,r))},{});return a[t]=r,a};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xD(n.key),n)}}function F1e(e,t,r){return t&&jO(e.prototype,t),r&&jO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B1e(e,t,r){return t=Vm(t),U1e(e,gD()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function U1e(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(e)}function z1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function W1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qb(e,t)}function qb(e,t){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qb(e,t)}function On(e,t,r){return t=xD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xD(e){var t=H1e(e,"string");return cu(t)=="symbol"?t:t+""}function H1e(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Hd().domain(Hm(0,c)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},TO=function(t){return t.changedTouches&&!!t.changedTouches.length},uu=function(e){function t(r){var n;return L1e(this,t),n=B1e(this,t,[r]),On(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),On(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),On(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),On(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),On(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),On(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),On(n,"handleSlideDragStart",function(a){var i=TO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return W1e(t,e),F1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=Wr(i[n],o,n);return Me(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,v=n.pageX-i;v>0?v=Math.min(v,u+d-f-o,u+d-f-s):v<0&&(v=Math.max(v,u-s,u-o));var x=this.getIndex({startX:s+v,endX:o+v});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=TO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,v=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},m=n.pageX-i;m>0?m=Math.min(m,f+h-p-u):m<0&&(m=Math.max(m,f-u)),b[s]=u+m;var y=this.getIndex(b),_=y.startIndex,w=y.endIndex,S=function(){var j=x.length-1;return s==="startX"&&(o>c?_%v===0:w%v===0)||o<c&&w===j||s==="endX"&&(o>c?w%v===0:_%v===0)||o>c&&w===j};this.setState(On(On({},s,u+m),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(On({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=A.Children.only(u);return f?z.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,v=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),m=ey(ey({},De(this.props,!1)),{},{x:b,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=g[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[x])===null||s===void 0?void 0:s.name);return z.createElement(it,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,m))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return z.createElement(it,{className:"recharts-brush-texts"},z.createElement(cl,qm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),z.createElement(cl,qm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,v=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,m=h.isTravellerFocused;if(!a||!a.length||!ve(o)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var y=ze("recharts-brush",i),_=z.Children.count(s)===1,w=$1e("userSelect","none");return z.createElement(it,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||x||b||m||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):Me(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return ey({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?q1e({data:i,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])}(A.PureComponent);On(uu,"displayName","Brush");On(uu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var V1e=g2;function K1e(e,t){var r;return V1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var G1e=K1e,X1e=sI,Y1e=ui,Q1e=G1e,J1e=An,Z1e=og;function ebe(e,t,r){var n=J1e(e)?X1e:Q1e;return r&&Z1e(e,t,r)&&(t=void 0),n(e,Y1e(t))}var tbe=ebe;const rbe=tt(tbe);var ni=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},AO=NI;function nbe(e,t,r){t=="__proto__"&&AO?AO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var abe=nbe,ibe=abe,sbe=TI,obe=ui;function lbe(e,t){var r={};return t=obe(t),sbe(e,function(n,a,i){ibe(r,a,t(n,a,i))}),r}var cbe=lbe;const ube=tt(cbe);function dbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var fbe=dbe,hbe=g2;function pbe(e,t){var r=!0;return hbe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var mbe=pbe,vbe=fbe,gbe=mbe,xbe=ui,ybe=An,bbe=og;function wbe(e,t,r){var n=ybe(e)?vbe:gbe;return r&&bbe(e,t,r)&&(t=void 0),n(e,xbe(t))}var _be=wbe;const yD=tt(_be);var Sbe=["x","y"];function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ebe(e,t,r){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=Tbe(e,"string");return rh(t)=="symbol"?t:t+""}function Tbe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Abe(e,t){if(e==null)return{};var r=Nbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Obe(e,t){var r=e.x,n=e.y,a=Abe(e,Sbe),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return vd(vd(vd(vd(vd({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function OO(e){return z.createElement(fD,Vb({shapeType:"rectangle",propTransformer:Obe,activeClassName:"recharts-active-bar"},e))}var Cbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ve(n)||Jee(n);return i?t(n,a):(i||dl(),r)}},kbe=["value","background"],bD;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Pbe(e,t){if(e==null)return{};var r=Rbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_D(n.key),n)}}function Dbe(e,t,r){return t&&kO(e.prototype,t),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mbe(e,t,r){return t=Gm(t),$be(e,wD()?Reflect.construct(t,r||[],Gm(e).constructor):t.apply(e,r))}function $be(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(e)}function Lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!e})()}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kb(e,t)}function Ns(e,t,r){return t=_D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e){var t=Bbe(e,"string");return du(t)=="symbol"?t:t+""}function Bbe(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yn=function(e){function t(){var r;Ibe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Mbe(this,t,[].concat(a)),Ns(r,"state",{isAnimationFinished:!1}),Ns(r,"id",Dh("recharts-bar-")),Ns(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ns(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Fbe(t,e),Dbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,d=De(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:s,v=Yt(Yt(Yt({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(it,Km({className:"recharts-bar-rectangle"},ll(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(OO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return z.createElement(qi,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=i.map(function(x,b){var m=h&&h[b];if(m){var y=os(m.x,x.x),_=os(m.y,x.y),w=os(m.width,x.width),S=os(m.height,x.height);return Yt(Yt({},x),{},{x:y(g),y:_(g),width:w(g),height:S(g)})}if(s==="horizontal"){var E=os(0,x.height),j=E(g);return Yt(Yt({},x),{},{y:x.y+x.height-j,height:j})}var T=os(0,x.width),O=T(g);return Yt(Yt({},x),{},{width:O})});return z.createElement(it,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!gg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=De(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Pbe(u,kbe);if(!f)return null;var p=Yt(Yt(Yt(Yt(Yt({},h),{},{fill:"#eee"},f),c),ll(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(OO,Km({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=oa(d,bg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,b){var m=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:m,errorVal:Wr(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(it,g,f.map(function(v){return z.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,v=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=ze("recharts-bar",s),m=o&&o.allowDataOverflow,y=c&&c.allowDataOverflow,_=m||y,w=He(v)?this.id:v;return z.createElement(it,{className:b},m||y?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:m?u:u-f/2,y:y?d:d-h/2,width:m?f:f*2,height:y?h:h*2}))):null,z.createElement(it,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&Bs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);bD=yn;Ns(yn,"displayName","Bar");Ns(yn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ns(yn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=vme(n,r);if(!p)return null;var g=t.layout,v=r.type.defaultProps,x=v!==void 0?Yt(Yt({},v),r.props):r.props,b=x.dataKey,m=x.children,y=x.minPointSize,_=g==="horizontal"?s:i,w=u?_.scale.domain():null,S=Sme({numericAxis:_}),E=oa(m,es),j=f.map(function(T,O){var C,M,F,q,V,ne;u?C=gme(u[d+O],w):(C=Wr(T,b),Array.isArray(C)||(C=[S,C]));var se=Cbe(y,bD.defaultProps.minPointSize)(C[1],O);if(g==="horizontal"){var G,te=[s.scale(C[0]),s.scale(C[1])],ue=te[0],pe=te[1];M=SN({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:T,index:O}),F=(G=pe??ue)!==null&&G!==void 0?G:void 0,q=p.size;var P=ue-pe;if(V=Number.isNaN(P)?0:P,ne={x:M,y:s.y,width:q,height:s.height},Math.abs(se)>0&&Math.abs(V)<Math.abs(se)){var H=rn(V||se)*(Math.abs(se)-Math.abs(V));F-=H,V+=H}}else{var U=[i.scale(C[0]),i.scale(C[1])],W=U[0],ae=U[1];if(M=W,F=SN({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:T,index:O}),q=ae-W,V=p.size,ne={x:i.x,y:F,width:i.width,height:V},Math.abs(se)>0&&Math.abs(q)<Math.abs(se)){var Se=rn(q||se)*(Math.abs(se)-Math.abs(q));q+=Se}}return Yt(Yt(Yt({},T),{},{x:M,y:F,width:q,height:V,value:u?C:C[1],payload:T,background:ne},E&&E[O]&&E[O].props),{},{tooltipPayload:[H6(r,T)],tooltipPosition:{x:M+q/2,y:F+V/2}})});return Yt({data:j,layout:g},h)});function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function Ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SD(n.key),n)}}function zbe(e,t,r){return t&&PO(e.prototype,t),r&&PO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return t=SD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=Wbe(e,"string");return nh(t)=="symbol"?t:t+""}function Wbe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hbe=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Pn(u,yn);return d.reduce(function(p,g){var v=r[g],x=v.orientation,b=v.domain,m=v.padding,y=m===void 0?{}:m,_=v.mirror,w=v.reversed,S="".concat(x).concat(_?"Mirror":""),E,j,T,O,C;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var M=b[1]-b[0],F=1/0,q=v.categoricalDomain.sort(tte);if(q.forEach(function(U,W){W>0&&(F=Math.min((U||0)-(q[W-1]||0),F))}),Number.isFinite(F)){var V=F/M,ne=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(E=V*ne/2),v.padding==="no-gap"){var se=nn(t.barCategoryGap,V*ne),G=V*ne/2;E=G-se-(G-se)/ne*se}}}a==="xAxis"?j=[n.left+(y.left||0)+(E||0),n.left+n.width-(y.right||0)-(E||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(E||0),n.top+n.height-(y.bottom||0)-(E||0)]:j=v.range,w&&(j=[j[1],j[0]]);var te=B6(v,i,h),ue=te.scale,pe=te.realScaleType;ue.domain(b).range(j),U6(ue);var P=z6(ue,Ta(Ta({},v),{},{realScaleType:pe}));a==="xAxis"?(C=x==="top"&&!_||x==="bottom"&&_,T=n.left,O=f[S]-C*v.height):a==="yAxis"&&(C=x==="left"&&!_||x==="right"&&_,T=f[S]-C*v.width,O=n.top);var H=Ta(Ta(Ta({},v),P),{},{realScaleType:pe,x:T,y:O,scale:ue,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return H.bandSize=km(H,P),!v.hide&&a==="xAxis"?f[S]+=(C?-1:1)*H.height:v.hide||(f[S]+=(C?-1:1)*H.width),Ta(Ta({},p),{},Ag({},g,H))},{})},ED=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},qbe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return ED({x:r,y:n},{x:a,y:i})},jD=function(){function e(t){Ube(this,e),this.scale=t}return zbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ag(jD,"EPS",1e-4);var K2=function(t){var r=Object.keys(t).reduce(function(n,a){return Ta(Ta({},n),{},Ag({},a,jD.create(t[a])))},{});return Ta(Ta({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return ube(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return yD(a,function(i,s){return r[s].isInRange(i)})}})};function Vbe(e){return(e%180+180)%180}var Kbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Vbe(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Gbe=ui,Xbe=Mh,Ybe=ig;function Qbe(e){return function(t,r,n){var a=Object(t);if(!Xbe(t)){var i=Gbe(r);t=Ybe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var Jbe=Qbe,Zbe=mD;function ewe(e){var t=Zbe(e),r=t%1;return t===t?r?t-r:t:0}var twe=ewe,rwe=bI,nwe=ui,awe=twe,iwe=Math.max;function swe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:awe(r);return a<0&&(a=iwe(n+a,0)),rwe(e,nwe(t),a)}var owe=swe,lwe=Jbe,cwe=owe,uwe=lwe(cwe),dwe=uwe;const fwe=tt(dwe);var hwe=aee(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),G2=A.createContext(void 0),X2=A.createContext(void 0),TD=A.createContext(void 0),AD=A.createContext({}),ND=A.createContext(void 0),OD=A.createContext(0),CD=A.createContext(0),IO=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=hwe(i);return z.createElement(G2.Provider,{value:n},z.createElement(X2.Provider,{value:a},z.createElement(AD.Provider,{value:i},z.createElement(TD.Provider,{value:d},z.createElement(ND.Provider,{value:s},z.createElement(OD.Provider,{value:u},z.createElement(CD.Provider,{value:c},o)))))))},pwe=function(){return A.useContext(ND)},kD=function(t){var r=A.useContext(G2);r==null&&dl();var n=r[t];return n==null&&dl(),n},mwe=function(){var t=A.useContext(G2);return hs(t)},vwe=function(){var t=A.useContext(X2),r=fwe(t,function(n){return yD(n.domain,Number.isFinite)});return r||hs(t)},PD=function(t){var r=A.useContext(X2);r==null&&dl();var n=r[t];return n==null&&dl(),n},gwe=function(){var t=A.useContext(TD);return t},xwe=function(){return A.useContext(AD)},Y2=function(){return A.useContext(CD)},Q2=function(){return A.useContext(OD)};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ID(n.key),n)}}function wwe(e,t,r){return t&&bwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _we(e,t,r){return t=Xm(t),Swe(e,RD()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function Swe(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ewe(e)}function Ewe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function jwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}function Gb(e,t){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gb(e,t)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){J2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J2(e,t,r){return t=ID(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=Twe(e,"string");return fu(t)=="symbol"?t:t+""}function Twe(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Awe(e,t){return kwe(e)||Cwe(e,t)||Owe(e,t)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(e,t){if(e){if(typeof e=="string")return $O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(e,t)}}function $O(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function kwe(e){if(Array.isArray(e))return e}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}var Pwe=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):Me(t)?n=t(r):n=z.createElement("line",Xb({},r,{className:"recharts-reference-line-line"})),n},Rwe=function(t,r,n,a,i,s,o,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,v=t.y.apply(g,{position:s});if(ni(u,"discard")&&!t.y.isInRange(v))return null;var x=[{x:d+h,y:v},{x:d,y:v}];return c==="left"?x.reverse():x}if(r){var b=u.x,m=t.x.apply(b,{position:s});if(ni(u,"discard")&&!t.x.isInRange(m))return null;var y=[{x:m,y:f+p},{x:m,y:f}];return o==="top"?y.reverse():y}if(a){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:s})});return ni(u,"discard")&&rbe(w,function(S){return!t.isInRange(S)})?null:w}return null};function Iwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=pwe(),d=kD(a),f=PD(i),h=gwe();if(!u||!h)return null;Ma(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=K2({x:d.scale,y:f.scale}),g=lr(t),v=lr(r),x=n&&n.length===2,b=Rwe(p,g,v,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var m=Awe(b,2),y=m[0],_=y.x,w=y.y,S=m[1],E=S.x,j=S.y,T=ni(e,"hidden")?"url(#".concat(u,")"):void 0,O=MO(MO({clipPath:T},De(e,!0)),{},{x1:_,y1:w,x2:E,y2:j});return z.createElement(it,{className:ze("recharts-reference-line",o)},Pwe(s,O),mr.renderCallByParent(e,qbe({x1:_,y1:w,x2:E,y2:j})))}var Z2=function(e){function t(){return ywe(this,t),_we(this,t,arguments)}return jwe(t,e),wwe(t,[{key:"render",value:function(){return z.createElement(Iwe,this.props)}}])}(z.Component);J2(Z2,"displayName","ReferenceLine");J2(Z2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MD(n.key),n)}}function $we(e,t,r){return t&&Mwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lwe(e,t,r){return t=Ym(t),Fwe(e,DD()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function Fwe(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bwe(e)}function Bwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function Uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qb(e,t)}function Ng(e,t,r){return t=MD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MD(e){var t=zwe(e,"string");return hu(t)=="symbol"?t:t+""}function zwe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=K2({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ni(t,"discard")&&!s.isInRange(o)?null:o},Og=function(e){function t(){return Dwe(this,t),Lwe(this,t,arguments)}return Uwe(t,e),$we(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=lr(a),d=lr(i);if(Ma(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Wwe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,v=g.shape,x=g.className,b=ni(this.props,"hidden")?"url(#".concat(c,")"):void 0,m=FO(FO({clipPath:b},De(this.props,!0)),{},{cx:h,cy:p});return z.createElement(it,{className:ze("recharts-reference-dot",x)},t.renderDot(v,m),mr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(z.Component);Ng(Og,"displayName","ReferenceDot");Ng(Og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ng(Og,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Me(e)?r=e(t):r=z.createElement(V2,Yb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(this,arguments)}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LD(n.key),n)}}function Vwe(e,t,r){return t&&qwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwe(e,t,r){return t=Qm(t),Gwe(e,$D()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Gwe(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(e)}function Xwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zb(e,t)}function Cg(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=Qwe(e,"string");return pu(t)=="symbol"?t:t+""}function Qwe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jwe=function(t,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=K2({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ni(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:ED(p,g)},kg=function(e){function t(){return Hwe(this,t),Kwe(this,t,arguments)}return Ywe(t,e),Vwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ma(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=lr(a),h=lr(i),p=lr(s),g=lr(o),v=this.props.shape;if(!f&&!h&&!p&&!g&&!v)return null;var x=Jwe(f,h,p,g,this.props);if(!x&&!v)return null;var b=ni(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(it,{className:ze("recharts-reference-area",c)},t.renderRect(v,UO(UO({clipPath:b},De(this.props,!0)),x)),mr.renderCallByParent(this.props,x))}}])}(z.Component);Cg(kg,"displayName","ReferenceArea");Cg(kg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cg(kg,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Me(e)?r=e(t):r=z.createElement(q2,Jb({},t,{className:"recharts-reference-area-rect"})),r});function FD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Zwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Kbe(n,r)}function e_e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Jm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function t_e(e,t){return FD(e,t+1)}function r_e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:FD(n,u)};var v=c,x,b=function(){return x===void 0&&(x=r(g,v)),x},m=g.coordinate,y=c===0||Jm(e,m,b,d,o);y||(c=0,d=s,u+=1),y&&(d=m+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){n_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n_e(e,t,r){return t=a_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_e(e){var t=i_e(e,"string");return ah(t)=="symbol"?t:t+""}function i_e(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s_e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,c=t.end,u=function(h){var p=i[h],g,v=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var x=e*(p.coordinate+e*v()/2-c);i[h]=p=Br(Br({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Br(Br({},p),{},{tickCoord:p.coordinate});var b=Jm(e,p.tickCoord,v,o,c);b&&(c=p.tickCoord-e*(v()/2+a),i[h]=Br(Br({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function o_e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=Br(Br({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Jm(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[o-1]=Br(Br({},d),{},{isShow:!0}))}for(var g=i?o-1:o,v=function(m){var y=s[m],_,w=function(){return _===void 0&&(_=r(y,m)),_};if(m===0){var S=e*(y.coordinate-e*w()/2-c);s[m]=y=Br(Br({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[m]=y=Br(Br({},y),{},{tickCoord:y.coordinate});var E=Jm(e,y.tickCoord,w,c,u);E&&(c=y.tickCoord+e*(w()/2+a),s[m]=Br(Br({},y),{},{isShow:!0}))},x=0;x<g;x++)v(x);return s}function eS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ve(c)||Wu.isSsr)return t_e(a,typeof c=="number"&&ve(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Wd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(y,_){var w=Me(u)?u(y.value,_):y.value;return p==="width"?Zwe(Wd(w,{fontSize:t,letterSpacing:r}),g,f):Wd(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?rn(a[1].coordinate-a[0].coordinate):1,b=e_e(i,x,p);return c==="equidistantPreserveStart"?r_e(x,b,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=o_e(x,b,v,a,s,c==="preserveStartEnd"):h=s_e(x,b,v,a,s),h.filter(function(m){return m.isShow}))}var l_e=["viewBox"],c_e=["viewBox"],u_e=["ticks"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){tS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ty(e,t){if(e==null)return{};var r=d_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function h_e(e,t,r){return t&&HO(e.prototype,t),r&&HO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p_e(e,t,r){return t=Zm(t),m_e(e,BD()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function m_e(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(e)}function v_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function g_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ew(e,t)}function tS(e,t,r){return t=UD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e){var t=x_e(e,"string");return mu(t)=="symbol"?t:t+""}function x_e(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ku=function(e){function t(r){var n;return f_e(this,t),n=p_e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return g_e(t,e),h_e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=ty(n,l_e),o=this.props,c=o.viewBox,u=ty(o,c_e);return!yc(i,c)||!yc(s,u)||!yc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,v,x,b,m,y=f?-1:1,_=n.tickSize||d,w=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=s+ +!f*c,v=x-y*_,m=v-y*h,b=w;break;case"left":v=x=n.coordinate,g=i+ +!f*o,p=g-y*_,b=p-y*h,m=w;break;case"right":v=x=n.coordinate,g=i+ +f*o,p=g+y*_,b=p+y*h,m=w;break;default:p=g=n.coordinate,x=s+ +f*c,v=x+y*_,m=v+y*h,b=w;break}return{line:{x1:p,y1:v,x2:g,y2:x},tick:{x:b,y:m}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=rr(rr(rr({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=rr(rr({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=rr(rr({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return z.createElement("line",ac({},f,{className:ze("recharts-cartesian-axis-line",Un(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=eS(rr(rr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=De(this.props,!1),b=De(d,!1),m=rr(rr({},x),{},{fill:"none"},De(c,!1)),y=p.map(function(_,w){var S=s.getTickLineCoord(_),E=S.line,j=S.tick,T=rr(rr(rr(rr({textAnchor:g,verticalAnchor:v},x),{},{stroke:"none",fill:u},b),j),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(it,ac({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ll(s.props,_,w)),c&&z.createElement("line",ac({},m,E,{className:ze("recharts-cartesian-axis-tick-line",Un(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(Me(f)?f(_.value,w):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=ty(f,u_e),g=h;return Me(c)&&(g=h&&h.length>0?c(this.props):c(p)),s<=0||o<=0||!g||!g.length?null:z.createElement(it,{className:ze("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=ze(a.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,rr(rr({},a),{},{className:o})):Me(n)?s=n(rr(rr({},a),{},{className:o})):s=z.createElement(cl,ac({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(A.Component);tS(Ku,"displayName","CartesianAxis");tS(Ku,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var y_e=["x1","y1","x2","y2","key"],b_e=["offset"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){w_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w_e(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=S_e(e,"string");return fl(t)=="symbol"?t:t+""}function S_e(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}function VO(e,t){if(e==null)return{};var r=E_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var j_e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,c=t.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zD(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,c=VO(t,y_e),u=De(c,!1);u.offset;var d=VO(u,b_e);r=z.createElement("line",Io({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function T_e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=zr(zr({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return zD(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function A_e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=zr(zr({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return zD(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function N_e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?a+s-h:d[p+1]-h;if(v<=0)return null;var x=p%t.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function O_e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?i+o-h:d[p+1]-h;if(v<=0)return null;var x=p%n.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:v,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var C_e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return F6(eS(zr(zr(zr({},Ku.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},k_e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return F6(eS(zr(zr(zr({},Ku.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Ll={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hl(e){var t,r,n,a,i,s,o=Y2(),c=Q2(),u=xwe(),d=zr(zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ll.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ll.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ll.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ll.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ll.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Ll.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,v=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,m=mwe(),y=vwe();if(!ve(p)||p<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||C_e,w=d.horizontalCoordinatesGenerator||k_e,S=d.horizontalPoints,E=d.verticalPoints;if((!S||!S.length)&&Me(w)){var j=x&&x.length,T=w({yAxis:y?zr(zr({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:c,offset:u},j?!0:v);Ma(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fl(T),"]")),Array.isArray(T)&&(S=T)}if((!E||!E.length)&&Me(_)){var O=b&&b.length,C=_({xAxis:m?zr(zr({},m),{},{ticks:O?b:m.ticks}):void 0,width:o,height:c,offset:u},O?!0:v);Ma(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fl(C),"]")),Array.isArray(C)&&(E=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(j_e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(T_e,Io({},d,{offset:u,horizontalPoints:S,xAxis:m,yAxis:y})),z.createElement(A_e,Io({},d,{offset:u,verticalPoints:E,xAxis:m,yAxis:y})),z.createElement(N_e,Io({},d,{horizontalPoints:S})),z.createElement(O_e,Io({},d,{verticalPoints:E})))}hl.displayName="CartesianGrid";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function P_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qD(n.key),n)}}function I_e(e,t,r){return t&&R_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D_e(e,t,r){return t=ev(t),M_e(e,WD()?Reflect.construct(t,r||[],ev(e).constructor):t.apply(e,r))}function M_e(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_e(e)}function $_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(e)}function L_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tw(e,t)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tw(e,t)}function HD(e,t,r){return t=qD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=F_e(e,"string");return vu(t)=="symbol"?t:t+""}function F_e(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function B_e(e){var t=e.xAxisId,r=Y2(),n=Q2(),a=kD(t);return a==null?null:A.createElement(Ku,rw({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ji(s,!0)}}))}var Vi=function(e){function t(){return P_e(this,t),D_e(this,t,arguments)}return L_e(t,e),I_e(t,[{key:"render",value:function(){return A.createElement(B_e,this.props)}}])}(A.Component);HD(Vi,"displayName","XAxis");HD(Vi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function U_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GD(n.key),n)}}function W_e(e,t,r){return t&&z_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H_e(e,t,r){return t=tv(t),q_e(e,VD()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function q_e(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(e)}function V_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(e)}function K_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(e,t)}function KD(e,t,r){return t=GD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GD(e){var t=G_e(e,"string");return gu(t)=="symbol"?t:t+""}function G_e(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}var X_e=function(t){var r=t.yAxisId,n=Y2(),a=Q2(),i=PD(r);return i==null?null:A.createElement(Ku,aw({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return ji(o,!0)}}))},Ki=function(e){function t(){return U_e(this,t),H_e(this,t,arguments)}return K_e(t,e),W_e(t,[{key:"render",value:function(){return A.createElement(X_e,this.props)}}])}(A.Component);KD(Ki,"displayName","YAxis");KD(Ki,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KO(e){return Z_e(e)||J_e(e)||Q_e(e)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(e,t){if(e){if(typeof e=="string")return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iw(e,t)}}function J_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z_e(e){if(Array.isArray(e))return iw(e)}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sw=function(t,r,n,a,i){var s=oa(t,Z2),o=oa(t,Og),c=[].concat(KO(s),KO(o)),u=oa(t,kg),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(v,x){if(x.props[d]===n&&ni(x.props,"extendDomain")&&ve(x.props[f])){var b=x.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,x){if(x.props[d]===n&&ni(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[g])){var b=x.props[p],m=x.props[g];return[Math.min(v[0],b,m),Math.max(v[1],b,m)]}return v},h)}return i&&i.length&&(h=i.reduce(function(v,x){return ve(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},XD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var v=r?r+u:u;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,m,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(y=1,m=new Array(b-1);y<b;y++)m[y-1]=arguments[y];x.fn.apply(x.context,m)}else{var _=x.length,w;for(y=0;y<_;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),b){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!m)for(w=1,m=new Array(b-1);w<b;w++)m[w-1]=arguments[w];x[y].fn.apply(x[y].context,m)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var v=0,x=[],b=g.length;v<b;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(XD);var e2e=XD.exports;const t2e=tt(e2e);var ry=new t2e,ny="recharts.syncMouseEvents";function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function r2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function a2e(e,t,r){return t&&n2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ay(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=i2e(e,"string");return ih(t)=="symbol"?t:t+""}function i2e(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s2e=function(){function e(){r2e(this,e),ay(this,"activeIndex",0),ay(this,"coordinateList",[]),ay(this,"layout","horizontal")}return a2e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function o2e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function l2e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function QD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=xt(t,r,n,a),o=xt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function c2e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=xt(o,c,u,f),p=xt(o,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return QD(t);return[{x:n,y:a},{x:i,y:s}]}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){u2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u2e(e,t,r){return t=d2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2e(e){var t=f2e(e,"string");return sh(t)=="symbol"?t:t+""}function f2e(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h2e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,v=Ob;if(h==="ScatterChart")g=s,v=Hxe;else if(h==="BarChart")g=l2e(f,s,c,d),v=q2;else if(f==="radial"){var x=QD(s),b=x.cx,m=x.cy,y=x.radius,_=x.startAngle,w=x.endAngle;g={cx:b,cy:m,startAngle:_,endAngle:w,innerRadius:y,outerRadius:y},v=Y6}else g={points:c2e(f,s,c)},v=Ob;var S=z0(z0(z0(z0({stroke:"#ccc",pointerEvents:"none"},c),g),De(p,!1)),{},{payload:o,payloadIndex:u,className:ze("recharts-tooltip-cursor",p.className)});return A.isValidElement(p)?A.cloneElement(p,S):A.createElement(v,S)}var p2e=["item"],m2e=["children","className","width","height","style","compact","title","desc"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}function XO(e,t){return x2e(e)||g2e(e,t)||ZD(e,t)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function x2e(e){if(Array.isArray(e))return e}function YO(e,t){if(e==null)return{};var r=y2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e8(n.key),n)}}function _2e(e,t,r){return t&&w2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S2e(e,t,r){return t=rv(t),E2e(e,JD()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function E2e(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2e(e)}function j2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function T2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ow(e,t)}function yu(e){return O2e(e)||N2e(e)||ZD(e)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZD(e,t){if(e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function N2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O2e(e){if(Array.isArray(e))return lw(e)}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=e8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=C2e(e,"string");return xu(t)=="symbol"?t:t+""}function C2e(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k2e={xAxis:["bottom","top"],yAxis:["left","right"]},P2e={width:"100%",height:"100%"},t8={x:0,y:0};function W0(e){return e}var R2e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},I2e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return oe(oe(oe({},a),xt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return oe(oe(oe({},a),xt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return t8},Pg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(yu(o),yu(u)):o},[]);return s.length>0?s:t&&t.length&&ve(a)&&ve(i)?t.slice(a,i+1):[]};function r8(e){return e==="number"?[0,"auto"]:void 0}var cw=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=Pg(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=$1(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(yu(c),[H6(u,h)]):c},[])},JO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=R2e(i,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=ume(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=cw(t,r,d,f),p=I2e(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},D2e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=L6(d,i);return n.reduce(function(g,v){var x,b=v.type.defaultProps!==void 0?oe(oe({},v.type.defaultProps),v.props):v.props,m=b.type,y=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,j=b.includeHidden,T=b[s];if(g[T])return g;var O=Pg(t.data,{graphicalItems:a.filter(function(P){var H,U=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s];return U===T}),dataStartIndex:c,dataEndIndex:u}),C=O.length,M,F,q;o2e(b.domain,_,m)&&(M=Eb(b.domain,null,_),p&&(m==="number"||S!=="auto")&&(q=qd(O,y,"category")));var V=r8(m);if(!M||M.length===0){var ne,se=(ne=b.domain)!==null&&ne!==void 0?ne:V;if(y){if(M=qd(O,y,m),m==="category"&&p){var G=ete(M);w&&G?(F=M,M=Hm(0,C)):w||(M=TN(se,M,v).reduce(function(P,H){return P.indexOf(H)>=0?P:[].concat(yu(P),[H])},[]))}else if(m==="category")w?M=M.filter(function(P){return P!==""&&!He(P)}):M=TN(se,M,v).reduce(function(P,H){return P.indexOf(H)>=0||H===""||He(H)?P:[].concat(yu(P),[H])},[]);else if(m==="number"){var te=mme(O,a.filter(function(P){var H,U,W=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s],ae="hide"in P.props?P.props.hide:(U=P.type.defaultProps)===null||U===void 0?void 0:U.hide;return W===T&&(j||!ae)}),y,i,d);te&&(M=te)}p&&(m==="number"||S!=="auto")&&(q=qd(O,y,"category"))}else p?M=Hm(0,C):o&&o[T]&&o[T].hasStack&&m==="number"?M=h==="expand"?[0,1]:W6(o[T].stackGroups,c,u):M=$6(O,a.filter(function(P){var H=s in P.props?P.props[s]:P.type.defaultProps[s],U="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return H===T&&(j||!U)}),m,d,!0);if(m==="number")M=sw(f,M,T,i,E),se&&(M=Eb(se,M,_));else if(m==="category"&&se){var ue=se,pe=M.every(function(P){return ue.indexOf(P)>=0});pe&&(M=ue)}}return oe(oe({},g),{},Re({},T,oe(oe({},b),{},{axisType:i,domain:M,categoricalDomain:q,duplicateDomain:F,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:p,layout:d})))},{})},M2e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Pg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=L6(d,i),v=-1;return n.reduce(function(x,b){var m=b.type.defaultProps!==void 0?oe(oe({},b.type.defaultProps),b.props):b.props,y=m[s],_=r8("number");if(!x[y]){v++;var w;return g?w=Hm(0,p):o&&o[y]&&o[y].hasStack?(w=W6(o[y].stackGroups,c,u),w=sw(f,w,y,i)):(w=Eb(_,$6(h,n.filter(function(S){var E,j,T=s in S.props?S.props[s]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[s],O="hide"in S.props?S.props.hide:(j=S.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!O}),"number",d),a.defaultProps.allowDataOverflow),w=sw(f,w,y,i)),oe(oe({},x),{},Re({},y,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Un(k2e,"".concat(i,".").concat(v%2),null),domain:w,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},$2e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=oa(d,i),p={};return h&&h.length?p=D2e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=M2e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},L2e=function(t){var r=hs(t),n=ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:x2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:km(r,n)}},ZO=function(t){var r=t.children,n=t.defaultShowTooltip,a=Pn(r,uu),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},F2e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ci(r&&r.type);return n&&n.indexOf("Bar")>=0})},eC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B2e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Pn(f,uu),g=Pn(f,ki),v=Object.keys(c).reduce(function(w,S){var E=c[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,S){var E=s[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,Un(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=oe(oe({},x),v),m=b.bottom;p&&(b.bottom+=p.props.height||uu.defaultProps.height),g&&r&&(b=hme(b,a,n,r));var y=u-b.left-b.right,_=d-b.top-b.bottom;return oe(oe({brushBottom:m},b),{},{width:Math.max(y,0),height:Math.max(_,0)})},U2e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},n8=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,m){var y=m.graphicalItems,_=m.stackGroups,w=m.offset,S=m.updateId,E=m.dataStartIndex,j=m.dataEndIndex,T=b.barSize,O=b.layout,C=b.barGap,M=b.barCategoryGap,F=b.maxBarSize,q=eC(O),V=q.numericAxisName,ne=q.cateAxisName,se=F2e(y),G=[];return y.forEach(function(te,ue){var pe=Pg(b.data,{graphicalItems:[te],dataStartIndex:E,dataEndIndex:j}),P=te.type.defaultProps!==void 0?oe(oe({},te.type.defaultProps),te.props):te.props,H=P.dataKey,U=P.maxBarSize,W=P["".concat(V,"Id")],ae=P["".concat(ne,"Id")],Se={},J=c.reduce(function(dn,Wa){var no=m["".concat(Wa.axisType,"Map")],Nn=P["".concat(Wa.axisType,"Id")];no&&no[Nn]||Wa.axisType==="zAxis"||dl();var ao=no[Nn];return oe(oe({},dn),{},Re(Re({},Wa.axisType,ao),"".concat(Wa.axisType,"Ticks"),ji(ao)))},Se),K=J[ne],ee=J["".concat(ne,"Ticks")],be=_&&_[W]&&_[W].hasStack&&Eme(te,_[W].stackGroups),re=Ci(te.type).indexOf("Bar")>=0,Le=km(K,ee),Ce=[],rt=se&&dme({barSize:T,stackGroups:_,totalSize:U2e(J,ne)});if(re){var Fe,we,qt=He(U)?F:U,Mr=(Fe=(we=km(K,ee,!0))!==null&&we!==void 0?we:qt)!==null&&Fe!==void 0?Fe:0;Ce=fme({barGap:C,barCategoryGap:M,bandSize:Mr!==Le?Mr:Le,sizeList:rt[ae],maxBarSize:qt}),Mr!==Le&&(Ce=Ce.map(function(dn){return oe(oe({},dn),{},{position:oe(oe({},dn.position),{},{offset:dn.position.offset-Mr/2})})}))}var Kn=te&&te.type&&te.type.getComposedData;Kn&&G.push({props:oe(oe({},Kn(oe(oe({},J),{},{displayedData:pe,props:b,dataKey:H,item:te,bandSize:Le,barPosition:Ce,offset:w,stackedData:be,layout:O,dataStartIndex:E,dataEndIndex:j}))),{},Re(Re(Re({key:te.key||"item-".concat(ue)},V,J[V]),ne,J[ne]),"animationId",S)),childIndex:fte(te,b.children),item:te})}),G},p=function(b,m){var y=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!bT({props:y}))return null;var E=y.children,j=y.layout,T=y.stackOffset,O=y.data,C=y.reverseStackOrder,M=eC(j),F=M.numericAxisName,q=M.cateAxisName,V=oa(E,n),ne=_me(O,V,"".concat(F,"Id"),"".concat(q,"Id"),T,C),se=c.reduce(function(P,H){var U="".concat(H.axisType,"Map");return oe(oe({},P),{},Re({},U,$2e(y,oe(oe({},H),{},{graphicalItems:V,stackGroups:H.axisType===F&&ne,dataStartIndex:_,dataEndIndex:w}))))},{}),G=B2e(oe(oe({},se),{},{props:y,graphicalItems:V}),m==null?void 0:m.legendBBox);Object.keys(se).forEach(function(P){se[P]=d(y,se[P],G,P.replace("Map",""),r)});var te=se["".concat(q,"Map")],ue=L2e(te),pe=h(y,oe(oe({},se),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:V,stackGroups:ne,offset:G}));return oe(oe({formattedGraphicalItems:pe,graphicalItems:V,offset:G,stackGroups:ne},ue),se)},g=function(x){function b(m){var y,_,w;return b2e(this,b),w=S2e(this,b,[m]),Re(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(w,"accessibilityManager",new s2e),Re(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,j=E.dataStartIndex,T=E.dataEndIndex,O=E.updateId;w.setState(oe({legendBBox:S},p({props:w.props,dataStartIndex:j,dataEndIndex:T,updateId:O},oe(oe({},w.state),{},{legendBBox:S}))))}}),Re(w,"handleReceiveSyncEvent",function(S,E,j){if(w.props.syncId===S){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Re(w,"handleBrushChange",function(S){var E=S.startIndex,j=S.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return oe({dataStartIndex:E,dataEndIndex:j},p({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Re(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseEnter;Me(T)&&T(j,S)}}),Re(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),j=E?oe(oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseMove;Me(T)&&T(j,S)}),Re(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Re(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Re(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Re(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Me(j)&&j(E,S)}),Re(w,"handleOuterEvent",function(S){var E=dte(S),j=Un(w.props,"".concat(E));if(E&&Me(j)){var T,O;/.*touch.*/i.test(E)?O=w.getMouseInfo(S.changedTouches[0]):O=w.getMouseInfo(S),j((T=O)!==null&&T!==void 0?T:{},S)}}),Re(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onClick;Me(T)&&T(j,S)}}),Re(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Re(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Re(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Re(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&ry.emit(ny,w.props.syncId,S,w.eventEmitterSymbol)}),Re(w,"applySyncEvent",function(S){var E=w.props,j=E.layout,T=E.syncMethod,O=w.state.updateId,C=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:C,dataEndIndex:M},p({props:w.props,dataStartIndex:C,dataEndIndex:M,updateId:O},w.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,q=S.chartY,V=S.activeTooltipIndex,ne=w.state,se=ne.offset,G=ne.tooltipTicks;if(!se)return;if(typeof T=="function")V=T(G,S);else if(T==="value"){V=-1;for(var te=0;te<G.length;te++)if(G[te].value===S.activeLabel){V=te;break}}var ue=oe(oe({},se),{},{x:se.left,y:se.top}),pe=Math.min(F,ue.x+ue.width),P=Math.min(q,ue.y+ue.height),H=G[V]&&G[V].value,U=cw(w.state,w.props.data,V),W=G[V]?{x:j==="horizontal"?G[V].coordinate:pe,y:j==="horizontal"?P:G[V].coordinate}:t8;w.setState(oe(oe({},S),{},{activeLabel:H,activeCoordinate:W,activePayload:U,activeTooltipIndex:V}))}else w.setState(S)}),Re(w,"renderCursor",function(S){var E,j=w.state,T=j.isTooltipActive,O=j.activeCoordinate,C=j.activePayload,M=j.offset,F=j.activeTooltipIndex,q=j.tooltipAxisBandSize,V=w.getTooltipEventType(),ne=(E=S.props.active)!==null&&E!==void 0?E:T,se=w.props.layout,G=S.key||"_recharts-cursor";return z.createElement(h2e,{key:G,activeCoordinate:O,activePayload:C,activeTooltipIndex:F,chartName:r,element:S,isActive:ne,layout:se,offset:M,tooltipAxisBandSize:q,tooltipEventType:V})}),Re(w,"renderPolarAxis",function(S,E,j){var T=Un(S,"type.axisType"),O=Un(w.state,"".concat(T,"Map")),C=S.type.defaultProps,M=C!==void 0?oe(oe({},C),S.props):S.props,F=O&&O[M["".concat(T,"Id")]];return A.cloneElement(S,oe(oe({},F),{},{className:ze(T,F.className),key:S.key||"".concat(E,"-").concat(j),ticks:ji(F,!0)}))}),Re(w,"renderPolarGrid",function(S){var E=S.props,j=E.radialLines,T=E.polarAngles,O=E.polarRadius,C=w.state,M=C.radiusAxisMap,F=C.angleAxisMap,q=hs(M),V=hs(F),ne=V.cx,se=V.cy,G=V.innerRadius,te=V.outerRadius;return A.cloneElement(S,{polarAngles:Array.isArray(T)?T:ji(V,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(O)?O:ji(q,!0).map(function(ue){return ue.coordinate}),cx:ne,cy:se,innerRadius:G,outerRadius:te,key:S.key||"polar-grid",radialLines:j})}),Re(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,j=E.children,T=E.width,O=E.height,C=w.props.margin||{},M=T-(C.left||0)-(C.right||0),F=D6({children:j,formattedGraphicalItems:S,legendWidth:M,legendContent:u});if(!F)return null;var q=F.item,V=YO(F,p2e);return A.cloneElement(q,oe(oe({},V),{},{chartWidth:T,chartHeight:O,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Re(w,"renderTooltip",function(){var S,E=w.props,j=E.children,T=E.accessibilityLayer,O=Pn(j,pr);if(!O)return null;var C=w.state,M=C.isTooltipActive,F=C.activeCoordinate,q=C.activePayload,V=C.activeLabel,ne=C.offset,se=(S=O.props.active)!==null&&S!==void 0?S:M;return A.cloneElement(O,{viewBox:oe(oe({},ne),{},{x:ne.left,y:ne.top}),active:se,label:V,payload:se?q:[],coordinate:F,accessibilityLayer:T})}),Re(w,"renderBrush",function(S){var E=w.props,j=E.margin,T=E.data,O=w.state,C=O.offset,M=O.dataStartIndex,F=O.dataEndIndex,q=O.updateId;return A.cloneElement(S,{key:S.key||"_recharts-brush",onChange:L0(w.handleBrushChange,S.props.onChange),data:T,x:ve(S.props.x)?S.props.x:C.left,y:ve(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(j.bottom||0),width:ve(S.props.width)?S.props.width:C.width,startIndex:M,endIndex:F,updateId:"brush-".concat(q)})}),Re(w,"renderReferenceElement",function(S,E,j){if(!S)return null;var T=w,O=T.clipPathId,C=w.state,M=C.xAxisMap,F=C.yAxisMap,q=C.offset,V=S.type.defaultProps||{},ne=S.props,se=ne.xAxisId,G=se===void 0?V.xAxisId:se,te=ne.yAxisId,ue=te===void 0?V.yAxisId:te;return A.cloneElement(S,{key:S.key||"".concat(E,"-").concat(j),xAxis:M[G],yAxis:F[ue],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:O})}),Re(w,"renderActivePoints",function(S){var E=S.item,j=S.activePoint,T=S.basePoint,O=S.childIndex,C=S.isRange,M=[],F=E.props.key,q=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,V=q.activeDot,ne=q.dataKey,se=oe(oe({index:O,dataKey:ne,cx:j.x,cy:j.y,r:4,fill:H2(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},De(V,!1)),am(V));return M.push(b.renderActiveDot(V,se,"".concat(F,"-activePoint-").concat(O))),T?M.push(b.renderActiveDot(V,oe(oe({},se),{},{cx:T.x,cy:T.y}),"".concat(F,"-basePoint-").concat(O))):C&&M.push(null),M}),Re(w,"renderGraphicChild",function(S,E,j){var T=w.filterFormatItem(S,E,j);if(!T)return null;var O=w.getTooltipEventType(),C=w.state,M=C.isTooltipActive,F=C.tooltipAxis,q=C.activeTooltipIndex,V=C.activeLabel,ne=w.props.children,se=Pn(ne,pr),G=T.props,te=G.points,ue=G.isRange,pe=G.baseLine,P=T.item.type.defaultProps!==void 0?oe(oe({},T.item.type.defaultProps),T.item.props):T.item.props,H=P.activeDot,U=P.hide,W=P.activeBar,ae=P.activeShape,Se=!!(!U&&M&&se&&(H||W||ae)),J={};O!=="axis"&&se&&se.props.trigger==="click"?J={onClick:L0(w.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(J={onMouseLeave:L0(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:L0(w.handleItemMouseEnter,S.props.onMouseEnter)});var K=A.cloneElement(S,oe(oe({},T.props),J));function ee(Wa){return typeof F.dataKey=="function"?F.dataKey(Wa.payload):null}if(Se)if(q>=0){var be,re;if(F.dataKey&&!F.allowDuplicatedCategory){var Le=typeof F.dataKey=="function"?ee:"payload.".concat(F.dataKey.toString());be=$1(te,Le,V),re=ue&&pe&&$1(pe,Le,V)}else be=te==null?void 0:te[q],re=ue&&pe&&pe[q];if(ae||W){var Ce=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[A.cloneElement(S,oe(oe(oe({},T.props),J),{},{activeIndex:Ce})),null,null]}if(!He(be))return[K].concat(yu(w.renderActivePoints({item:T,activePoint:be,basePoint:re,childIndex:q,isRange:ue})))}else{var rt,Fe=(rt=w.getItemByXY(w.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:K},we=Fe.graphicalItem,qt=we.item,Mr=qt===void 0?S:qt,Kn=we.childIndex,dn=oe(oe(oe({},T.props),J),{},{activeIndex:Kn});return[A.cloneElement(Mr,dn),null,null]}return ue?[K,null,null]:[K,null]}),Re(w,"renderCustomized",function(S,E,j){return A.cloneElement(S,oe(oe({key:"recharts-customized-".concat(j)},w.props),w.state))}),Re(w,"renderMap",{CartesianGrid:{handler:W0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:W0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:W0},YAxis:{handler:W0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=m.id)!==null&&y!==void 0?y:Dh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=II(w.triggeredAfterMouseMove,(_=m.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return T2e(b,x),_2e(b,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,w=y.data,S=y.height,E=y.layout,j=Pn(_,pr);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=cw(this.state,w,T,O),M=this.state.tooltipTicks[T].coordinate,F=(this.state.offset.top+S)/2,q=E==="horizontal",V=q?{x:M,y:F}:{y:M,x:F},ne=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});ne&&(V=oe(oe({},V),ne.props.points[T].tooltipPosition),C=ne.props.points[T].tooltipPayload);var se={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:V};this.setState(se),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){F1([Pn(y.children,pr)],[Pn(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Pn(this.props.children,pr);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Lde(w),E={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},j=w.width/_.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,j);if(!T)return null;var O=this.state,C=O.xAxisMap,M=O.yAxisMap,F=this.getTooltipEventType(),q=JO(this.state,this.props.data,this.props.layout,T);if(F!=="axis"&&C&&M){var V=hs(C).scale,ne=hs(M).scale,se=V&&V.invert?V.invert(E.chartX):null,G=ne&&ne.invert?ne.invert(E.chartY):null;return oe(oe({},E),{},{xValue:se,yValue:G},q)}return q?oe(oe({},E),q):null}},{key:"inRange",value:function(y,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=y/w,j=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,O=E>=T.left&&E<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return O?{x:E,y:j}:null}var C=this.state,M=C.angleAxisMap,F=C.radiusAxisMap;if(M&&F){var q=hs(M);return ON({x:E,y:j},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),w=Pn(y,pr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=am(this.props,this.handleOuterEvent);return oe(oe({},E),S)}},{key:"addListener",value:function(){ry.on(ny,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ry.removeListener(ny,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,w){for(var S=this.state.formattedGraphicalItems,E=0,j=S.length;E<j;E++){var T=S[E];if(T.item===y||T.props.key===y.key||_===Ci(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,E=_.height,j=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:w,y:S,height:E,width:j})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=XO(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=XO(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var T=w[E],O=T.props,C=T.item,M=C.type.defaultProps!==void 0?oe(oe({},C.type.defaultProps),C.props):C.props,F=Ci(C.type);if(F==="Bar"){var q=(O.data||[]).find(function(G){return Exe(y,G)});if(q)return{graphicalItem:T,payload:q}}else if(F==="RadialBar"){var V=(O.data||[]).find(function(G){return ON(y,G)});if(V)return{graphicalItem:T,payload:V}}else if(jg(T,S)||Tg(T,S)||eh(T,S)){var ne=f1e({graphicalItem:T,activeTooltipItem:S,itemData:M.data}),se=M.activeIndex===void 0?ne:M.activeIndex;return{graphicalItem:oe(oe({},T),{},{childIndex:se}),payload:eh(T,S)?M.data[ne]:T.props.data[ne]}}}return null}},{key:"render",value:function(){var y=this;if(!bT(this))return null;var _=this.props,w=_.children,S=_.className,E=_.width,j=_.height,T=_.style,O=_.compact,C=_.title,M=_.desc,F=YO(_,m2e),q=De(F,!1);if(O)return z.createElement(IO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(U1,ic({},q,{width:E,height:j,title:C,desc:M}),this.renderClipPath(),_T(w,this.renderMap)));if(this.props.accessibilityLayer){var V,ne;q.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,q.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",q.onKeyDown=function(G){y.accessibilityManager.keyboardEvent(G)},q.onFocus=function(){y.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return z.createElement(IO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",ic({className:ze("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:E,height:j},T)},se,{ref:function(te){y.container=te}}),z.createElement(U1,ic({},q,{width:E,height:j,title:C,desc:M,style:P2e}),this.renderClipPath(),_T(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Re(g,"displayName",r),Re(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(g,"getDerivedStateFromProps",function(x,b){var m=x.dataKey,y=x.data,_=x.children,w=x.width,S=x.height,E=x.layout,j=x.stackOffset,T=x.margin,O=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var M=ZO(x);return oe(oe(oe({},M),{},{updateId:0},p(oe(oe({props:x},M),{},{updateId:0}),b)),{},{prevDataKey:m,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(m!==b.prevDataKey||y!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||j!==b.prevStackOffset||!yc(T,b.prevMargin)){var F=ZO(x),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=oe(oe({},JO(b,y,E)),{},{updateId:b.updateId+1}),ne=oe(oe(oe({},F),q),V);return oe(oe(oe({},ne),p(oe({props:x},ne),b)),{},{prevDataKey:m,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(!F1(_,b.prevChildren)){var se,G,te,ue,pe=Pn(_,uu),P=pe&&(se=(G=pe.props)===null||G===void 0?void 0:G.startIndex)!==null&&se!==void 0?se:O,H=pe&&(te=(ue=pe.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&te!==void 0?te:C,U=P!==O||H!==C,W=!He(y),ae=W&&!U?b.updateId:b.updateId+1;return oe(oe({updateId:ae},p(oe(oe({props:x},b),{},{updateId:ae,dataStartIndex:P,dataEndIndex:H}),b)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:H})}return null}),Re(g,"renderActiveDot",function(x,b,m){var y;return A.isValidElement(x)?y=A.cloneElement(x,b):Me(x)?y=x(b):y=z.createElement(V2,b),z.createElement(it,{className:"recharts-active-dot",key:m},y)});var v=A.forwardRef(function(b,m){return z.createElement(g,ic({},b,{ref:m}))});return v.displayName=g.displayName,v},bu=n8({chartName:"BarChart",GraphicalChild:yn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vi},{axisType:"yAxis",AxisComp:Ki}],formatAxisMap:Hbe}),rS=n8({chartName:"PieChart",GraphicalChild:za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eg},{axisType:"radiusAxis",AxisComp:_g}],formatAxisMap:Ime,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const gd={ASIGNADA:"#3b82f6",RECUPERADA:"#8b5cf6",CERRADA:"#6b7280",PERDIDA:"#ef4444",DETERIORO:"#f97316"},z2e=({loans:e})=>{const t=A.useMemo(()=>{const a={},i=new Date;for(let s=7;s>=0;s--){const o=new Date(i);o.setDate(o.getDate()-s*7);const c=`S${8-s}`;a[c]=0}return e.forEach(s=>{const o=new Date(s.issued_at),c=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24*7));if(c>=0&&c<8){const u=`S${8-c}`;a[u]!==void 0&&a[u]++}}),Object.entries(a).map(([s,o])=>({week:s,count:o}))},[e]),r=A.useMemo(()=>{const a=e.filter(s=>s.reason==="PERDIDA").length,i=e.filter(s=>s.reason==="DETERIORO").length;return[{name:"Perdida",value:a,color:gd.PERDIDA},{name:"Deterioro",value:i,color:gd.DETERIORO}].filter(s=>s.value>0)},[e]),n=A.useMemo(()=>Vs.map(a=>{const i=e.filter(s=>{var o;return((o=s.backup_cards)==null?void 0:o.inventory_terminal)===a});return{terminal:a.split(" ")[0],ASIGNADA:i.filter(s=>s.status==="ASIGNADA").length,RECUPERADA:i.filter(s=>s.status==="RECUPERADA").length,CERRADA:i.filter(s=>s.status==="CERRADA").length}}),[e]);return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Prestamos por Semana"}),l.jsx("div",{className:"h-48",children:l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:t,children:[l.jsx(hl,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Vi,{dataKey:"week",tick:{fontSize:11}}),l.jsx(Ki,{tick:{fontSize:11},allowDecimals:!1}),l.jsx(pr,{}),l.jsx(yn,{dataKey:"count",name:"Prestamos",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Motivo de Solicitud"}),l.jsx("div",{className:"h-48",children:r.length>0?l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(rS,{children:[l.jsx(za,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,labelLine:!1,children:r.map((a,i)=>l.jsx(es,{fill:a.color},`cell-${i}`))}),l.jsx(pr,{})]})}):l.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos"})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Estado por Terminal"}),l.jsx("div",{className:"h-48",children:l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:n,layout:"vertical",children:[l.jsx(hl,{strokeDasharray:"3 3",horizontal:!1}),l.jsx(Vi,{type:"number",tick:{fontSize:11},allowDecimals:!1}),l.jsx(Ki,{type:"category",dataKey:"terminal",tick:{fontSize:11},width:60}),l.jsx(pr,{}),l.jsx(ki,{wrapperStyle:{fontSize:10}}),l.jsx(yn,{dataKey:"ASIGNADA",name:"Asignada",stackId:"a",fill:gd.ASIGNADA}),l.jsx(yn,{dataKey:"RECUPERADA",name:"Recuperada",stackId:"a",fill:gd.RECUPERADA}),l.jsx(yn,{dataKey:"CERRADA",name:"Cerrada",stackId:"a",fill:gd.CERRADA})]})})})]})]})},nv=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),pl=e=>{const t=nv(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},tC=e=>{const t=nv(e);if(t.length<8||t.length>9)return!1;const r=t.slice(0,-1),n=t.slice(-1);if(!/^\d+$/.test(r))return!1;let a=0,i=2;for(let c=r.length-1;c>=0;c--)a+=parseInt(r[c])*i,i=i===7?2:i+1;const s=a%11,o=s===0?"0":s===1?"K":String(11-s);return n===o},W2e=({status:e,isOverdue:t})=>{const r="inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full";if(t&&e==="ASIGNADA")return l.jsxs("span",{className:`${r} bg-amber-100 text-amber-800`,children:[l.jsx(Fv,{className:"w-3 h-3"}),"ATRASADA"]});const n={ASIGNADA:"bg-blue-100 text-blue-800",RECUPERADA:"bg-emerald-100 text-emerald-800",CERRADA:"bg-slate-100 text-slate-700",CANCELADA:"bg-red-100 text-red-800"};return l.jsx("span",{className:`${r} ${n[e]||"bg-slate-100 text-slate-700"}`,children:e})},H2e=({reason:e})=>{const t={PERDIDA:"bg-red-50 text-red-700",DETERIORO:"bg-orange-50 text-orange-700"};return l.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${t[e]||""}`,children:e==="PERDIDA"?"Perdida":"Deterioro"})},q2e=({loans:e,onView:t,onEdit:r,onRecover:n,onCancel:a,onResendEmails:i})=>{const s=A.useMemo(()=>{const o=new Date;return e.map(c=>{const u=new Date(c.issued_at),d=Math.floor((o.getTime()-u.getTime())/(1e3*60*60*24));return{...c,daysPassed:d,isOverdue:c.status==="ASIGNADA"&&d>c.alert_after_days}})},[e]);return e.length===0?l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:l.jsx("p",{className:"text-slate-500",children:"No se encontraron prestamos con los filtros seleccionados."})}):l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Trabajador"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"RUT"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Terminal"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Tarjeta"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Motivo"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Entrega"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Dias"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>{var c,u;return l.jsxs("tr",{className:`hover:bg-slate-50 ${o.isOverdue?"bg-amber-50/50":""}`,children:[l.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:o.person_name}),l.jsx("p",{className:"text-xs text-slate-500",children:o.person_cargo||"-"})]}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:pl(o.person_rut)}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:o.person_terminal}),l.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[l.jsx("p",{className:"text-sm font-mono text-slate-900",children:((c=o.backup_cards)==null?void 0:c.card_number)||"-"}),l.jsx("p",{className:"text-xs text-slate-500",children:(u=o.backup_cards)==null?void 0:u.inventory_terminal})]}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx(H2e,{reason:o.reason})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(o.issued_at).toLocaleDateString("es-CL")}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsxs("span",{className:`text-sm font-medium ${o.isOverdue?"text-amber-600":"text-slate-700"}`,children:[o.daysPassed,"d"]})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx(W2e,{status:o.status,isOverdue:o.isOverdue})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx("button",{onClick:()=>t(o),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded",title:"Ver detalle",children:l.jsx(WY,{className:"w-4 h-4"})}),o.status==="ASIGNADA"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(o),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:l.jsx(lQ,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n(o),className:"p-1.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded",title:"Marcar recuperada",children:l.jsx(gR,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>a(o),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Cancelar",children:l.jsx(Ui,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:()=>i(o),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Reenviar correos",children:l.jsx(mR,{className:"w-4 h-4"})})]})})]},o.id)})})]})})})},V2e=async(e,t)=>{let r=xe.from("backup_cards").select("*").order("card_number",{ascending:!0});e&&e!=="TODAS"&&(r=r.eq("status",e)),t&&(r=r.eq("inventory_terminal",t));const{data:n,error:a}=await r;if(a)throw a;return n},K2e=async e=>{let t=xe.from("backup_cards").select("*").eq("status","LIBRE").order("card_number");e&&(t=t.eq("inventory_terminal",e));const{data:r,error:n}=await t;if(n)throw n;return r},G2e=async e=>{const{data:t,error:r}=await xe.from("backup_cards").insert({card_number:e.card_number,inventory_terminal:e.inventory_terminal,notes:e.notes||null,status:"LIBRE"}).select().single();if(r)throw r;return t},X2e=async e=>{const{error:t}=await xe.from("backup_cards").update({status:"INACTIVA"}).eq("id",e);if(t)throw t},Y2e=async e=>{let t=xe.from("backup_loans").select("*, backup_cards(*)").order("issued_at",{ascending:!1});e&&(e.search&&(t=t.or(`person_rut.ilike.%${e.search}%,person_name.ilike.%${e.search}%`)),e.terminal&&(t=t.eq("person_terminal",e.terminal)),e.status&&e.status!=="TODAS"&&(t=t.eq("status",e.status)),e.reason&&e.reason!=="TODAS"&&(t=t.eq("reason",e.reason)),e.dateFrom&&(t=t.gte("issued_at",e.dateFrom)),e.dateTo&&(t=t.lte("issued_at",e.dateTo+"T23:59:59")));const{data:r,error:n}=await t;if(n)throw n;return r},Q2e=async e=>{const{data:t,error:r}=await xe.from("backup_loans").insert({card_id:e.card_id,person_rut:e.person_rut,person_name:e.person_name,person_cargo:e.person_cargo||null,person_terminal:e.person_terminal,person_turno:e.person_turno||null,person_horario:e.person_horario||null,person_contacto:e.person_contacto||null,boss_email:e.worker_email||null,reason:e.reason,requested_at:e.requested_at,discount_amount:e.discount_amount,discount_applied:e.discount_applied,created_by_supervisor:e.created_by_supervisor,status:"ASIGNADA"}).select("*, backup_cards(*)").single();if(r)throw r;const{error:n}=await xe.from("backup_cards").update({status:"ASIGNADA"}).eq("id",e.card_id);if(n)throw n;return t},J2e=async(e,t,r)=>{const{data:n,error:a}=await xe.from("backup_loans").select("card_id").eq("id",e).single();if(a)throw a;const{error:i}=await xe.from("backup_loans").update({status:"CERRADA",recovered_at:t,closed_at:new Date().toISOString()}).eq("id",e);if(i)throw i;const{error:s}=await xe.from("backup_cards").update({status:"LIBRE"}).eq("id",n.card_id);if(s)throw s},Z2e=async(e,t)=>{const{data:r,error:n}=await xe.from("backup_loans").select("card_id").eq("id",e).single();if(n)throw n;const{error:a}=await xe.from("backup_loans").update({status:"CANCELADA",cancel_reason:t,closed_at:new Date().toISOString()}).eq("id",e);if(a)throw a;const{error:i}=await xe.from("backup_cards").update({status:"LIBRE"}).eq("id",r.card_id);if(i)throw i},eSe=async e=>{const{error:t}=await xe.from("backup_loans").update({emails_sent_at:new Date().toISOString()}).eq("id",e);if(t)throw t},a8=async()=>{const{data:e,error:t}=await xe.from("backup_email_settings").select("*").order("scope_type",{ascending:!1});if(t)throw t;return e},tSe=async e=>{const{data:t,error:r}=await xe.from("backup_email_settings").upsert(e,{onConflict:"scope_type,scope_code"}).select().single();if(r)throw r;return t},rSe=async()=>{const{data:e,error:t}=await xe.from("backup_cards").select("inventory_terminal, status");if(t)throw t;const r={"El Roble":0,"La Reina":0,"Maria Angelica":0};e==null||e.forEach(p=>{if(p.status==="LIBRE"){const g=p.inventory_terminal;Vs.includes(g)&&r[g]++}});const{data:n,error:a}=await xe.from("backup_loans").select("id, issued_at, alert_after_days, discount_amount, discount_applied").eq("status","ASIGNADA");if(a)throw a;const i=new Date;let s=0,o=0;n==null||n.forEach(p=>{const g=new Date(p.issued_at);Math.floor((i.getTime()-g.getTime())/(1e3*60*60*24))>p.alert_after_days&&s++,p.discount_applied&&(o+=p.discount_amount)});const c=new Date;c.setDate(c.getDate()-30);const{data:u,error:d}=await xe.from("backup_loans").select("issued_at, recovered_at, discount_amount, discount_applied").in("status",["RECUPERADA","CERRADA"]).gte("closed_at",c.toISOString());if(d)throw d;let f=0,h=0;return u==null||u.forEach(p=>{if(p.recovered_at){const g=new Date(p.issued_at),v=new Date(p.recovered_at),x=Math.floor((v.getTime()-g.getTime())/(1e3*60*60*24));f+=x,h++}p.discount_applied&&(o+=p.discount_amount)}),{availableByTerminal:r,activeLoans:(n==null?void 0:n.length)||0,overdueLoans:s,avgReturnDays:h>0?Math.round(f/h):0,totalDiscounts:o}},Kr={user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,card:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1" y="3" width="16" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M1 7H17" stroke="#64748b" stroke-width="1.5"/>
        <path d="M4 11H8" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,warning:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 6V10M9 12.5V13" stroke="#f59e0b" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M3 15L9 3L15 15H3Z" stroke="#f59e0b" stroke-width="1.5" stroke-linejoin="round"/>
    </svg>`,money:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="9" r="7" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 5V13M11 7H7.5C6.67157 7 6 7.67157 6 8.5C6 9.32843 6.67157 10 7.5 10H10.5C11.3284 10 12 10.6716 12 11.5C12 12.3284 11.3284 13 10.5 13H6" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,supervisor:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="6" r="3" stroke="#64748b" stroke-width="1.5"/>
        <path d="M3 16C3 13.2386 5.68629 11 9 11C12.3137 11 15 13.2386 15 16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 3L10 1.5L11 3" stroke="#f59e0b" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`},Gr=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,nSe=e=>new Date(e).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),aSe=async(e,t,r,n)=>{var f;const a=((f=e.backup_cards)==null?void 0:f.card_number)||"N/A",i=e.person_terminal,s=e.reason==="PERDIDA"?"Prdida de Credencial":"Deterioro de Credencial",o=nSe(e.issued_at),c=n?[n]:void 0,u=e.reason==="PERDIDA"?"#ef4444":"#f59e0b",d=e.reason==="PERDIDA"?"#fef2f2":"#fffbeb";try{const h=`Solicitud Nueva Credencial - ${e.person_name}`,p=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#dbeafe" stroke="#3b82f6" stroke-width="3"/>
                                        <rect x="18" y="20" width="20" height="16" rx="2" stroke="#2563eb" stroke-width="2.5"/>
                                        <circle cx="24" cy="27" r="3" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M20 33C20 31 21.5 29 24 29C26.5 29 28 31 28 33" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M31 25H35M31 29H34" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #1e40af; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Accin Requerida</span>
                                    <span style="font-size: 20px; font-weight: 800; color: #1d4ed8; letter-spacing: -0.5px;">SOLICITUD DE NUEVA CREDENCIAL</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Reason Badge -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td align="center">
                        <span style="display: inline-block; padding: 8px 20px; background: ${d}; border: 1px solid ${u}; border-radius: 100px; color: ${u}; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${s}</span>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Gr(Kr.user,"Nombre",e.person_name,!0)}
                ${Gr(Kr.id,"RUT",e.person_rut)}
                ${Gr(Kr.building,"Terminal",i)}
                ${Gr(Kr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Gr(Kr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Gr(Kr.calendar,"Fecha Solicitud",e.requested_at)}
                ${Gr(Kr.supervisor,"Supervisor Entrega",e.created_by_supervisor)}
            </table>
            
            <!-- Action Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #166534; font-weight: 600; text-align: center;">
                             Por favor proceder con la emisin de una nueva credencial para este trabajador.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
        `.trim();await sl.sendEmail({audience:"manual",manualRecipients:[t],cc:r?r.split(",").map(x=>x.trim()).filter(Boolean):void 0,subject:h,body:p,attachments:c,module:"credenciales"});const g=`Notificacin Credencial Respaldo - ${e.person_name}`,v=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #fef3c7; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#fef9c3" stroke="#eab308" stroke-width="3"/>
                                        <path d="M28 18V32M28 36V38" stroke="#ca8a04" stroke-width="4" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Notificacin Importante</span>
                                    <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">CREDENCIAL DE RESPALDO ASIGNADA</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Intro Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 16px 20px; background: #f8fafc; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #475569; line-height: 1.6;">
                            Se le informa que el trabajador a su cargo <strong style="color: #0f172a;">${e.person_name}</strong> utilizar una tarjeta de respaldo mientras se gestiona una nueva credencial.
                        </p>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Gr(Kr.user,"Nombre",e.person_name,!0)}
                ${Gr(Kr.id,"RUT",e.person_rut)}
                ${Gr(Kr.building,"Terminal",i)}
                ${Gr(Kr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Gr(Kr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Gr(Kr.warning,"Motivo",s)}
                ${Gr(Kr.calendar,"Fecha de Entrega",o)}
                ${e.discount_applied?Gr(Kr.money,"Descuento Aplicado",`$${e.discount_amount.toLocaleString("es-CL")} (1 cuota)`,!0):""}
            </table>
            
            <!-- Important Notice -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #1e40af; font-weight: 500; text-align: center;">
                             Una vez que el trabajador reciba su nueva credencial, deber devolver la tarjeta de respaldo.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
            
            <!-- Signature -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-top: 16px; border-top: 1px solid #e2e8f0;">
                        <p style="margin: 0; font-size: 14px; color: #64748b;">Saludos cordiales,</p>
                        <p style="margin: 4px 0 0 0; font-size: 14px; font-weight: 700; color: #0f172a;">Gestin de Personal</p>
                    </td>
                </tr>
            </table>
        `.trim();return e.boss_email&&await sl.sendEmail({audience:"manual",manualRecipients:[e.boss_email],subject:g,body:v,module:"credenciales"}),await eSe(e.id),{success:!0}}catch(h){return console.error("Error sending backup emails:",h),{success:!1,error:h instanceof Error?h.message:"Error desconocido al enviar correos"}}},iSe=({isOpen:e,onClose:t,onSubmit:r,isLoading:n,supervisorName:a})=>{const i=A.useRef(null),[s,o]=A.useState({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),[c,u]=A.useState(""),[d,f]=A.useState(""),{data:h=[]}=St({queryKey:["backup-cards-available",c],queryFn:()=>K2e(c||void 0),enabled:e}),p=async()=>{const x=nv(s.person_rut);if(!x)return;if(!tC(x)){f("RUT invalido");return}f("");const{data:b}=await xe.from("staff").select("nombre, cargo, terminal_code, turno, horario, contacto").eq("rut",x).single();o(b?m=>({...m,person_rut:pl(x),person_name:b.nombre,person_cargo:b.cargo||"",person_terminal:b.terminal_code||"EL_ROBLE",person_turno:b.turno||"",person_horario:b.horario||"",person_contacto:b.contacto||""}):m=>({...m,person_rut:pl(x)}))},g=async x=>{if(x.preventDefault(),!tC(nv(s.person_rut))){f("RUT invalido");return}await r(s,v)},v=()=>{const x=window.open("","_blank");if(x){const b=new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"});x.document.write(`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autorizacin de Descuento - ${s.person_name||"RBU"}</title>
    <style>
        @page { size: letter; margin: 15mm 20mm; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: white;
            padding: 0;
            color: #000;
            font-size: 12px;
            line-height: 1.4;
        }

        .page {
            width: 100%;
            max-width: 210mm;
            margin: 0 auto;
        }

        /* Header Styles */
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 5px;
            padding-bottom: 5px;
            border-bottom: 3px solid black;
        }

        /* Logo RBU con camion CSS */
        .logo-container {
            position: relative;
            width: 150px;
            height: 50px;
        }
        .truck-body {
            border: 4px solid #003399;
            border-radius: 8px;
            width: 120px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
            background: white;
            z-index: 2;
        }
        .truck-cab {
            position: absolute;
            top: 5px;
            right: 15px;
            width: 25px;
            height: 35px;
            border-top: 4px solid #003399;
            border-right: 4px solid #003399;
            border-radius: 0 5px 0 0;
        }
        .logo-text {
            color: #cc0000;
            font-weight: 900;
            font-size: 32px;
            font-family: 'Arial Black', Arial, sans-serif;
            letter-spacing: -2px;
        }
        .wheel {
            width: 12px;
            height: 12px;
            border: 4px solid #003399;
            border-radius: 50%;
            position: absolute;
            bottom: -5px;
            background: white;
            z-index: 3;
        }
        .w1 { left: 20px; }
        .w2 { left: 90px; }

        .rbu-santiago {
            color: #cc0000;
            font-weight: bold;
            font-size: 14px;
        }

        .title-bar {
            background-color: black;
            color: white;
            text-align: center;
            padding: 8px 0;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 25px;
        }

        /* Form Fields */
        .field-row {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-end;
        }
        
        .field-label {
            font-weight: bold;
            font-size: 11px;
            white-space: nowrap;
            margin-right: 10px;
        }

        .field-line {
            border-bottom: 2px solid black;
            flex-grow: 1;
            min-height: 18px;
            padding-left: 5px;
            font-size: 12px;
        }

        .rut-row {
            display: flex;
            justify-content: space-between;
        }
        
        .rut-container {
            display: flex;
            width: 38%;
            align-items: flex-end;
        }
        
        .cargo-container {
            display: flex;
            width: 55%;
            align-items: flex-end;
        }

        /* Authorization Text */
        .auth-text {
            text-align: center;
            font-weight: bold;
            margin: 25px 0;
            font-size: 13px;
            letter-spacing: 0.5px;
        }

        .amount-row {
            display: flex;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 12px;
            gap: 20px;
        }

        .concept-row {
            margin-left: 30px;
            margin-bottom: 5px;
            font-size: 13px;
        }
        .desc-small {
            font-size: 10px;
            margin-left: 30px;
            margin-bottom: 18px;
            color: #555;
        }

        /* Right aligned details */
        .details-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            margin-right: 20px;
        }
        
        .detail-item {
            display: flex;
            align-items: flex-end;
            margin-bottom: 8px;
            width: 280px;
            justify-content: flex-end;
        }
        
        .detail-item label {
            font-size: 11px;
            margin-right: 10px;
        }
        
        .detail-value {
            border-bottom: 2px solid black;
            width: 110px;
            text-align: right;
            font-weight: bold;
            font-size: 14px;
            padding-bottom: 2px;
            padding-right: 5px;
        }

        /* Signature & Date */
        .sig-date-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-top: 30px;
            margin-bottom: 10px;
            font-style: italic;
            font-size: 11px;
            font-weight: bold;
        }
        .date-val {
            font-size: 12px;
            font-style: normal;
        }

        .signature-line {
            border-bottom: 2px solid black;
            width: 200px;
            margin-top: 40px;
        }

        .legal-text {
            font-size: 9px;
            text-align: justify;
            line-height: 1.3;
            margin: 15px 0;
            padding-top: 10px;
            border-top: 1px solid #ccc;
        }

        /* Observations Box */
        .obs-header {
            background-color: #333;
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 11px;
            padding: 4px;
            border: 2px solid black;
            border-bottom: none;
        }
        .obs-box {
            border: 2px solid black;
            height: 50px;
            margin-bottom: 30px;
        }

        /* Footer */
        .footer-line {
            border-top: 3px solid black;
            padding-top: 8px;
            text-align: center;
            font-size: 10px;
            font-weight: bold;
            margin-top: 20px;
        }
        .company-name {
            text-align: right;
            font-weight: bold;
            margin-top: 15px;
            font-size: 11px;
            border-bottom: 2px solid black;
            display: inline-block;
            float: right;
            padding-bottom: 2px;
            text-decoration: underline;
        }

        /* Bottom Detail Section */
        .bottom-detail-title {
            text-align: center;
            font-style: italic;
            font-weight: bold;
            font-size: 14px;
            margin-top: 30px;
            margin-bottom: 10px;
            clear: both;
        }
        
        .bottom-table {
            width: 100%;
            font-size: 11px;
            overflow: hidden;
        }
        .bt-left { 
            float: left; 
            font-weight: bold;
        }
        .bt-right { 
            float: right; 
            text-align: center;
        }
        .costo-header {
            font-weight: bold;
            font-size: 10px;
            margin-bottom: 3px;
            color: #555;
        }

        @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
    </style>
</head>
<body>

    <div class="page">
        <div class="header-top">
            <div class="logo-container">
                <div class="truck-cab"></div>
                <div class="truck-body">
                    <span class="logo-text">RBU</span>
                </div>
                <div class="wheel w1"></div>
                <div class="wheel w2"></div>
            </div>
            <div class="rbu-santiago">RBU Santiago.</div>
        </div>

        <div class="title-bar">
            Autorizacin de Descuento
        </div>

        <div class="field-row">
            <span class="field-label">NOMBRE DEL<br>TRABAJADOR:</span>
            <div class="field-line">${s.person_name||""}</div>
        </div>

        <div class="field-row rut-row">
            <div class="rut-container">
                <span class="field-label">RUT :</span>
                <div class="field-line">${s.person_rut||""}</div>
            </div>
            <div class="cargo-container">
                <span class="field-label">Cargo desempeado:</span>
                <div class="field-line">${s.person_cargo||""}</div>
            </div>
        </div>

        <div class="auth-text">
            EL TRABAJADOR INDIVIDUALIZADO AUTORIZA EN ESTE ACTO
        </div>

        <div class="amount-row">
            <span>EL DESCUENTO DE:</span>
            <span>$</span>
            <span>${s.discount_amount.toLocaleString("es-CL")}</span>
        </div>

        <div class="concept-row">
            <strong>POR CONCEPTO DE:</strong> &nbsp; ${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}
        </div>
        <div class="desc-small">Descripcin : Tarjeta de acceso vehicular</div>

        <div class="details-right">
            <div class="detail-item">
                <label>A descontar en:</label>
                <div class="detail-value">1 Cuota</div>
            </div>
            <div class="detail-item">
                <label>A contar de:</label>
                <div class="detail-value" style="font-style: italic; font-size: 12px;">Mes en curso</div>
            </div>
            <div class="detail-item">
                <label>Valor de cada cuota:</label>
                <div class="detail-value">$ ${s.discount_amount.toLocaleString("es-CL")}</div>
            </div>
        </div>

        <div class="sig-date-row">
            <div>
                <span>Firma y Rut del trabajador</span>
                <div class="signature-line"></div>
            </div>
            <span>Fecha : &nbsp; <span class="date-val"><strong>${b}</strong></span></span>
        </div>

        <div class="legal-text">
            El trabajador, mediante el presente instrumento, otorga mandato expreso a REDBUS URBANO S.A. para que descuente de sus remuneraciones en las cuotas y plazos indicados la suma indicada en este acto. Asimismo faculta expresamente a REDBUS URBANO S.A., para que en el evento de que por cualquier causa se pusiese trmino al contrato de trabajo, descuente el total del saldo adeudado de las indemnizaciones a que tenga derecho y/o otros emolumentos que pudiere tener derecho al trmino de la relacin laboral.
        </div>

        <div class="obs-header">Observaciones</div>
        <div class="obs-box"></div>

        <div class="footer-line">
            Av. El Salto 4651, Huechuraba, Santiago.<br>
            Fono: (56 2) 4881800 &nbsp;&nbsp; Fax: (56 2) 4881818
        </div>

        <div style="overflow: hidden; margin-top: 15px;">
            <div class="company-name">REDBUS URBANO S.A.</div>
        </div>

        <div class="bottom-detail-title">Detalle Descuento</div>
        
        <div class="bottom-table">
            <span class="bt-left">${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}</span>
            <div class="bt-right">
                <div class="costo-header">COSTO</div>
                <div><strong>$${s.discount_amount.toLocaleString("es-CL")}</strong></div>
            </div>
        </div>

    </div>

</body>
</html>
            `),x.document.close(),setTimeout(()=>x.print(),300)}};return A.useEffect(()=>{e&&(o({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),f(""),u(""))},[e,a]),e?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nuevo Prestamo de Respaldo"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Datos del Trabajador"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"RUT"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:`input pr-10 ${d?"border-red-500":""}`,value:s.person_rut,onChange:x=>o(b=>({...b,person_rut:x.target.value})),onBlur:p,placeholder:"12.345.678-9",required:!0}),l.jsx(rQ,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),d&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:d})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre"}),l.jsx("input",{type:"text",className:"input",value:s.person_name,onChange:x=>o(b=>({...b,person_name:x.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cargo"}),l.jsx("input",{type:"text",className:"input",value:s.person_cargo,onChange:x=>o(b=>({...b,person_cargo:x.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal"}),l.jsx("select",{className:"input",value:s.person_terminal,onChange:x=>o(b=>({...b,person_terminal:x.target.value})),required:!0,children:La.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Turno"}),l.jsx("input",{type:"text",className:"input",value:s.person_turno,onChange:x=>o(b=>({...b,person_turno:x.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Horario"}),l.jsx("input",{type:"text",className:"input",value:s.person_horario,onChange:x=>o(b=>({...b,person_horario:x.target.value})),placeholder:"08:00-18:00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contacto"}),l.jsx("input",{type:"text",className:"input",value:s.person_contacto,onChange:x=>o(b=>({...b,person_contacto:x.target.value}))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:["Correo ",l.jsx("span",{className:"text-slate-400 font-normal",children:"(opcional)"})]}),l.jsx("input",{type:"email",className:"input",value:s.worker_email,onChange:x=>o(b=>({...b,worker_email:x.target.value})),placeholder:"Para notificar cuando llegue su credencial"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Solicitud"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo"}),l.jsx("select",{className:"input",value:s.reason,onChange:x=>o(b=>({...b,reason:x.target.value})),required:!0,children:xR.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha Solicitud"}),l.jsx("input",{type:"date",className:"input",value:s.requested_at,onChange:x=>o(b=>({...b,requested_at:x.target.value})),required:!0})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Tarjeta de Respaldo"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal de Inventario"}),l.jsxs("select",{className:"input",value:c,onChange:x=>{u(x.target.value),o(b=>({...b,card_id:""}))},children:[l.jsx("option",{value:"",children:"Todos"}),Vs.map(x=>l.jsx("option",{value:x,children:x},x))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Tarjeta Disponible"}),l.jsxs("select",{className:"input",value:s.card_id,onChange:x=>o(b=>({...b,card_id:x.target.value})),required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar tarjeta..."}),h.map(x=>l.jsxs("option",{value:x.id,children:[x.card_number," (",x.inventory_terminal,")"]},x.id))]}),h.length===0&&l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No hay tarjetas disponibles"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Descuento"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.discount_applied,onChange:x=>o(b=>({...b,discount_applied:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),l.jsxs("span",{className:"text-sm text-slate-700",children:["Aplicar descuento de $",s.discount_amount.toLocaleString("es-CL")," (1 cuota)"]})]}),s.discount_applied&&l.jsxs("span",{className:"text-xs text-slate-500 italic flex items-center gap-1",children:[l.jsx(QY,{className:"w-3 h-3"}),"Se imprimir automticamente al crear"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Notificaciones"}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.send_emails,onChange:x=>o(b=>({...b,send_emails:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),l.jsx("span",{className:"text-sm text-slate-700",children:"Enviar correos al crear"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!s.card_id,children:n?"Guardando...":"Crear Prestamo"})]})]}),l.jsx("div",{ref:i,className:"hidden"})]})})]}):null},sSe=({isOpen:e,loan:t,onClose:r})=>{var i,s;if(!e||!t)return null;const n=o=>o?new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=Math.floor((new Date().getTime()-new Date(t.issued_at).getTime())/(1e3*60*60*24));return l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detalle del Prestamo"}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[l.jsx(gQ,{className:"w-4 h-4"}),"Trabajador"]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Nombre:"}),l.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.person_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"RUT:"}),l.jsx("span",{className:"text-sm font-medium text-slate-900",children:pl(t.person_rut)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Cargo:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.person_cargo||"-"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Terminal:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.person_terminal})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Turno:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.person_turno||"-"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Horario:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.person_horario||"-"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Contacto:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.person_contacto||"-"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[l.jsx(jf,{className:"w-4 h-4"}),"Tarjeta de Respaldo"]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Numero:"}),l.jsx("span",{className:"text-sm font-mono font-medium text-slate-900",children:((i=t.backup_cards)==null?void 0:i.card_number)||"-"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Terminal Inventario:"}),l.jsx("span",{className:"text-sm text-slate-900",children:((s=t.backup_cards)==null?void 0:s.inventory_terminal)||"-"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[l.jsx(IY,{className:"w-4 h-4"}),"Solicitud"]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Motivo:"}),l.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.reason==="PERDIDA"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t.reason==="PERDIDA"?"Perdida":"Deterioro"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Solicitud:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.requested_at})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Entrega:"}),l.jsx("span",{className:"text-sm text-slate-900",children:n(t.issued_at)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Dias Transcurridos:"}),l.jsxs("span",{className:`text-sm font-medium ${a>t.alert_after_days?"text-amber-600":"text-slate-900"}`,children:[a," dias"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Estado:"}),l.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.status==="ASIGNADA"?"bg-blue-100 text-blue-700":t.status==="CERRADA"?"bg-slate-100 text-slate-700":t.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:t.status})]}),t.recovered_at&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Recuperada:"}),l.jsx("span",{className:"text-sm text-slate-900",children:n(t.recovered_at)})]}),t.cancel_reason&&l.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Motivo Cancelacion:"}),l.jsx("p",{className:"text-sm text-slate-900 mt-1",children:t.cancel_reason})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[l.jsx(pR,{className:"w-4 h-4"}),"Descuento"]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Aplicado:"}),l.jsx("span",{className:`text-sm font-medium ${t.discount_applied?"text-emerald-600":"text-slate-500"}`,children:t.discount_applied?"Si":"No"})]}),t.discount_applied&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Monto:"}),l.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["$",t.discount_amount.toLocaleString("es-CL")]})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[l.jsx(hR,{className:"w-4 h-4"}),"Auditoria"]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Creado por:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.created_by_supervisor})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Creado:"}),l.jsx("span",{className:"text-sm text-slate-900",children:n(t.created_at)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Correo Trabajador:"}),l.jsx("span",{className:"text-sm text-slate-900",children:t.boss_email||"-"})]}),t.emails_sent_at&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-500",children:"Emails Enviados:"}),l.jsx("span",{className:"text-sm text-slate-900",children:n(t.emails_sent_at)})]})]})]})]}),l.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:l.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},oSe=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var d;const[i,s]=A.useState(new Date().toISOString().split("T")[0]),[o,c]=A.useState(""),u=async f=>{f.preventDefault(),t&&(await n(t.id,i,o),c(""))};return!e||!t?null:l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gR,{className:"w-5 h-5 text-emerald-600"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Marcar como Recuperada"})]}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("span",{className:"font-medium",children:"Trabajador:"})," ",t.person_name]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("span",{className:"font-medium",children:"RUT:"})," ",pl(t.person_rut)]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("span",{className:"font-medium",children:"Tarjeta:"})," ",(d=t.backup_cards)==null?void 0:d.card_number]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha de Devolucion"}),l.jsx("input",{type:"date",className:"input",value:i,onChange:f=>s(f.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Observacion (opcional)"}),l.jsx("textarea",{className:"input min-h-[80px]",value:o,onChange:f=>c(f.target.value),placeholder:"Notas adicionales..."})]}),l.jsx("p",{className:"text-sm text-slate-500",children:"Al confirmar, la tarjeta sera liberada y quedara disponible para nuevos prestamos."}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary bg-emerald-600 hover:bg-emerald-700",disabled:a,children:a?"Procesando...":"Confirmar Devolucion"})]})]})]})})]})},lSe=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var c;const[i,s]=A.useState(""),o=async u=>{u.preventDefault(),!(!t||!i.trim())&&(await n(t.id,i.trim()),s(""))};return!e||!t?null:l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fv,{className:"w-5 h-5 text-red-600"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cancelar Prestamo"})]}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Esta accion no se puede deshacer."}),l.jsxs("p",{className:"text-sm text-red-700",children:["El prestamo a ",t.person_name," (tarjeta ",(c=t.backup_cards)==null?void 0:c.card_number,") sera cancelado y la tarjeta sera liberada."]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo de cancelacion (obligatorio)"}),l.jsx("textarea",{className:"input min-h-[100px]",value:i,onChange:u=>s(u.target.value),placeholder:"Explique por que se cancela este prestamo...",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Volver"}),l.jsx("button",{type:"submit",className:"btn btn-primary bg-red-600 hover:bg-red-700",disabled:a||!i.trim(),children:a?"Cancelando...":"Confirmar Cancelacion"})]})]})]})})]})},cSe=({isOpen:e,onClose:t})=>{const r=Mt(),[n,a]=A.useState(!1),[i,s]=A.useState(""),[o,c]=A.useState(""),[u,d]=A.useState({card_number:"",inventory_terminal:"El Roble",notes:""}),{data:f=[],isLoading:h}=St({queryKey:["backup-cards",i,o],queryFn:()=>V2e(o||void 0,i||void 0),enabled:e}),p=zt({mutationFn:G2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]}),a(!1),d({card_number:"",inventory_terminal:"El Roble",notes:""})}}),g=zt({mutationFn:X2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]})}}),v=m=>{m.preventDefault(),p.mutate(u)},x=m=>{confirm(`Desactivar tarjeta ${m.card_number}?`)&&g.mutate(m.id)};if(!e)return null;const b={LIBRE:"bg-emerald-100 text-emerald-800",ASIGNADA:"bg-blue-100 text-blue-800",INACTIVA:"bg-slate-100 text-slate-600"};return l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col",children:[l.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jf,{className:"w-5 h-5 text-slate-600"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventario de Tarjetas"})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-wrap items-center gap-3",children:[l.jsxs("select",{className:"input w-auto",value:i,onChange:m=>s(m.target.value),children:[l.jsx("option",{value:"",children:"Todos los terminales"}),Vs.map(m=>l.jsx("option",{value:m,children:m},m))]}),l.jsxs("select",{className:"input w-auto",value:o,onChange:m=>c(m.target.value),children:[l.jsx("option",{value:"",children:"Todos los estados"}),bQ.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))]}),l.jsx("div",{className:"flex-1"}),l.jsxs("button",{onClick:()=>a(!n),className:"btn btn-primary flex items-center gap-2",children:[l.jsx(vR,{className:"w-4 h-4"}),"Agregar Tarjeta"]})]}),n&&l.jsxs("form",{onSubmit:v,className:"p-4 bg-slate-50 border-b border-slate-100",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Numero de Tarjeta"}),l.jsx("input",{type:"text",className:"input",value:u.card_number,onChange:m=>d(y=>({...y,card_number:m.target.value})),placeholder:"Ej: TR-001",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Terminal"}),l.jsx("select",{className:"input",value:u.inventory_terminal,onChange:m=>d(y=>({...y,inventory_terminal:m.target.value})),children:Vs.map(m=>l.jsx("option",{value:m,children:m},m))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notas (opcional)"}),l.jsx("input",{type:"text",className:"input",value:u.notes,onChange:m=>d(y=>({...y,notes:m.target.value}))})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[l.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary text-sm",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary text-sm",disabled:p.isPending,children:p.isPending?"Guardando...":"Guardar"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"No hay tarjetas registradas"}):l.jsx("div",{className:"space-y-2",children:f.map(m=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jf,{className:"w-5 h-5 text-slate-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.card_number}),l.jsx("p",{className:"text-xs text-slate-500",children:m.inventory_terminal})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b[m.status]||""}`,children:m.status}),m.status!=="INACTIVA"&&m.status!=="ASIGNADA"&&l.jsx("button",{onClick:()=>x(m),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Desactivar",children:l.jsx(uQ,{className:"w-4 h-4"})})]})]},m.id))})}),l.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:l.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},uSe=({isOpen:e,onClose:t})=>{const r=Mt(),[n,a]=A.useState("GLOBAL"),[i,s]=A.useState({manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0}),{data:o=[],isLoading:c}=St({queryKey:["backup-email-settings"],queryFn:a8,enabled:e}),u=zt({mutationFn:tSe,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-email-settings"]})}});A.useEffect(()=>{const f=o.find(h=>n==="GLOBAL"?h.scope_type==="GLOBAL":h.scope_code===n);s(f?{manager_email:f.manager_email,cc_emails:f.cc_emails||"",subject_manager:f.subject_manager,subject_boss:f.subject_boss,enabled:f.enabled}:{manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0})},[n,o]);const d=f=>{f.preventDefault(),u.mutate({scope_type:n==="GLOBAL"?"GLOBAL":"TERMINAL",scope_code:n,...i})};return e?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mR,{className:"w-5 h-5 text-slate-600"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Configuracion de Correos"})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Configurar para:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>a("GLOBAL"),className:`px-3 py-1.5 text-sm rounded-lg border ${n==="GLOBAL"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Global"}),Vs.map(f=>l.jsx("button",{type:"button",onClick:()=>a(f),className:`px-3 py-1.5 text-sm rounded-lg border ${n===f?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:f},f))]})]}),c?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email del Gestor (crear credencial)"}),l.jsx("input",{type:"email",className:"input",value:i.manager_email,onChange:f=>s(h=>({...h,manager_email:f.target.value})),placeholder:"gestor@empresa.cl",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"CC (opcional, separar por coma)"}),l.jsx("input",{type:"text",className:"input",value:i.cc_emails,onChange:f=>s(h=>({...h,cc_emails:f.target.value})),placeholder:"copia1@empresa.cl, copia2@empresa.cl"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Gestor"}),l.jsx("input",{type:"text",className:"input",value:i.subject_manager,onChange:f=>s(h=>({...h,subject_manager:f.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Jefatura"}),l.jsx("input",{type:"text",className:"input",value:i.subject_boss,onChange:f=>s(h=>({...h,subject_boss:f.target.value})),required:!0})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.enabled,onChange:f=>s(h=>({...h,enabled:f.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),l.jsx("span",{className:"text-sm text-slate-700",children:"Envio habilitado"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cerrar"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:u.isPending,children:[l.jsx(eQ,{className:"w-4 h-4"}),u.isPending?"Guardando...":"Guardar"]})]}),u.isSuccess&&l.jsx("p",{className:"text-sm text-emerald-600 text-center",children:"Configuracion guardada correctamente"})]})]})]})})]}):null},dSe=({isOpen:e,loan:t,managerEmail:r,workerEmail:n,cc:a,onClose:i,onSubmit:s,isLoading:o})=>{const c=A.useRef(null),[u,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(""),v=_=>{var E;const w=(E=_.target.files)==null?void 0:E[0];if(!w)return;if(!["application/pdf","image/png","image/jpeg"].includes(w.type)){g("Solo se permiten archivos PDF, PNG o JPG");return}if(w.size>5*1024*1024){g("El archivo no puede superar 5MB");return}if(g(""),d(w),w.type.startsWith("image/")){const j=new FileReader;j.onload=T=>{var O;return h((O=T.target)==null?void 0:O.result)},j.readAsDataURL(w)}else h(null)},x=async()=>{if(!u){g("Debe adjuntar el documento firmado");return}const _=new FileReader;_.onload=async w=>{var E;const S=((E=w.target)==null?void 0:E.result).split(",")[1];await s({filename:`autorizacion_descuento_${(t==null?void 0:t.person_rut)||"firmado"}.${u.name.split(".").pop()}`,content:S})},_.readAsDataURL(u)},b=async()=>{await s(null)},m=()=>{d(null),h(null),g("")},y=()=>{m(),i()};return!e||!t?null:l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:y}),l.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Adjuntar Documento Firmado"}),l.jsx("button",{onClick:y,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Ui,{className:"w-5 h-5 text-slate-500"})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Trabajador:"})," ",t.person_name," (",pl(t.person_rut),")"]}),l.jsx("p",{className:"text-sm text-blue-800 mt-1",children:l.jsx("strong",{children:"Se enviar correo a:"})}),l.jsxs("ul",{className:"text-xs text-blue-700 mt-1 list-disc list-inside",children:[l.jsxs("li",{children:["Gestor de credenciales: ",r," ",l.jsx("span",{className:"text-blue-500",children:"(con adjunto)"})]}),n&&l.jsxs("li",{children:["Notificacin trabajador: ",n]}),a&&l.jsxs("li",{children:["CC: ",a]})]})]}),l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[l.jsx(MY,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Importante"}),l.jsx("p",{className:"text-xs text-amber-700",children:"Adjunte el documento de autorizacin de descuento firmado por el trabajador. Este se enviar SOLO al gestor de credenciales."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Documento Firmado (PDF, PNG, JPG)"}),l.jsx("input",{type:"file",ref:c,onChange:v,accept:".pdf,.png,.jpg,.jpeg",className:"hidden"}),u?l.jsx("div",{className:"border border-slate-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[f?l.jsx("img",{src:f,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):l.jsx("div",{className:"w-16 h-16 bg-red-50 rounded flex items-center justify-center",children:l.jsx(qY,{className:"w-8 h-8 text-red-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:u.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(u.size/1024).toFixed(1)," KB"]})]}),l.jsx("button",{type:"button",onClick:()=>{d(null),h(null)},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Ui,{className:"w-4 h-4 text-slate-500"})})]})}):l.jsxs("button",{type:"button",onClick:()=>{var _;return(_=c.current)==null?void 0:_.click()},className:"w-full border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-400 hover:bg-blue-50/50 transition-colors",children:[l.jsx(mQ,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Haga clic para seleccionar archivo"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Max 5MB"})]}),p&&l.jsx("p",{className:"text-xs text-red-500 mt-2",children:p})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:[l.jsx("button",{type:"button",onClick:b,className:"text-sm text-slate-500 hover:text-slate-700",disabled:o,children:"Enviar sin adjunto"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:y,className:"btn btn-secondary",disabled:o,children:"Cancelar"}),l.jsx("button",{type:"button",onClick:x,className:"btn btn-primary flex items-center gap-2",disabled:o||!u,children:o?"Enviando...":l.jsxs(l.Fragment,{children:[l.jsx(aQ,{className:"w-4 h-4"}),"Enviar Correos"]})})]})]})]})})]})},fSe=()=>{var U,W,ae,Se;const e=Mt(),t=We(J=>J.context),r=We(J=>J.setContext),n=En(J=>J.session),[a,i]=A.useState({status:"TODAS",reason:"TODAS",alertsOnly:!1}),[s,o]=A.useState(!1),[c,u]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,v]=A.useState(!1),[x,b]=A.useState(!1),[m,y]=A.useState(!1),[_,w]=A.useState(!1),[S,E]=A.useState(null),[j,T]=A.useState(!1),O=St({queryKey:["backup-loans",a],queryFn:()=>Y2e(a)}),C=St({queryKey:["backup-kpis"],queryFn:rSe}),M=St({queryKey:["backup-email-settings"],queryFn:a8}),F=zt({mutationFn:async J=>({loan:await Q2e(J),sendEmails:J.send_emails}),onSuccess:({loan:J,sendEmails:K})=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),o(!1),K&&(E(J),w(!0))}}),q=zt({mutationFn:({id:J,recoveredAt:K,observation:ee})=>J2e(J,K),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),b(!1),p(null)}}),V=zt({mutationFn:({id:J,reason:K})=>Z2e(J,K),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),y(!1),p(null)}}),ne=A.useMemo(()=>{var K;let J=O.data||[];if(t.mode!=="ALL"&&t.value){const ee=(K=La.find(be=>be.value===t.value))==null?void 0:K.label;ee&&(J=J.filter(be=>be.person_terminal===t.value||be.person_terminal===ee))}if(a.alertsOnly){const ee=new Date;J=J.filter(be=>{if(be.status!=="ASIGNADA")return!1;const re=new Date(be.issued_at);return Math.floor((ee.getTime()-re.getTime())/(1e3*60*60*24))>be.alert_after_days})}return J},[O.data,t,a.alertsOnly]),se=J=>{p(J),v(!0)},G=J=>{se(J)},te=J=>{p(J),b(!0)},ue=J=>{p(J),y(!0)},pe=J=>{E(J),w(!0)},P=async J=>{var be;if(!S)return;const K=(be=M.data)==null?void 0:be.find(re=>re.scope_code===S.person_terminal||re.scope_type==="GLOBAL");if(!K){lF("Configuracin requerida",'Configure los correos primero en el botn "Correos"'),w(!1),E(null);return}T(!0);const ee=await aSe(S,K.manager_email,K.cc_emails||void 0,J);T(!1),ee.success?(ua("Correos enviados","Los correos de notificacin fueron enviados correctamente",S.person_name),e.invalidateQueries({queryKey:["backup-loans"]})):ka("Error al enviar correos",ee.error||"Error desconocido"),w(!1),E(null)},H=()=>{if(!ne.length)return;const J=new Date,K=ne.map(ee=>{var Le;const be=new Date(ee.issued_at),re=Math.floor((J.getTime()-be.getTime())/(1e3*60*60*24));return{rut:pl(ee.person_rut),nombre:ee.person_name,cargo:ee.person_cargo||"",terminal:ee.person_terminal,tarjeta:((Le=ee.backup_cards)==null?void 0:Le.card_number)||"",motivo:ee.reason==="PERDIDA"?"Perdida":"Deterioro",fecha_entrega:new Date(ee.issued_at).toLocaleDateString("es-CL"),dias:re,estado:ee.status,descuento:ee.discount_applied?ee.discount_amount:0,correo_trabajador:ee.boss_email||"",creado_por:ee.created_by_supervisor}});et({filename:`prestamos_respaldo_${new Date().toISOString().split("T")[0]}`,sheetName:"Prestamos",rows:K,columns:[{key:"rut",header:"RUT"},{key:"nombre",header:"Nombre"},{key:"cargo",header:"Cargo"},{key:"terminal",header:"Terminal"},{key:"tarjeta",header:"Tarjeta"},{key:"motivo",header:"Motivo"},{key:"fecha_entrega",header:"Fecha Entrega"},{key:"dias",header:"Dias"},{key:"estado",header:"Estado"},{key:"descuento",header:"Descuento"},{key:"email_jefatura",header:"Email Jefatura"},{key:"creado_por",header:"Creado Por"}]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Credenciales de Respaldo",description:"Control de prestamo de tarjetas de respaldo",actions:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>f(!0),className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(sQ,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Correos"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(jf,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Tarjetas"})]}),l.jsxs("button",{onClick:H,className:"btn btn-secondary flex items-center gap-2",children:[l.jsx(UY,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"XLSX"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary flex items-center gap-2",children:[l.jsx(vR,{className:"w-4 h-4"}),"Nuevo Prestamo"]})]})}),l.jsx(wQ,{kpis:C.data||{availableByTerminal:{"El Roble":0,"La Reina":0,"Maria Angelica":0},activeLoans:0,overdueLoans:0,avgReturnDays:0,totalDiscounts:0},isLoading:C.isLoading}),!O.isLoading&&O.data&&O.data.length>0&&l.jsx(z2e,{loans:O.data}),l.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm flex flex-wrap items-center gap-2",children:[l.jsx(KY,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),l.jsx("input",{type:"text",className:"h-8 px-2 text-sm border border-slate-200 rounded-md w-32 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"RUT/Nombre...",value:a.search||"",onChange:J=>i(K=>({...K,search:J.target.value}))}),l.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:t.value||"",onChange:J=>{J.target.value?r({mode:"TERMINAL",value:J.target.value}):r({mode:"ALL"})},children:[l.jsx("option",{value:"",children:"Terminal"}),La.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]}),l.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.status||"TODAS",onChange:J=>i(K=>({...K,status:J.target.value})),children:[l.jsx("option",{value:"TODAS",children:"Estado"}),yQ.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]}),l.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.reason||"TODAS",onChange:J=>i(K=>({...K,reason:J.target.value})),children:[l.jsx("option",{value:"TODAS",children:"Motivo"}),xR.map(J=>l.jsx("option",{value:J.value,children:J.label},J.value))]}),l.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-xs text-slate-600 whitespace-nowrap",children:[l.jsx("input",{type:"checkbox",checked:a.alertsOnly||!1,onChange:J=>i(K=>({...K,alertsOnly:J.target.checked})),className:"w-3.5 h-3.5 rounded border-slate-300"}),l.jsx(Fv,{className:"w-3.5 h-3.5 text-amber-500"}),"Atrasados"]}),l.jsx("div",{className:"h-4 w-px bg-slate-200 hidden sm:block"}),l.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateFrom||"",onChange:J=>i(K=>({...K,dateFrom:J.target.value})),title:"Desde"}),l.jsx("span",{className:"text-slate-400 text-xs",children:"-"}),l.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateTo||"",onChange:J=>i(K=>({...K,dateTo:J.target.value})),title:"Hasta"})]}),O.isLoading&&l.jsx(cr,{label:"Cargando prestamos..."}),O.isError&&l.jsx(wr,{message:"Error al cargar prestamos",onRetry:O.refetch}),!O.isLoading&&!O.isError&&l.jsx(q2e,{loans:ne,onView:se,onEdit:G,onRecover:te,onCancel:ue,onResendEmails:pe}),l.jsx(iSe,{isOpen:s,onClose:()=>o(!1),onSubmit:async(J,K)=>{await F.mutateAsync(J),J.discount_applied&&K()},isLoading:F.isPending,supervisorName:(n==null?void 0:n.supervisorName)||"Supervisor"}),l.jsx(sSe,{isOpen:g,loan:h,onClose:()=>{v(!1),p(null)}}),l.jsx(oSe,{isOpen:x,loan:h,onClose:()=>{b(!1),p(null)},onSubmit:async(J,K,ee)=>{await q.mutateAsync({id:J,recoveredAt:K,observation:ee})},isLoading:q.isPending}),l.jsx(lSe,{isOpen:m,loan:h,onClose:()=>{y(!1),p(null)},onSubmit:async(J,K)=>{await V.mutateAsync({id:J,reason:K})},isLoading:V.isPending}),l.jsx(cSe,{isOpen:c,onClose:()=>u(!1)}),l.jsx(uSe,{isOpen:d,onClose:()=>f(!1)}),l.jsx(dSe,{isOpen:_,loan:S,managerEmail:((W=(U=M.data)==null?void 0:U.find(J=>J.scope_code===(S==null?void 0:S.person_terminal)||J.scope_type==="GLOBAL"))==null?void 0:W.manager_email)||"",workerEmail:(S==null?void 0:S.boss_email)||"",cc:((Se=(ae=M.data)==null?void 0:ae.find(J=>J.scope_code===(S==null?void 0:S.person_terminal)||J.scope_type==="GLOBAL"))==null?void 0:Se.cc_emails)||void 0,onClose:()=>{w(!1),E(null)},onSubmit:P,isLoading:j})]})},hSe=[{id:"s-1",solicitante:"Ana Prez",tipo:"Materiales",fecha:"2023-12-04",estado:"abierta",terminal:"EL_ROBLE"},{id:"s-2",solicitante:"Carlos Vega",tipo:"Personal",fecha:"2023-12-03",estado:"en_proceso",terminal:"LA_REINA"},{id:"s-3",solicitante:"Laura Soto",tipo:"Tecnologa",fecha:"2023-12-02",estado:"cerrada",terminal:"EL_SALTO"}],rC=Iu(hSe,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),pSe=()=>{const e=We(b=>b.context),t=We(b=>b.setContext),[r,n]=A.useState({estado:"todas"}),[a,i]=A.useState(""),[s,o]=A.useState(""),[c,u]=A.useState([]),d=St({queryKey:["solicitudes",e,r],queryFn:()=>rC.list({terminalContext:e,filters:r,scope:"view"})}),f=A.useMemo(()=>[...d.data??[],...c],[d.data,c]),h=A.useMemo(()=>[{key:"tipo",header:"Tipo"},{key:"solicitante",header:"Solicitante"},{key:"estado",header:"Estado",render:b=>l.jsx("span",{className:"badge capitalize",children:b.estado}),value:b=>b.estado},{key:"fecha",header:"Fecha"},{key:"terminal",header:"Terminal",render:b=>Ke(b.terminal),value:b=>Ke(b.terminal)}],[]),p=h.map(b=>({key:b.key,header:b.header,value:m=>b.value?b.value(m):m[b.key]})),g=()=>{et({filename:"solicitudes_vista",sheetName:"Solicitudes",rows:f,columns:p})},v=async()=>{const b=await rC.list({terminalContext:e,scope:"all"});et({filename:"solicitudes_completo",sheetName:"Solicitudes",rows:b,columns:p})},x=()=>{const b={id:`local-${Date.now()}`,solicitante:s,tipo:a,estado:"abierta",fecha:new Date().toISOString().slice(0,10),terminal:e.value??"EL_ROBLE"};u(m=>[b,...m]),o(""),i("")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Solicitudes",description:"Formulario universal para requerimientos",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",onClick:()=>{var b;return(b=document.getElementById("solicitud-form"))==null?void 0:b.scrollIntoView({behavior:"smooth"})},children:"Nueva solicitud"}),l.jsx(Dr,{onExportView:g,onExportAll:v})]})}),l.jsx(Vn,{terminalContext:e,onTerminalChange:t,children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsxs("select",{className:"input",value:r.estado,onChange:b=>n({estado:b.target.value}),children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"abierta",children:"Abierta"}),l.jsx("option",{value:"en_proceso",children:"En proceso"}),l.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),l.jsxs("div",{className:"card p-4",id:"solicitud-form",children:[l.jsx("p",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Crear nueva solicitud"}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Solicitante"}),l.jsx("input",{className:"input",value:s,onChange:b=>o(b.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"label",children:"Tipo"}),l.jsx("input",{className:"input",value:a,onChange:b=>i(b.target.value),placeholder:"Ej: Materiales"})]}),l.jsx("div",{className:"flex items-end justify-end",children:l.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!s||!a,children:"Registrar (mock)"})})]})]}),d.isLoading&&l.jsx(cr,{}),d.isError&&l.jsx(wr,{onRetry:d.refetch}),!d.isLoading&&!d.isError&&l.jsxs(l.Fragment,{children:[!f.length&&l.jsx(Ba,{description:"Sin solicitudes"}),f.length>0&&l.jsx(Fa,{columns:h,rows:f})]})]})},Uh=({terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o,children:c})=>l.jsxs(Vn,{terminalContext:e,onTerminalChange:t,children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Buscar PPU"}),l.jsx("input",{type:"text",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 w-32 lg:w-40",placeholder:"PPU...",value:r,onChange:u=>n(u.target.value)})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Desde"}),l.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:a,onChange:u=>i(u.target.value)})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Hasta"}),l.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:s,onChange:u=>o(u.target.value)})]}),c]}),zh=({items:e})=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e.map((t,r)=>l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:t.label}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.value}),t.subtext&&l.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:t.subtext})]}),t.icon&&l.jsx("div",{className:`p-2 rounded-lg ${t.colorClass||"bg-slate-100 text-slate-600"}`,children:l.jsx(le,{name:t.icon,size:20})})]},r))}),mSe="https://wvcplgwemvqhvtstlqmt.supabase.co",i8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2Y3BsZ3dlbXZxaHZ0c3RscW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjIyMDUsImV4cCI6MjA3NTkzODIwNX0.K1YOv5lRn9fOous3AyG2gPxsQBzqOXRfYHgrCmO5zxk",vSe=rR(mSe,i8,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),gSe=()=>!!i8,Wh=async(e,t)=>{if(!gSe())return[];let r=vSe.from(e).select("*");if(t.terminalContext&&t.terminalContext.mode!=="ALL"){const c=oi(t.terminalContext).map(u=>rl[u]).filter(Boolean);c.length>0&&(r=r.in("terminal",c))}t.search&&(r=r.ilike("bus_ppu",`%${t.search}%`)),t.dateFrom&&(r=r.gte("created_at",t.dateFrom)),t.dateTo&&(r=r.lte("created_at",t.dateTo));const n=t.sortBy||"updated_at",a=t.sortOrder||"desc";r=r.order(n,{ascending:a==="asc"});const{data:i,error:s}=await r;if(s)throw console.error(`Error fetching ${e}:`,s),s;return i},xSe=e=>Wh("extintores",e),ySe=e=>Wh("tags",e),bSe=e=>Wh("mobileye",e),wSe=e=>Wh("odometro",e),_Se=e=>Wh("publicidad",e),SSe=e=>St({queryKey:["minicheck","extintores",e],queryFn:()=>xSe(e)}),ESe=e=>St({queryKey:["minicheck","tags",e],queryFn:()=>ySe(e)}),jSe=e=>St({queryKey:["minicheck","mobileye",e],queryFn:()=>bSe(e)}),TSe=e=>St({queryKey:["minicheck","odometros",e],queryFn:()=>wSe(e)}),ASe=e=>St({queryKey:["minicheck","publicidad",e],queryFn:()=>_Se(e)}),NSe=()=>{const e=We(m=>m.context),t=We(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),c=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=SSe(c),p=A.useMemo(()=>{if(!u)return[];const m=u.length,y=u.filter(S=>S.certificacion==="VENCIDA").length,_=u.filter(S=>!S.tiene).length,w=u.filter(S=>S.presion==="BAJA_CARGA").length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Vencidos",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Sin Extintor",value:_,icon:"x",colorClass:"bg-orange-50 text-orange-600"},{label:"Presin Baja",value:w,icon:"activity",colorClass:"bg-yellow-50 text-yellow-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const m=u.filter(_=>_.certificacion==="VIGENTE").length,y=u.filter(_=>_.certificacion==="VENCIDA").length;return[{name:"VIGENTE",value:m,color:"#10b981"},{name:"VENCIDA",value:y,color:"#ef4444"}]},[u]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ke(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene",render:m=>l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.tiene?"S":"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"certificacion",header:"Certificacin",render:m=>l.jsx("span",{className:`text-xs font-bold ${m.certificacion==="VIGENTE"?"text-green-600":"text-red-600"}`,children:m.certificacion||"-"}),value:m=>m.certificacion||"-"},{key:"vencimiento_mes",header:"Vencimiento",render:m=>m.vencimiento_mes&&m.vencimiento_anio?`${m.vencimiento_mes}/${m.vencimiento_anio}`:"-",value:m=>`${m.vencimiento_mes}/${m.vencimiento_anio}`},{key:"presion",header:"Presin",value:m=>m.presion||"-"},{key:"cilindro",header:"Cilindro OK",render:m=>m.cilindro?"S":"No",value:m=>m.cilindro?"S":"No"},{key:"updated_at",header:"Actualizado",render:m=>Wt(m.updated_at),value:m=>Wt(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{u&&et({filename:`minicheck_extintor_${new Date().toISOString().split("T")[0]}`,sheetName:"Extintores",rows:u,columns:x})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Control de Extintores",description:"Validacin de estado y vencimiento de extintores",actions:l.jsx("div",{className:"flex gap-2",children:l.jsx(Dr,{onExportView:b,onExportAll:b})})}),l.jsx(Uh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&l.jsx(cr,{label:"Cargando extintores..."}),f&&l.jsx(wr,{message:"No se pudieron obtener los registros de extintores.",onRetry:h}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsx(zh,{items:p}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado Certificacin"}),l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:g,children:[l.jsx(hl,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Vi,{dataKey:"name",tick:{fontSize:10}}),l.jsx(Ki,{tick:{fontSize:10}}),l.jsx(pr,{}),l.jsx(yn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((m,y)=>l.jsx(es,{fill:m.color},`cell-${y}`))})]})})]}),l.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?l.jsx(Fa,{columns:v,rows:u}):l.jsx(Ba,{label:"Sin registros",description:"No se encontraron extintores con los filtros seleccionados."})})]})]})]})},OSe=()=>{const e=We(m=>m.context),t=We(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),c=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=ESe(c),p=A.useMemo(()=>{if(!u)return[];const m=u.length,y=u.filter(w=>!w.tiene).length,_=u.filter(w=>w.serie&&w.serie.trim().length>0).length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Sin TAG",value:y,icon:"alert-circle",colorClass:"bg-red-50 text-red-600"},{label:"Serie Informada",value:_,icon:"check",colorClass:"bg-blue-50 text-blue-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const m=u.filter(_=>_.tiene).length,y=u.filter(_=>!_.tiene).length;return[{name:"Con TAG",value:m,color:"#10b981"},{name:"Sin TAG",value:y,color:"#ef4444"}]},[u]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ke(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene TAG",render:m=>l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.tiene?"S":"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"serie",header:"N Serie",value:m=>m.serie||"-"},{key:"observacion",header:"Observacin",value:m=>m.observacion||""},{key:"updated_at",header:"Actualizado",render:m=>Wt(m.updated_at),value:m=>Wt(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{u&&et({filename:`minicheck_tag_${new Date().toISOString().split("T")[0]}`,sheetName:"Tags",rows:u,columns:x})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Control de TAG",description:"Verificacin de dispositivos TAG",actions:l.jsx("div",{className:"flex gap-2",children:l.jsx(Dr,{onExportView:b,onExportAll:b})})}),l.jsx(Uh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&l.jsx(cr,{label:"Cargando tags..."}),f&&l.jsx(wr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsx(zh,{items:p}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin"}),l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(rS,{children:[l.jsx(za,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((m,y)=>l.jsx(es,{fill:m.color},`cell-${y}`))}),l.jsx(pr,{}),l.jsx(ki,{})]})})]}),l.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?l.jsx(Fa,{columns:v,rows:u}):l.jsx(Ba,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},CSe=()=>{const e=We(y=>y.context),t=We(y=>y.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),c=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=jSe(c),p=y=>y.consola&&y.sensor_frontal&&y.sensor_izq&&y.sensor_der,g=A.useMemo(()=>{if(!u)return[];const y=u.length,_=u.filter(S=>!p(S)).length,w=u.filter(S=>S.alerta_izq||S.alerta_der).length;return[{label:"Total Registros",value:y,icon:"clipboard"},{label:"Falla Sensores",value:_,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Alertas Activas",value:w,icon:"bell",colorClass:"bg-yellow-50 text-yellow-600"}]},[u]),v=A.useMemo(()=>{if(!u)return[];const y=u.filter(w=>p(w)).length,_=u.filter(w=>!p(w)).length;return[{name:"Sensores OK",value:y,color:"#10b981"},{name:"Falla",value:_,color:"#ef4444"}]},[u]),x=[{key:"bus_ppu",header:"PPU",value:y=>y.bus_ppu},{key:"terminal",header:"Terminal",render:y=>Ke(y.terminal),value:y=>y.terminal},{key:"bus_marca",header:"Marca",value:y=>y.bus_marca||"-"},{key:"consola",header:"Consola",render:y=>y.consola?l.jsx(le,{name:"check",size:16,className:"text-green-500"}):l.jsx(le,{name:"x",size:16,className:"text-red-500"}),value:y=>y.consola?"OK":"Falla"},{key:"id",header:"Sensores OK?",render:y=>{const _=p(y);return l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${_?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_?"S":"NO"})},value:y=>p(y)?"S":"NO"},{key:"id",header:"Alertas",render:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.length>0?l.jsx("span",{className:"text-red-600 font-bold text-xs",children:_.join(", ")}):"-"},value:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.join(", ")}},{key:"updated_at",header:"Actualizado",render:y=>Wt(y.updated_at),value:y=>Wt(y.updated_at)}],b=x.map(y=>({header:y.header,key:y.key,value:y.value})),m=()=>{u&&et({filename:`minicheck_mobileye_${new Date().toISOString().split("T")[0]}`,sheetName:"Mobileye",rows:u,columns:b})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Control Mobileye",description:"Estado de sensores y cmaras Mobileye",actions:l.jsx("div",{className:"flex gap-2",children:l.jsx(Dr,{onExportView:m,onExportAll:m})})}),l.jsx(Uh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&l.jsx(cr,{label:"Cargando Mobileye..."}),f&&l.jsx(wr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsx(zh,{items:g}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado General Sensores"}),l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:v,children:[l.jsx(hl,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Vi,{dataKey:"name",tick:{fontSize:10}}),l.jsx(Ki,{tick:{fontSize:10}}),l.jsx(pr,{}),l.jsx(yn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:v.map((y,_)=>l.jsx(es,{fill:y.color},`cell-${_}`))})]})})]}),l.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?l.jsx(Fa,{columns:x,rows:u}):l.jsx(Ba,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},kSe=()=>{const e=We(m=>m.context),t=We(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),c=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=TSe(c),p=A.useMemo(()=>{if(!u)return[];const m=u.length,y=u.filter(w=>w.estado==="INCONSISTENTE").length,_=u.filter(w=>w.estado==="NO_FUNCIONA").length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Inconsistentes",value:y,icon:"alert-triangle",colorClass:"bg-yellow-50 text-yellow-600"},{label:"No Funciona",value:_,icon:"x-circle",colorClass:"bg-red-50 text-red-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const m=u.filter(w=>w.estado==="OK").length,y=u.filter(w=>w.estado==="INCONSISTENTE").length,_=u.filter(w=>w.estado==="NO_FUNCIONA").length;return[{name:"OK",value:m,color:"#10b981"},{name:"INCONSISTENTE",value:y,color:"#f59e0b"},{name:"NO FUNCIONA",value:_,color:"#ef4444"}].filter(w=>w.value>0)},[u]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ke(m.terminal),value:m=>m.terminal},{key:"lectura",header:"Lectura",value:m=>m.lectura.toLocaleString("es-CL")},{key:"estado",header:"Estado",render:m=>{let y="bg-gray-100 text-gray-800";return m.estado==="OK"&&(y="bg-green-100 text-green-800"),m.estado==="INCONSISTENTE"&&(y="bg-yellow-100 text-yellow-800"),m.estado==="NO_FUNCIONA"&&(y="bg-red-100 text-red-800"),l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${y}`,children:m.estado})},value:m=>m.estado},{key:"observacion",header:"Observacin",value:m=>m.observacion||""},{key:"updated_at",header:"Actualizado",render:m=>Wt(m.updated_at),value:m=>Wt(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{u&&et({filename:`minicheck_odometro_${new Date().toISOString().split("T")[0]}`,sheetName:"Odometros",rows:u,columns:x})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Control Odmetro",description:"Lecturas y estado de odmetros",actions:l.jsx("div",{className:"flex gap-2",children:l.jsx(Dr,{onExportView:b,onExportAll:b})})}),l.jsx(Uh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&l.jsx(cr,{label:"Cargando Odmetros..."}),f&&l.jsx(wr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsx(zh,{items:p}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin Estados"}),l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(rS,{children:[l.jsx(za,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((m,y)=>l.jsx(es,{fill:m.color},`cell-${y}`))}),l.jsx(pr,{}),l.jsx(ki,{})]})})]}),l.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?l.jsx(Fa,{columns:v,rows:u}):l.jsx(Ba,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},PSe=()=>{const e=We(m=>m.context),t=We(m=>m.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),c=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=ASe(c),p=A.useMemo(()=>{if(!u)return[];const m=u.length,y=u.filter(S=>S.danio).length,_=u.filter(S=>S.residuos).length,w=u.filter(S=>!S.tiene).length;return[{label:"Total Registros",value:m,icon:"clipboard"},{label:"Con Dao",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Con Residuos",value:_,icon:"trash",colorClass:"bg-orange-50 text-orange-600"},{label:"Sin Publicidad",value:w,icon:"x-circle",colorClass:"bg-gray-50 text-gray-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const m=u.filter(w=>w.danio).length,y=u.filter(w=>w.residuos).length,_=u.filter(w=>!w.tiene).length;return[{name:"Con Dao",value:m,color:"#ef4444"},{name:"Con Residuos",value:y,color:"#f97316"},{name:"Sin Pub.",value:_,color:"#64748b"}]},[u]),v=[{key:"bus_ppu",header:"PPU",value:m=>m.bus_ppu},{key:"terminal",header:"Terminal",render:m=>Ke(m.terminal),value:m=>m.terminal},{key:"tiene",header:"Tiene",render:m=>m.tiene?l.jsx("span",{className:"text-green-600 font-bold",children:"S"}):l.jsx("span",{className:"text-gray-400",children:"NO"}),value:m=>m.tiene?"SI":"NO"},{key:"danio",header:"Dao",render:m=>m.danio?l.jsx("span",{className:"px-2 py-0.5 rounded bg-red-100 text-red-800 text-xs font-bold",children:"S"}):l.jsx("span",{className:"text-gray-400",children:"-"}),value:m=>m.danio?"SI":"NO"},{key:"residuos",header:"Residuos",render:m=>m.residuos?l.jsx("span",{className:"px-2 py-0.5 rounded bg-orange-100 text-orange-800 text-xs font-bold",children:"S"}):l.jsx("span",{className:"text-gray-400",children:"-"}),value:m=>m.residuos?"SI":"NO"},{key:"nombre_publicidad",header:"Nombre",value:m=>m.nombre_publicidad||"-"},{key:"updated_at",header:"Actualizado",render:m=>Wt(m.updated_at),value:m=>Wt(m.updated_at)}],x=v.map(m=>({header:m.header,key:m.key,value:m.value})),b=()=>{u&&et({filename:`minicheck_publicidad_${new Date().toISOString().split("T")[0]}`,sheetName:"Publicidad",rows:u,columns:x})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(br,{title:"Control Publicidad",description:"Estado de publicidad en buses",actions:l.jsx("div",{className:"flex gap-2",children:l.jsx(Dr,{onExportView:b,onExportAll:b})})}),l.jsx(Uh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&l.jsx(cr,{label:"Cargando publicidad..."}),f&&l.jsx(wr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsx(zh,{items:p}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Problemas Detectados"}),l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:g,children:[l.jsx(hl,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Vi,{dataKey:"name",tick:{fontSize:10}}),l.jsx(Ki,{tick:{fontSize:10}}),l.jsx(pr,{}),l.jsx(yn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((m,y)=>l.jsx(es,{fill:m.color},`cell-${y}`))})]})})]}),l.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?l.jsx(Fa,{columns:v,rows:u}):l.jsx(Ba,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},RSe=[{ppu:"ABCD12",modelo:"Camin 3/4",estado:"operativo",odometro:123400,proximaMantencion:"2024-01-15",terminal:"EL_ROBLE"},{ppu:"EFGH34",modelo:"Furgn",estado:"en_taller",odometro:88400,proximaMantencion:"2024-02-01",terminal:"LA_REINA"},{ppu:"IJKL56",modelo:"Tracto",estado:"fuera_servicio",odometro:23e4,proximaMantencion:"2024-01-30",terminal:"EL_SALTO"}],nC=Iu(RSe,(e,t)=>t!=null&&t.estado&&t.estado!=="todos"?e.estado===t.estado:!0),ISe=()=>{const e=We(g=>g.context),t=We(g=>g.setContext),[r,n]=A.useState({estado:"todos"}),[a,i]=A.useState(""),s=St({queryKey:["flota",e,r],queryFn:()=>nC.list({terminalContext:e,filters:r,scope:"view"})}),o=s.data??[],c=A.useMemo(()=>[{key:"ppu",header:"PPU"},{key:"modelo",header:"Modelo"},{key:"estado",header:"Estado",render:g=>l.jsx("span",{className:"badge capitalize",children:g.estado}),value:g=>g.estado},{key:"odometro",header:"Odmetro"},{key:"proximaMantencion",header:"Mantencin",render:g=>Wt(g.proximaMantencion),value:g=>Wt(g.proximaMantencion)},{key:"terminal",header:"Terminal",render:g=>Ke(g.terminal),value:g=>Ke(g.terminal)}],[]),u=c.map(g=>({key:g.key,header:g.header,value:v=>g.value?g.value(v):v[g.key]})),d=()=>{et({filename:"flota_vista",sheetName:"Flota",rows:o,columns:u})},f=async()=>{const g=await nC.list({terminalContext:e,scope:"all"});et({filename:"flota_completo",sheetName:"Flota",rows:g,columns:u})},h=A.useMemo(()=>{const g={};return o.forEach(v=>{g[v.estado]=(g[v.estado]??0)+1}),Object.entries(g).map(([v,x])=>({estado:v,count:x}))},[o]),p=o.find(g=>g.ppu===a)??o[0];return l.jsxs("div",{className:"space-y-4",children:[l.jsx(br,{title:"Estado de Flota",description:"Vista por PPU con ficha y grficas",actions:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-primary",children:"Agregar unidad"}),l.jsx(Dr,{onExportView:d,onExportAll:f})]})}),l.jsx(Vn,{terminalContext:e,onTerminalChange:t,children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"label",children:"Estado"}),l.jsxs("select",{className:"input",value:r.estado,onChange:g=>n({estado:g.target.value}),children:[l.jsx("option",{value:"todos",children:"Todos"}),l.jsx("option",{value:"operativo",children:"Operativo"}),l.jsx("option",{value:"en_taller",children:"En taller"}),l.jsx("option",{value:"fuera_servicio",children:"Fuera de servicio"})]})]})}),s.isLoading&&l.jsx(cr,{}),s.isError&&l.jsx(wr,{onRetry:s.refetch}),!s.isLoading&&!s.isError&&o.length===0&&l.jsx(Ba,{description:"Sin unidades"}),!s.isLoading&&!s.isError&&o.length>0&&l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsx("div",{className:"md:col-span-2 space-y-3",children:l.jsx(Fa,{columns:c,rows:o})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"card p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Resumen por estado"}),l.jsx("div",{className:"mt-2 h-48",children:l.jsx(Pi,{width:"100%",height:"100%",children:l.jsxs(bu,{data:h,children:[l.jsx(hl,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(Vi,{dataKey:"estado",tick:{fontSize:12}}),l.jsx(Ki,{allowDecimals:!1}),l.jsx(pr,{}),l.jsx(yn,{dataKey:"count",fill:"#3c5eff",radius:[6,6,0,0]})]})})})]}),p&&l.jsxs("div",{className:"card p-4",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ficha rpida"}),l.jsx("select",{className:"input w-32",value:p.ppu,onChange:g=>i(g.target.value),children:o.map(g=>l.jsx("option",{value:g.ppu,children:g.ppu},g.ppu))})]}),l.jsxs("dl",{className:"space-y-2 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("dt",{className:"font-semibold",children:"Modelo"}),l.jsx("dd",{children:p.modelo})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("dt",{className:"font-semibold",children:"Estado"}),l.jsx("dd",{className:"badge capitalize",children:p.estado})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("dt",{className:"font-semibold",children:"Odmetro"}),l.jsx("dd",{children:p.odometro.toLocaleString("es-CL")})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("dt",{className:"font-semibold",children:"Prxima mantencin"}),l.jsx("dd",{children:Wt(p.proximaMantencion)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("dt",{className:"font-semibold",children:"Terminal"}),l.jsx("dd",{children:Ke(p.terminal)})]})]})]})]})]})]})},DSe="modulepreload",MSe=function(e,t){return new URL(e,t).href},aC={},$Se=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(u=>{if(u=MSe(u,n),u in aC)return;aC[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===u&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":DSe,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},wu={TERMINAL:["El Roble"],CABEZAL:["El Descanso","Aeropuerto","Intermodal La Cisterna"]},_c=e=>{const t={};return e.forEach(r=>{t[r.supply_id]=(t[r.supply_id]||0)+r.quantity}),t},Sc=(e,t,r,n)=>e.filter(a=>a.location_type===t&&a.location_name===r&&n.includes(a.period)),LSe=(e,t)=>{const r={},n=Sc(e,"TERMINAL","El Roble",["DAY"]),a=_c(n);Object.entries(a).forEach(([o,c])=>{r[o]=(r[o]||0)+c*5});const i=Sc(e,"TERMINAL","El Roble",["NIGHT"]),s=_c(i);return Object.entries(s).forEach(([o,c])=>{r[o]=(r[o]||0)+c*4}),wu.CABEZAL.forEach(o=>{const c=Sc(e,"CABEZAL",o,["DAY"]),u=_c(c);Object.entries(u).forEach(([d,f])=>{r[d]=(r[d]||0)+f*5})}),s8(r,t)},FSe=(e,t)=>{const r={},n=Sc(e,"TERMINAL","El Roble",["DAY"]),a=_c(n);Object.entries(a).forEach(([o,c])=>{r[o]=(r[o]||0)+c*2});const i=Sc(e,"TERMINAL","El Roble",["NIGHT"]),s=_c(i);return Object.entries(s).forEach(([o,c])=>{r[o]=(r[o]||0)+c*3}),wu.CABEZAL.forEach(o=>{const c=Sc(e,"CABEZAL",o,["WEEKEND"]),u=_c(c);Object.entries(u).forEach(([d,f])=>{r[d]=(r[d]||0)+f*2})}),s8(r,t)},s8=(e,t)=>{const r=new Map(t.map(n=>[n.id,n]));return Object.entries(e).filter(([,n])=>n>0).map(([n,a])=>{var i;return{supply_id:n,supply_name:((i=r.get(n))==null?void 0:i.name)||"Desconocido",quantity:a}}).sort((n,a)=>n.supply_name.localeCompare(a.supply_name))},BSe=()=>{const e=new Date().getDay();return e===1?"SEMANA":e===5?"FIN_SEMANA":"EXTRA"},USe=(e,t)=>{if(!t)return null;const r=new Date(e);return r.setDate(r.getDate()+t),r},uw=(e,t=3)=>{if(!e)return!1;const r=new Date(e),n=new Date;return Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24))<=t},dw=e=>({SEMANA:"Semana",FIN_SEMANA:"Fin de Semana",EXTRA:"Extra"})[e]||e,iC=e=>e==="PENDIENTE"?"Pendiente":"Retirado",Rg=async()=>{if(!un())return[];const{data:e,error:t}=await xe.from("supplies").select("*").order("name");if(t)throw console.error("Error fetching supplies:",t),t;return e||[]},zSe=async e=>{const{data:t,error:r}=await xe.from("supplies").insert(e).select().single();if(r)throw console.error("Error creating supply:",r),r;return t},WSe=async(e,t)=>{const{data:r,error:n}=await xe.from("supplies").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating supply:",n),n;return r},HSe=async e=>{const{error:t}=await xe.from("supplies").delete().eq("id",e);if(t)throw console.error("Error deleting supply:",t),t},o8=async()=>{if(!un())return[];const{data:e,error:t}=await xe.from("supply_consumption_profiles").select("*").order("location_type").order("location_name").order("period");if(t)throw console.error("Error fetching consumption profiles:",t),t;return e||[]},qSe=async e=>{const{data:t,error:r}=await xe.from("supply_consumption_profiles").upsert(e,{onConflict:"location_type,location_name,period,supply_id"}).select().single();if(r)throw console.error("Error upserting consumption profile:",r),r;return t},l8=async e=>{if(!un())return[];let t=xe.from("supply_requests").select("*").order("requested_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.terminal&&(t=t.eq("terminal",e.terminal));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching supply requests:",n),n;return r||[]},VSe=async e=>{if(!un())return null;const{data:t,error:r}=await xe.from("supply_requests").select("*").eq("id",e).single();if(r)throw console.error("Error fetching supply request:",r),r;const{data:n,error:a}=await xe.from("supply_request_items").select("*, supply:supplies(*)").eq("request_id",e);if(a)throw console.error("Error fetching request items:",a),a;return{...t,items:n||[]}},KSe=async(e,t,r)=>{const{data:n,error:a}=await xe.from("supply_requests").insert({terminal:e.terminal,request_type:e.request_type,created_by:t,consumption_snapshot:r}).select().single();if(a)throw console.error("Error creating supply request:",a),a;const i=e.items.filter(s=>s.quantity>0).map(s=>({request_id:n.id,supply_id:s.supply_id,quantity:s.quantity,is_extra:s.is_extra}));if(i.length>0){const{error:s}=await xe.from("supply_request_items").insert(i);if(s)throw console.error("Error creating request items:",s),s}try{await GSe(n,r||{})}catch(s){console.error("Error sending request email:",s)}return n},GSe=async(e,t)=>{let r;e.request_type==="SEMANA"?r="MONDAY":e.request_type==="FIN_SEMANA"?r="FRIDAY":r="MANUAL";const{data:n,error:a}=await xe.from("supply_email_settings").select("*").eq("trigger",r).eq("enabled",!0).single();if(a||!n){console.log(`No enabled email settings found for trigger: ${r}`);return}if(!n.recipients){console.log(`No recipients configured for trigger: ${r}`);return}const i=Object.entries(t).map(([u,d])=>`<tr><td style="padding: 8px; border-bottom: 1px solid #e2e8f0;">${u}</td><td style="padding: 8px; border-bottom: 1px solid #e2e8f0; text-align: center;">${d}</td></tr>`).join(""),s=Object.values(t).reduce((u,d)=>u+d,0),o=`
        <p><strong>Terminal:</strong> ${e.terminal}</p>
        <p><strong>Tipo:</strong> ${e.request_type==="SEMANA"?"Semanal":e.request_type==="FIN_SEMANA"?"Fin de Semana":"Extra"}</p>
        <p><strong>Solicitado por:</strong> ${e.created_by}</p>
        <p><strong>Fecha:</strong> ${new Date(e.requested_at).toLocaleString("es-CL")}</p>
        
        <table style="width: 100%; border-collapse: collapse; margin-top: 16px;">
            <thead>
                <tr style="background-color: #f8fafc;">
                    <th style="padding: 10px; text-align: left; border-bottom: 2px solid #e2e8f0;">Insumo</th>
                    <th style="padding: 10px; text-align: center; border-bottom: 2px solid #e2e8f0;">Cantidad</th>
                </tr>
            </thead>
            <tbody>
                ${i}
            </tbody>
            <tfoot>
                <tr style="background-color: #f8fafc; font-weight: bold;">
                    <td style="padding: 10px;">TOTAL</td>
                    <td style="padding: 10px; text-align: center;">${s} unidades</td>
                </tr>
            </tfoot>
        </table>
        
        ${n.body?`<div style="margin-top: 24px;">${n.body}</div>`:""}
    `,{emailService:c}=await $Se(async()=>{const{emailService:u}=await Promise.resolve().then(()=>wX);return{emailService:u}},void 0,import.meta.url);await c.sendEmail({audience:"manual",manualRecipients:n.recipients.split(",").map(u=>u.trim()),subject:n.subject,body:o,module:"informativos"})},XSe=async e=>{const{data:t,error:r}=await xe.from("supply_requests").update({status:"RETIRADO",retrieved_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw console.error("Error marking request as retrieved:",r),r;return t},YSe=async e=>{const{error:t}=await xe.from("supply_requests").delete().eq("id",e);if(t)throw console.error("Error deleting supply request:",t),t},QSe=async(e,t)=>{const r=t.name.split(".").pop(),a=`receipts/${`${e}_${Date.now()}.${r}`}`,{error:i}=await xe.storage.from("supply-receipts").upload(a,t);if(i)throw console.error("Error uploading receipt:",i),i;const{error:s}=await xe.from("supply_requests").update({receipt_path:a}).eq("id",e);if(s)throw console.error("Error updating receipt path:",s),s;return a},JSe=async e=>{const{data:t}=await xe.storage.from("supply-receipts").createSignedUrl(e,3600);return(t==null?void 0:t.signedUrl)||""},ZSe=async()=>{if(!un())return[];const{data:e,error:t}=await xe.from("supply_deliveries").select("*, supply:supplies(*)").order("delivered_at",{ascending:!1});if(t)throw console.error("Error fetching deliveries with supplies:",t),t;return e||[]},eEe=async(e,t,r)=>{const n=new Date,a=USe(n,r),{data:i,error:s}=await xe.from("supply_deliveries").insert({...e,created_by:t,delivered_at:n.toISOString(),next_delivery_at:(a==null?void 0:a.toISOString())||null}).select().single();if(s)throw console.error("Error creating delivery:",s),s;return i},c8=async()=>{if(!un())return[];const{data:e,error:t}=await xe.from("supply_email_settings").select("*").order("trigger");if(t)throw console.error("Error fetching email settings:",t),t;return e||[]},sC=async(e,t)=>{const{data:r,error:n}=await xe.from("supply_email_settings").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating email settings:",n),n;return r},tEe=async(e,t)=>{const{data:r,error:n}=await xe.from("supply_email_settings").insert({trigger:e,...t}).select().single();if(n)throw console.error("Error creating email settings:",n),n;return r},rEe=async()=>{const e=await c8();if(e.length>0)return e;const t=[{trigger:"MONDAY",recipients:"",subject:"Solicitud Semanal de Insumos",body:"",enabled:!0},{trigger:"FRIDAY",recipients:"",subject:"Solicitud Fin de Semana - Insumos",body:"",enabled:!0},{trigger:"MANUAL",recipients:"",subject:"Solicitud Manual de Insumos",body:"",enabled:!0}],r=[];for(const n of t)try{const a=await tEe(n.trigger,{recipients:n.recipients,subject:n.subject,body:n.body,enabled:n.enabled});r.push(a)}catch(a){console.error(`Error creating default email setting for ${n.trigger}:`,a)}return r},nEe=async()=>{if(!un())return{pending:0,retrieved:0};const{data:e,error:t}=await xe.from("supply_requests").select("status");if(t)throw console.error("Error fetching request stats:",t),t;const r=(e==null?void 0:e.filter(a=>a.status==="PENDIENTE").length)||0,n=(e==null?void 0:e.filter(a=>a.status==="RETIRADO").length)||0;return{pending:r,retrieved:n}},aEe=async(e=7)=>{if(!un())return[];const t=new Date;t.setDate(t.getDate()+e);const{data:r,error:n}=await xe.from("supply_deliveries").select("*, supply:supplies(*)").not("next_delivery_at","is",null).lte("next_delivery_at",t.toISOString()).order("next_delivery_at");if(n)throw console.error("Error fetching upcoming deliveries:",n),n;return r||[]},iEe=()=>{const[e,t]=A.useState({supplies:[],requestStats:{pending:0,retrieved:0},upcomingDeliveries:[],recentRequests:[]}),[r,n]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const[s,o,c,u]=await Promise.all([Rg(),nEe(),aEe(7),l8()]);t({supplies:s,requestStats:o,upcomingDeliveries:c,recentRequests:u.slice(0,5)})}catch(s){console.error("Error loading dashboard stats:",s)}finally{n(!1)}})()},[]),e.supplies.filter(i=>i.min_stock>0&&i.min_stock>0);const a=e.upcomingDeliveries.filter(i=>uw(i.next_delivery_at,3));return r?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand-100 text-brand-600",children:l.jsx(le,{name:"package",size:22})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Insumos"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.supplies.length})]})]})}),l.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-warning-100 text-warning-600",children:l.jsx(le,{name:"clock",size:22})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Pendientes"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.pending})]})]})}),l.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-success-100 text-success-600",children:l.jsx(le,{name:"check-circle",size:22})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Retiradas"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.retrieved})]})]})}),l.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-xl ${a.length>0?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-500"}`,children:l.jsx(le,{name:"alert-triangle",size:22})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Alertas"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:a.length})]})]})})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:"Solicitudes Recientes"}),l.jsx(le,{name:"file-text",size:18,className:"text-slate-400"})]}),l.jsx("div",{className:"divide-y divide-slate-100",children:e.recentRequests.length===0?l.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay solicitudes registradas"}):e.recentRequests.map(i=>l.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[l.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-600":"bg-success-100 text-success-600"}`,children:l.jsx(le,{name:i.status==="PENDIENTE"?"clock":"check",size:16})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"text-sm font-medium text-slate-800 truncate",children:[dw(i.request_type)," - ",i.terminal]}),l.jsx("p",{className:"text-xs text-slate-500",children:new Date(i.requested_at).toLocaleDateString("es-CL")})]}),l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:i.status==="PENDIENTE"?"Pendiente":"Retirado"})]},i.id))})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:"Entregas Proximas"}),l.jsx(le,{name:"calendar",size:18,className:"text-slate-400"})]}),l.jsx("div",{className:"divide-y divide-slate-100",children:e.upcomingDeliveries.length===0?l.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay entregas programadas"}):e.upcomingDeliveries.slice(0,5).map(i=>{const s=uw(i.next_delivery_at,3);return l.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[l.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${s?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-600"}`,children:l.jsx(le,{name:"user",size:16})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:i.staff_name}),l.jsx("p",{className:"text-xs text-slate-500",children:i.next_delivery_at?new Date(i.next_delivery_at).toLocaleDateString("es-CL"):"Sin fecha"})]}),s&&l.jsx("span",{className:"inline-flex items-center rounded-full bg-danger-100 px-2.5 py-0.5 text-xs font-medium text-danger-700",children:"Vencida"})]},i.id)})})]})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:"Catalogo de Insumos"}),l.jsxs("span",{className:"text-sm text-slate-500",children:[e.supplies.length," insumos"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-5 py-3",children:"Nombre"}),l.jsx("th",{className:"px-5 py-3",children:"Unidad"}),l.jsx("th",{className:"px-5 py-3 text-center",children:"Vida Util"}),l.jsx("th",{className:"px-5 py-3 text-center",children:"Stock Min"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:e.supplies.map(i=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-5 py-3 text-sm font-medium text-slate-800",children:i.name}),l.jsx("td",{className:"px-5 py-3 text-sm text-slate-600",children:i.unit}),l.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.life_days?`${i.life_days} dias`:"-"}),l.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.min_stock>0?i.min_stock:"-"})]},i.id))})]})})]})]})},sEe=({onSuccess:e,onCancel:t})=>{const r=En(E=>E.session),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,c]=A.useState(!0),[u,d]=A.useState(!1),[f,h]=A.useState(wu.TERMINAL[0]),[p,g]=A.useState(BSe()),[v,x]=A.useState([]),[b,m]=A.useState({supply_id:"",quantity:0});A.useEffect(()=>{(async()=>{try{const[j,T]=await Promise.all([Rg(),o8()]);a(j),s(T)}catch(j){console.error("Error loading form data:",j)}finally{c(!1)}})()},[]),A.useEffect(()=>{if(n.length===0||i.length===0)return;let E;p==="SEMANA"?E=LSe(i,n):p==="FIN_SEMANA"?E=FSe(i,n):E=[],x(E.map(j=>({...j,is_extra:!1})))},[p,n,i]);const y=(E,j)=>{x(T=>T.map(O=>O.supply_id===E?{...O,quantity:Math.max(0,j)}:O))},_=()=>{if(!b.supply_id||b.quantity<=0)return;const E=n.find(T=>T.id===b.supply_id);if(!E)return;const j=v.find(T=>T.supply_id===b.supply_id);x(j?T=>T.map(O=>O.supply_id===b.supply_id?{...O,quantity:O.quantity+b.quantity}:O):T=>[...T,{supply_id:b.supply_id,supply_name:E.name,quantity:b.quantity,is_extra:!0}]),m({supply_id:"",quantity:0})},w=E=>{x(j=>j.filter(T=>T.supply_id!==E))},S=async()=>{const E=v.filter(j=>j.quantity>0);if(E.length===0){alert("Debe agregar al menos un insumo");return}d(!0);try{const j={};E.forEach(T=>{j[T.supply_name]=T.quantity}),await KSe({terminal:f,request_type:p,items:E.map(T=>({supply_id:T.supply_id,quantity:T.quantity,is_extra:T.is_extra}))},(r==null?void 0:r.supervisorName)||"Usuario",j),e()}catch(j){console.error("Error creating request:",j),alert("Error al crear la solicitud")}finally{d(!1)}};return o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Terminal"}),l.jsx("select",{value:f,onChange:E=>h(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:wu.TERMINAL.map(E=>l.jsx("option",{value:E,children:E},E))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Tipo de Solicitud"}),l.jsxs("select",{value:p,onChange:E=>g(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[l.jsx("option",{value:"SEMANA",children:"Semana (Lun-Vie)"}),l.jsx("option",{value:"FIN_SEMANA",children:"Fin de Semana"}),l.jsx("option",{value:"EXTRA",children:"Extra"})]})]})]}),p!=="EXTRA"&&l.jsx("div",{className:"rounded-lg bg-brand-50 p-3 text-sm text-brand-700",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(le,{name:"info",size:18,className:"mt-0.5 flex-shrink-0"}),l.jsx("p",{children:p==="SEMANA"?"Calculo automatico para Lunes a Viernes incluyendo noches de lunes a jueves.":"Calculo automatico para Viernes noche, Sabado y Domingo completos."})]})}),l.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-2",children:"Insumo"}),l.jsx("th",{className:"px-4 py-2 text-right w-24",children:"Cantidad"}),l.jsx("th",{className:"px-4 py-2 w-12"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-500",children:"No hay insumos. Agregue items extra."})}):v.map(E=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[E.supply_name,E.is_extra&&l.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("input",{type:"number",min:"0",value:E.quantity,onChange:j=>y(E.supply_id,parseInt(j.target.value)||0),className:"w-full rounded border border-slate-300 px-2 py-1 text-right text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("button",{onClick:()=>w(E.supply_id),className:"rounded p-1 text-slate-400 hover:bg-danger-100 hover:text-danger-600",children:l.jsx(le,{name:"x",size:16})})})]},E.supply_id))})]})}),l.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 p-4",children:[l.jsx("p",{className:"mb-3 text-sm font-medium text-slate-700",children:"Agregar insumo extra"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("select",{value:b.supply_id,onChange:E=>m(j=>({...j,supply_id:E.target.value})),className:"flex-1 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[l.jsx("option",{value:"",children:"Seleccionar insumo..."}),n.filter(E=>!v.some(j=>j.supply_id===E.id)).map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]}),l.jsx("input",{type:"number",min:"1",placeholder:"Cant.",value:b.quantity||"",onChange:E=>m(j=>({...j,quantity:parseInt(E.target.value)||0})),className:"w-20 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),l.jsx("button",{onClick:_,disabled:!b.supply_id||b.quantity<=0,className:"rounded-lg bg-slate-100 px-3 py-2 text-slate-600 hover:bg-slate-200 disabled:opacity-50",children:l.jsx(le,{name:"plus",size:18})})]})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-4 py-3",children:[l.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Total items: ",v.filter(E=>E.quantity>0).length]}),l.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[v.reduce((E,j)=>E+j.quantity,0)," unidades"]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),l.jsxs("button",{onClick:S,disabled:u||v.filter(E=>E.quantity>0).length===0,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[u&&l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Crear Solicitud"]})]})]})},oEe=({onRefresh:e})=>{const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,s]=A.useState(!1),[o,c]=A.useState(null),[u,d]=A.useState(!1),[f,h]=A.useState("ALL"),[p,g]=A.useState(null),[v,x]=A.useState(null),[b,m]=A.useState(!1),[y,_]=A.useState(null),w=async()=>{try{a(!0);const F=await l8(f!=="ALL"?{status:f}:void 0);r(F)}catch(F){console.error("Error loading requests:",F)}finally{a(!1)}};A.useEffect(()=>{w()},[f]);const S=async F=>{try{const q=await VSe(F);c(q),d(!0)}catch(q){console.error("Error loading request detail:",q)}},E=F=>{g(F),x(null),_(null)},j=async()=>{if(!(!p||!v)){m(!0),_(null);try{await QSe(p,v),await XSe(p),g(null),x(null),await w(),e==null||e()}catch(F){console.error("Error closing request:",F);const q=F instanceof Error?F.message:"Error desconocido";q.includes("Bucket not found")||q.includes("not found")?_('El bucket de almacenamiento no existe. Contacte al administrador para crear el bucket "supply-receipts" en Supabase Storage.'):q.includes("security")||q.includes("policy")?_("Error de permisos. Verifique las polticas del bucket en Supabase."):_(`Error al cerrar solicitud: ${q}`)}finally{m(!1)}}},T=F=>{var V;const q=(V=F.target.files)==null?void 0:V[0];if(q){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(q.type)){_("Tipo de archivo no vlido. Use PDF, JPG o PNG.");return}if(q.size>5*1024*1024){_("El archivo excede 5MB.");return}x(q),_(null)}},O=async F=>{if(confirm("Eliminar esta solicitud?"))try{await YSe(F),await w(),e==null||e()}catch(q){console.error("Error deleting request:",q)}},C=async F=>{try{const q=await JSe(F);window.open(q,"_blank")}catch(q){console.error("Error getting receipt URL:",q)}},M=()=>{s(!1),w(),e==null||e()};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>h("ALL"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="ALL"?"bg-brand-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Todas"}),l.jsx("button",{onClick:()=>h("PENDIENTE"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="PENDIENTE"?"bg-warning-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Pendientes"}),l.jsx("button",{onClick:()=>h("RETIRADO"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="RETIRADO"?"bg-success-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Retiradas"})]}),l.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 transition-colors",children:[l.jsx(le,{name:"plus",size:18}),l.jsx("span",{children:"Nueva Solicitud"})]})]}),l.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):t.length===0?l.jsxs("div",{className:"px-5 py-12 text-center",children:[l.jsx(le,{name:"inbox",size:40,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-sm text-slate-500",children:"No hay solicitudes registradas"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Fecha"}),l.jsx("th",{className:"px-4 py-3",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3",children:"Terminal"}),l.jsx("th",{className:"px-4 py-3",children:"Estado"}),l.jsx("th",{className:"px-4 py-3",children:"Creado por"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(F=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(F.requested_at).toLocaleDateString("es-CL")}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:dw(F.request_type)}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:F.terminal}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${F.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:iC(F.status)})}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:F.created_by}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx("button",{onClick:()=>S(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver detalle",children:l.jsx(le,{name:"eye",size:16})}),F.status==="PENDIENTE"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>E(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-success-100 hover:text-success-600",title:"Cerrar solicitud (requiere boleta)",children:l.jsx(le,{name:"check",size:16})}),l.jsx("button",{onClick:()=>O(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-danger-100 hover:text-danger-600",title:"Eliminar",children:l.jsx(le,{name:"trash",size:16})})]}),F.receipt_path&&l.jsx("button",{onClick:()=>C(F.receipt_path),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver boleta",children:l.jsx(le,{name:"file",size:16})})]})})]},F.id))})]})})}),i&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative mt-8 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Solicitud"}),l.jsx("button",{onClick:()=>s(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:l.jsx(le,{name:"x",size:20})})]}),l.jsx(sEe,{onSuccess:M,onCancel:()=>s(!1)})]})}),u&&o&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative mt-8 w-full max-w-lg rounded-2xl bg-white p-6 shadow-xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Detalle Solicitud"}),l.jsx("button",{onClick:()=>{d(!1),c(null)},className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:l.jsx(le,{name:"x",size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500",children:"Tipo:"}),l.jsx("span",{className:"ml-2 font-medium text-slate-800",children:dw(o.request_type)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500",children:"Estado:"}),l.jsx("span",{className:`ml-2 font-medium ${o.status==="PENDIENTE"?"text-warning-600":"text-success-600"}`,children:iC(o.status)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500",children:"Terminal:"}),l.jsx("span",{className:"ml-2 font-medium text-slate-800",children:o.terminal})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500",children:"Fecha:"}),l.jsx("span",{className:"ml-2 font-medium text-slate-800",children:new Date(o.requested_at).toLocaleDateString("es-CL")})]})]}),l.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-2",children:"Insumo"}),l.jsx("th",{className:"px-4 py-2 text-right",children:"Cantidad"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:o.items.map(F=>{var q;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[((q=F.supply)==null?void 0:q.name)||"Desconocido",F.is_extra&&l.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),l.jsx("td",{className:"px-4 py-2 text-right font-medium text-slate-800",children:F.quantity})]},F.id)})})]})})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Cerrar Solicitud"}),l.jsx("button",{onClick:()=>g(null),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:l.jsx(le,{name:"x",size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"rounded-lg bg-warning-50 p-4 text-sm text-warning-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(le,{name:"alert-triangle",size:18,className:"mt-0.5 flex-shrink-0"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Obligatorio:"})," Debe adjuntar la boleta o comprobante para cerrar esta solicitud."]})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Boleta o Comprobante (PDF, JPG, PNG - max 5MB) *"}),l.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:T,className:"block w-full text-sm text-slate-500 file:mr-4 file:rounded-lg file:border-0 file:bg-brand-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-brand-700 hover:file:bg-brand-100"}),v&&l.jsxs("p",{className:"mt-2 flex items-center gap-2 text-sm text-success-600",children:[l.jsx(le,{name:"check",size:16}),v.name]})]}),y&&l.jsx("div",{className:"rounded-lg bg-danger-50 p-3 text-sm text-danger-700",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(le,{name:"alert-triangle",size:16,className:"mt-0.5 flex-shrink-0"}),l.jsx("p",{children:y})]})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>g(null),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),l.jsxs("button",{onClick:j,disabled:!v||b,className:"inline-flex items-center gap-2 rounded-lg bg-success-500 px-4 py-2 text-sm font-medium text-white hover:bg-success-600 disabled:opacity-50",children:[b&&l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Cerrar Solicitud"]})]})]})]})})]})},lEe=()=>{const e=En(m=>m.session),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,c]=A.useState(!0),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[p,g]=A.useState({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),v=async()=>{try{const[m,y,_]=await Promise.all([Rg(),ZSe(),aR({mode:"ALL"},{cargo:"cleaner",status:"ACTIVO"})]);r(m),a(y),s(_)}catch(m){console.error("Error loading deliveries data:",m)}finally{c(!1)}};A.useEffect(()=>{v()},[]);const x=m=>{const y=i.find(_=>_.rut===m);g(_=>({..._,staff_rut:m,staff_name:(y==null?void 0:y.nombre)||""}))},b=async()=>{if(!p.supply_id||!p.staff_rut||p.quantity<=0){alert("Complete todos los campos requeridos");return}h(!0);try{const m=t.find(y=>y.id===p.supply_id);await eEe(p,(e==null?void 0:e.supervisorName)||"Usuario",(m==null?void 0:m.life_days)||null),d(!1),g({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),await v()}catch(m){console.error("Error creating delivery:",m),alert("Error al registrar la entrega")}finally{h(!1)}};return o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"Registro de entregas de insumos a personal de limpieza"}),l.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[l.jsx(le,{name:"plus",size:18}),l.jsx("span",{children:"Nueva Entrega"})]})]}),l.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n.length===0?l.jsxs("div",{className:"px-5 py-12 text-center",children:[l.jsx(le,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-sm text-slate-500",children:"No hay entregas registradas"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Fecha"}),l.jsx("th",{className:"px-4 py-3",children:"Personal"}),l.jsx("th",{className:"px-4 py-3",children:"Insumo"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Cantidad"}),l.jsx("th",{className:"px-4 py-3",children:"Proxima Entrega"}),l.jsx("th",{className:"px-4 py-3",children:"Notas"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(m=>{var _;const y=uw(m.next_delivery_at,3);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(m.delivered_at).toLocaleDateString("es-CL")}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-800",children:m.staff_name}),l.jsx("p",{className:"text-xs text-slate-500",children:m.staff_rut})]})}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:((_=m.supply)==null?void 0:_.name)||"Desconocido"}),l.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium text-slate-800",children:m.quantity}),l.jsx("td",{className:"px-4 py-3",children:m.next_delivery_at?l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${y?"bg-danger-100 text-danger-700":"bg-slate-100 text-slate-600"}`,children:new Date(m.next_delivery_at).toLocaleDateString("es-CL")}):l.jsx("span",{className:"text-sm text-slate-400",children:"-"})}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:m.notes||"-"})]},m.id)})})]})})}),u&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Entrega"}),l.jsx("button",{onClick:()=>d(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:l.jsx(le,{name:"x",size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Personal (Cleaner)"}),l.jsxs("select",{value:p.staff_rut,onChange:m=>x(m.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[l.jsx("option",{value:"",children:"Seleccionar cleaner..."}),i.map(m=>l.jsxs("option",{value:m.rut,children:[m.nombre," (",m.rut,")"]},m.rut))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Insumo"}),l.jsxs("select",{value:p.supply_id,onChange:m=>g(y=>({...y,supply_id:m.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[l.jsx("option",{value:"",children:"Seleccionar insumo..."}),t.map(m=>l.jsxs("option",{value:m.id,children:[m.name," (",m.unit,")",m.life_days&&` - ${m.life_days} dias vida util`]},m.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cantidad"}),l.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:m=>g(y=>({...y,quantity:parseInt(m.target.value)||1})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Notas (opcional)"}),l.jsx("textarea",{value:p.notes||"",onChange:m=>g(y=>({...y,notes:m.target.value})),rows:2,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",placeholder:"Observaciones..."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>d(!1),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),l.jsxs("button",{onClick:b,disabled:f||!p.supply_id||!p.staff_rut,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[f&&l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Registrar Entrega"]})]})]})]})})]})},cEe=["rollo","bolsa","unidad","litro","kit"],uEe=()=>{const[e,t]=A.useState("consumption"),[r,n]=A.useState("TERMINAL"),[a,i]=A.useState([]),[s,o]=A.useState([]),[c,u]=A.useState(!0),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[g,v]=A.useState({name:"",unit:"unidad",life_days:null,min_stock:0}),x=async()=>{try{const[j,T]=await Promise.all([Rg(),o8()]);i(j),o(T)}catch(j){console.error("Error loading config data:",j)}finally{u(!1)}};A.useEffect(()=>{x()},[]);const b=(j,T,O,C)=>{const M=s.find(F=>F.location_type===j&&F.location_name===T&&F.period===O&&F.supply_id===C);return(M==null?void 0:M.quantity)||0},m=async(j,T,O,C,M)=>{f(!0);try{await qSe({location_type:j,location_name:T,period:O,supply_id:C,quantity:Math.max(0,M)}),await x()}catch(F){console.error("Error updating profile:",F)}finally{f(!1)}},y=async(j,T,O)=>{f(!0);try{await WSe(j,{[T]:O}),await x()}catch(C){console.error("Error updating supply:",C)}finally{f(!1)}},_=async()=>{if(!g.name.trim()){alert("Ingrese el nombre del insumo");return}f(!0);try{await zSe({name:g.name.trim(),unit:g.unit,life_days:g.life_days,min_stock:g.min_stock}),v({name:"",unit:"unidad",life_days:null,min_stock:0}),p(!1),await x()}catch(j){console.error("Error creating supply:",j),alert("Error al crear el insumo")}finally{f(!1)}},w=async(j,T)=>{if(confirm(`Eliminar insumo "${T}"? Esta accion no se puede deshacer.`)){f(!0);try{await HSe(j),await x()}catch(O){console.error("Error deleting supply:",O),alert("Error al eliminar. Puede que tenga datos asociados.")}finally{f(!1)}}};if(c)return l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})});const S=r==="TERMINAL"?[{key:"DAY",label:"Dia"},{key:"NIGHT",label:"Noche"}]:[{key:"DAY",label:"Dia (L-V)"},{key:"WEEKEND",label:"Fin de Semana"}],E=r==="TERMINAL"?wu.TERMINAL:wu.CABEZAL;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 border-b border-slate-200 pb-2",children:[l.jsx("button",{onClick:()=>t("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="consumption"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Consumos"}),l.jsx("button",{onClick:()=>t("supplies"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="supplies"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Insumos"})]}),e==="consumption"&&l.jsxs("div",{className:"space-y-4",children:[a.length===0&&l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[l.jsx(le,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"No hay insumos configurados. Agregue insumos primero."}),l.jsxs("button",{onClick:()=>t("supplies"),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[l.jsx(le,{name:"plus",size:18}),"Agregar Insumos"]})]}),a.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>n("TERMINAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="TERMINAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Terminal"}),l.jsx("button",{onClick:()=>n("CABEZAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="CABEZAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Cabezales"})]}),d&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-brand-600",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}),"Guardando..."]}),E.map(j=>l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[l.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:l.jsx("h3",{className:"font-medium text-slate-800",children:j})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-2",children:"Insumo"}),S.map(T=>l.jsx("th",{className:"px-4 py-2 text-center w-28",children:T.label},T.key))]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(T=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 text-slate-800",children:T.name}),S.map(O=>l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("input",{type:"number",min:"0",value:b(r,j,O.key,T.id),onChange:C=>m(r,j,O.key,T.id,parseInt(C.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})},O.key))]},T.id))})]})})]},j))]})]}),e==="supplies"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[l.jsx(le,{name:"plus",size:18}),"Agregar Insumo"]})}),h&&l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-brand-200 p-4",children:[l.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Nuevo Insumo"}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Nombre *"}),l.jsx("input",{type:"text",value:g.name,onChange:j=>v(T=>({...T,name:j.target.value})),placeholder:"Ej: Nova",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Unidad *"}),l.jsx("select",{value:g.unit,onChange:j=>v(T=>({...T,unit:j.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:cEe.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Vida Util (dias)"}),l.jsx("input",{type:"number",min:"0",value:g.life_days||"",placeholder:"Opcional",onChange:j=>v(T=>({...T,life_days:j.target.value?parseInt(j.target.value):null})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Stock Minimo"}),l.jsx("input",{type:"number",min:"0",value:g.min_stock,onChange:j=>v(T=>({...T,min_stock:parseInt(j.target.value)||0})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:()=>{p(!1),v({name:"",unit:"unidad",life_days:null,min_stock:0})},className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),l.jsxs("button",{onClick:_,disabled:d||!g.name.trim(),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[d&&l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardar"]})]})]}),a.length===0&&!h?l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[l.jsx(le,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"No hay insumos configurados"}),l.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[l.jsx(le,{name:"plus",size:18}),"Agregar Primer Insumo"]})]}):a.length>0&&l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[l.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:l.jsx("h3",{className:"font-medium text-slate-800",children:"Configuracion de Insumos"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-2",children:"Insumo"}),l.jsx("th",{className:"px-4 py-2",children:"Unidad"}),l.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Vida Util (dias)"}),l.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Stock Minimo"}),l.jsx("th",{className:"px-4 py-2 w-16"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(j=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 font-medium text-slate-800",children:j.name}),l.jsx("td",{className:"px-4 py-2 text-slate-600",children:j.unit}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("input",{type:"number",min:"0",value:j.life_days||"",placeholder:"-",onChange:T=>y(j.id,"life_days",T.target.value?parseInt(T.target.value):null),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("input",{type:"number",min:"0",value:j.min_stock||"",placeholder:"-",onChange:T=>y(j.id,"min_stock",parseInt(T.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),l.jsx("td",{className:"px-4 py-2 text-center",children:l.jsx("button",{onClick:()=>w(j.id,j.name),className:"rounded p-1 text-slate-400 hover:bg-danger-100 hover:text-danger-600",children:l.jsx(le,{name:"trash",size:16})})})]},j.id))})]})})]})]})]})},dEe={MONDAY:"Lunes (Solicitud Semanal)",FRIDAY:"Viernes (Fin de Semana)",MANUAL:"Manual"},fEe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(!1),[s,o]=A.useState(null),[c,u]=A.useState(null),[d,f]=A.useState(null),[h,p]=A.useState({recipients:"",subject:"",body:"",enabled:!0}),g=async()=>{try{const w=await c8();return t(w),w}catch(w){return console.error("Error loading email settings:",w),[]}finally{n(!1)}},v=async()=>{i(!0);try{const w=await rEe();t(w)}catch(w){console.error("Error creating default settings:",w),alert("Error al crear configuraciones. Verifique que las tablas existan en Supabase.")}finally{i(!1)}};A.useEffect(()=>{g()},[]);const x=w=>{f(w.id),p({recipients:w.recipients,subject:w.subject,body:w.body,enabled:w.enabled})},b=()=>{f(null),p({recipients:"",subject:"",body:"",enabled:!0})},m=async w=>{o(w);try{await sC(w,h),await g(),f(null)}catch(S){console.error("Error saving email settings:",S),alert("Error al guardar la configuracion")}finally{o(null)}},y=async w=>{o(w.id);try{await sC(w.id,{enabled:!w.enabled}),await g()}catch(S){console.error("Error toggling email setting:",S)}finally{o(null)}},_=async w=>{if(!w.recipients){alert("Configure los destinatarios primero");return}u(w.id);try{await sl.sendEmail({audience:"manual",manualRecipients:w.recipients.split(",").map(S=>S.trim()),subject:`[TEST] ${w.subject}`,body:`<p>Este es un correo de prueba.</p><hr/>${w.body}`,module:"informativos"}),alert("Correo de prueba enviado")}catch(S){console.error("Error sending test email:",S),alert("Error al enviar el correo de prueba")}finally{u(null)}};return r?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):e.length===0?l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[l.jsx(le,{name:"send",size:40,className:"mx-auto text-slate-300 mb-3"}),l.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Configurar Correos Automaticos"}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Cree las configuraciones de correo para las solicitudes automaticas de Lunes, Viernes y Manual."}),l.jsxs("button",{onClick:v,disabled:a,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[a?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):l.jsx(le,{name:"plus",size:18}),"Crear Configuraciones"]})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"rounded-lg bg-slate-50 p-4 text-sm text-slate-600",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(le,{name:"info",size:18,className:"mt-0.5 flex-shrink-0 text-slate-500"}),l.jsx("p",{children:"Configure los destinatarios y plantillas de correo para las solicitudes automaticas. Los correos se envian automaticamente los dias configurados."})]})}),l.jsx("div",{className:"space-y-4",children:e.map(w=>{const S=d===w.id,E=s===w.id,j=c===w.id;return l.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-3 bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${w.enabled?"bg-success-500":"bg-slate-400"}`}),l.jsx("h3",{className:"font-medium text-slate-800",children:dEe[w.trigger]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("button",{onClick:()=>y(w),disabled:E,className:`rounded-lg px-3 py-1 text-xs font-medium transition-colors ${w.enabled?"bg-success-100 text-success-700 hover:bg-success-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:w.enabled?"Activo":"Inactivo"})})]}),l.jsx("div",{className:"p-4",children:S?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Destinatarios (separados por coma)"}),l.jsx("input",{type:"text",value:h.recipients,onChange:T=>p(O=>({...O,recipients:T.target.value})),placeholder:"correo1@ejemplo.com, correo2@ejemplo.com",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Asunto"}),l.jsx("input",{type:"text",value:h.subject,onChange:T=>p(O=>({...O,subject:T.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cuerpo del mensaje (HTML permitido)"}),l.jsx("textarea",{value:h.body,onChange:T=>p(O=>({...O,body:T.target.value})),rows:4,placeholder:"Ejemplo: <p>Estimados,</p><p>Se adjunta la solicitud de insumos.</p>",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:b,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),l.jsxs("button",{onClick:()=>m(w.id),disabled:E,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[E&&l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardar"]})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Destinatarios"}),l.jsx("p",{className:"mt-1 text-sm text-slate-800",children:w.recipients||l.jsx("span",{className:"text-slate-400 italic",children:"No configurado"})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Asunto"}),l.jsx("p",{className:"mt-1 text-sm text-slate-800",children:w.subject})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Mensaje"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600 line-clamp-2",children:w.body||l.jsx("span",{className:"text-slate-400 italic",children:"Sin mensaje"})})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs("button",{onClick:()=>x(w),className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-100",children:[l.jsx(le,{name:"edit",size:14}),"Editar"]}),l.jsxs("button",{onClick:()=>_(w),disabled:j||!w.recipients,className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-brand-600 hover:bg-brand-50 disabled:opacity-50",children:[j?l.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}):l.jsx(le,{name:"send",size:14}),"Enviar Prueba"]})]})]})})]},w.id)})})]})},hEe=[{key:"dashboard",label:"Dashboard",icon:"bar-chart"},{key:"solicitudes",label:"Solicitudes",icon:"file-text"},{key:"entregas",label:"Entregas",icon:"package"},{key:"config",label:"Configuracion",icon:"settings"}],pEe=()=>{const[e,t]=A.useState("dashboard"),[r,n]=A.useState("consumption"),[a,i]=A.useState(0),s=()=>i(o=>o+1);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Solicitudes de Insumos"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Gestion inteligente de insumos, solicitudes y entregas a personal"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-3",children:hEe.map(o=>l.jsxs("button",{onClick:()=>t(o.key),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all ${e===o.key?"bg-brand-500 text-white shadow-brand":"text-slate-600 hover:bg-slate-100"}`,children:[l.jsx(le,{name:o.icon,size:18}),l.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.key))}),l.jsxs("div",{children:[e==="dashboard"&&l.jsx(iEe,{}),e==="solicitudes"&&l.jsx(oEe,{onRefresh:s}),e==="entregas"&&l.jsx(lEe,{}),e==="config"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>n("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="consumption"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Consumos e Insumos"}),l.jsx("button",{onClick:()=>n("emails"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="emails"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Correos"})]}),r==="consumption"&&l.jsx(uEe,{}),r==="emails"&&l.jsx(fEe,{})]})]},a)]})},mEe=()=>{const e=En(a=>a.session),t=En(a=>a.hydrateSession),[r,n]=A.useState(!0);return A.useEffect(()=>{t().finally(()=>n(!1))},[t]),r?l.jsx(cr,{label:"Validando sesin"}):e?l.jsx(aP,{}):l.jsx(nP,{to:"/",replace:!0})},vEe=()=>l.jsx(f7,{children:l.jsxs(a7,{children:[l.jsx($t,{path:"/",element:l.jsx(S7,{})}),l.jsx($t,{element:l.jsx(mEe,{}),children:l.jsxs($t,{element:l.jsx(O7,{}),children:[l.jsx($t,{path:"/personal",element:l.jsx(pX,{})}),l.jsx($t,{path:"/reuniones",element:l.jsx(vX,{})}),l.jsx($t,{path:"/tareas",element:l.jsx(xX,{})}),l.jsx($t,{path:"/informativos",element:l.jsx(_X,{})}),l.jsx($t,{path:"/asistencia",element:l.jsx(_Y,{})}),l.jsx($t,{path:"/aseo/interior",element:l.jsx(jY,{})}),l.jsx($t,{path:"/aseo/exterior",element:l.jsx(TY,{})}),l.jsx($t,{path:"/aseo/rodillo",element:l.jsx(AY,{})}),l.jsx($t,{path:"/credenciales",element:l.jsx(fSe,{})}),l.jsx($t,{path:"/solicitudes",element:l.jsx(pSe,{})}),l.jsx($t,{path:"/minicheck/extintor",element:l.jsx(NSe,{})}),l.jsx($t,{path:"/minicheck/tag",element:l.jsx(OSe,{})}),l.jsx($t,{path:"/minicheck/mobileye",element:l.jsx(CSe,{})}),l.jsx($t,{path:"/minicheck/odometro",element:l.jsx(kSe,{})}),l.jsx($t,{path:"/minicheck/publicidad",element:l.jsx(PSe,{})}),l.jsx($t,{path:"/estado-flota",element:l.jsx(ISe,{})}),l.jsx($t,{path:"/insumos",element:l.jsx(pEe,{})})]})}),l.jsx($t,{path:"*",element:l.jsx(nP,{to:"/",replace:!0})})]})});iy.createRoot(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(fF,{children:l.jsx(vEe,{})})}));
