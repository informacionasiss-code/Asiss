var cS=e=>{throw TypeError(e)};var $g=(e,t,r)=>t.has(e)||cS("Cannot "+r);var B=(e,t,r)=>($g(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?cS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>($g(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Be=(e,t,r)=>($g(e,t,"access private method"),r);var $h=(e,t,r,n)=>({set _(a){Ee(e,t,a,r)},get _(){return B(e,t,n)}});function pC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var mC={exports:{}},Xm={},vC={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),w8=Symbol.for("react.portal"),_8=Symbol.for("react.fragment"),S8=Symbol.for("react.strict_mode"),E8=Symbol.for("react.profiler"),j8=Symbol.for("react.provider"),T8=Symbol.for("react.context"),A8=Symbol.for("react.forward_ref"),N8=Symbol.for("react.suspense"),O8=Symbol.for("react.memo"),C8=Symbol.for("react.lazy"),uS=Symbol.iterator;function k8(e){return e===null||typeof e!="object"?null:(e=uS&&e[uS]||e["@@iterator"],typeof e=="function"?e:null)}var gC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xC=Object.assign,yC={};function _u(e,t,r){this.props=e,this.context=t,this.refs=yC,this.updater=r||gC}_u.prototype.isReactComponent={};_u.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_u.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bC(){}bC.prototype=_u.prototype;function fw(e,t,r){this.props=e,this.context=t,this.refs=yC,this.updater=r||gC}var hw=fw.prototype=new bC;hw.constructor=fw;xC(hw,_u.prototype);hw.isPureReactComponent=!0;var dS=Array.isArray,wC=Object.prototype.hasOwnProperty,pw={current:null},_C={key:!0,ref:!0,__self:!0,__source:!0};function SC(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)wC.call(t,n)&&!_C.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:fh,type:e,key:i,ref:s,props:a,_owner:pw.current}}function P8(e,t){return{$$typeof:fh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mw(e){return typeof e=="object"&&e!==null&&e.$$typeof===fh}function R8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fS=/\/+/g;function Lg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R8(""+e.key):t.toString(36)}function D0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fh:case w8:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Lg(s,0):n,dS(a)?(r="",e!=null&&(r=e.replace(fS,"$&/")+"/"),D0(a,t,r,"",function(u){return u})):a!=null&&(mw(a)&&(a=P8(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(fS,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",dS(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Lg(i,o);s+=D0(i,t,r,l,a)}else if(l=k8(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Lg(i,o++),s+=D0(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fh(e,t,r){if(e==null)return e;var n=[],a=0;return D0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function I8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},M0={transition:null},D8={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:M0,ReactCurrentOwner:pw};function EC(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Fh,forEach:function(e,t,r){Fh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fh(e,function(){t++}),t},toArray:function(e){return Fh(e,function(t){return t})||[]},only:function(e){if(!mw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=_u;He.Fragment=_8;He.Profiler=E8;He.PureComponent=fw;He.StrictMode=S8;He.Suspense=N8;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D8;He.act=EC;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xC({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=pw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)wC.call(t,l)&&!_C.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:fh,type:e.type,key:a,ref:i,props:n,_owner:s}};He.createContext=function(e){return e={$$typeof:T8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j8,_context:e},e.Consumer=e};He.createElement=SC;He.createFactory=function(e){var t=SC.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:A8,render:e}};He.isValidElement=mw;He.lazy=function(e){return{$$typeof:C8,_payload:{_status:-1,_result:e},_init:I8}};He.memo=function(e,t){return{$$typeof:O8,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=M0.transition;M0.transition={};try{e()}finally{M0.transition=t}};He.unstable_act=EC;He.useCallback=function(e,t){return on.current.useCallback(e,t)};He.useContext=function(e){return on.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return on.current.useDeferredValue(e)};He.useEffect=function(e,t){return on.current.useEffect(e,t)};He.useId=function(){return on.current.useId()};He.useImperativeHandle=function(e,t,r){return on.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return on.current.useMemo(e,t)};He.useReducer=function(e,t,r){return on.current.useReducer(e,t,r)};He.useRef=function(e){return on.current.useRef(e)};He.useState=function(e){return on.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return on.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return on.current.useTransition()};He.version="18.3.1";vC.exports=He;var A=vC.exports;const z=et(A),M8=pC({__proto__:null,default:z},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $8=A,L8=Symbol.for("react.element"),F8=Symbol.for("react.fragment"),B8=Object.prototype.hasOwnProperty,U8=$8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z8={key:!0,ref:!0,__self:!0,__source:!0};function jC(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)B8.call(t,n)&&!z8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:L8,type:e,key:i,ref:s,props:a,_owner:U8.current}}Xm.Fragment=F8;Xm.jsx=jC;Xm.jsxs=jC;mC.exports=Xm;var c=mC.exports,ay={},TC={exports:{}},Hn={},AC={exports:{}},NC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var pe=ue-1>>>1,P=G[pe];if(0<a(P,te))G[pe]=te,G[ue]=P,ue=pe;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var pe=0,P=G.length,H=P>>>1;pe<H;){var U=2*(pe+1)-1,W=G[U],ae=U+1,Se=G[ae];if(0>a(W,ue))ae<P&&0>a(Se,W)?(G[pe]=Se,G[ae]=ue,pe=ae):(G[pe]=W,G[U]=ue,pe=U);else if(ae<P&&0>a(Se,ue))G[pe]=Se,G[ae]=ue,pe=ae;else break e}}return te}function a(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(G){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=G)n(u),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(u)}}function _(G){if(m=!1,y(G),!g)if(r(l)!==null)g=!0,ne(w);else{var te=r(u);te!==null&&se(_,te.startTime-G)}}function w(G,te){g=!1,m&&(m=!1,b(j),j=-1),p=!0;var ue=h;try{for(y(te),f=r(l);f!==null&&(!(f.expirationTime>te)||G&&!C());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,h=f.priorityLevel;var P=pe(f.expirationTime<=te);te=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),y(te)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var U=r(u);U!==null&&se(_,U.startTime-te),H=!1}return H}finally{f=null,h=ue,p=!1}}var S=!1,E=null,j=-1,T=5,O=-1;function C(){return!(e.unstable_now()-O<T)}function M(){if(E!==null){var G=e.unstable_now();O=G;var te=!0;try{te=E(!0,G)}finally{te?F():(S=!1,E=null)}}else S=!1}var F;if(typeof v=="function")F=function(){v(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=M,F=function(){V.postMessage(null)}}else F=function(){x(M,0)};function ne(G){E=G,S||(S=!0,F())}function se(G,te){j=x(function(){G(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ne(w))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var ue=h;h=te;try{return G()}finally{h=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=h;h=G;try{return te()}finally{h=ue}},e.unstable_scheduleCallback=function(G,te,ue){var pe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?pe+ue:pe):ue=pe,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ue+P,G={id:d++,callback:te,priorityLevel:G,startTime:ue,expirationTime:P,sortIndex:-1},ue>pe?(G.sortIndex=ue,t(u,G),r(l)===null&&G===r(u)&&(m?(b(j),j=-1):m=!0,se(_,ue-pe))):(G.sortIndex=P,t(l,G),g||p||(g=!0,ne(w))),G},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(G){var te=h;return function(){var ue=h;h=te;try{return G.apply(this,arguments)}finally{h=ue}}}})(NC);AC.exports=NC;var W8=AC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H8=A,Un=W8;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Xd={};function fl(e,t){Dc(e,t),Dc(e+"Capture",t)}function Dc(e,t){for(Xd[e]=t,e=0;e<t.length;e++)OC.add(t[e])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=Object.prototype.hasOwnProperty,q8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},pS={};function V8(e){return iy.call(pS,e)?!0:iy.call(hS,e)?!1:q8.test(e)?pS[e]=!0:(hS[e]=!0,!1)}function K8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G8(e,t,r,n){if(t===null||typeof t>"u"||K8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var vw=/[\-:]([a-z])/g;function gw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vw,gw);Cr[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function xw(e,t,r,n){var a=Cr.hasOwnProperty(t)?Cr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G8(t,r,a,n)&&(r=null),n||a===null?V8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vi=H8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),PC=Symbol.for("react.offscreen"),mS=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=mS&&e[mS]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Fg;function xd(e){if(Fg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fg=t&&t[1]||""}return`
`+Fg+e}var Bg=!1;function Ug(e,t){if(!e||Bg)return"";Bg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Bg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xd(e):""}function X8(e){switch(e.tag){case 5:return xd(e.type);case 16:return xd("Lazy");case 13:return xd("Suspense");case 19:return xd("SuspenseList");case 0:case 2:case 15:return e=Ug(e.type,!1),e;case 11:return e=Ug(e.type.render,!1),e;case 1:return e=Ug(e.type,!0),e;default:return""}}function cy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zl:return"Fragment";case Ul:return"Portal";case sy:return"Profiler";case yw:return"StrictMode";case oy:return"Suspense";case ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kC:return(e.displayName||"Context")+".Consumer";case CC:return(e._context.displayName||"Context")+".Provider";case bw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ww:return t=e.displayName||null,t!==null?t:cy(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return cy(e(t))}catch{}}return null}function Y8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(t);case 8:return t===yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q8(e){var t=RC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uh(e){e._valueTracker||(e._valueTracker=Q8(e))}function IC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Q0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uy(e,t){var r=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DC(e,t){t=t.checked,t!=null&&xw(e,"checked",t,!1)}function dy(e,t){DC(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fy(e,t.type,r):t.hasOwnProperty("defaultValue")&&fy(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fy(e,t,r){(t!=="number"||Q0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yd=Array.isArray;function ic(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function hy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(yd(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function MC(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $C(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$C(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zh,LC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J8=["Webkit","ms","Moz","O"];Object.keys(Nd).forEach(function(e){J8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nd[t]=Nd[e]})});function FC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nd.hasOwnProperty(e)&&Nd[e]?(""+t).trim():t+"px"}function BC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=FC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Z8=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(e,t){if(t){if(Z8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function vy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=null;function _w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xy=null,sc=null,oc=null;function bS(e){if(e=mh(e)){if(typeof xy!="function")throw Error(he(280));var t=e.stateNode;t&&(t=ev(t),xy(e.stateNode,e.type,t))}}function UC(e){sc?oc?oc.push(e):oc=[e]:sc=e}function zC(){if(sc){var e=sc,t=oc;if(oc=sc=null,bS(e),t)for(e=0;e<t.length;e++)bS(t[e])}}function WC(e,t){return e(t)}function HC(){}var zg=!1;function qC(e,t,r){if(zg)return e(t,r);zg=!0;try{return WC(e,t,r)}finally{zg=!1,(sc!==null||oc!==null)&&(HC(),zC())}}function Qd(e,t){var r=e.stateNode;if(r===null)return null;var n=ev(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var yy=!1;if(Ri)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){yy=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{yy=!1}function eM(e,t,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Od=!1,J0=null,Z0=!1,by=null,tM={onError:function(e){Od=!0,J0=e}};function rM(e,t,r,n,a,i,s,o,l){Od=!1,J0=null,eM.apply(tM,arguments)}function nM(e,t,r,n,a,i,s,o,l){if(rM.apply(this,arguments),Od){if(Od){var u=J0;Od=!1,J0=null}else throw Error(he(198));Z0||(Z0=!0,by=u)}}function hl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function VC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wS(e){if(hl(e)!==e)throw Error(he(188))}function aM(e){var t=e.alternate;if(!t){if(t=hl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return wS(a),e;if(i===n)return wS(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function KC(e){return e=aM(e),e!==null?GC(e):null}function GC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GC(e);if(t!==null)return t;e=e.sibling}return null}var XC=Un.unstable_scheduleCallback,_S=Un.unstable_cancelCallback,iM=Un.unstable_shouldYield,sM=Un.unstable_requestPaint,Ht=Un.unstable_now,oM=Un.unstable_getCurrentPriorityLevel,Sw=Un.unstable_ImmediatePriority,YC=Un.unstable_UserBlockingPriority,ep=Un.unstable_NormalPriority,lM=Un.unstable_LowPriority,QC=Un.unstable_IdlePriority,Ym=null,Za=null;function cM(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(Ym,e,void 0,(e.current.flags&128)===128)}catch{}}var ka=Math.clz32?Math.clz32:fM,uM=Math.log,dM=Math.LN2;function fM(e){return e>>>=0,e===0?32:31-(uM(e)/dM|0)|0}var Wh=64,Hh=4194304;function bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=bd(o):(i&=s,i!==0&&(n=bd(i)))}else s=r&~a,s!==0?n=bd(s):i!==0&&(n=bd(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ka(t),a=1<<r,n|=e[r],t&=~a;return n}function hM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ka(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=hM(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function wy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JC(){var e=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),e}function Wg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ka(t),e[t]=r}function mM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ka(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ew(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ka(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var st=0;function ZC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ek,jw,tk,rk,nk,_y=!1,qh=[],Ns=null,Os=null,Cs=null,Jd=new Map,Zd=new Map,ls=[],vM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SS(e,t){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function Zu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mh(t),t!==null&&jw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gM(e,t,r,n,a){switch(t){case"focusin":return Ns=Zu(Ns,e,t,r,n,a),!0;case"dragenter":return Os=Zu(Os,e,t,r,n,a),!0;case"mouseover":return Cs=Zu(Cs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jd.set(i,Zu(Jd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zd.set(i,Zu(Zd.get(i)||null,e,t,r,n,a)),!0}return!1}function ak(e){var t=So(e.target);if(t!==null){var r=hl(t);if(r!==null){if(t=r.tag,t===13){if(t=VC(r),t!==null){e.blockedOn=t,nk(e.priority,function(){tk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gy=n,r.target.dispatchEvent(n),gy=null}else return t=mh(r),t!==null&&jw(t),e.blockedOn=r,!1;t.shift()}return!0}function ES(e,t,r){$0(e)&&r.delete(t)}function xM(){_y=!1,Ns!==null&&$0(Ns)&&(Ns=null),Os!==null&&$0(Os)&&(Os=null),Cs!==null&&$0(Cs)&&(Cs=null),Jd.forEach(ES),Zd.forEach(ES)}function ed(e,t){e.blockedOn===t&&(e.blockedOn=null,_y||(_y=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,xM)))}function ef(e){function t(a){return ed(a,e)}if(0<qh.length){ed(qh[0],e);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ns!==null&&ed(Ns,e),Os!==null&&ed(Os,e),Cs!==null&&ed(Cs,e),Jd.forEach(t),Zd.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)ak(r),r.blockedOn===null&&ls.shift()}var lc=Vi.ReactCurrentBatchConfig,rp=!0;function yM(e,t,r,n){var a=st,i=lc.transition;lc.transition=null;try{st=1,Tw(e,t,r,n)}finally{st=a,lc.transition=i}}function bM(e,t,r,n){var a=st,i=lc.transition;lc.transition=null;try{st=4,Tw(e,t,r,n)}finally{st=a,lc.transition=i}}function Tw(e,t,r,n){if(rp){var a=Sy(e,t,r,n);if(a===null)Zg(e,t,n,np,r),SS(e,n);else if(gM(a,e,t,r,n))n.stopPropagation();else if(SS(e,n),t&4&&-1<vM.indexOf(e)){for(;a!==null;){var i=mh(a);if(i!==null&&ek(i),i=Sy(e,t,r,n),i===null&&Zg(e,t,n,np,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Zg(e,t,n,null,r)}}var np=null;function Sy(e,t,r,n){if(np=null,e=_w(n),e=So(e),e!==null)if(t=hl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=VC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return np=e,null}function ik(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case Sw:return 1;case YC:return 4;case ep:case lM:return 16;case QC:return 536870912;default:return 16}default:return 16}}var _s=null,Aw=null,L0=null;function sk(){if(L0)return L0;var e,t=Aw,r=t.length,n,a="value"in _s?_s.value:_s.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return L0=a.slice(e,1<n?1-n:void 0)}function F0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vh(){return!0}function jS(){return!1}function qn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vh:jS,this.isPropagationStopped=jS,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),t}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nw=qn(Su),ph=It({},Su,{view:0,detail:0}),wM=qn(ph),Hg,qg,td,Qm=It({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ow,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==td&&(td&&e.type==="mousemove"?(Hg=e.screenX-td.screenX,qg=e.screenY-td.screenY):qg=Hg=0,td=e),Hg)},movementY:function(e){return"movementY"in e?e.movementY:qg}}),TS=qn(Qm),_M=It({},Qm,{dataTransfer:0}),SM=qn(_M),EM=It({},ph,{relatedTarget:0}),Vg=qn(EM),jM=It({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),TM=qn(jM),AM=It({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NM=qn(AM),OM=It({},Su,{data:0}),AS=qn(OM),CM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PM[e])?!!t[e]:!1}function Ow(){return RM}var IM=It({},ph,{key:function(e){if(e.key){var t=CM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=F0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ow,charCode:function(e){return e.type==="keypress"?F0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DM=qn(IM),MM=It({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NS=qn(MM),$M=It({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ow}),LM=qn($M),FM=It({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=qn(FM),UM=It({},Qm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zM=qn(UM),WM=[9,13,27,32],Cw=Ri&&"CompositionEvent"in window,Cd=null;Ri&&"documentMode"in document&&(Cd=document.documentMode);var HM=Ri&&"TextEvent"in window&&!Cd,ok=Ri&&(!Cw||Cd&&8<Cd&&11>=Cd),OS=" ",CS=!1;function lk(e,t){switch(e){case"keyup":return WM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wl=!1;function qM(e,t){switch(e){case"compositionend":return ck(t);case"keypress":return t.which!==32?null:(CS=!0,OS);case"textInput":return e=t.data,e===OS&&CS?null:e;default:return null}}function VM(e,t){if(Wl)return e==="compositionend"||!Cw&&lk(e,t)?(e=sk(),L0=Aw=_s=null,Wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ok&&t.locale!=="ko"?null:t.data;default:return null}}var KM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KM[e.type]:t==="textarea"}function uk(e,t,r,n){UC(n),t=ap(t,"onChange"),0<t.length&&(r=new Nw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kd=null,tf=null;function GM(e){wk(e,0)}function Jm(e){var t=Vl(e);if(IC(t))return e}function XM(e,t){if(e==="change")return t}var dk=!1;if(Ri){var Kg;if(Ri){var Gg="oninput"in document;if(!Gg){var PS=document.createElement("div");PS.setAttribute("oninput","return;"),Gg=typeof PS.oninput=="function"}Kg=Gg}else Kg=!1;dk=Kg&&(!document.documentMode||9<document.documentMode)}function RS(){kd&&(kd.detachEvent("onpropertychange",fk),tf=kd=null)}function fk(e){if(e.propertyName==="value"&&Jm(tf)){var t=[];uk(t,tf,e,_w(e)),qC(GM,t)}}function YM(e,t,r){e==="focusin"?(RS(),kd=t,tf=r,kd.attachEvent("onpropertychange",fk)):e==="focusout"&&RS()}function QM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jm(tf)}function JM(e,t){if(e==="click")return Jm(t)}function ZM(e,t){if(e==="input"||e==="change")return Jm(t)}function e$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:e$;function rf(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!iy.call(t,a)||!Da(e[a],t[a]))return!1}return!0}function IS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function DS(e,t){var r=IS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IS(r)}}function hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pk(){for(var e=window,t=Q0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Q0(e.document)}return t}function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t$(e){var t=pk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hk(r.ownerDocument.documentElement,r)){if(n!==null&&kw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=DS(r,i);var s=DS(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r$=Ri&&"documentMode"in document&&11>=document.documentMode,Hl=null,Ey=null,Pd=null,jy=!1;function MS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jy||Hl==null||Hl!==Q0(n)||(n=Hl,"selectionStart"in n&&kw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pd&&rf(Pd,n)||(Pd=n,n=ap(Ey,"onSelect"),0<n.length&&(t=new Nw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hl)))}function Kh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ql={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},Xg={},mk={};Ri&&(mk=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Zm(e){if(Xg[e])return Xg[e];if(!ql[e])return e;var t=ql[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mk)return Xg[e]=t[r];return e}var vk=Zm("animationend"),gk=Zm("animationiteration"),xk=Zm("animationstart"),yk=Zm("transitionend"),bk=new Map,$S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){bk.set(e,t),fl(t,[e])}for(var Yg=0;Yg<$S.length;Yg++){var Qg=$S[Yg],n$=Qg.toLowerCase(),a$=Qg[0].toUpperCase()+Qg.slice(1);Ks(n$,"on"+a$)}Ks(vk,"onAnimationEnd");Ks(gk,"onAnimationIteration");Ks(xk,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(yk,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function LS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nM(n,t,void 0,e),e.currentTarget=null}function wk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;LS(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;LS(a,o,u),i=l}}}if(Z0)throw e=by,Z0=!1,by=null,e}function xt(e,t){var r=t[Cy];r===void 0&&(r=t[Cy]=new Set);var n=e+"__bubble";r.has(n)||(_k(t,e,2,!1),r.add(n))}function Jg(e,t,r){var n=0;t&&(n|=4),_k(r,e,n,t)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function nf(e){if(!e[Gh]){e[Gh]=!0,OC.forEach(function(r){r!=="selectionchange"&&(i$.has(r)||Jg(r,!1,e),Jg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gh]||(t[Gh]=!0,Jg("selectionchange",!1,t))}}function _k(e,t,r,n){switch(ik(t)){case 1:var a=yM;break;case 4:a=bM;break;default:a=Tw}r=a.bind(null,t,r,e),a=void 0,!yy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=So(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}qC(function(){var u=i,d=_w(r),f=[];e:{var h=bk.get(e);if(h!==void 0){var p=Nw,g=e;switch(e){case"keypress":if(F0(r)===0)break e;case"keydown":case"keyup":p=DM;break;case"focusin":g="focus",p=Vg;break;case"focusout":g="blur",p=Vg;break;case"beforeblur":case"afterblur":p=Vg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LM;break;case vk:case gk:case xk:p=TM;break;case yk:p=BM;break;case"scroll":p=wM;break;case"wheel":p=zM;break;case"copy":case"cut":case"paste":p=NM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=NS}var m=(t&4)!==0,x=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=Qd(v,b),_!=null&&m.push(af(v,_,y)))),x)break;v=v.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==gy&&(g=r.relatedTarget||r.fromElement)&&(So(g)||g[Ii]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?So(g):null,g!==null&&(x=hl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=TS,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=NS,_="onPointerLeave",b="onPointerEnter",v="pointer"),x=p==null?h:Vl(p),y=g==null?h:Vl(g),h=new m(_,v+"leave",p,r,d),h.target=x,h.relatedTarget=y,_=null,So(d)===u&&(m=new m(b,v+"enter",g,r,d),m.target=y,m.relatedTarget=x,_=m),x=_,p&&g)t:{for(m=p,b=g,v=0,y=m;y;y=Al(y))v++;for(y=0,_=b;_;_=Al(_))y++;for(;0<v-y;)m=Al(m),v--;for(;0<y-v;)b=Al(b),y--;for(;v--;){if(m===b||b!==null&&m===b.alternate)break t;m=Al(m),b=Al(b)}m=null}else m=null;p!==null&&FS(f,h,p,m,!1),g!==null&&x!==null&&FS(f,x,g,m,!0)}}e:{if(h=u?Vl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=XM;else if(kS(h))if(dk)w=ZM;else{w=QM;var S=YM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=JM);if(w&&(w=w(e,u))){uk(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&fy(h,"number",h.value)}switch(S=u?Vl(u):window,e){case"focusin":(kS(S)||S.contentEditable==="true")&&(Hl=S,Ey=u,Pd=null);break;case"focusout":Pd=Ey=Hl=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,MS(f,r,d);break;case"selectionchange":if(r$)break;case"keydown":case"keyup":MS(f,r,d)}var E;if(Cw)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Wl?lk(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(ok&&r.locale!=="ko"&&(Wl||j!=="onCompositionStart"?j==="onCompositionEnd"&&Wl&&(E=sk()):(_s=d,Aw="value"in _s?_s.value:_s.textContent,Wl=!0)),S=ap(u,j),0<S.length&&(j=new AS(j,e,null,r,d),f.push({event:j,listeners:S}),E?j.data=E:(E=ck(r),E!==null&&(j.data=E)))),(E=HM?qM(e,r):VM(e,r))&&(u=ap(u,"onBeforeInput"),0<u.length&&(d=new AS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}wk(f,t)})}function af(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ap(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Qd(e,r),i!=null&&n.unshift(af(e,i,a)),i=Qd(e,t),i!=null&&n.push(af(e,i,a))),e=e.return}return n}function Al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FS(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=Qd(r,i),l!=null&&s.unshift(af(r,l,o))):a||(l=Qd(r,i),l!=null&&s.push(af(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function BS(e){return(typeof e=="string"?e:""+e).replace(s$,`
`).replace(o$,"")}function Xh(e,t,r){if(t=BS(t),BS(e)!==t&&r)throw Error(he(425))}function ip(){}var Ty=null,Ay=null;function Ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,l$=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,c$=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(e){return US.resolve(null).then(e).catch(u$)}:Oy;function u$(e){setTimeout(function(){throw e})}function ex(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ef(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ef(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Ya="__reactFiber$"+Eu,sf="__reactProps$"+Eu,Ii="__reactContainer$"+Eu,Cy="__reactEvents$"+Eu,d$="__reactListeners$"+Eu,f$="__reactHandles$"+Eu;function So(e){var t=e[Ya];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ii]||r[Ya]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zS(e);e!==null;){if(r=e[Ya])return r;e=zS(e)}return t}e=r,r=e.parentNode}return null}function mh(e){return e=e[Ya]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function ev(e){return e[sf]||null}var ky=[],Kl=-1;function Gs(e){return{current:e}}function wt(e){0>Kl||(e.current=ky[Kl],ky[Kl]=null,Kl--)}function vt(e,t){Kl++,ky[Kl]=e.current,e.current=t}var Us={},Hr=Gs(Us),xn=Gs(!1),Ko=Us;function Mc(e,t){var r=e.type.contextTypes;if(!r)return Us;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yn(e){return e=e.childContextTypes,e!=null}function sp(){wt(xn),wt(Hr)}function WS(e,t,r){if(Hr.current!==Us)throw Error(he(168));vt(Hr,t),vt(xn,r)}function Sk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(he(108,Y8(e)||"Unknown",a));return It({},r,n)}function op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,Ko=Hr.current,vt(Hr,e),vt(xn,xn.current),!0}function HS(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=Sk(e,t,Ko),n.__reactInternalMemoizedMergedChildContext=e,wt(xn),wt(Hr),vt(Hr,e)):wt(xn),vt(xn,r)}var pi=null,tv=!1,tx=!1;function Ek(e){pi===null?pi=[e]:pi.push(e)}function h$(e){tv=!0,Ek(e)}function Xs(){if(!tx&&pi!==null){tx=!0;var e=0,t=st;try{var r=pi;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,tv=!1}catch(a){throw pi!==null&&(pi=pi.slice(e+1)),XC(Sw,Xs),a}finally{st=t,tx=!1}}return null}var Gl=[],Xl=0,lp=null,cp=0,ea=[],ta=0,Go=null,yi=1,bi="";function uo(e,t){Gl[Xl++]=cp,Gl[Xl++]=lp,lp=e,cp=t}function jk(e,t,r){ea[ta++]=yi,ea[ta++]=bi,ea[ta++]=Go,Go=e;var n=yi;e=bi;var a=32-ka(n)-1;n&=~(1<<a),r+=1;var i=32-ka(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,yi=1<<32-ka(t)+a|r<<a|n,bi=i+e}else yi=1<<i|r<<a|n,bi=e}function Pw(e){e.return!==null&&(uo(e,1),jk(e,1,0))}function Rw(e){for(;e===lp;)lp=Gl[--Xl],Gl[Xl]=null,cp=Gl[--Xl],Gl[Xl]=null;for(;e===Go;)Go=ea[--ta],ea[ta]=null,bi=ea[--ta],ea[ta]=null,yi=ea[--ta],ea[ta]=null}var Fn=null,Ln=null,Et=!1,Ta=null;function Tk(e,t){var r=na(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Go!==null?{id:yi,overflow:bi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=na(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fn=e,Ln=null,!0):!1;default:return!1}}function Py(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ry(e){if(Et){var t=Ln;if(t){var r=t;if(!qS(e,t)){if(Py(e))throw Error(he(418));t=ks(r.nextSibling);var n=Fn;t&&qS(e,t)?Tk(n,r):(e.flags=e.flags&-4097|2,Et=!1,Fn=e)}}else{if(Py(e))throw Error(he(418));e.flags=e.flags&-4097|2,Et=!1,Fn=e}}}function VS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function Yh(e){if(e!==Fn)return!1;if(!Et)return VS(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ny(e.type,e.memoizedProps)),t&&(t=Ln)){if(Py(e))throw Ak(),Error(he(418));for(;t;)Tk(e,t),t=ks(t.nextSibling)}if(VS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ln=ks(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?ks(e.stateNode.nextSibling):null;return!0}function Ak(){for(var e=Ln;e;)e=ks(e.nextSibling)}function $c(){Ln=Fn=null,Et=!1}function Iw(e){Ta===null?Ta=[e]:Ta.push(e)}var p$=Vi.ReactCurrentBatchConfig;function rd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Qh(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KS(e){var t=e._init;return t(e._payload)}function Nk(e){function t(b,v){if(e){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=Ds(b,v),b.index=0,b.sibling=null,b}function i(b,v,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,v,y,_){return v===null||v.tag!==6?(v=lx(y,b.mode,_),v.return=b,v):(v=a(v,y),v.return=b,v)}function l(b,v,y,_){var w=y.type;return w===zl?d(b,v,y.props.children,_,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===as&&KS(w)===v.type)?(_=a(v,y.props),_.ref=rd(b,v,y),_.return=b,_):(_=V0(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,v,y),_.return=b,_)}function u(b,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=cx(y,b.mode,_),v.return=b,v):(v=a(v,y.children||[]),v.return=b,v)}function d(b,v,y,_,w){return v===null||v.tag!==7?(v=Wo(y,b.mode,_,w),v.return=b,v):(v=a(v,y),v.return=b,v)}function f(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lx(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bh:return y=V0(v.type,v.key,v.props,null,b.mode,y),y.ref=rd(b,null,v),y.return=b,y;case Ul:return v=cx(v,b.mode,y),v.return=b,v;case as:var _=v._init;return f(b,_(v._payload),y)}if(yd(v)||Qu(v))return v=Wo(v,b.mode,y,null),v.return=b,v;Qh(b,v)}return null}function h(b,v,y,_){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(b,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:return y.key===w?l(b,v,y,_):null;case Ul:return y.key===w?u(b,v,y,_):null;case as:return w=y._init,h(b,v,w(y._payload),_)}if(yd(y)||Qu(y))return w!==null?null:d(b,v,y,_,null);Qh(b,y)}return null}function p(b,v,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,o(v,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bh:return b=b.get(_.key===null?y:_.key)||null,l(v,b,_,w);case Ul:return b=b.get(_.key===null?y:_.key)||null,u(v,b,_,w);case as:var S=_._init;return p(b,v,y,S(_._payload),w)}if(yd(_)||Qu(_))return b=b.get(y)||null,d(v,b,_,w,null);Qh(v,_)}return null}function g(b,v,y,_){for(var w=null,S=null,E=v,j=v=0,T=null;E!==null&&j<y.length;j++){E.index>j?(T=E,E=null):T=E.sibling;var O=h(b,E,y[j],_);if(O===null){E===null&&(E=T);break}e&&E&&O.alternate===null&&t(b,E),v=i(O,v,j),S===null?w=O:S.sibling=O,S=O,E=T}if(j===y.length)return r(b,E),Et&&uo(b,j),w;if(E===null){for(;j<y.length;j++)E=f(b,y[j],_),E!==null&&(v=i(E,v,j),S===null?w=E:S.sibling=E,S=E);return Et&&uo(b,j),w}for(E=n(b,E);j<y.length;j++)T=p(E,b,j,y[j],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),v=i(T,v,j),S===null?w=T:S.sibling=T,S=T);return e&&E.forEach(function(C){return t(b,C)}),Et&&uo(b,j),w}function m(b,v,y,_){var w=Qu(y);if(typeof w!="function")throw Error(he(150));if(y=w.call(y),y==null)throw Error(he(151));for(var S=w=null,E=v,j=v=0,T=null,O=y.next();E!==null&&!O.done;j++,O=y.next()){E.index>j?(T=E,E=null):T=E.sibling;var C=h(b,E,O.value,_);if(C===null){E===null&&(E=T);break}e&&E&&C.alternate===null&&t(b,E),v=i(C,v,j),S===null?w=C:S.sibling=C,S=C,E=T}if(O.done)return r(b,E),Et&&uo(b,j),w;if(E===null){for(;!O.done;j++,O=y.next())O=f(b,O.value,_),O!==null&&(v=i(O,v,j),S===null?w=O:S.sibling=O,S=O);return Et&&uo(b,j),w}for(E=n(b,E);!O.done;j++,O=y.next())O=p(E,b,j,O.value,_),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?j:O.key),v=i(O,v,j),S===null?w=O:S.sibling=O,S=O);return e&&E.forEach(function(M){return t(b,M)}),Et&&uo(b,j),w}function x(b,v,y,_){if(typeof y=="object"&&y!==null&&y.type===zl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:e:{for(var w=y.key,S=v;S!==null;){if(S.key===w){if(w=y.type,w===zl){if(S.tag===7){r(b,S.sibling),v=a(S,y.props.children),v.return=b,b=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===as&&KS(w)===S.type){r(b,S.sibling),v=a(S,y.props),v.ref=rd(b,S,y),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}y.type===zl?(v=Wo(y.props.children,b.mode,_,y.key),v.return=b,b=v):(_=V0(y.type,y.key,y.props,null,b.mode,_),_.ref=rd(b,v,y),_.return=b,b=_)}return s(b);case Ul:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(b,v.sibling),v=a(v,y.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=cx(y,b.mode,_),v.return=b,b=v}return s(b);case as:return S=y._init,x(b,v,S(y._payload),_)}if(yd(y))return g(b,v,y,_);if(Qu(y))return m(b,v,y,_);Qh(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,y),v.return=b,b=v):(r(b,v),v=lx(y,b.mode,_),v.return=b,b=v),s(b)):r(b,v)}return x}var Lc=Nk(!0),Ok=Nk(!1),up=Gs(null),dp=null,Yl=null,Dw=null;function Mw(){Dw=Yl=dp=null}function $w(e){var t=up.current;wt(up),e._currentValue=t}function Iy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cc(e,t){dp=e,Dw=Yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function oa(e){var t=e._currentValue;if(Dw!==e)if(e={context:e,memoizedValue:t,next:null},Yl===null){if(dp===null)throw Error(he(308));Yl=e,dp.dependencies={lanes:0,firstContext:e}}else Yl=Yl.next=e;return t}var Eo=null;function Lw(e){Eo===null?Eo=[e]:Eo.push(e)}function Ck(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Lw(t)):(r.next=a.next,a.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Fw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Di(e,r)}return a=n.interleaved,a===null?(t.next=t,Lw(n)):(t.next=a.next,a.next=t),n.interleaved=t,Di(e,r)}function B0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ew(e,r)}}function GS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fp(e,t,r,n){var a=e.updateQueue;is=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,d=u=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=It({},f,h);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yo|=s,e.lanes=s,e.memoizedState=f}}function XS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(he(191,a));a.call(n)}}}var vh={},ei=Gs(vh),of=Gs(vh),lf=Gs(vh);function jo(e){if(e===vh)throw Error(he(174));return e}function Bw(e,t){switch(vt(lf,t),vt(of,e),vt(ei,vh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:py(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=py(t,e)}wt(ei),vt(ei,t)}function Fc(){wt(ei),wt(of),wt(lf)}function Pk(e){jo(lf.current);var t=jo(ei.current),r=py(t,e.type);t!==r&&(vt(of,e),vt(ei,r))}function Uw(e){of.current===e&&(wt(ei),wt(of))}var kt=Gs(0);function hp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rx=[];function zw(){for(var e=0;e<rx.length;e++)rx[e]._workInProgressVersionPrimary=null;rx.length=0}var U0=Vi.ReactCurrentDispatcher,nx=Vi.ReactCurrentBatchConfig,Xo=0,Pt=null,ar=null,dr=null,pp=!1,Rd=!1,cf=0,m$=0;function Mr(){throw Error(he(321))}function Ww(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Da(e[r],t[r]))return!1;return!0}function Hw(e,t,r,n,a,i){if(Xo=i,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U0.current=e===null||e.memoizedState===null?y$:b$,e=r(n,a),Rd){i=0;do{if(Rd=!1,cf=0,25<=i)throw Error(he(301));i+=1,dr=ar=null,t.updateQueue=null,U0.current=w$,e=r(n,a)}while(Rd)}if(U0.current=mp,t=ar!==null&&ar.next!==null,Xo=0,dr=ar=Pt=null,pp=!1,t)throw Error(he(300));return e}function qw(){var e=cf!==0;return cf=0,e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Pt.memoizedState=dr=e:dr=dr.next=e,dr}function la(){if(ar===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=dr===null?Pt.memoizedState:dr.next;if(t!==null)dr=t,ar=e;else{if(e===null)throw Error(he(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},dr===null?Pt.memoizedState=dr=e:dr=dr.next=e}return dr}function uf(e,t){return typeof t=="function"?t(e):t}function ax(e){var t=la(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=ar,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var d=u.lane;if((Xo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Pt.lanes|=d,Yo|=d}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,Da(n,t.memoizedState)||(mn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pt.lanes|=i,Yo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ix(e){var t=la(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Da(i,t.memoizedState)||(mn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Rk(){}function Ik(e,t){var r=Pt,n=la(),a=t(),i=!Da(n.memoizedState,a);if(i&&(n.memoizedState=a,mn=!0),n=n.queue,Vw($k.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,df(9,Mk.bind(null,r,n,a,t),void 0,null),gr===null)throw Error(he(349));Xo&30||Dk(r,t,a)}return a}function Dk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mk(e,t,r,n){t.value=r,t.getSnapshot=n,Lk(t)&&Fk(e)}function $k(e,t,r){return r(function(){Lk(t)&&Fk(e)})}function Lk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Da(e,r)}catch{return!0}}function Fk(e){var t=Di(e,1);t!==null&&Pa(t,e,1,-1)}function YS(e){var t=qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:e},t.queue=e,e=e.dispatch=x$.bind(null,Pt,e),[t.memoizedState,e]}function df(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Bk(){return la().memoizedState}function z0(e,t,r,n){var a=qa();Pt.flags|=e,a.memoizedState=df(1|t,r,void 0,n===void 0?null:n)}function rv(e,t,r,n){var a=la();n=n===void 0?null:n;var i=void 0;if(ar!==null){var s=ar.memoizedState;if(i=s.destroy,n!==null&&Ww(n,s.deps)){a.memoizedState=df(t,r,i,n);return}}Pt.flags|=e,a.memoizedState=df(1|t,r,i,n)}function QS(e,t){return z0(8390656,8,e,t)}function Vw(e,t){return rv(2048,8,e,t)}function Uk(e,t){return rv(4,2,e,t)}function zk(e,t){return rv(4,4,e,t)}function Wk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hk(e,t,r){return r=r!=null?r.concat([e]):null,rv(4,4,Wk.bind(null,t,e),r)}function Kw(){}function qk(e,t){var r=la();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vk(e,t){var r=la();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Kk(e,t,r){return Xo&21?(Da(r,t)||(r=JC(),Pt.lanes|=r,Yo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=r)}function v$(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=nx.transition;nx.transition={};try{e(!1),t()}finally{st=r,nx.transition=n}}function Gk(){return la().memoizedState}function g$(e,t,r){var n=Is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xk(e))Yk(t,r);else if(r=Ck(e,t,r,n),r!==null){var a=an();Pa(r,e,n,a),Qk(r,t,n)}}function x$(e,t,r){var n=Is(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xk(e))Yk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Da(o,s)){var l=t.interleaved;l===null?(a.next=a,Lw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Ck(e,t,a,n),r!==null&&(a=an(),Pa(r,e,n,a),Qk(r,t,n))}}function Xk(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function Yk(e,t){Rd=pp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ew(e,r)}}var mp={readContext:oa,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},y$={readContext:oa,useCallback:function(e,t){return qa().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:QS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,z0(4194308,4,Wk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return z0(4194308,4,e,t)},useInsertionEffect:function(e,t){return z0(4,2,e,t)},useMemo:function(e,t){var r=qa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=g$.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=qa();return e={current:e},t.memoizedState=e},useState:YS,useDebugValue:Kw,useDeferredValue:function(e){return qa().memoizedState=e},useTransition:function(){var e=YS(!1),t=e[0];return e=v$.bind(null,e[1]),qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,a=qa();if(Et){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),gr===null)throw Error(he(349));Xo&30||Dk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,QS($k.bind(null,n,i,e),[e]),n.flags|=2048,df(9,Mk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qa(),t=gr.identifierPrefix;if(Et){var r=bi,n=yi;r=(n&~(1<<32-ka(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b$={readContext:oa,useCallback:qk,useContext:oa,useEffect:Vw,useImperativeHandle:Hk,useInsertionEffect:Uk,useLayoutEffect:zk,useMemo:Vk,useReducer:ax,useRef:Bk,useState:function(){return ax(uf)},useDebugValue:Kw,useDeferredValue:function(e){var t=la();return Kk(t,ar.memoizedState,e)},useTransition:function(){var e=ax(uf)[0],t=la().memoizedState;return[e,t]},useMutableSource:Rk,useSyncExternalStore:Ik,useId:Gk,unstable_isNewReconciler:!1},w$={readContext:oa,useCallback:qk,useContext:oa,useEffect:Vw,useImperativeHandle:Hk,useInsertionEffect:Uk,useLayoutEffect:zk,useMemo:Vk,useReducer:ix,useRef:Bk,useState:function(){return ix(uf)},useDebugValue:Kw,useDeferredValue:function(e){var t=la();return ar===null?t.memoizedState=e:Kk(t,ar.memoizedState,e)},useTransition:function(){var e=ix(uf)[0],t=la().memoizedState;return[e,t]},useMutableSource:Rk,useSyncExternalStore:Ik,useId:Gk,unstable_isNewReconciler:!1};function ya(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:It({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nv={isMounted:function(e){return(e=e._reactInternals)?hl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=an(),a=Is(e),i=Ei(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ps(e,i,a),t!==null&&(Pa(t,e,a,n),B0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=an(),a=Is(e),i=Ei(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ps(e,i,a),t!==null&&(Pa(t,e,a,n),B0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=an(),n=Is(e),a=Ei(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ps(e,a,n),t!==null&&(Pa(t,e,n,r),B0(t,e,n))}};function JS(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!rf(r,n)||!rf(a,i):!0}function Jk(e,t,r){var n=!1,a=Us,i=t.contextType;return typeof i=="object"&&i!==null?i=oa(i):(a=yn(t)?Ko:Hr.current,n=t.contextTypes,i=(n=n!=null)?Mc(e,a):Us),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ZS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nv.enqueueReplaceState(t,t.state,null)}function My(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=oa(i):(i=yn(t)?Ko:Hr.current,a.context=Mc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nv.enqueueReplaceState(a,a.state,null),fp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Bc(e,t){try{var r="",n=t;do r+=X8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function sx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $y(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _$=typeof WeakMap=="function"?WeakMap:Map;function Zk(e,t,r){r=Ei(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gp||(gp=!0,Ky=n),$y(e,t)},r}function e4(e,t,r){r=Ei(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$y(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$y(e,t),typeof n!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function eE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=M$.bind(null,e,t,r),t.then(e,e))}function tE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ei(-1,1),t.tag=2,Ps(r,t,1))),r.lanes|=1),e)}var S$=Vi.ReactCurrentOwner,mn=!1;function Yr(e,t,r,n){t.child=e===null?Ok(t,null,r,n):Lc(t,e.child,r,n)}function nE(e,t,r,n,a){r=r.render;var i=t.ref;return cc(t,a),n=Hw(e,t,r,n,i,a),r=qw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Et&&r&&Pw(t),t.flags|=1,Yr(e,t,n,a),t.child)}function aE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!t_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,t4(e,t,i,n,a)):(e=V0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:rf,r(s,n)&&e.ref===t.ref)return Mi(e,t,a)}return t.flags|=1,e=Ds(i,n),e.ref=t.ref,e.return=t,t.child=e}function t4(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(rf(i,n)&&e.ref===t.ref)if(mn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,Mi(e,t,a)}return Ly(e,t,r,n,a)}function r4(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Jl,Cn),Cn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Jl,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(Jl,Cn),Cn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,vt(Jl,Cn),Cn|=n;return Yr(e,t,a,r),t.child}function n4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ly(e,t,r,n,a){var i=yn(r)?Ko:Hr.current;return i=Mc(t,i),cc(t,a),r=Hw(e,t,r,n,i,a),n=qw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Et&&n&&Pw(t),t.flags|=1,Yr(e,t,r,a),t.child)}function iE(e,t,r,n,a){if(yn(r)){var i=!0;op(t)}else i=!1;if(cc(t,a),t.stateNode===null)W0(e,t),Jk(t,r,n),My(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=oa(u):(u=yn(r)?Ko:Hr.current,u=Mc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ZS(t,s,n,u),is=!1;var h=t.memoizedState;s.state=h,fp(t,n,s,a),l=t.memoizedState,o!==n||h!==l||xn.current||is?(typeof d=="function"&&(Dy(t,r,d,n),l=t.memoizedState),(o=is||JS(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,kk(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ya(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=oa(l):(l=yn(r)?Ko:Hr.current,l=Mc(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&ZS(t,s,n,l),is=!1,h=t.memoizedState,s.state=h,fp(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||xn.current||is?(typeof p=="function"&&(Dy(t,r,p,n),g=t.memoizedState),(u=is||JS(t,r,u,n,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fy(e,t,r,n,i,a)}function Fy(e,t,r,n,a,i){n4(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&HS(t,r,!1),Mi(e,t,i);n=t.stateNode,S$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Lc(t,e.child,null,i),t.child=Lc(t,null,o,i)):Yr(e,t,o,i),t.memoizedState=n.state,a&&HS(t,r,!0),t.child}function a4(e){var t=e.stateNode;t.pendingContext?WS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&WS(e,t.context,!1),Bw(e,t.containerInfo)}function sE(e,t,r,n,a){return $c(),Iw(a),t.flags|=256,Yr(e,t,r,n),t.child}var By={dehydrated:null,treeContext:null,retryLane:0};function Uy(e){return{baseLanes:e,cachePool:null,transitions:null}}function i4(e,t,r){var n=t.pendingProps,a=kt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vt(kt,a&1),e===null)return Ry(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=sv(s,n,0,null),e=Wo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Uy(r),t.memoizedState=By,e):Gw(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return E$(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ds(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ds(o,i):(i=Wo(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Uy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=By,n}return i=e.child,e=i.sibling,n=Ds(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gw(e,t){return t=sv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jh(e,t,r,n){return n!==null&&Iw(n),Lc(t,e.child,null,r),e=Gw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E$(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=sx(Error(he(422))),Jh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=sv({mode:"visible",children:n.children},a,0,null),i=Wo(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Lc(t,e.child,null,s),t.child.memoizedState=Uy(s),t.memoizedState=By,i);if(!(t.mode&1))return Jh(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(he(419)),n=sx(i,n,void 0),Jh(e,t,s,n)}if(o=(s&e.childLanes)!==0,mn||o){if(n=gr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Di(e,a),Pa(n,e,a,-1))}return e_(),n=sx(Error(he(421))),Jh(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ln=ks(a.nextSibling),Fn=t,Et=!0,Ta=null,e!==null&&(ea[ta++]=yi,ea[ta++]=bi,ea[ta++]=Go,yi=e.id,bi=e.overflow,Go=t),t=Gw(t,n.children),t.flags|=4096,t)}function oE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Iy(e.return,t,r)}function ox(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function s4(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Yr(e,t,n.children,r),n=kt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oE(e,r,t);else if(e.tag===19)oE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vt(kt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ox(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ox(t,!0,r,null,i);break;case"together":ox(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function W0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=Ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function j$(e,t,r){switch(t.tag){case 3:a4(t),$c();break;case 5:Pk(t);break;case 1:yn(t.type)&&op(t);break;case 4:Bw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;vt(up,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(kt,kt.current&1),t.flags|=128,null):r&t.child.childLanes?i4(e,t,r):(vt(kt,kt.current&1),e=Mi(e,t,r),e!==null?e.sibling:null);vt(kt,kt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return s4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(kt,kt.current),n)break;return null;case 22:case 23:return t.lanes=0,r4(e,t,r)}return Mi(e,t,r)}var o4,zy,l4,c4;o4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zy=function(){};l4=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jo(ei.current);var i=null;switch(r){case"input":a=uy(e,a),n=uy(e,n),i=[];break;case"select":a=It({},a,{value:void 0}),n=It({},n,{value:void 0}),i=[];break;case"textarea":a=hy(e,a),n=hy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ip)}my(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xt("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};c4=function(e,t,r,n){r!==n&&(t.flags|=4)};function nd(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function T$(e,t,r){var n=t.pendingProps;switch(Rw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return yn(t.type)&&sp(),$r(t),null;case 3:return n=t.stateNode,Fc(),wt(xn),wt(Hr),zw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ta!==null&&(Yy(Ta),Ta=null))),zy(e,t),$r(t),null;case 5:Uw(t);var a=jo(lf.current);if(r=t.type,e!==null&&t.stateNode!=null)l4(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return $r(t),null}if(e=jo(ei.current),Yh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ya]=t,n[sf]=i,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<wd.length;a++)xt(wd[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":vS(n,i),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xt("invalid",n);break;case"textarea":xS(n,i),xt("invalid",n)}my(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",""+o]):Xd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xt("scroll",n)}switch(r){case"input":Uh(n),gS(n,i,!0);break;case"textarea":Uh(n),yS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ip)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$C(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ya]=t,e[sf]=n,o4(e,t,!1,!1),t.stateNode=e;e:{switch(s=vy(r,n),r){case"dialog":xt("cancel",e),xt("close",e),a=n;break;case"iframe":case"object":case"embed":xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<wd.length;a++)xt(wd[a],e);a=n;break;case"source":xt("error",e),a=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),a=n;break;case"details":xt("toggle",e),a=n;break;case"input":vS(e,n),a=uy(e,n),xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=It({},n,{value:void 0}),xt("invalid",e);break;case"textarea":xS(e,n),a=hy(e,n),xt("invalid",e);break;default:a=n}my(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?BC(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LC(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yd(e,l):typeof l=="number"&&Yd(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xt("scroll",e):l!=null&&xw(e,i,l,s))}switch(r){case"input":Uh(e),gS(e,n,!1);break;case"textarea":Uh(e),yS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ic(e,!!n.multiple,i,!1):n.defaultValue!=null&&ic(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ip)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)c4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=jo(lf.current),jo(ei.current),Yh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ya]=t,(i=n.nodeValue!==r)&&(e=Fn,e!==null))switch(e.tag){case 3:Xh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ya]=t,t.stateNode=n}return $r(t),null;case 13:if(wt(kt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&Ln!==null&&t.mode&1&&!(t.flags&128))Ak(),$c(),t.flags|=98560,i=!1;else if(i=Yh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Ya]=t}else $c(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),i=!1}else Ta!==null&&(Yy(Ta),Ta=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||kt.current&1?sr===0&&(sr=3):e_())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return Fc(),zy(e,t),e===null&&nf(t.stateNode.containerInfo),$r(t),null;case 10:return $w(t.type._context),$r(t),null;case 17:return yn(t.type)&&sp(),$r(t),null;case 19:if(wt(kt),i=t.memoizedState,i===null)return $r(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)nd(i,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hp(e),s!==null){for(t.flags|=128,nd(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vt(kt,kt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ht()>Uc&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304)}else{if(!n)if(e=hp(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Et)return $r(t),null}else 2*Ht()-i.renderingStartTime>Uc&&r!==1073741824&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,r=kt.current,vt(kt,n?r&1|2:r&1),t):($r(t),null);case 22:case 23:return Zw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cn&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function A$(e,t){switch(Rw(t),t.tag){case 1:return yn(t.type)&&sp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fc(),wt(xn),wt(Hr),zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(wt(kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));$c()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(kt),null;case 4:return Fc(),null;case 10:return $w(t.type._context),null;case 22:case 23:return Zw(),null;case 24:return null;default:return null}}var Zh=!1,Fr=!1,N$=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ql(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(e,t,n)}else r.current=null}function Wy(e,t,r){try{r()}catch(n){$t(e,t,n)}}var lE=!1;function O$(e,t){if(Ty=rp,e=pk(),kw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ay={focusedElem:e,selectionRange:r},rp=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ya(t.type,m),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){$t(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=lE,lE=!1,g}function Id(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Wy(t,r,i)}a=a.next}while(a!==n)}}function av(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u4(e){var t=e.alternate;t!==null&&(e.alternate=null,u4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ya],delete t[sf],delete t[Cy],delete t[d$],delete t[f$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d4(e){return e.tag===5||e.tag===3||e.tag===4}function cE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ip));else if(n!==4&&(e=e.child,e!==null))for(qy(e,t,r),e=e.sibling;e!==null;)qy(e,t,r),e=e.sibling}function Vy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vy(e,t,r),e=e.sibling;e!==null;)Vy(e,t,r),e=e.sibling}var Er=null,Sa=!1;function ts(e,t,r){for(r=r.child;r!==null;)f4(e,t,r),r=r.sibling}function f4(e,t,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(Ym,r)}catch{}switch(r.tag){case 5:Fr||Ql(r,t);case 6:var n=Er,a=Sa;Er=null,ts(e,t,r),Er=n,Sa=a,Er!==null&&(Sa?(e=Er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(Sa?(e=Er,r=r.stateNode,e.nodeType===8?ex(e.parentNode,r):e.nodeType===1&&ex(e,r),ef(e)):ex(Er,r.stateNode));break;case 4:n=Er,a=Sa,Er=r.stateNode.containerInfo,Sa=!0,ts(e,t,r),Er=n,Sa=a;break;case 0:case 11:case 14:case 15:if(!Fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Wy(r,t,s),a=a.next}while(a!==n)}ts(e,t,r);break;case 1:if(!Fr&&(Ql(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){$t(r,t,o)}ts(e,t,r);break;case 21:ts(e,t,r);break;case 22:r.mode&1?(Fr=(n=Fr)||r.memoizedState!==null,ts(e,t,r),Fr=n):ts(e,t,r);break;default:ts(e,t,r)}}function uE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N$),t.forEach(function(n){var a=L$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function pa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Er=o.stateNode,Sa=!1;break e;case 3:Er=o.stateNode.containerInfo,Sa=!0;break e;case 4:Er=o.stateNode.containerInfo,Sa=!0;break e}o=o.return}if(Er===null)throw Error(he(160));f4(i,s,a),Er=null,Sa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){$t(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h4(t,e),t=t.sibling}function h4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pa(t,e),za(e),n&4){try{Id(3,e,e.return),av(3,e)}catch(m){$t(e,e.return,m)}try{Id(5,e,e.return)}catch(m){$t(e,e.return,m)}}break;case 1:pa(t,e),za(e),n&512&&r!==null&&Ql(r,r.return);break;case 5:if(pa(t,e),za(e),n&512&&r!==null&&Ql(r,r.return),e.flags&32){var a=e.stateNode;try{Yd(a,"")}catch(m){$t(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&DC(a,i),vy(o,s);var u=vy(o,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?BC(a,f):d==="dangerouslySetInnerHTML"?LC(a,f):d==="children"?Yd(a,f):xw(a,d,f,u)}switch(o){case"input":dy(a,i);break;case"textarea":MC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ic(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ic(a,!!i.multiple,i.defaultValue,!0):ic(a,!!i.multiple,i.multiple?[]:"",!1))}a[sf]=i}catch(m){$t(e,e.return,m)}}break;case 6:if(pa(t,e),za(e),n&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){$t(e,e.return,m)}}break;case 3:if(pa(t,e),za(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(m){$t(e,e.return,m)}break;case 4:pa(t,e),za(e);break;case 13:pa(t,e),za(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Qw=Ht())),n&4&&uE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fr=(u=Fr)||d,pa(t,e),Fr=u):pa(t,e),za(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Id(4,h,h.return);break;case 1:Ql(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){$t(n,r,m)}}break;case 5:Ql(h,h.return);break;case 22:if(h.memoizedState!==null){fE(f);continue}}p!==null?(p.return=h,Ae=p):fE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=FC("display",s))}catch(m){$t(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){$t(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pa(t,e),za(e),n&4&&uE(e);break;case 21:break;default:pa(t,e),za(e)}}function za(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d4(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yd(a,""),n.flags&=-33);var i=cE(e);Vy(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=cE(e);qy(e,o,s);break;default:throw Error(he(161))}}catch(l){$t(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C$(e,t,r){Ae=e,p4(e)}function p4(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Zh;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Fr;o=Zh;var u=Fr;if(Zh=s,(Fr=l)&&!u)for(Ae=a;Ae!==null;)s=Ae,l=s.child,s.tag===22&&s.memoizedState!==null?hE(a):l!==null?(l.return=s,Ae=l):hE(a);for(;i!==null;)Ae=i,p4(i),i=i.sibling;Ae=a,Zh=o,Fr=u}dE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):dE(e)}}function dE(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fr||av(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ya(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&XS(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}XS(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ef(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Fr||t.flags&512&&Hy(t)}catch(h){$t(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function fE(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function hE(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{av(4,t)}catch(l){$t(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){$t(t,a,l)}}var i=t.return;try{Hy(t)}catch(l){$t(t,i,l)}break;case 5:var s=t.return;try{Hy(t)}catch(l){$t(t,s,l)}}}catch(l){$t(t,t.return,l)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var k$=Math.ceil,vp=Vi.ReactCurrentDispatcher,Xw=Vi.ReactCurrentOwner,ia=Vi.ReactCurrentBatchConfig,Ke=0,gr=null,Yt=null,Nr=0,Cn=0,Jl=Gs(0),sr=0,ff=null,Yo=0,iv=0,Yw=0,Dd=null,pn=null,Qw=0,Uc=1/0,fi=null,gp=!1,Ky=null,Rs=null,e0=!1,Ss=null,xp=0,Md=0,Gy=null,H0=-1,q0=0;function an(){return Ke&6?Ht():H0!==-1?H0:H0=Ht()}function Is(e){return e.mode&1?Ke&2&&Nr!==0?Nr&-Nr:p$.transition!==null?(q0===0&&(q0=JC()),q0):(e=st,e!==0||(e=window.event,e=e===void 0?16:ik(e.type)),e):1}function Pa(e,t,r,n){if(50<Md)throw Md=0,Gy=null,Error(he(185));hh(e,r,n),(!(Ke&2)||e!==gr)&&(e===gr&&(!(Ke&2)&&(iv|=r),sr===4&&cs(e,Nr)),bn(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Uc=Ht()+500,tv&&Xs()))}function bn(e,t){var r=e.callbackNode;pM(e,t);var n=tp(e,e===gr?Nr:0);if(n===0)r!==null&&_S(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_S(r),t===1)e.tag===0?h$(pE.bind(null,e)):Ek(pE.bind(null,e)),c$(function(){!(Ke&6)&&Xs()}),r=null;else{switch(ZC(n)){case 1:r=Sw;break;case 4:r=YC;break;case 16:r=ep;break;case 536870912:r=QC;break;default:r=ep}r=_4(r,m4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m4(e,t){if(H0=-1,q0=0,Ke&6)throw Error(he(327));var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var n=tp(e,e===gr?Nr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yp(e,n);else{t=n;var a=Ke;Ke|=2;var i=g4();(gr!==e||Nr!==t)&&(fi=null,Uc=Ht()+500,zo(e,t));do try{I$();break}catch(o){v4(e,o)}while(!0);Mw(),vp.current=i,Ke=a,Yt!==null?t=0:(gr=null,Nr=0,t=sr)}if(t!==0){if(t===2&&(a=wy(e),a!==0&&(n=a,t=Xy(e,a))),t===1)throw r=ff,zo(e,0),cs(e,n),bn(e,Ht()),r;if(t===6)cs(e,n);else{if(a=e.current.alternate,!(n&30)&&!P$(a)&&(t=yp(e,n),t===2&&(i=wy(e),i!==0&&(n=i,t=Xy(e,i))),t===1))throw r=ff,zo(e,0),cs(e,n),bn(e,Ht()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:fo(e,pn,fi);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=Qw+500-Ht(),10<t)){if(tp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){an(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Oy(fo.bind(null,e,pn,fi),t);break}fo(e,pn,fi);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ka(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k$(n/1960))-n,10<n){e.timeoutHandle=Oy(fo.bind(null,e,pn,fi),n);break}fo(e,pn,fi);break;case 5:fo(e,pn,fi);break;default:throw Error(he(329))}}}return bn(e,Ht()),e.callbackNode===r?m4.bind(null,e):null}function Xy(e,t){var r=Dd;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),e=yp(e,t),e!==2&&(t=pn,pn=r,t!==null&&Yy(t)),e}function Yy(e){pn===null?pn=e:pn.push.apply(pn,e)}function P$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Da(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Yw,t&=~iv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ka(t),n=1<<r;e[r]=-1,t&=~n}}function pE(e){if(Ke&6)throw Error(he(327));uc();var t=tp(e,0);if(!(t&1))return bn(e,Ht()),null;var r=yp(e,t);if(e.tag!==0&&r===2){var n=wy(e);n!==0&&(t=n,r=Xy(e,n))}if(r===1)throw r=ff,zo(e,0),cs(e,t),bn(e,Ht()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fo(e,pn,fi),bn(e,Ht()),null}function Jw(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Uc=Ht()+500,tv&&Xs())}}function Qo(e){Ss!==null&&Ss.tag===0&&!(Ke&6)&&uc();var t=Ke;Ke|=1;var r=ia.transition,n=st;try{if(ia.transition=null,st=1,e)return e()}finally{st=n,ia.transition=r,Ke=t,!(Ke&6)&&Xs()}}function Zw(){Cn=Jl.current,wt(Jl)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l$(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(Rw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sp();break;case 3:Fc(),wt(xn),wt(Hr),zw();break;case 5:Uw(n);break;case 4:Fc();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:$w(n.type._context);break;case 22:case 23:Zw()}r=r.return}if(gr=e,Yt=e=Ds(e.current,null),Nr=Cn=t,sr=0,ff=null,Yw=iv=Yo=0,pn=Dd=null,Eo!==null){for(t=0;t<Eo.length;t++)if(r=Eo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Eo=null}return e}function v4(e,t){do{var r=Yt;try{if(Mw(),U0.current=mp,pp){for(var n=Pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pp=!1}if(Xo=0,dr=ar=Pt=null,Rd=!1,cf=0,Xw.current=null,r===null||r.return===null){sr=1,ff=t,Yt=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Nr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=tE(s);if(p!==null){p.flags&=-257,rE(p,s,o,i,t),p.mode&1&&eE(i,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){eE(i,u,t),e_();break e}l=Error(he(426))}}else if(Et&&o.mode&1){var x=tE(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rE(x,s,o,i,t),Iw(Bc(l,o));break e}}i=l=Bc(l,o),sr!==4&&(sr=2),Dd===null?Dd=[i]:Dd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Zk(i,l,t);GS(i,b);break e;case 1:o=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rs===null||!Rs.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=e4(i,o,t);GS(i,_);break e}}i=i.return}while(i!==null)}y4(r)}catch(w){t=w,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(!0)}function g4(){var e=vp.current;return vp.current=mp,e===null?mp:e}function e_(){(sr===0||sr===3||sr===2)&&(sr=4),gr===null||!(Yo&268435455)&&!(iv&268435455)||cs(gr,Nr)}function yp(e,t){var r=Ke;Ke|=2;var n=g4();(gr!==e||Nr!==t)&&(fi=null,zo(e,t));do try{R$();break}catch(a){v4(e,a)}while(!0);if(Mw(),Ke=r,vp.current=n,Yt!==null)throw Error(he(261));return gr=null,Nr=0,sr}function R$(){for(;Yt!==null;)x4(Yt)}function I$(){for(;Yt!==null&&!iM();)x4(Yt)}function x4(e){var t=w4(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?y4(e):Yt=t,Xw.current=null}function y4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=A$(r,t),r!==null){r.flags&=32767,Yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Yt=null;return}}else if(r=T$(r,t,Cn),r!==null){Yt=r;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);sr===0&&(sr=5)}function fo(e,t,r){var n=st,a=ia.transition;try{ia.transition=null,st=1,D$(e,t,r,n)}finally{ia.transition=a,st=n}return null}function D$(e,t,r,n){do uc();while(Ss!==null);if(Ke&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(mM(e,i),e===gr&&(Yt=gr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||e0||(e0=!0,_4(ep,function(){return uc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ia.transition,ia.transition=null;var s=st;st=1;var o=Ke;Ke|=4,Xw.current=null,O$(e,r),h4(r,e),t$(Ay),rp=!!Ty,Ay=Ty=null,e.current=r,C$(r),sM(),Ke=o,st=s,ia.transition=i}else e.current=r;if(e0&&(e0=!1,Ss=e,xp=a),i=e.pendingLanes,i===0&&(Rs=null),cM(r.stateNode),bn(e,Ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(gp)throw gp=!1,e=Ky,Ky=null,e;return xp&1&&e.tag!==0&&uc(),i=e.pendingLanes,i&1?e===Gy?Md++:(Md=0,Gy=e):Md=0,Xs(),null}function uc(){if(Ss!==null){var e=ZC(xp),t=ia.transition,r=st;try{if(ia.transition=null,st=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,xp=0,Ke&6)throw Error(he(331));var a=Ke;for(Ke|=4,Ae=e.current;Ae!==null;){var i=Ae,s=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:Id(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,p=d.return;if(u4(d),d===u){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Ae=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ae=s;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Id(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ae=b;break e}Ae=i.return}}var v=e.current;for(Ae=v;Ae!==null;){s=Ae;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Ae=y;else e:for(s=v;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:av(9,o)}}catch(w){$t(o,o.return,w)}if(o===s){Ae=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ae=_;break e}Ae=o.return}}if(Ke=a,Xs(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(Ym,e)}catch{}n=!0}return n}finally{st=r,ia.transition=t}}return!1}function mE(e,t,r){t=Bc(r,t),t=Zk(e,t,1),e=Ps(e,t,1),t=an(),e!==null&&(hh(e,1,t),bn(e,t))}function $t(e,t,r){if(e.tag===3)mE(e,e,r);else for(;t!==null;){if(t.tag===3){mE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rs===null||!Rs.has(n))){e=Bc(r,e),e=e4(t,e,1),t=Ps(t,e,1),e=an(),t!==null&&(hh(t,1,e),bn(t,e));break}}t=t.return}}function M$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&r,gr===e&&(Nr&r)===r&&(sr===4||sr===3&&(Nr&130023424)===Nr&&500>Ht()-Qw?zo(e,0):Yw|=r),bn(e,t)}function b4(e,t){t===0&&(e.mode&1?(t=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):t=1);var r=an();e=Di(e,t),e!==null&&(hh(e,t,r),bn(e,r))}function $$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b4(e,r)}function L$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),b4(e,r)}var w4;w4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)mn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mn=!1,j$(e,t,r);mn=!!(e.flags&131072)}else mn=!1,Et&&t.flags&1048576&&jk(t,cp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;W0(e,t),e=t.pendingProps;var a=Mc(t,Hr.current);cc(t,r),a=Hw(null,t,n,e,a,r);var i=qw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yn(n)?(i=!0,op(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fw(t),a.updater=nv,t.stateNode=a,a._reactInternals=t,My(t,n,e,r),t=Fy(null,t,n,!0,i,r)):(t.tag=0,Et&&i&&Pw(t),Yr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(W0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=B$(n),e=ya(n,e),a){case 0:t=Ly(null,t,n,e,r);break e;case 1:t=iE(null,t,n,e,r);break e;case 11:t=nE(null,t,n,e,r);break e;case 14:t=aE(null,t,n,ya(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),Ly(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),iE(e,t,n,a,r);case 3:e:{if(a4(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,a=i.element,kk(e,t),fp(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Bc(Error(he(423)),t),t=sE(e,t,n,r,a);break e}else if(n!==a){a=Bc(Error(he(424)),t),t=sE(e,t,n,r,a);break e}else for(Ln=ks(t.stateNode.containerInfo.firstChild),Fn=t,Et=!0,Ta=null,r=Ok(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($c(),n===a){t=Mi(e,t,r);break e}Yr(e,t,n,r)}t=t.child}return t;case 5:return Pk(t),e===null&&Ry(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Ny(n,a)?s=null:i!==null&&Ny(n,i)&&(t.flags|=32),n4(e,t),Yr(e,t,s,r),t.child;case 6:return e===null&&Ry(t),null;case 13:return i4(e,t,r);case 4:return Bw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Lc(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),nE(e,t,n,a,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,vt(up,n._currentValue),n._currentValue=s,i!==null)if(Da(i.value,s)){if(i.children===a.children&&!xn.current){t=Mi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ei(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Iy(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(he(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Iy(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Yr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,cc(t,r),a=oa(a),n=n(a),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return n=t.type,a=ya(n,t.pendingProps),a=ya(n.type,a),aE(e,t,n,a,r);case 15:return t4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),W0(e,t),t.tag=1,yn(n)?(e=!0,op(t)):e=!1,cc(t,r),Jk(t,n,a),My(t,n,a,r),Fy(null,t,n,!0,e,r);case 19:return s4(e,t,r);case 22:return r4(e,t,r)}throw Error(he(156,t.tag))};function _4(e,t){return XC(e,t)}function F$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,r,n){return new F$(e,t,r,n)}function t_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B$(e){if(typeof e=="function")return t_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bw)return 11;if(e===ww)return 14}return 2}function Ds(e,t){var r=e.alternate;return r===null?(r=na(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function V0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")t_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zl:return Wo(r.children,a,i,t);case yw:s=8,a|=8;break;case sy:return e=na(12,r,t,a|2),e.elementType=sy,e.lanes=i,e;case oy:return e=na(13,r,t,a),e.elementType=oy,e.lanes=i,e;case ly:return e=na(19,r,t,a),e.elementType=ly,e.lanes=i,e;case PC:return sv(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CC:s=10;break e;case kC:s=9;break e;case bw:s=11;break e;case ww:s=14;break e;case as:s=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=na(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Wo(e,t,r,n){return e=na(7,e,n,t),e.lanes=r,e}function sv(e,t,r,n){return e=na(22,e,n,t),e.elementType=PC,e.lanes=r,e.stateNode={isHidden:!1},e}function lx(e,t,r){return e=na(6,e,null,t),e.lanes=r,e}function cx(e,t,r){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wg(0),this.expirationTimes=Wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function r_(e,t,r,n,a,i,s,o,l){return e=new U$(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=na(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(i),e}function z$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function S4(e){if(!e)return Us;e=e._reactInternals;e:{if(hl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(yn(r))return Sk(e,r,t)}return t}function E4(e,t,r,n,a,i,s,o,l){return e=r_(r,n,!0,e,a,i,s,o,l),e.context=S4(null),r=e.current,n=an(),a=Is(r),i=Ei(n,a),i.callback=t??null,Ps(r,i,a),e.current.lanes=a,hh(e,a,n),bn(e,n),e}function ov(e,t,r,n){var a=t.current,i=an(),s=Is(a);return r=S4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ei(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ps(a,t,s),e!==null&&(Pa(e,a,s,i),B0(e,a,s)),s}function bp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n_(e,t){vE(e,t),(e=e.alternate)&&vE(e,t)}function W$(){return null}var j4=typeof reportError=="function"?reportError:function(e){console.error(e)};function a_(e){this._internalRoot=e}lv.prototype.render=a_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));ov(e,t,null,null)};lv.prototype.unmount=a_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){ov(null,e,null,null)}),t[Ii]=null}};function lv(e){this._internalRoot=e}lv.prototype.unstable_scheduleHydration=function(e){if(e){var t=rk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&ak(e)}};function i_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gE(){}function H$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=bp(s);i.call(u)}}var s=E4(t,n,e,0,null,!1,!1,"",gE);return e._reactRootContainer=s,e[Ii]=s.current,nf(e.nodeType===8?e.parentNode:e),Qo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=bp(l);o.call(u)}}var l=r_(e,0,!1,null,null,!1,!1,"",gE);return e._reactRootContainer=l,e[Ii]=l.current,nf(e.nodeType===8?e.parentNode:e),Qo(function(){ov(t,l,r,n)}),l}function uv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=bp(s);o.call(l)}}ov(t,s,e,a)}else s=H$(r,t,e,a,n);return bp(s)}ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bd(t.pendingLanes);r!==0&&(Ew(t,r|1),bn(t,Ht()),!(Ke&6)&&(Uc=Ht()+500,Xs()))}break;case 13:Qo(function(){var n=Di(e,1);if(n!==null){var a=an();Pa(n,e,1,a)}}),n_(e,1)}};jw=function(e){if(e.tag===13){var t=Di(e,134217728);if(t!==null){var r=an();Pa(t,e,134217728,r)}n_(e,134217728)}};tk=function(e){if(e.tag===13){var t=Is(e),r=Di(e,t);if(r!==null){var n=an();Pa(r,e,t,n)}n_(e,t)}};rk=function(){return st};nk=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};xy=function(e,t,r){switch(t){case"input":if(dy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ev(n);if(!a)throw Error(he(90));IC(n),dy(n,a)}}}break;case"textarea":MC(e,r);break;case"select":t=r.value,t!=null&&ic(e,!!r.multiple,t,!1)}};WC=Jw;HC=Qo;var q$={usingClientEntryPoint:!1,Events:[mh,Vl,ev,UC,zC,Jw]},ad={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V$={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KC(e),e===null?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||W$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{Ym=t0.inject(V$),Za=t0}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$;Hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i_(t))throw Error(he(200));return z$(e,t,null,r)};Hn.createRoot=function(e,t){if(!i_(e))throw Error(he(299));var r=!1,n="",a=j4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=r_(e,1,!1,null,null,r,!1,n,a),e[Ii]=t.current,nf(e.nodeType===8?e.parentNode:e),new a_(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=KC(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return Qo(e)};Hn.hydrate=function(e,t,r){if(!cv(t))throw Error(he(200));return uv(null,e,t,!0,r)};Hn.hydrateRoot=function(e,t,r){if(!i_(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=j4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=E4(t,null,e,1,r??null,a,!1,i,s),e[Ii]=t.current,nf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lv(t)};Hn.render=function(e,t,r){if(!cv(t))throw Error(he(200));return uv(null,e,t,!1,r)};Hn.unmountComponentAtNode=function(e){if(!cv(e))throw Error(he(40));return e._reactRootContainer?(Qo(function(){uv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ii]=null})}),!0):!1};Hn.unstable_batchedUpdates=Jw;Hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cv(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return uv(e,t,r,!1,n)};Hn.version="18.3.1-next-f1338f8080-20240426";function T4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T4)}catch(e){console.error(e)}}T4(),TC.exports=Hn;var K$=TC.exports,xE=K$;ay.createRoot=xE.createRoot,ay.hydrateRoot=xE.hydrateRoot;var ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},G$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hs,dw,nC,X$=(nC=class{constructor(){Pe(this,hs,G$);Pe(this,dw,!1)}setTimeoutProvider(e){Ee(this,hs,e)}setTimeout(e,t){return B(this,hs).setTimeout(e,t)}clearTimeout(e){B(this,hs).clearTimeout(e)}setInterval(e,t){return B(this,hs).setInterval(e,t)}clearInterval(e){B(this,hs).clearInterval(e)}},hs=new WeakMap,dw=new WeakMap,nC),To=new X$;function Y$(e){setTimeout(e,0)}var Jo=typeof window>"u"||"Deno"in globalThis;function Qr(){}function Q$(e,t){return typeof e=="function"?e(t):e}function Qy(e){return typeof e=="number"&&e>=0&&e!==1/0}function A4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ms(e,t){return typeof e=="function"?e(t):e}function Zn(e,t){return typeof e=="function"?e(t):e}function yE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==s_(s,t.options))return!1}else if(!hf(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function bE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Zo(t.options.mutationKey)!==Zo(i))return!1}else if(!hf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function s_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,r)=>Jy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hf(e[r],t[r])):!1}var J$=Object.prototype.hasOwnProperty;function N4(e,t){if(e===t)return e;const r=wE(e)&&wE(t);if(!r&&!(Jy(e)&&Jy(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<a:J$.call(e,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=N4(f,h);o[d]=p,p===f&&l++}return a===s&&l===a?e:o}function wp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function wE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jy(e){if(!_E(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_E(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _E(e){return Object.prototype.toString.call(e)==="[object Object]"}function Z$(e){return new Promise(t=>{To.setTimeout(t,e)})}function Zy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?N4(e,t):t}function eL(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tL(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var o_=Symbol();function O4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===o_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C4(e,t){return typeof e=="function"?e(...t):!!e}var Ro,ps,Sc,aC,rL=(aC=class extends ju{constructor(){super();Pe(this,Ro);Pe(this,ps);Pe(this,Sc);Ee(this,Sc,t=>{if(!Jo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,ps)||this.setEventListener(B(this,Sc))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ps))==null||t.call(this),Ee(this,ps,void 0))}setEventListener(t){var r;Ee(this,Sc,t),(r=B(this,ps))==null||r.call(this),Ee(this,ps,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Ro)!==t&&(Ee(this,Ro,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Ro)=="boolean"?B(this,Ro):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ro=new WeakMap,ps=new WeakMap,Sc=new WeakMap,aC),l_=new rL;function e1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var nL=Y$;function aL(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=nL;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ir=aL(),Ec,ms,jc,iC,iL=(iC=class extends ju{constructor(){super();Pe(this,Ec,!0);Pe(this,ms);Pe(this,jc);Ee(this,jc,t=>{if(!Jo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,ms)||this.setEventListener(B(this,jc))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ms))==null||t.call(this),Ee(this,ms,void 0))}setEventListener(t){var r;Ee(this,jc,t),(r=B(this,ms))==null||r.call(this),Ee(this,ms,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ec)!==t&&(Ee(this,Ec,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,Ec)}},Ec=new WeakMap,ms=new WeakMap,jc=new WeakMap,iC),_p=new iL;function sL(e){return Math.min(1e3*2**e,3e4)}function k4(e){return(e??"online")==="online"?_p.isOnline():!0}var t1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function P4(e){let t=!1,r=0,n;const a=e1(),i=()=>a.status!=="pending",s=m=>{var x;if(!i()){const b=new t1(m);h(b),(x=e.onCancel)==null||x.call(e,b)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>l_.isFocused()&&(e.networkMode==="always"||_p.isOnline())&&e.canRun(),d=()=>k4(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var x;n=b=>{(i()||u())&&m(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var S;if(i())return;const v=e.retry??(Jo?0:3),y=e.retryDelay??sL,_=typeof y=="function"?y(r,b):y,w=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!w){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),Z$(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),a)}}var Io,sC,R4=(sC=class{constructor(){Pe(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qy(this.gcTime)&&Ee(this,Io,To.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jo?1/0:5*60*1e3))}clearGcTimeout(){B(this,Io)&&(To.clearTimeout(B(this,Io)),Ee(this,Io,void 0))}},Io=new WeakMap,sC),Do,Tc,Qn,Mo,cr,oh,$o,wa,di,oC,oL=(oC=class extends R4{constructor(t){super();Pe(this,wa);Pe(this,Do);Pe(this,Tc);Pe(this,Qn);Pe(this,Mo);Pe(this,cr);Pe(this,oh);Pe(this,$o);Ee(this,$o,!1),Ee(this,oh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Mo,t.client),Ee(this,Qn,B(this,Mo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Do,EE(this.options)),this.state=t.state??B(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,cr))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,oh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=EE(this.options);r.data!==void 0&&(this.setState(SE(r.data,r.dataUpdatedAt)),Ee(this,Do,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Qn).remove(this)}setData(t,r){const n=Zy(this.state.data,t,this.options);return Be(this,wa,di).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Be(this,wa,di).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=B(this,cr))==null?void 0:n.promise;return(a=B(this,cr))==null||a.cancel(t),r?r.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Do))}isActive(){return this.observers.some(t=>Zn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ms(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!A4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,cr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,cr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,cr)&&(B(this,$o)?B(this,cr).cancel({revert:!0}):B(this,cr).cancelRetry()),this.scheduleGc()),B(this,Qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,wa,di).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,f,h,p,g,m,x,b,v,y;if(this.state.fetchStatus!=="idle"&&((l=B(this,cr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,cr))return B(this,cr).continueRetry(),B(this,cr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ee(this,$o,!0),n.signal)})},i=()=>{const _=O4(this.options,r),S=(()=>{const E={client:B(this,Mo),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Ee(this,$o,!1),this.options.persister?this.options.persister(_,S,this):_(S)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Mo),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),Ee(this,Tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Be(this,wa,di).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),Ee(this,cr,P4({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof t1&&_.revert&&this.setState({...B(this,Tc),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{Be(this,wa,di).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Be(this,wa,di).call(this,{type:"pause"})},onContinue:()=>{Be(this,wa,di).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await B(this,cr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=B(this,Qn).config).onSuccess)==null||p.call(h,_,this),(m=(g=B(this,Qn).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof t1){if(_.silent)return B(this,cr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Be(this,wa,di).call(this,{type:"error",error:_}),(b=(x=B(this,Qn).config).onError)==null||b.call(x,_,this),(y=(v=B(this,Qn).config).onSettled)==null||y.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},Do=new WeakMap,Tc=new WeakMap,Qn=new WeakMap,Mo=new WeakMap,cr=new WeakMap,oh=new WeakMap,$o=new WeakMap,wa=new WeakSet,di=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...I4(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...SE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,Tc,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,Qn).notify({query:this,type:"updated",action:t})})},oC);function I4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var dn,Ve,lh,Gr,Lo,Ac,mi,vs,ch,Nc,Oc,Fo,Bo,gs,Cc,Ze,_d,r1,n1,a1,i1,s1,o1,l1,D4,lC,lL=(lC=class extends ju{constructor(t,r){super();Pe(this,Ze);Pe(this,dn);Pe(this,Ve);Pe(this,lh);Pe(this,Gr);Pe(this,Lo);Pe(this,Ac);Pe(this,mi);Pe(this,vs);Pe(this,ch);Pe(this,Nc);Pe(this,Oc);Pe(this,Fo);Pe(this,Bo);Pe(this,gs);Pe(this,Cc,new Set);this.options=r,Ee(this,dn,t),Ee(this,vs,null),Ee(this,mi,e1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Ve).addObserver(this),jE(B(this,Ve),this.options)?Be(this,Ze,_d).call(this):this.updateResult(),Be(this,Ze,i1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c1(B(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c1(B(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Ze,s1).call(this),Be(this,Ze,o1).call(this),B(this,Ve).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,Ve);if(this.options=B(this,dn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zn(this.options.enabled,B(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Ze,l1).call(this),B(this,Ve).setOptions(this.options),r._defaulted&&!wp(this.options,r)&&B(this,dn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Ve),observer:this});const a=this.hasListeners();a&&TE(B(this,Ve),n,this.options,r)&&Be(this,Ze,_d).call(this),this.updateResult(),a&&(B(this,Ve)!==n||Zn(this.options.enabled,B(this,Ve))!==Zn(r.enabled,B(this,Ve))||Ms(this.options.staleTime,B(this,Ve))!==Ms(r.staleTime,B(this,Ve)))&&Be(this,Ze,r1).call(this);const i=Be(this,Ze,n1).call(this);a&&(B(this,Ve)!==n||Zn(this.options.enabled,B(this,Ve))!==Zn(r.enabled,B(this,Ve))||i!==B(this,gs))&&Be(this,Ze,a1).call(this,i)}getOptimisticResult(t){const r=B(this,dn).getQueryCache().build(B(this,dn),t),n=this.createResult(r,t);return uL(this,n)&&(Ee(this,Gr,n),Ee(this,Ac,this.options),Ee(this,Lo,B(this,Ve).state)),n}getCurrentResult(){return B(this,Gr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,mi).status==="pending"&&B(this,mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){B(this,Cc).add(t)}getCurrentQuery(){return B(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,dn).defaultQueryOptions(t),n=B(this,dn).getQueryCache().build(B(this,dn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Be(this,Ze,_d).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Gr)))}createResult(t,r){var T;const n=B(this,Ve),a=this.options,i=B(this,Gr),s=B(this,Lo),o=B(this,Ac),u=t!==n?t.state:B(this,lh),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const O=this.hasListeners(),C=!O&&jE(t,r),M=O&&TE(t,n,r,a);(C||M)&&(f={...f,...I4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:x}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,b=!0):O=typeof r.placeholderData=="function"?r.placeholderData((T=B(this,Oc))==null?void 0:T.state.data,B(this,Oc)):r.placeholderData,O!==void 0&&(x="success",p=Zy(i==null?void 0:i.data,O,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(s==null?void 0:s.data)&&r.select===B(this,ch))p=B(this,Nc);else try{Ee(this,ch,r.select),p=r.select(p),p=Zy(i==null?void 0:i.data,p,r),Ee(this,Nc,p),Ee(this,vs,null)}catch(O){Ee(this,vs,O)}B(this,vs)&&(g=B(this,vs),p=B(this,Nc),m=Date.now(),x="error");const v=f.fetchStatus==="fetching",y=x==="pending",_=x==="error",w=y&&v,S=p!==void 0,j={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:_,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:c_(t,r),refetch:this.refetch,promise:B(this,mi),isEnabled:Zn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=F=>{j.status==="error"?F.reject(j.error):j.data!==void 0&&F.resolve(j.data)},C=()=>{const F=Ee(this,mi,j.promise=e1());O(F)},M=B(this,mi);switch(M.status){case"pending":t.queryHash===n.queryHash&&O(M);break;case"fulfilled":(j.status==="error"||j.data!==M.value)&&C();break;case"rejected":(j.status!=="error"||j.error!==M.reason)&&C();break}}return j}updateResult(){const t=B(this,Gr),r=this.createResult(B(this,Ve),this.options);if(Ee(this,Lo,B(this,Ve).state),Ee(this,Ac,this.options),B(this,Lo).data!==void 0&&Ee(this,Oc,B(this,Ve)),wp(r,t))return;Ee(this,Gr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!B(this,Cc).size)return!0;const s=new Set(i??B(this,Cc));return this.options.throwOnError&&s.add("error"),Object.keys(B(this,Gr)).some(o=>{const l=o;return B(this,Gr)[l]!==t[l]&&s.has(l)})};Be(this,Ze,D4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Ze,i1).call(this)}},dn=new WeakMap,Ve=new WeakMap,lh=new WeakMap,Gr=new WeakMap,Lo=new WeakMap,Ac=new WeakMap,mi=new WeakMap,vs=new WeakMap,ch=new WeakMap,Nc=new WeakMap,Oc=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,gs=new WeakMap,Cc=new WeakMap,Ze=new WeakSet,_d=function(t){Be(this,Ze,l1).call(this);let r=B(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Qr)),r},r1=function(){Be(this,Ze,s1).call(this);const t=Ms(this.options.staleTime,B(this,Ve));if(Jo||B(this,Gr).isStale||!Qy(t))return;const n=A4(B(this,Gr).dataUpdatedAt,t)+1;Ee(this,Fo,To.setTimeout(()=>{B(this,Gr).isStale||this.updateResult()},n))},n1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Ve)):this.options.refetchInterval)??!1},a1=function(t){Be(this,Ze,o1).call(this),Ee(this,gs,t),!(Jo||Zn(this.options.enabled,B(this,Ve))===!1||!Qy(B(this,gs))||B(this,gs)===0)&&Ee(this,Bo,To.setInterval(()=>{(this.options.refetchIntervalInBackground||l_.isFocused())&&Be(this,Ze,_d).call(this)},B(this,gs)))},i1=function(){Be(this,Ze,r1).call(this),Be(this,Ze,a1).call(this,Be(this,Ze,n1).call(this))},s1=function(){B(this,Fo)&&(To.clearTimeout(B(this,Fo)),Ee(this,Fo,void 0))},o1=function(){B(this,Bo)&&(To.clearInterval(B(this,Bo)),Ee(this,Bo,void 0))},l1=function(){const t=B(this,dn).getQueryCache().build(B(this,dn),this.options);if(t===B(this,Ve))return;const r=B(this,Ve);Ee(this,Ve,t),Ee(this,lh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D4=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,Gr))}),B(this,dn).getQueryCache().notify({query:B(this,Ve),type:"observerResultsUpdated"})})},lC);function cL(e,t){return Zn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jE(e,t){return cL(e,t)||e.state.data!==void 0&&c1(e,t,t.refetchOnMount)}function c1(e,t,r){if(Zn(t.enabled,e)!==!1&&Ms(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&c_(e,t)}return!1}function TE(e,t,r,n){return(e!==t||Zn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&c_(e,r)}function c_(e,t){return Zn(t.enabled,e)!==!1&&e.isStaleByTime(Ms(t.staleTime,e))}function uL(e,t){return!wp(e.getCurrentResult(),t)}function AE(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=O4(t.options,t.fetchOptions),v=async(y,_,w)=>{if(m)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return x(C),C})(),j=await b(E),{maxPages:T}=t.options,O=w?tL:eL;return{pages:O(y.pages,j,T),pageParams:O(y.pageParams,_,T)}};if(a&&i.length){const y=a==="backward",_=y?dL:NE,w={pages:i,pageParams:s},S=_(n,w);o=await v(w,S,y)}else{const y=e??i.length;do{const _=l===0?s[0]??n.initialPageParam:NE(n,o);if(l>0&&_==null)break;o=await v(o,_),l++}while(l<y)}return o};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function NE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function dL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var uh,Ka,Xr,Uo,Ga,ns,cC,fL=(cC=class extends R4{constructor(t){super();Pe(this,Ga);Pe(this,uh);Pe(this,Ka);Pe(this,Xr);Pe(this,Uo);Ee(this,uh,t.client),this.mutationId=t.mutationId,Ee(this,Xr,t.mutationCache),Ee(this,Ka,[]),this.state=t.state||M4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Ka).includes(t)||(B(this,Ka).push(t),this.clearGcTimeout(),B(this,Xr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Ka,B(this,Ka).filter(r=>r!==t)),this.scheduleGc(),B(this,Xr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Ka).length||(this.state.status==="pending"?this.scheduleGc():B(this,Xr).remove(this))}continue(){var t;return((t=B(this,Uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,d,f,h,p,g,m,x,b,v,y,_,w,S,E,j,T;const r=()=>{Be(this,Ga,ns).call(this,{type:"continue"})},n={client:B(this,uh),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Uo,P4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,C)=>{Be(this,Ga,ns).call(this,{type:"failed",failureCount:O,error:C})},onPause:()=>{Be(this,Ga,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Xr).canRun(this)}));const a=this.state.status==="pending",i=!B(this,Uo).canStart();try{if(a)r();else{Be(this,Ga,ns).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=B(this,Xr).config).onMutate)==null?void 0:o.call(s,t,this,n));const C=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));C!==this.state.context&&Be(this,Ga,ns).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const O=await B(this,Uo).start();return await((f=(d=B(this,Xr).config).onSuccess)==null?void 0:f.call(d,O,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,O,t,this.state.context,n)),await((m=(g=B(this,Xr).config).onSettled)==null?void 0:m.call(g,O,null,this.state.variables,this.state.context,this,n)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,O,null,t,this.state.context,n)),Be(this,Ga,ns).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(v=B(this,Xr).config).onError)==null?void 0:y.call(v,O,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,O,t,this.state.context,n)),await((E=(S=B(this,Xr).config).onSettled)==null?void 0:E.call(S,void 0,O,this.state.variables,this.state.context,this,n)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,O,t,this.state.context,n)),O}finally{Be(this,Ga,ns).call(this,{type:"error",error:O})}}finally{B(this,Xr).runNext(this)}}},uh=new WeakMap,Ka=new WeakMap,Xr=new WeakMap,Uo=new WeakMap,Ga=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{B(this,Ka).forEach(n=>{n.onMutationUpdate(t)}),B(this,Xr).notify({mutation:this,type:"updated",action:t})})},cC);function M4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,_a,dh,uC,hL=(uC=class extends ju{constructor(t={}){super();Pe(this,vi);Pe(this,_a);Pe(this,dh);this.config=t,Ee(this,vi,new Set),Ee(this,_a,new Map),Ee(this,dh,0)}build(t,r,n){const a=new fL({client:t,mutationCache:this,mutationId:++$h(this,dh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){B(this,vi).add(t);const r=r0(t);if(typeof r=="string"){const n=B(this,_a).get(r);n?n.push(t):B(this,_a).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,vi).delete(t)){const r=r0(t);if(typeof r=="string"){const n=B(this,_a).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&B(this,_a).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=r0(t);if(typeof r=="string"){const n=B(this,_a).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=r0(t);if(typeof r=="string"){const a=(n=B(this,_a).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ir.batch(()=>{B(this,vi).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,vi).clear(),B(this,_a).clear()})}getAll(){return Array.from(B(this,vi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bE(r,n))}findAll(t={}){return this.getAll().filter(r=>bE(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(Qr))))}},vi=new WeakMap,_a=new WeakMap,dh=new WeakMap,uC);function r0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gi,xs,fn,xi,Pi,K0,u1,dC,pL=(dC=class extends ju{constructor(r,n){super();Pe(this,Pi);Pe(this,gi);Pe(this,xs);Pe(this,fn);Pe(this,xi);Ee(this,gi,r),this.setOptions(n),this.bindMethods(),Be(this,Pi,K0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=B(this,gi).defaultMutationOptions(r),wp(this.options,n)||B(this,gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,fn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zo(n.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((a=B(this,fn))==null?void 0:a.state.status)==="pending"&&B(this,fn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,fn))==null||r.removeObserver(this)}onMutationUpdate(r){Be(this,Pi,K0).call(this),Be(this,Pi,u1).call(this,r)}getCurrentResult(){return B(this,xs)}reset(){var r;(r=B(this,fn))==null||r.removeObserver(this),Ee(this,fn,void 0),Be(this,Pi,K0).call(this),Be(this,Pi,u1).call(this)}mutate(r,n){var a;return Ee(this,xi,n),(a=B(this,fn))==null||a.removeObserver(this),Ee(this,fn,B(this,gi).getMutationCache().build(B(this,gi),this.options)),B(this,fn).addObserver(this),B(this,fn).execute(r)}},gi=new WeakMap,xs=new WeakMap,fn=new WeakMap,xi=new WeakMap,Pi=new WeakSet,K0=function(){var n;const r=((n=B(this,fn))==null?void 0:n.state)??M4();Ee(this,xs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},u1=function(r){ir.batch(()=>{var n,a,i,s,o,l,u,d;if(B(this,xi)&&this.hasListeners()){const f=B(this,xs).variables,h=B(this,xs).context,p={client:B(this,gi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=B(this,xi)).onSuccess)==null||a.call(n,r.data,f,h,p),(s=(i=B(this,xi)).onSettled)==null||s.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=B(this,xi)).onError)==null||l.call(o,r.error,f,h,p),(d=(u=B(this,xi)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(B(this,xs))})})},dC),Xa,fC,mL=(fC=class extends ju{constructor(t={}){super();Pe(this,Xa);this.config=t,Ee(this,Xa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??s_(a,r);let s=this.get(i);return s||(s=new oL({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){B(this,Xa).has(t.queryHash)||(B(this,Xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Xa).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Xa).get(t)}getAll(){return[...B(this,Xa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yE(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xa=new WeakMap,fC),Mt,ys,bs,kc,Pc,ws,Rc,Ic,hC,vL=(hC=class{constructor(e={}){Pe(this,Mt);Pe(this,ys);Pe(this,bs);Pe(this,kc);Pe(this,Pc);Pe(this,ws);Pe(this,Rc);Pe(this,Ic);Ee(this,Mt,e.queryCache||new mL),Ee(this,ys,e.mutationCache||new hL),Ee(this,bs,e.defaultOptions||{}),Ee(this,kc,new Map),Ee(this,Pc,new Map),Ee(this,ws,0)}mount(){$h(this,ws)._++,B(this,ws)===1&&(Ee(this,Rc,l_.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Mt).onFocus())})),Ee(this,Ic,_p.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Mt).onOnline())})))}unmount(){var e,t;$h(this,ws)._--,B(this,ws)===0&&((e=B(this,Rc))==null||e.call(this),Ee(this,Rc,void 0),(t=B(this,Ic))==null||t.call(this),Ee(this,Ic,void 0))}isFetching(e){return B(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,Mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,Mt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ms(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,Mt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=B(this,Mt).get(n.queryHash),i=a==null?void 0:a.state.data,s=Q$(t,i);if(s!==void 0)return B(this,Mt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>B(this,Mt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,Mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,Mt);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,Mt);return ir.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ir.batch(()=>B(this,Mt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Qr).catch(Qr)}invalidateQueries(e,t={}){return ir.batch(()=>(B(this,Mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ir.batch(()=>B(this,Mt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,Mt).build(this,t);return r.isStaleByTime(Ms(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qr).catch(Qr)}fetchInfiniteQuery(e){return e.behavior=AE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qr).catch(Qr)}ensureInfiniteQueryData(e){return e.behavior=AE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _p.isOnline()?B(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Mt)}getMutationCache(){return B(this,ys)}getDefaultOptions(){return B(this,bs)}setDefaultOptions(e){Ee(this,bs,e)}setQueryDefaults(e,t){B(this,kc).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,kc).values()],r={};return t.forEach(n=>{hf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,Pc).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Pc).values()],r={};return t.forEach(n=>{hf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,bs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=s_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===o_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,bs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Mt).clear(),B(this,ys).clear()}},Mt=new WeakMap,ys=new WeakMap,bs=new WeakMap,kc=new WeakMap,Pc=new WeakMap,ws=new WeakMap,Rc=new WeakMap,Ic=new WeakMap,hC),$4=A.createContext(void 0),qt=e=>{const t=A.useContext($4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gL=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx($4.Provider,{value:e,children:t})),L4=A.createContext(!1),xL=()=>A.useContext(L4);L4.Provider;function yL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bL=A.createContext(yL()),wL=()=>A.useContext(bL),_L=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},SL=e=>{A.useEffect(()=>{e.clearReset()},[e])},EL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||C4(r,[e.error,n])),jL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},TL=(e,t)=>e.isLoading&&e.isFetching&&!t,AL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,OE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function NL(e,t,r){var f,h,p,g,m;const n=xL(),a=wL(),i=qt(),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",jL(s),_L(s,a),SL(a);const o=!i.getQueryCache().get(s.queryHash),[l]=A.useState(()=>new t(i,s)),u=l.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(x=>{const b=d?l.subscribe(ir.batchCalls(x)):Qr;return l.updateResult(),b},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(s)},[s,l]),AL(s,u))throw OE(s,l,a);if(EL({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,u),s.experimental_prefetchInRender&&!Jo&&TL(u,n)){const x=o?OE(s,l,a):(m=i.getQueryCache().get(s.queryHash))==null?void 0:m.promise;x==null||x.catch(Qr).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function Tt(e,t){return NL(e,lL)}function Qt(e,t){const r=qt(),[n]=A.useState(()=>new pL(r,e));A.useEffect(()=>{n.setOptions(e)},[n,e]);const a=A.useSyncExternalStore(A.useCallback(s=>n.subscribe(ir.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=A.useCallback((s,o)=>{n.mutate(s,o).catch(Qr)},[n]);if(a.error&&C4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const OL={},CE=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(OL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,l);return l},CL=e=>e?CE(e):CE;var F4={exports:{}},B4={},U4={exports:{}},z4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=A;function kL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PL=typeof Object.is=="function"?Object.is:kL,RL=zc.useState,IL=zc.useEffect,DL=zc.useLayoutEffect,ML=zc.useDebugValue;function $L(e,t){var r=t(),n=RL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return DL(function(){a.value=r,a.getSnapshot=t,ux(a)&&i({inst:a})},[e,r,t]),IL(function(){return ux(a)&&i({inst:a}),e(function(){ux(a)&&i({inst:a})})},[e]),ML(r),r}function ux(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!PL(e,r)}catch{return!0}}function LL(e,t){return t()}var FL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LL:$L;z4.useSyncExternalStore=zc.useSyncExternalStore!==void 0?zc.useSyncExternalStore:FL;U4.exports=z4;var BL=U4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=A,UL=BL;function zL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WL=typeof Object.is=="function"?Object.is:zL,HL=UL.useSyncExternalStore,qL=dv.useRef,VL=dv.useEffect,KL=dv.useMemo,GL=dv.useDebugValue;B4.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=qL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=KL(function(){function l(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,WL(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=HL(e,i[0],i[1]);return VL(function(){s.hasValue=!0,s.value=o},[o]),GL(o),o};F4.exports=B4;var XL=F4.exports;const YL=et(XL),W4={},{useDebugValue:QL}=z,{useSyncExternalStoreWithSelector:JL}=YL;let kE=!1;const ZL=e=>e;function eF(e,t=ZL,r){(W4?"production":void 0)!=="production"&&r&&!kE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kE=!0);const n=JL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return QL(n),n}const PE=e=>{(W4?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?CL(e):e,r=(n,a)=>eF(t,n,a);return Object.assign(r,t),r},fv=e=>e?PE(e):PE,tF=e=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return;const r=new t,n=r.createOscillator(),a=r.createGain();switch(n.connect(a),a.connect(r.destination),e){case"success":n.frequency.setValueAtTime(880,r.currentTime),n.frequency.setValueAtTime(1108.73,r.currentTime+.1),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.3),n.start(r.currentTime),n.stop(r.currentTime+.3);break;case"error":n.frequency.setValueAtTime(220,r.currentTime),n.frequency.setValueAtTime(196,r.currentTime+.15),a.gain.setValueAtTime(.3,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.4),n.start(r.currentTime),n.stop(r.currentTime+.4);break;case"warning":n.frequency.setValueAtTime(440,r.currentTime),a.gain.setValueAtTime(.2,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.2),n.start(r.currentTime),n.stop(r.currentTime+.2);break;case"info":n.frequency.setValueAtTime(523.25,r.currentTime),a.gain.setValueAtTime(.15,r.currentTime),a.gain.exponentialRampToValueAtTime(.01,r.currentTime+.15),n.start(r.currentTime),n.stop(r.currentTime+.15);break}}catch{}},gh=fv(e=>({toasts:[],addToast:t=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={...t,id:r,duration:t.duration??5e3};tF(t.type),e(a=>({toasts:[...a.toasts,n]})),setTimeout(()=>{e(a=>({toasts:a.toasts.filter(i=>i.id!==r)}))},n.duration)},removeToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearAll:()=>e({toasts:[]})})),ni=(e,t,r)=>{gh.getState().addToast({type:"success",title:e,message:t,createdBy:r})},Qa=(e,t)=>{gh.getState().addToast({type:"error",title:e,message:t,duration:8e3})},rF=(e,t)=>{gh.getState().addToast({type:"warning",title:e,message:t})},nF={users:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}),calendar:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"}),clipboard:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"}),megaphone:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 008.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"}),clock:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),key:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}),inbox:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"}),sparkles:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"}),truck:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}),"check-circle":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),tag:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),eye:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),gauge:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2m6-2a10 10 0 11-20 0 10 10 0 0120 0z"}),image:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}),home:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}),"chevron-down":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}),"chevron-right":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),menu:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),x:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}),search:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),bell:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}),logout:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}),settings:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),building:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}),layers:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"}),droplet:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75c-3.314 0-6 4.03-6 9a6 6 0 1012 0c0-4.97-2.686-9-6-9z"}),spray:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 15.5m14.8-.2a2.251 2.251 0 01.45 2.574l-.788 1.576a2.25 2.25 0 01-2.45 1.186l-6.09-1.218a5.227 5.227 0 01-2.842-1.61l-.91-1.014a2.25 2.25 0 01-.218-2.692l1.55-2.58"}),brush:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}),info:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),"alert-circle":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}),"alert-triangle":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}),check:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}),"x-circle":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),trash:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}),activity:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"}),user:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),plus:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}),package:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"}),"file-text":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),"bar-chart":c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"}),edit:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}),send:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}),upload:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}),file:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})},ce=({name:e,className:t="",size:r=24})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:r,height:r,className:t,children:nF[e]}),aF=({toast:e})=>{const{removeToast:t}=gh(),r={success:"bg-gradient-to-r from-success-500 to-success-600",error:"bg-gradient-to-r from-danger-500 to-danger-600",warning:"bg-gradient-to-r from-warning-500 to-warning-600",info:"bg-gradient-to-r from-brand-500 to-brand-600"},n={success:"check-circle",error:"alert-circle",warning:"alert-triangle",info:"info"};return c.jsxs("div",{className:`${r[e.type]} text-white rounded-xl shadow-2xl p-4 min-w-[320px] max-w-[420px] animate-slide-in-right flex items-start gap-3`,style:{animation:"slideInRight 0.3s ease-out"},children:[c.jsx("div",{className:"flex-shrink-0 mt-0.5",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx(ce,{name:n[e.type],size:22,className:"text-white"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("h4",{className:"font-bold text-base",children:e.title})}),c.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:e.message}),e.createdBy&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/80",children:[c.jsx(ce,{name:"user",size:14}),c.jsxs("span",{children:["Registrado por: ",c.jsx("strong",{className:"text-white",children:e.createdBy})]})]})]}),c.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(ce,{name:"x",size:18,className:"text-white/80"})})]})},iF=()=>{const{toasts:e}=gh();return e.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),c.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3",children:e.map(t=>c.jsx(aF,{toast:t},t.id))})]})},sF=({children:e})=>{const[t]=A.useState(()=>new vL({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}}));return c.jsxs(gL,{client:t,children:[e,c.jsx(iF,{})]})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}var Es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Es||(Es={}));const RE="popstate";function oF(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:l=""}=pl(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),d1("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:Sp(i))}function n(a,i){hv(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cF(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lF(){return Math.random().toString(36).substr(2,8)}function IE(e,t){return{usr:e.state,key:e.key,idx:t}}function d1(e,t,r,n){return r===void 0&&(r=null),pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pl(t):t,{state:r,key:t&&t.key||n||lF()})}function Sp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Es.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(pf({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Es.Pop;let x=d(),b=x==null?null:x-u;u=x,l&&l({action:o,location:m.location,delta:b})}function h(x,b){o=Es.Push;let v=d1(m.location,x,b);r&&r(v,x),u=d()+1;let y=IE(v,u),_=m.createHref(v);try{s.pushState(y,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&l&&l({action:o,location:m.location,delta:1})}function p(x,b){o=Es.Replace;let v=d1(m.location,x,b);r&&r(v,x),u=d();let y=IE(v,u),_=m.createHref(v);s.replaceState(y,"",_),i&&l&&l({action:o,location:m.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof x=="string"?x:Sp(x);return v=v.replace(/ $/,"%20"),Rt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let m={get action(){return o},get location(){return e(a,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(RE,f),l=x,()=>{a.removeEventListener(RE,f),l=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return m}var DE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DE||(DE={}));function uF(e,t,r){return r===void 0&&(r="/"),dF(e,t,r)}function dF(e,t,r,n){let a=typeof t=="string"?pl(t):t,i=Wc(a.pathname||"/",r);if(i==null)return null;let s=H4(e);fF(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SF(i);o=wF(s[l],u)}return o}function H4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=$s([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:yF(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of q4(i.path))a(i,s,l)}),t}function q4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=q4(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function fF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hF=/^:[\w-]+$/,pF=3,mF=2,vF=1,gF=10,xF=-2,ME=e=>e==="*";function yF(e,t){let r=e.split("/"),n=r.length;return r.some(ME)&&(n+=xF),t&&(n+=mF),r.filter(a=>!ME(a)).reduce((a,i)=>a+(hF.test(i)?pF:i===""?vF:gF),n)}function bF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wF(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=f1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:$s([i,f.pathname]),pathnameBase:NF($s([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=$s([i,f.pathnameBase]))}return s}function f1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_F(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function _F(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function SF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const EF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jF=e=>EF.test(e);function TF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?pl(e):e,i;if(r)if(jF(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),hv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=$E(r.substring(1),"/"):i=$E(r,t)}else i=t;return{pathname:i,search:OF(n),hash:CF(a)}}function $E(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function dx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function u_(e,t){let r=AF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function d_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pl(e):(a=pf({},e),Rt(!a.pathname||!a.pathname.includes("?"),dx("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),dx("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),dx("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=TF(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),NF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V4=["post","put","patch","delete"];new Set(V4);const PF=["get",...V4];new Set(PF);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}const pv=A.createContext(null),K4=A.createContext(null),Ki=A.createContext(null),mv=A.createContext(null),Gi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),G4=A.createContext(null);function RF(e,t){let{relative:r}=t===void 0?{}:t;Tu()||Rt(!1);let{basename:n,navigator:a}=A.useContext(Ki),{hash:i,pathname:s,search:o}=vv(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:$s([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Tu(){return A.useContext(mv)!=null}function ml(){return Tu()||Rt(!1),A.useContext(mv).location}function X4(e){A.useContext(Ki).static||A.useLayoutEffect(e)}function f_(){let{isDataRoute:e}=A.useContext(Gi);return e?GF():IF()}function IF(){Tu()||Rt(!1);let e=A.useContext(pv),{basename:t,future:r,navigator:n}=A.useContext(Ki),{matches:a}=A.useContext(Gi),{pathname:i}=ml(),s=JSON.stringify(u_(a,r.v7_relativeSplatPath)),o=A.useRef(!1);return X4(()=>{o.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=d_(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$s([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const DF=A.createContext(null);function MF(e){let t=A.useContext(Gi).outlet;return t&&A.createElement(DF.Provider,{value:e},t)}function vv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Ki),{matches:a}=A.useContext(Gi),{pathname:i}=ml(),s=JSON.stringify(u_(a,n.v7_relativeSplatPath));return A.useMemo(()=>d_(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function $F(e,t){return LF(e,t)}function LF(e,t,r,n){Tu()||Rt(!1);let{navigator:a}=A.useContext(Ki),{matches:i}=A.useContext(Gi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ml(),d;if(t){var f;let x=typeof t=="string"?pl(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Rt(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=uF(e,{pathname:p}),m=WF(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:$s([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:$s([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&m?A.createElement(mv.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Es.Pop}},m):m}function FF(){let e=KF(),t=kF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const BF=A.createElement(FF,null);class UF extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Gi.Provider,{value:this.props.routeContext},A.createElement(G4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zF(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(pv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Gi.Provider,{value:t},n)}function WF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Rt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||BF,l&&(u<0&&h===0?(XF("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),v=()=>{let y;return p?y=m:g?y=x:f.route.Component?y=A.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,A.createElement(zF,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(UF,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Y4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Y4||{}),Q4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Q4||{});function HF(e){let t=A.useContext(pv);return t||Rt(!1),t}function qF(e){let t=A.useContext(K4);return t||Rt(!1),t}function VF(e){let t=A.useContext(Gi);return t||Rt(!1),t}function J4(e){let t=VF(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function KF(){var e;let t=A.useContext(G4),r=qF(),n=J4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GF(){let{router:e}=HF(Y4.UseNavigateStable),t=J4(Q4.UseNavigateStable),r=A.useRef(!1);return X4(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mf({fromRouteId:t},i)))},[e,t])}const LE={};function XF(e,t,r){LE[e]||(LE[e]=!0)}function YF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Z4(e){let{to:t,replace:r,state:n,relative:a}=e;Tu()||Rt(!1);let{future:i,static:s}=A.useContext(Ki),{matches:o}=A.useContext(Gi),{pathname:l}=ml(),u=f_(),d=d_(t,u_(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function eP(e){return MF(e.context)}function Dt(e){Rt(!1)}function QF(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Es.Pop,navigator:i,static:s=!1,future:o}=e;Tu()&&Rt(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:s,future:mf({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=pl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=A.useMemo(()=>{let x=Wc(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[l,d,f,h,p,g,a]);return m==null?null:A.createElement(Ki.Provider,{value:u},A.createElement(mv.Provider,{children:r,value:m}))}function JF(e){let{children:t,location:r}=e;return $F(h1(t),r)}new Promise(()=>{});function h1(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,h1(n.props.children,i));return}n.type!==Dt&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=h1(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function tP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ZF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e7(e,t){return e.button===0&&(!t||t==="_self")&&!ZF(e)}const t7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n7="6";try{window.__reactRouterVersion=n7}catch{}const a7=A.createContext({isTransitioning:!1}),i7="startTransition",FE=M8[i7];function s7(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=oF({window:a,v5Compat:!0}));let s=i.current,[o,l]=A.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&FE?FE(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>s.listen(d),[s,d]),A.useEffect(()=>YF(n),[n]),A.createElement(QF,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const o7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c7=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=tP(t,t7),{basename:p}=A.useContext(Ki),g,m=!1;if(typeof u=="string"&&l7.test(u)&&(g=u,o7))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),w=Wc(_.pathname,p);_.origin===y.origin&&w!=null?u=w+_.search+_.hash:m=!0}catch{}let x=RF(u,{relative:a}),b=f7(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function v(y){n&&n(y),y.defaultPrevented||b(y)}return A.createElement("a",Ep({},h,{href:g||x,onClick:m||i?n:v,ref:r,target:l}))}),u7=A.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:d}=t,f=tP(t,r7),h=vv(l,{relative:f.relative}),p=ml(),g=A.useContext(K4),{navigator:m,basename:x}=A.useContext(Ki),b=g!=null&&h7(h)&&u===!0,v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,y=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(y=y.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&x&&(_=Wc(_,x)||_);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=y===v||!s&&y.startsWith(v)&&y.charAt(w)==="/",E=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),j={isActive:S,isPending:E,isTransitioning:b},T=S?n:void 0,O;typeof i=="function"?O=i(j):O=[i,S?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(j):o;return A.createElement(c7,Ep({},f,{"aria-current":T,className:O,ref:r,style:C,to:l,viewTransition:u}),typeof d=="function"?d(j):d)});var p1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p1||(p1={}));var BE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(BE||(BE={}));function d7(e){let t=A.useContext(pv);return t||Rt(!1),t}function f7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=f_(),u=ml(),d=vv(e,{relative:s});return A.useCallback(f=>{if(e7(f,r)){f.preventDefault();let h=n!==void 0?n:Sp(u)===Sp(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,a,r,e,i,s,o])}function h7(e,t){t===void 0&&(t={});let r=A.useContext(a7);r==null&&Rt(!1);let{basename:n}=d7(p1.useViewTransitionState),a=vv(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Wc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Wc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return f1(a.pathname,s)!=null||f1(a.pathname,i)!=null}let n0=null;const p7=(e,t)=>({supervisorName:e,terminalCode:t,startedAt:new Date().toISOString()}),jp={startSession:async(e,t)=>(n0=p7(e,t),n0),getSession:async()=>n0,logout:async()=>{n0=null}},zn=fv(e=>({session:null,setSession:t=>e({session:t}),clearSession:()=>e({session:null}),hydrateSession:async()=>{const t=await jp.getSession();e({session:t})}})),Hc={EL_ROBLE:"El Roble",LA_REINA:"La Reina",EL_SALTO:"El Salto",LO_ECHEVERS:"Lo Echevers",COLO_COLO:"Colo Colo"},h_=[{code:"ROBLE_Y_REINA",name:"El Roble + La Reina",members:["EL_ROBLE","LA_REINA"]}],Ma=Object.entries(Hc).map(([e,t])=>({value:e,label:t})),m7=h_.map(e=>({value:e.code,label:e.name})),rP={mode:"ALL"},Xi=e=>{if(e.mode==="ALL"||!e.value)return Object.keys(Hc);if(e.mode==="TERMINAL")return[e.value];const t=h_.find(r=>r.code===e.value);return t?t.members:Object.keys(Hc)},v7=(e,t)=>{const r=Xi(t);return e.filter(n=>r.includes(n.terminal))},Ge=e=>{if(Hc[e])return Hc[e];const t=h_.find(r=>r.code===e);return(t==null?void 0:t.name)??String(e)},qe=fv(e=>({context:rP,setContext:t=>e({context:t})})),g7=()=>{const e=f_(),t=zn(f=>f.setSession),r=zn(f=>f.session),n=qe(f=>f.setContext),[a,i]=A.useState(""),[s,o]=A.useState("EL_ROBLE"),[l,u]=A.useState(!1);A.useEffect(()=>{r&&e("/personal")},[r,e]);const d=async f=>{f.preventDefault(),u(!0);const h=await jp.startSession(a,s);t(h),n({mode:"TERMINAL",value:s}),e("/personal")};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-brand-900",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/30 rounded-full blur-3xl animate-float"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent-500/20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-brand-600/20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),c.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),c.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 animate-slide-up",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand-lg",children:c.jsx("span",{className:"text-3xl font-bold text-white",children:"A"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:"Asiss"}),c.jsx("span",{className:"text-sm text-slate-400",children:"Dashboard de Logstica"})]})]})}),c.jsxs("div",{className:"card-glass p-8 md:p-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Bienvenido"}),c.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Ingresa tus datos para acceder al panel de control"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre del Supervisor"}),c.jsxs("div",{className:"relative",children:[c.jsx(ce,{name:"users",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),c.jsx("input",{type:"text",className:"input pl-10",value:a,onChange:f=>i(f.target.value),placeholder:"Ej: Ana Prez",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsxs("div",{className:"relative",children:[c.jsx(ce,{name:"building",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),c.jsx("select",{className:"input pl-10 appearance-none cursor-pointer",value:s,onChange:f=>o(f.target.value),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"16px",paddingRight:"40px"},children:Ma.map(f=>c.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),c.jsx("button",{type:"submit",disabled:l||!a,className:"btn btn-primary w-full py-3.5 text-base",children:l?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):c.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Entrar al Dashboard",c.jsx(ce,{name:"chevron-right",size:18})]})})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-500",children:[c.jsx(ce,{name:"check-circle",size:14,className:"text-success-500"}),c.jsx("span",{children:"Conexin segura  Datos protegidos"})]})})]}),c.jsx("p",{className:"mt-6 text-center text-xs text-slate-500",children:"Versin 2.0   2024 Asiss"})]})]})},UE=[{label:"Operacin",icon:"building",items:[{label:"Personal",to:"/personal",icon:"users"},{label:"Reuniones",to:"/reuniones",icon:"calendar"},{label:"Tareas",to:"/tareas",icon:"clipboard"},{label:"Informativos",to:"/informativos",icon:"megaphone"},{label:"Asistencia",to:"/asistencia",icon:"clock"},{label:"Credenciales",to:"/credenciales",icon:"key"},{label:"Solicitudes",to:"/solicitudes",icon:"inbox"}]},{label:"Aseo",icon:"sparkles",items:[{label:"Interior",to:"/aseo/interior",icon:"droplet"},{label:"Exterior",to:"/aseo/exterior",icon:"spray"},{label:"Rodillo",to:"/aseo/rodillo",icon:"brush"}]},{label:"Insumos",icon:"package",items:[{label:"Solicitudes",to:"/insumos",icon:"file-text"}]},{label:"MiniCheck",icon:"check-circle",items:[{label:"Extintor",to:"/minicheck/extintor",icon:"check-circle"},{label:"Tag",to:"/minicheck/tag",icon:"tag"},{label:"Mobileye",to:"/minicheck/mobileye",icon:"eye"},{label:"Odmetro",to:"/minicheck/odometro",icon:"gauge"},{label:"Publicidad",to:"/minicheck/publicidad",icon:"image"}]},{label:"Flota",icon:"truck",items:[{label:"Estado de Flota",to:"/estado-flota",icon:"truck"}]}],x7=({isOpen:e,onClose:t})=>{const r=ml(),[n,a]=A.useState(()=>{const o=UE.find(l=>l.items.some(u=>r.pathname.startsWith(u.to)));return o?[o.label]:["Operacin"]}),i=o=>{a(l=>l.includes(o)?l.filter(u=>u!==o):[...l,o])},s=o=>o.items.some(l=>r.pathname.startsWith(l.to));return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`${e?"fixed":"hidden"} inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden`,onClick:t}),c.jsx("aside",{className:`${e?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-72 transform transition-transform duration-300 ease-out md:translate-x-0`,children:c.jsxs("div",{className:"flex h-full flex-col bg-gradient-to-b from-dark-800 to-dark-900",children:[c.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-white/10",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 shadow-brand",children:c.jsx("span",{className:"text-lg font-bold text-white",children:"A"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-bold text-white",children:"Asiss"}),c.jsx("span",{className:"text-xs text-slate-400",children:"Dashboard Logstica"})]}),c.jsx("button",{onClick:t,className:"ml-auto rounded-lg p-1.5 text-slate-400 hover:bg-white/10 hover:text-white md:hidden",children:c.jsx(ce,{name:"x",size:20})})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-4 space-y-1",children:UE.map(o=>{const l=n.includes(o.label),u=s(o);return c.jsxs("div",{className:"mb-1",children:[c.jsxs("button",{onClick:()=>i(o.label),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${u?"bg-white/10 text-white":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[c.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg transition-all duration-200 ${u?"bg-gradient-to-br from-brand-500 to-brand-600 text-white shadow-brand":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-slate-200"}`,children:c.jsx(ce,{name:o.icon,size:18})}),c.jsx("span",{className:"flex-1 text-left text-sm font-semibold",children:o.label}),c.jsx(ce,{name:"chevron-down",size:16,className:`transition-transform duration-200 ${l?"rotate-0":"-rotate-90"}`})]}),c.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${l?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"mt-1 ml-4 pl-4 border-l border-white/10 space-y-0.5",children:o.items.map(d=>c.jsxs(u7,{to:d.to,onClick:t,className:({isActive:f})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${f?"bg-brand-500/20 text-brand-300 font-medium":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[c.jsx(ce,{name:d.icon,size:16}),c.jsx("span",{children:d.label})]},d.to))})})]},o.label)})}),c.jsx("div",{className:"border-t border-white/10 px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-3 px-2",children:[c.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white text-sm font-bold",children:"S"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Supervisor"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Terminal Activo"})]})]})})]})})]})},fx=new Set;let a0=[];const y7=()=>crypto.randomUUID(),zE={subscribeNotifications:e=>(fx.add(e),()=>fx.delete(e)),publishNotification:e=>{const t={id:e.id??y7(),createdAt:e.createdAt??new Date().toISOString(),...e};return a0=[t,...a0].slice(0,50),fx.forEach(r=>r(t)),t},getNotifications:()=>a0,clear:()=>{a0=[]}},b7=fv(e=>({items:[],last:void 0,addNotification:t=>e(r=>({items:[t,...r.items],last:t})),setAll:t=>e({items:t}),clear:()=>e({items:[],last:void 0})})),Ut=e=>(typeof e=="string"?new Date(e):e).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric"}),w7=()=>{const{items:e,addNotification:t,setAll:r,last:n}=b7(),[a,i]=A.useState(!1),[s,o]=A.useState(!1);return A.useEffect(()=>{r(zE.getNotifications());const l=zE.subscribeNotifications(u=>{t(u),o(!0),setTimeout(()=>o(!1),3500)});return()=>l()},[t,r]),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",className:"btn btn-secondary h-10",onClick:()=>i(l=>!l),children:[c.jsxs("span",{className:"relative inline-flex items-center",children:[c.jsx("svg",{className:"h-5 w-5 text-slate-600",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 17h5l-1.405-1.405A2.032 2.032 0 0117 14.158V11a5.002 5.002 0 00-3-4.584V6a2 2 0 10-4 0v.416A5.002 5.002 0 007 11v3.159c0 .538-.214 1.055-.595 1.436L5 17h5m4 0v1a3 3 0 11-6 0v-1m6 0H8"})}),e.length>0&&c.jsx("span",{className:"absolute -right-2 -top-2 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-brand-500 px-1 text-xs font-bold text-white",children:e.length})]}),c.jsx("span",{className:"hidden text-sm font-semibold text-slate-700 sm:inline",children:"Alertas"})]}),a&&c.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-80 rounded-lg border border-slate-200 bg-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Notificaciones"}),c.jsx("button",{className:"text-xs text-brand-600 hover:underline",onClick:()=>i(!1),children:"Cerrar"})]}),c.jsxs("div",{className:"max-h-80 space-y-2 overflow-y-auto px-4 pb-4",children:[e.length===0&&c.jsx("p",{className:"text-sm text-slate-500",children:"Sin notificaciones por ahora."}),e.map(l=>c.jsxs("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[c.jsx("span",{className:"font-semibold capitalize",children:l.level}),c.jsx("span",{children:Ut(l.createdAt)})]}),c.jsx("p",{className:"text-sm font-semibold text-slate-800",children:l.title}),c.jsx("p",{className:"text-sm text-slate-600",children:l.message})]},l.id))]})]}),s&&n&&c.jsxs("div",{className:"fixed bottom-4 right-4 z-40 max-w-sm rounded-md border border-slate-200 bg-white px-4 py-3 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase text-brand-700",children:n.level}),c.jsx("button",{onClick:()=>o(!1),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cerrar"})]}),c.jsx("p",{className:"text-sm font-semibold text-slate-900",children:n.title}),c.jsx("p",{className:"text-sm text-slate-700",children:n.message})]})]})},_7=({onMenuToggle:e})=>{var i;const t=qe(s=>s.context),r=zn(s=>s.session),n=zn(s=>s.clearSession),a=()=>t.mode==="ALL"?"Todos los terminales":t.mode==="TERMINAL"&&t.value?Ge(t.value):"Terminal";return c.jsx("header",{className:"header px-4 md:px-6",children:c.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-slate-200 md:hidden","aria-label":"Abrir men",children:c.jsx(ce,{name:"menu",size:20})}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"Dashboard"}),c.jsx("p",{className:"text-xs text-slate-500",children:a()})]})]}),c.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(ce,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:"search",placeholder:"Buscar en el dashboard...",className:"w-full rounded-xl border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-4 text-sm transition-all placeholder:text-slate-400 focus:border-brand-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-brand-500/20"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-brand-50 px-3 py-1.5",children:[c.jsx(ce,{name:"building",size:14,className:"text-brand-600"}),c.jsx("span",{className:"text-xs font-semibold text-brand-700",children:t.mode==="ALL"?"Todos":(i=t.value)==null?void 0:i.split("_").pop()})]})}),c.jsx(w7,{}),r&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"hidden sm:flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-500 to-brand-600 text-white text-sm font-bold",children:r.supervisorName.charAt(0).toUpperCase()}),c.jsxs("div",{className:"hidden md:flex flex-col leading-tight",children:[c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:r.supervisorName}),c.jsx("span",{className:"text-xs text-slate-500",children:Ge(r.terminalCode)})]}),c.jsx("button",{onClick:()=>{n(),jp.logout()},className:"ml-1 rounded-lg p-1.5 text-slate-400 transition-colors hover:bg-slate-100 hover:text-danger-600",title:"Cerrar sesin",children:c.jsx(ce,{name:"logout",size:18})})]}),c.jsx("button",{onClick:()=>{n(),jp.logout()},className:"sm:hidden flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 transition-all hover:bg-danger-100 hover:text-danger-600",title:"Cerrar sesin",children:c.jsx(ce,{name:"logout",size:20})})]})]})]})})},S7=()=>{const[e,t]=A.useState(!1);return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50",children:c.jsxs("div",{className:"flex",children:[c.jsx(x7,{isOpen:e,onClose:()=>t(!1)}),c.jsxs("div",{className:"flex min-h-screen flex-1 flex-col md:ml-72",children:[c.jsx(_7,{onMenuToggle:()=>t(r=>!r)}),c.jsx("main",{className:"flex-1 px-4 pb-8 pt-6 md:px-8",children:c.jsx("div",{className:"animate-fade-in",children:c.jsx(eP,{})})}),c.jsx("footer",{className:"border-t border-slate-200 bg-white/50 px-4 py-4 md:px-8",children:c.jsxs("div",{className:"flex flex-col items-center justify-between gap-2 text-xs text-slate-500 sm:flex-row",children:[c.jsx("p",{children:" 2024 Asiss  Dashboard de Operaciones y Logstica"}),c.jsxs("p",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success-500 animate-pulse"}),"Sistema operativo"]})]})})]})]})})},xr=({label:e="Cargando..."})=>c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"h-12 w-12 rounded-full border-[3px] border-slate-200"}),c.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full border-[3px] border-transparent border-t-brand-500 animate-spin"})]}),c.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:e})]}),Pr=({title:e,description:t,actions:r})=>c.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 md:text-3xl",children:e}),t&&c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:t})]}),r&&c.jsx("div",{className:"flex flex-wrap items-center gap-3",children:r})]}),E7=({value:e,onChange:t,label:r="Terminal actual"})=>{const n=e.mode==="ALL"?"ALL":e.mode==="GROUP"?`GROUP:${e.value}`:`TERMINAL:${e.value}`,a=i=>{const s=i.target.value;if(s==="ALL"){t(rP);return}if(s.startsWith("GROUP:")){const l=s.replace("GROUP:","");t({mode:"GROUP",value:l});return}const o=s.replace("TERMINAL:","");t({mode:"TERMINAL",value:o})};return c.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-600",children:[c.jsx("span",{className:"mb-1",children:r}),c.jsxs("select",{value:n,onChange:a,className:"input min-w-[200px]","aria-label":"Selector de terminal",children:[c.jsx("option",{value:"ALL",children:"Todos"}),c.jsx("optgroup",{label:"Terminales",children:Ma.map(i=>c.jsx("option",{value:`TERMINAL:${i.value}`,children:i.label},i.value))}),c.jsx("optgroup",{label:"Grupos",children:m7.map(i=>c.jsx("option",{value:`GROUP:${i.value}`,children:i.label},i.value))})]})]})},ua=({terminalContext:e,onTerminalChange:t,children:r})=>c.jsx("div",{className:"card p-4 mb-6",children:c.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(E7,{value:e,onChange:t})}),r&&c.jsx("div",{className:"flex flex-wrap items-end gap-3 border-t border-slate-100 pt-4 lg:border-0 lg:pt-0",children:r})]})}),Rr=({message:e="Ha ocurrido un error",onRetry:t})=>c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-danger-200 bg-danger-50/50 px-6 py-12 text-center",children:[c.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-danger-100 mb-4",children:c.jsx("svg",{className:"h-7 w-7 text-danger-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),c.jsx("p",{className:"text-sm font-semibold text-danger-700",children:e}),c.jsx("p",{className:"mt-1 text-xs text-danger-600 max-w-xs",children:"Por favor intenta de nuevo o contacta soporte si el problema persiste."}),t&&c.jsxs("button",{onClick:t,className:"mt-4 btn btn-secondary text-danger-700 border-danger-300 hover:bg-danger-100",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]}),qr=({onExportView:e,onExportAll:t})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:e,className:"btn btn-secondary text-sm",children:[c.jsx(ce,{name:"clipboard",size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Exportar Vista"}),c.jsx("span",{className:"sm:hidden",children:"Vista"})]}),c.jsxs("button",{onClick:t,className:"btn btn-primary text-sm",children:[c.jsx(ce,{name:"layers",size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Exportar Todo"}),c.jsx("span",{className:"sm:hidden",children:"Todo"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Tp={};Tp.version="0.18.5";var nP=1252,j7=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aP=function(e){j7.indexOf(e)!=-1&&(nP=e)};function T7(){aP(1252)}var vf=function(e){aP(e)};function A7(){vf(1200),T7()}var i0=function(t){return String.fromCharCode(t)},WE=function(t){return String.fromCharCode(t)},Ap,js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gf(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=js.charAt(i)+js.charAt(s)+js.charAt(o)+js.charAt(l);return t}function $i(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=js.indexOf(e.charAt(u++)),s=js.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=js.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=js.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Yi=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function el(e){return Qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function HE(e){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Na=function(t){return Qe?Yi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function gv(e){if(typeof ArrayBuffer>"u")return Na(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function xh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function N7(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Tr=Qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Yi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function O7(e){for(var t=[],r=0,n=e.length+250,a=el(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=el(65535),n=65530)}return t.push(a.slice(0,r)),Tr(t)}var $d=/\u0000/g,s0=/[\u0001-\u0006]/g;function dc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ca(e,t){var r=""+e;return r.length>=t?r:Lt("0",t-r.length)+r}function p_(e,t){var r=""+e;return r.length>=t?r:Lt(" ",t-r.length)+r}function Np(e,t){var r=""+e;return r.length>=t?r:r+Lt(" ",t-r.length)}function C7(e,t){var r=""+Math.round(e);return r.length>=t?r:Lt("0",t-r.length)+r}function k7(e,t){var r=""+e;return r.length>=t?r:Lt("0",t-r.length)+r}var qE=Math.pow(2,32);function Nl(e,t){if(e>qE||e<-qE)return C7(e,t);var r=Math.round(e);return k7(r,t)}function Op(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var VE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],hx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function P7(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},R7={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function o0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=B7(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var iP=new Date(1899,11,31,0,0,0),I7=iP.getTime(),D7=new Date(1900,2,1,0,0,0);function sP(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=D7&&(r+=24*60*60*1e3),(r-(I7+(e.getTimezoneOffset()-iP.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function m_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function M7(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $7(e){var t=e<0?12:11,r=m_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function L7(e){var t=m_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function F7(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=$7(e):t===10?r=e.toFixed(10).substr(0,12):r=L7(e),m_(M7(r.toUpperCase()))}function m1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):F7(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zs(14,sP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function B7(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function U7(e,t,r,n){var a="",i=0,s=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return hx[r.m-1][1];case 5:return hx[r.m-1][0];default:return hx[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return VE[r.q][0];default:return VE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ca(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Ca(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Ca(l,u):"";return d}function Ts(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var oP=/%/g;function z7(e,t,r){var n=t.replace(oP,""),a=t.length-n.length;return ji(e,n,r*Math.pow(10,2*a))+Lt("%",a)}function W7(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ji(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function lP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cP=/# (\?+)( ?)\/( ?)(\d+)/;function H7(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Lt(" ",e[1].length+1+e[4].length):p_(s,e[1].length)+e[2]+"/"+e[3]+Ca(o,e[4].length))}function q7(e,t,r){return r+(t===0?"":""+t)+Lt(" ",e[1].length+2+e[4].length)}var uP=/^#*0*\.([0#]+)/,dP=/\).*[0#]/,fP=/\(###\) ###\\?-####/;function Jr(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function GE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function XE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function V7(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function K7(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Yn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yn("n",n,r):"("+Yn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return W7(e,t,r);if(t.indexOf("%")!==-1)return z7(e,t,r);if(t.indexOf("E")!==-1)return lP(t,r);if(t.charCodeAt(0)===36)return"$"+Yn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Nl(l,t.length);if(t.match(/^[#?]+$/))return a=Nl(r,0),a==="0"&&(a=""),a.length>t.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(cP))return H7(i,l,u);if(t.match(/^#+0+$/))return u+Nl(l,t.length-t.indexOf("0"));if(i=t.match(uP))return a=GE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Jr(i[1])).replace(/\.$/,"."+Jr(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Lt("0",Jr(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+GE(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ts(Nl(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yn(e,t,-r):Ts(""+(Math.floor(r)+V7(r,i[1].length)))+"."+Ca(XE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Yn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dc(Yn(e,t.replace(/[\\-]/g,""),r)),s=0,dc(dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(fP))return a=Yn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Cp(l,Math.pow(10,s)-1,!1),a=""+u,d=ji("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Np(o[2],s),d.length<i[4].length&&(d=Jr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Cp(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p_(o[1],s)+i[2]+"/"+i[3]+Np(o[2],s):Lt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Nl(r,0),t.length<=a.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Jr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=XE(r,i[1].length),r<0?"-"+Yn(e,t,-r):Ts(K7(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ca(0,3-g.length):"")+g})+"."+Ca(s,i[1].length);switch(t){case"###,##0.00":return Yn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Ts(Nl(l,0));return p!=="0"?u+p:"";case"###,###.00":return Yn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function G7(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ji(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function X7(e,t,r){var n=t.replace(oP,""),a=t.length-n.length;return ji(e,n,r*Math.pow(10,2*a))+Lt("%",a)}function hP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wa("n",n,r):"("+Wa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return G7(e,t,r);if(t.indexOf("%")!==-1)return X7(e,t,r);if(t.indexOf("E")!==-1)return hP(t,r);if(t.charCodeAt(0)===36)return"$"+Wa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ca(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(cP))return q7(i,l,u);if(t.match(/^#+0+$/))return u+Ca(l,t.length-t.indexOf("0"));if(i=t.match(uP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Jr(i[1])).replace(/\.$/,"."+Jr(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Lt("0",Jr(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ts(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wa(e,t,-r):Ts(""+r)+"."+Lt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Wa(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dc(Wa(e,t.replace(/[\\-]/g,""),r)),s=0,dc(dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(fP))return a=Wa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Cp(l,Math.pow(10,s)-1,!1),a=""+u,d=ji("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Np(o[2],s),d.length<i[4].length&&(d=Jr(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Cp(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p_(o[1],s)+i[2]+"/"+i[3]+Np(o[2],s):Lt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Jr(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Jr(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wa(e,t,-r):Ts(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ca(0,3-g.length):"")+g})+"."+Ca(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ts(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Wa(e,t.slice(0,t.lastIndexOf(".")),r)+Jr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ji(e,t,r){return(r|0)===r?Wa(e,t,r):Yn(e,t,r)}function Y7(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var pP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mP(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Op(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(pP))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Q7(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Op(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=o0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=o0(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=o0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),u==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(pP)){if(u==null&&(u=o0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",mP(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,b=0,v;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",x<1&&(x=1);break;case"s":(v=a[s].v.match(/\.0+$/))&&(b=Math.max(b,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=U7(a[s].t.charCodeAt(0),a[s].v,u,b),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=m1(t,r);break}var w="",S,E;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,E=ji("n",y,S)):(S=t<0&&n>1?-t:t,E=ji("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var j=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){j=s;break}var T=a.length;if(j===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=E.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=E.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v)}else if(j!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,s=j;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")-1:a[s].v.length-1,w=a[s].v.substr(d+1);d>=0;--d)_>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(w=E.charAt(_--)+w);a[s].v=w,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v),_=E.indexOf(".")+1,s=j;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==j)){for(d=a[s].v.indexOf(".")>-1&&s===j?a[s].v.indexOf(".")+1:0,w=a[s].v.substr(0,d);d<a[s].v.length;++d)_<E.length&&(w+=E.charAt(_++));a[s].v=w,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=ji(a[s].t,a[s].v,S),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var YE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function J7(e,t){var r=Y7(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(YE),o=r[1].match(YE);return QE(t,s)?[n,r[0]]:QE(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function zs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:zt)[e],n==null&&(n=r.table&&r.table[KE[e]]||zt[KE[e]]),n==null&&(n=R7[e]||"General");break}if(Op(n,0))return m1(t,r);t instanceof Date&&(t=sP(t,r.date1904));var a=J7(n,t);if(Op(a[1]))return m1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Q7(a[1],t,r,a[0])}function vP(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(zt[r]==null){t<0&&(t=r);continue}if(zt[r]==e){t=r;break}}t<0&&(t=391)}return zt[t]=e,t}function xv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&vP(e[t],t)}function yv(){zt=P7()}var gP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Z7(e){var t=typeof e=="number"?zt[e]:e;return t=t.replace(gP,"(\\d+)"),new RegExp("^"+t+"$")}function eB(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(gP)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var tB=function(){var e={};e.version="1.2.0";function t(){for(var E=0,j=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,j[T]=E;return typeof Int32Array<"u"?new Int32Array(j):j}var r=t();function n(E){var j=0,T=0,O=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)C[O]=E[O];for(O=0;O!=256;++O)for(T=E[O],j=256+O;j<4096;j+=256)T=C[j]=T>>>8^E[T&255];var M=[];for(O=1;O!=16;++O)M[O-1]=typeof Int32Array<"u"?C.subarray(O*256,O*256+256):C.slice(O*256,O*256+256);return M}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],x=a[11],b=a[12],v=a[13],y=a[14];function _(E,j){for(var T=j^-1,O=0,C=E.length;O<C;)T=T>>>8^r[(T^E.charCodeAt(O++))&255];return~T}function w(E,j){for(var T=j^-1,O=E.length-15,C=0;C<O;)T=y[E[C++]^T&255]^v[E[C++]^T>>8&255]^b[E[C++]^T>>16&255]^x[E[C++]^T>>>24]^m[E[C++]]^g[E[C++]]^p[E[C++]]^h[E[C++]]^f[E[C++]]^d[E[C++]]^u[E[C++]]^l[E[C++]]^o[E[C++]]^s[E[C++]]^i[E[C++]]^r[E[C++]];for(O+=15;C<O;)T=T>>>8^r[(T^E[C++])&255];return~T}function S(E,j){for(var T=j^-1,O=0,C=E.length,M=0,F=0;O<C;)M=E.charCodeAt(O++),M<128?T=T>>>8^r[(T^M)&255]:M<2048?(T=T>>>8^r[(T^(192|M>>6&31))&255],T=T>>>8^r[(T^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,F=E.charCodeAt(O++)&1023,T=T>>>8^r[(T^(240|M>>8&7))&255],T=T>>>8^r[(T^(128|M>>2&63))&255],T=T>>>8^r[(T^(128|F>>6&15|(M&3)<<4))&255],T=T>>>8^r[(T^(128|F&63))&255]):(T=T>>>8^r[(T^(224|M>>12&15))&255],T=T>>>8^r[(T^(128|M>>6&63))&255],T=T>>>8^r[(T^(128|M&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=w,e.str=S,e}(),ct=function(){var t={};t.version="1.2.1";function r(N,I){for(var k=N.split("/"),R=I.split("/"),D=0,L=0,Y=Math.min(k.length,R.length);D<Y;++D){if(L=k[D].length-R[D].length)return L;if(k[D]!=R[D])return k[D]<R[D]?-1:1}return k.length-R.length}function n(N){if(N.charAt(N.length-1)=="/")return N.slice(0,-1).indexOf("/")===-1?N:n(N.slice(0,-1));var I=N.lastIndexOf("/");return I===-1?N:N.slice(0,I+1)}function a(N){if(N.charAt(N.length-1)=="/")return a(N.slice(0,-1));var I=N.lastIndexOf("/");return I===-1?N:N.slice(I+1)}function i(N,I){typeof I=="string"&&(I=new Date(I));var k=I.getHours();k=k<<6|I.getMinutes(),k=k<<5|I.getSeconds()>>>1,N.write_shift(2,k);var R=I.getFullYear()-1980;R=R<<4|I.getMonth()+1,R=R<<5|I.getDate(),N.write_shift(2,R)}function s(N){var I=N.read_shift(2)&65535,k=N.read_shift(2)&65535,R=new Date,D=k&31;k>>>=5;var L=k&15;k>>>=4,R.setMilliseconds(0),R.setFullYear(k+1980),R.setMonth(L-1),R.setDate(D);var Y=I&31;I>>>=5;var le=I&63;return I>>>=6,R.setHours(I),R.setMinutes(le),R.setSeconds(Y<<1),R}function o(N){Pn(N,0);for(var I={},k=0;N.l<=N.length-4;){var R=N.read_shift(2),D=N.read_shift(2),L=N.l+D,Y={};switch(R){case 21589:k=N.read_shift(1),k&1&&(Y.mtime=N.read_shift(4)),D>5&&(k&2&&(Y.atime=N.read_shift(4)),k&4&&(Y.ctime=N.read_shift(4))),Y.mtime&&(Y.mt=new Date(Y.mtime*1e3));break}N.l=L,I[R]=Y}return I}var l;function u(){return l||(l={})}function d(N,I){if(N[0]==80&&N[1]==75)return lS(N,I);if((N[0]|32)==109&&(N[1]|32)==105)return p8(N,I);if(N.length<512)throw new Error("CFB file size "+N.length+" < 512");var k=3,R=512,D=0,L=0,Y=0,le=0,X=0,Q=[],Z=N.slice(0,512);Pn(Z,0);var fe=f(Z);switch(k=fe[0],k){case 3:R=512;break;case 4:R=4096;break;case 0:if(fe[1]==0)return lS(N,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}R!==512&&(Z=N.slice(0,R),Pn(Z,28));var _e=N.slice(0,R);h(Z,k);var Te=Z.read_shift(4,"i");if(k===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);Z.l+=4,Y=Z.read_shift(4,"i"),Z.l+=4,Z.chk("00100000","Mini Stream Cutoff Size: "),le=Z.read_shift(4,"i"),D=Z.read_shift(4,"i"),X=Z.read_shift(4,"i"),L=Z.read_shift(4,"i");for(var me=-1,je=0;je<109&&(me=Z.read_shift(4,"i"),!(me<0));++je)Q[je]=me;var $e=p(N,R);x(X,L,$e,R,Q);var Nt=v($e,Y,Q,R);Nt[Y].name="!Directory",D>0&&le!==F&&(Nt[le].name="!MiniFAT"),Nt[Q[0]].name="!FAT",Nt.fat_addrs=Q,Nt.ssz=R;var Ot={},Dr=[],Gu=[],Xu=[];y(Y,Nt,$e,Dr,D,Ot,Gu,le),g(Gu,Xu,Dr),Dr.shift();var Yu={FileIndex:Gu,FullPaths:Xu};return I&&I.raw&&(Yu.raw={header:_e,sectors:$e}),Yu}function f(N){if(N[N.l]==80&&N[N.l+1]==75)return[0,0];N.chk(q,"Header Signature: "),N.l+=16;var I=N.read_shift(2,"u");return[N.read_shift(2,"u"),I]}function h(N,I){var k=9;switch(N.l+=2,k=N.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}N.chk("0600","Mini Sector Shift: "),N.chk("000000000000","Reserved: ")}function p(N,I){for(var k=Math.ceil(N.length/I)-1,R=[],D=1;D<k;++D)R[D-1]=N.slice(D*I,(D+1)*I);return R[k-1]=N.slice(k*I),R}function g(N,I,k){for(var R=0,D=0,L=0,Y=0,le=0,X=k.length,Q=[],Z=[];R<X;++R)Q[R]=Z[R]=R,I[R]=k[R];for(;le<Z.length;++le)R=Z[le],D=N[R].L,L=N[R].R,Y=N[R].C,Q[R]===R&&(D!==-1&&Q[D]!==D&&(Q[R]=Q[D]),L!==-1&&Q[L]!==L&&(Q[R]=Q[L])),Y!==-1&&(Q[Y]=R),D!==-1&&R!=Q[R]&&(Q[D]=Q[R],Z.lastIndexOf(D)<le&&Z.push(D)),L!==-1&&R!=Q[R]&&(Q[L]=Q[R],Z.lastIndexOf(L)<le&&Z.push(L));for(R=1;R<X;++R)Q[R]===R&&(L!==-1&&Q[L]!==L?Q[R]=Q[L]:D!==-1&&Q[D]!==D&&(Q[R]=Q[D]));for(R=1;R<X;++R)if(N[R].type!==0){if(le=R,le!=Q[le])do le=Q[le],I[R]=I[le]+"/"+I[R];while(le!==0&&Q[le]!==-1&&le!=Q[le]);Q[R]=-1}for(I[0]+="/",R=1;R<X;++R)N[R].type!==2&&(I[R]+="/")}function m(N,I,k){for(var R=N.start,D=N.size,L=[],Y=R;k&&D>0&&Y>=0;)L.push(I.slice(Y*M,Y*M+M)),D-=M,Y=yo(k,Y*4);return L.length===0?ie(0):Tr(L).slice(0,N.size)}function x(N,I,k,R,D){var L=F;if(N===F){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(N!==-1){var Y=k[N],le=(R>>>2)-1;if(!Y)return;for(var X=0;X<le&&(L=yo(Y,X*4))!==F;++X)D.push(L);x(yo(Y,R-4),I-1,k,R,D)}}function b(N,I,k,R,D){var L=[],Y=[];D||(D=[]);var le=R-1,X=0,Q=0;for(X=I;X>=0;){D[X]=!0,L[L.length]=X,Y.push(N[X]);var Z=k[Math.floor(X*4/R)];if(Q=X*4&le,R<4+Q)throw new Error("FAT boundary crossed: "+X+" 4 "+R);if(!N[Z])break;X=yo(N[Z],Q)}return{nodes:L,data:ij([Y])}}function v(N,I,k,R){var D=N.length,L=[],Y=[],le=[],X=[],Q=R-1,Z=0,fe=0,_e=0,Te=0;for(Z=0;Z<D;++Z)if(le=[],_e=Z+I,_e>=D&&(_e-=D),!Y[_e]){X=[];var me=[];for(fe=_e;fe>=0;){me[fe]=!0,Y[fe]=!0,le[le.length]=fe,X.push(N[fe]);var je=k[Math.floor(fe*4/R)];if(Te=fe*4&Q,R<4+Te)throw new Error("FAT boundary crossed: "+fe+" 4 "+R);if(!N[je]||(fe=yo(N[je],Te),me[fe]))break}L[_e]={nodes:le,data:ij([X])}}return L}function y(N,I,k,R,D,L,Y,le){for(var X=0,Q=R.length?2:0,Z=I[N].data,fe=0,_e=0,Te;fe<Z.length;fe+=128){var me=Z.slice(fe,fe+128);Pn(me,64),_e=me.read_shift(2),Te=b_(me,0,_e-Q),R.push(Te);var je={name:Te,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},$e=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);$e!==0&&(je.ct=_(me,me.l-8));var Nt=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Nt!==0&&(je.mt=_(me,me.l-8)),je.start=me.read_shift(4,"i"),je.size=me.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=F,je.name=""),je.type===5?(X=je.start,D>0&&X!==F&&(I[X].name="!StreamData")):je.size>=4096?(je.storage="fat",I[je.start]===void 0&&(I[je.start]=b(k,je.start,I.fat_addrs,I.ssz)),I[je.start].name=je.name,je.content=I[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:X!==F&&je.start!==F&&I[X]&&(je.content=m(je,I[X].data,(I[le]||{}).data))),je.content&&Pn(je.content,0),L[Te]=je,Y.push(je)}}function _(N,I){return new Date((In(N,I+4)/1e7*Math.pow(2,32)+In(N,I)/1e7-11644473600)*1e3)}function w(N,I){return u(),d(l.readFileSync(N),I)}function S(N,I){var k=I&&I.type;switch(k||Qe&&Buffer.isBuffer(N)&&(k="buffer"),k||"base64"){case"file":return w(N,I);case"base64":return d(Na($i(N)),I);case"binary":return d(Na(N),I)}return d(N,I)}function E(N,I){var k=I||{},R=k.root||"Root Entry";if(N.FullPaths||(N.FullPaths=[]),N.FileIndex||(N.FileIndex=[]),N.FullPaths.length!==N.FileIndex.length)throw new Error("inconsistent CFB structure");N.FullPaths.length===0&&(N.FullPaths[0]=R+"/",N.FileIndex[0]={name:R,type:5}),k.CLSID&&(N.FileIndex[0].clsid=k.CLSID),j(N)}function j(N){var I="Sh33tJ5";if(!ct.find(N,"/"+I)){var k=ie(4);k[0]=55,k[1]=k[3]=50,k[2]=54,N.FileIndex.push({name:I,type:2,content:k,size:4,L:69,R:69,C:69}),N.FullPaths.push(N.FullPaths[0]+I),T(N)}}function T(N,I){E(N);for(var k=!1,R=!1,D=N.FullPaths.length-1;D>=0;--D){var L=N.FileIndex[D];switch(L.type){case 0:R?k=!0:(N.FileIndex.pop(),N.FullPaths.pop());break;case 1:case 2:case 5:R=!0,isNaN(L.R*L.L*L.C)&&(k=!0),L.R>-1&&L.L>-1&&L.R==L.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!I)){var Y=new Date(1987,1,19),le=0,X=Object.create?Object.create(null):{},Q=[];for(D=0;D<N.FullPaths.length;++D)X[N.FullPaths[D]]=!0,N.FileIndex[D].type!==0&&Q.push([N.FullPaths[D],N.FileIndex[D]]);for(D=0;D<Q.length;++D){var Z=n(Q[D][0]);R=X[Z],R||(Q.push([Z,{name:a(Z).replace("/",""),type:1,clsid:ne,ct:Y,mt:Y,content:null}]),X[Z]=!0)}for(Q.sort(function(Te,me){return r(Te[0],me[0])}),N.FullPaths=[],N.FileIndex=[],D=0;D<Q.length;++D)N.FullPaths[D]=Q[D][0],N.FileIndex[D]=Q[D][1];for(D=0;D<Q.length;++D){var fe=N.FileIndex[D],_e=N.FullPaths[D];if(fe.name=a(_e).replace("/",""),fe.L=fe.R=fe.C=-(fe.color=1),fe.size=fe.content?fe.content.length:0,fe.start=0,fe.clsid=fe.clsid||ne,D===0)fe.C=Q.length>1?1:-1,fe.size=0,fe.type=5;else if(_e.slice(-1)=="/"){for(le=D+1;le<Q.length&&n(N.FullPaths[le])!=_e;++le);for(fe.C=le>=Q.length?-1:le,le=D+1;le<Q.length&&n(N.FullPaths[le])!=n(_e);++le);fe.R=le>=Q.length?-1:le,fe.type=1}else n(N.FullPaths[D+1]||"")==n(_e)&&(fe.R=D+1),fe.type=2}}}function O(N,I){var k=I||{};if(k.fileType=="mad")return m8(N,k);switch(T(N),k.fileType){case"zip":return l8(N,k)}var R=function(Te){for(var me=0,je=0,$e=0;$e<Te.FileIndex.length;++$e){var Nt=Te.FileIndex[$e];if(Nt.content){var Ot=Nt.content.length;Ot>0&&(Ot<4096?me+=Ot+63>>6:je+=Ot+511>>9)}}for(var Dr=Te.FullPaths.length+3>>2,Gu=me+7>>3,Xu=me+127>>7,Yu=Gu+je+Dr+Xu,ao=Yu+127>>7,Mg=ao<=109?0:Math.ceil((ao-109)/127);Yu+ao+Mg+127>>7>ao;)Mg=++ao<=109?0:Math.ceil((ao-109)/127);var ci=[1,Mg,ao,Xu,Dr,je,me,0];return Te.FileIndex[0].size=me<<6,ci[7]=(Te.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(N),D=ie(R[7]<<9),L=0,Y=0;{for(L=0;L<8;++L)D.write_shift(1,V[L]);for(L=0;L<8;++L)D.write_shift(2,0);for(D.write_shift(2,62),D.write_shift(2,3),D.write_shift(2,65534),D.write_shift(2,9),D.write_shift(2,6),L=0;L<3;++L)D.write_shift(2,0);for(D.write_shift(4,0),D.write_shift(4,R[2]),D.write_shift(4,R[0]+R[1]+R[2]+R[3]-1),D.write_shift(4,0),D.write_shift(4,4096),D.write_shift(4,R[3]?R[0]+R[1]+R[2]-1:F),D.write_shift(4,R[3]),D.write_shift(-4,R[1]?R[0]-1:F),D.write_shift(4,R[1]),L=0;L<109;++L)D.write_shift(-4,L<R[2]?R[1]+L:-1)}if(R[1])for(Y=0;Y<R[1];++Y){for(;L<236+Y*127;++L)D.write_shift(-4,L<R[2]?R[1]+L:-1);D.write_shift(-4,Y===R[1]-1?F:Y+1)}var le=function(Te){for(Y+=Te;L<Y-1;++L)D.write_shift(-4,L+1);Te&&(++L,D.write_shift(-4,F))};for(Y=L=0,Y+=R[1];L<Y;++L)D.write_shift(-4,se.DIFSECT);for(Y+=R[2];L<Y;++L)D.write_shift(-4,se.FATSECT);le(R[3]),le(R[4]);for(var X=0,Q=0,Z=N.FileIndex[0];X<N.FileIndex.length;++X)Z=N.FileIndex[X],Z.content&&(Q=Z.content.length,!(Q<4096)&&(Z.start=Y,le(Q+511>>9)));for(le(R[6]+7>>3);D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(Y=L=0,X=0;X<N.FileIndex.length;++X)Z=N.FileIndex[X],Z.content&&(Q=Z.content.length,!(!Q||Q>=4096)&&(Z.start=Y,le(Q+63>>6)));for(;D.l&511;)D.write_shift(-4,se.ENDOFCHAIN);for(L=0;L<R[4]<<2;++L){var fe=N.FullPaths[L];if(!fe||fe.length===0){for(X=0;X<17;++X)D.write_shift(4,0);for(X=0;X<3;++X)D.write_shift(4,-1);for(X=0;X<12;++X)D.write_shift(4,0);continue}Z=N.FileIndex[L],L===0&&(Z.start=Z.size?Z.start-1:F);var _e=L===0&&k.root||Z.name;if(Q=2*(_e.length+1),D.write_shift(64,_e,"utf16le"),D.write_shift(2,Q),D.write_shift(1,Z.type),D.write_shift(1,Z.color),D.write_shift(-4,Z.L),D.write_shift(-4,Z.R),D.write_shift(-4,Z.C),Z.clsid)D.write_shift(16,Z.clsid,"hex");else for(X=0;X<4;++X)D.write_shift(4,0);D.write_shift(4,Z.state||0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,0),D.write_shift(4,Z.start),D.write_shift(4,Z.size),D.write_shift(4,0)}for(L=1;L<N.FileIndex.length;++L)if(Z=N.FileIndex[L],Z.size>=4096)if(D.l=Z.start+1<<9,Qe&&Buffer.isBuffer(Z.content))Z.content.copy(D,D.l,0,Z.size),D.l+=Z.size+511&-512;else{for(X=0;X<Z.size;++X)D.write_shift(1,Z.content[X]);for(;X&511;++X)D.write_shift(1,0)}for(L=1;L<N.FileIndex.length;++L)if(Z=N.FileIndex[L],Z.size>0&&Z.size<4096)if(Qe&&Buffer.isBuffer(Z.content))Z.content.copy(D,D.l,0,Z.size),D.l+=Z.size+63&-64;else{for(X=0;X<Z.size;++X)D.write_shift(1,Z.content[X]);for(;X&63;++X)D.write_shift(1,0)}if(Qe)D.l=D.length;else for(;D.l<D.length;)D.write_shift(1,0);return D}function C(N,I){var k=N.FullPaths.map(function(X){return X.toUpperCase()}),R=k.map(function(X){var Q=X.split("/");return Q[Q.length-(X.slice(-1)=="/"?2:1)]}),D=!1;I.charCodeAt(0)===47?(D=!0,I=k[0].slice(0,-1)+I):D=I.indexOf("/")!==-1;var L=I.toUpperCase(),Y=D===!0?k.indexOf(L):R.indexOf(L);if(Y!==-1)return N.FileIndex[Y];var le=!L.match(s0);for(L=L.replace($d,""),le&&(L=L.replace(s0,"!")),Y=0;Y<k.length;++Y)if((le?k[Y].replace(s0,"!"):k[Y]).replace($d,"")==L||(le?R[Y].replace(s0,"!"):R[Y]).replace($d,"")==L)return N.FileIndex[Y];return null}var M=64,F=-2,q="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(N,I,k){u();var R=O(N,k);l.writeFileSync(I,R)}function te(N){for(var I=new Array(N.length),k=0;k<N.length;++k)I[k]=String.fromCharCode(N[k]);return I.join("")}function ue(N,I){var k=O(N,I);switch(I&&I.type||"buffer"){case"file":return u(),l.writeFileSync(I.filename,k),k;case"binary":return typeof k=="string"?k:te(k);case"base64":return gf(typeof k=="string"?k:te(k));case"buffer":if(Qe)return Buffer.isBuffer(k)?k:Yi(k);case"array":return typeof k=="string"?Na(k):k}return k}var pe;function P(N){try{var I=N.InflateRaw,k=new I;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)pe=N;else throw new Error("zlib does not expose bytesRead")}catch(R){console.error("cannot use native zlib: "+(R.message||R))}}function H(N,I){if(!pe)return sS(N,I);var k=pe.InflateRaw,R=new k,D=R._processChunk(N.slice(N.l),R._finishFlushFlag);return N.l+=R.bytesRead,D}function U(N){return pe?pe.deflateRawSync(N):eS(N)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function J(N){var I=(N<<1|N<<11)&139536|(N<<5|N<<15)&558144;return(I>>16|I>>8|I)&255}for(var K=typeof Uint8Array<"u",ee=K?new Uint8Array(256):[],ye=0;ye<256;++ye)ee[ye]=J(ye);function re(N,I){var k=ee[N&255];return I<=8?k>>>8-I:(k=k<<8|ee[N>>8&255],I<=16?k>>>16-I:(k=k<<8|ee[N>>16&255],k>>>24-I))}function Le(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=6?0:N[R+1]<<8))>>>k&3}function Ce(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=5?0:N[R+1]<<8))>>>k&7}function tt(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=4?0:N[R+1]<<8))>>>k&15}function Fe(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=3?0:N[R+1]<<8))>>>k&31}function we(N,I){var k=I&7,R=I>>>3;return(N[R]|(k<=1?0:N[R+1]<<8))>>>k&127}function Wt(N,I,k){var R=I&7,D=I>>>3,L=(1<<k)-1,Y=N[D]>>>R;return k<8-R||(Y|=N[D+1]<<8-R,k<16-R)||(Y|=N[D+2]<<16-R,k<24-R)||(Y|=N[D+3]<<24-R),Y&L}function Ir(N,I,k){var R=I&7,D=I>>>3;return R<=5?N[D]|=(k&7)<<R:(N[D]|=k<<R&255,N[D+1]=(k&7)>>8-R),I+3}function Vn(N,I,k){var R=I&7,D=I>>>3;return k=(k&1)<<R,N[D]|=k,I+1}function cn(N,I,k){var R=I&7,D=I>>>3;return k<<=R,N[D]|=k&255,k>>>=8,N[D+1]=k,I+8}function Ua(N,I,k){var R=I&7,D=I>>>3;return k<<=R,N[D]|=k&255,k>>>=8,N[D+1]=k&255,N[D+2]=k>>>8,I+16}function to(N,I){var k=N.length,R=2*k>I?2*k:I+5,D=0;if(k>=I)return N;if(Qe){var L=HE(R);if(N.copy)N.copy(L);else for(;D<N.length;++D)L[D]=N[D];return L}else if(K){var Y=new Uint8Array(R);if(Y.set)Y.set(N);else for(;D<k;++D)Y[D]=N[D];return Y}return N.length=R,N}function An(N){for(var I=new Array(N),k=0;k<N;++k)I[k]=0;return I}function ro(N,I,k){var R=1,D=0,L=0,Y=0,le=0,X=N.length,Q=K?new Uint16Array(32):An(32);for(L=0;L<32;++L)Q[L]=0;for(L=X;L<k;++L)N[L]=0;X=N.length;var Z=K?new Uint16Array(X):An(X);for(L=0;L<X;++L)Q[D=N[L]]++,R<D&&(R=D),Z[L]=0;for(Q[0]=0,L=1;L<=R;++L)Q[L+16]=le=le+Q[L-1]<<1;for(L=0;L<X;++L)le=N[L],le!=0&&(Z[L]=Q[le+16]++);var fe=0;for(L=0;L<X;++L)if(fe=N[L],fe!=0)for(le=re(Z[L],R)>>R-fe,Y=(1<<R+4-fe)-1;Y>=0;--Y)I[le|Y<<fe]=fe&15|L<<4;return R}var Rg=K?new Uint16Array(512):An(512),Ig=K?new Uint16Array(32):An(32);if(!K){for(var no=0;no<512;++no)Rg[no]=0;for(no=0;no<32;++no)Ig[no]=0}(function(){for(var N=[],I=0;I<32;I++)N.push(5);ro(N,Ig,32);var k=[];for(I=0;I<=143;I++)k.push(8);for(;I<=255;I++)k.push(9);for(;I<=279;I++)k.push(7);for(;I<=287;I++)k.push(8);ro(k,Rg,288)})();var a8=function(){for(var I=K?new Uint8Array(32768):[],k=0,R=0;k<Se.length-1;++k)for(;R<Se[k+1];++R)I[R]=k;for(;R<32768;++R)I[R]=29;var D=K?new Uint8Array(259):[];for(k=0,R=0;k<ae.length-1;++k)for(;R<ae[k+1];++R)D[R]=k;function L(le,X){for(var Q=0;Q<le.length;){var Z=Math.min(65535,le.length-Q),fe=Q+Z==le.length;for(X.write_shift(1,+fe),X.write_shift(2,Z),X.write_shift(2,~Z&65535);Z-- >0;)X[X.l++]=le[Q++]}return X.l}function Y(le,X){for(var Q=0,Z=0,fe=K?new Uint16Array(32768):[];Z<le.length;){var _e=Math.min(65535,le.length-Z);if(_e<10){for(Q=Ir(X,Q,+(Z+_e==le.length)),Q&7&&(Q+=8-(Q&7)),X.l=Q/8|0,X.write_shift(2,_e),X.write_shift(2,~_e&65535);_e-- >0;)X[X.l++]=le[Z++];Q=X.l*8;continue}Q=Ir(X,Q,+(Z+_e==le.length)+2);for(var Te=0;_e-- >0;){var me=le[Z];Te=(Te<<5^me)&32767;var je=-1,$e=0;if((je=fe[Te])&&(je|=Z&-32768,je>Z&&(je-=32768),je<Z))for(;le[je+$e]==le[Z+$e]&&$e<250;)++$e;if($e>2){me=D[$e],me<=22?Q=cn(X,Q,ee[me+1]>>1)-1:(cn(X,Q,3),Q+=5,cn(X,Q,ee[me-23]>>5),Q+=3);var Nt=me<8?0:me-4>>2;Nt>0&&(Ua(X,Q,$e-ae[me]),Q+=Nt),me=I[Z-je],Q=cn(X,Q,ee[me]>>3),Q-=3;var Ot=me<4?0:me-2>>1;Ot>0&&(Ua(X,Q,Z-je-Se[me]),Q+=Ot);for(var Dr=0;Dr<$e;++Dr)fe[Te]=Z&32767,Te=(Te<<5^le[Z])&32767,++Z;_e-=$e-1}else me<=143?me=me+48:Q=Vn(X,Q,1),Q=cn(X,Q,ee[me]),fe[Te]=Z&32767,++Z}Q=cn(X,Q,0)-1}return X.l=(Q+7)/8|0,X.l}return function(X,Q){return X.length<8?L(X,Q):Y(X,Q)}}();function eS(N){var I=ie(50+Math.floor(N.length*1.1)),k=a8(N,I);return I.slice(0,k)}var tS=K?new Uint16Array(32768):An(32768),rS=K?new Uint16Array(32768):An(32768),nS=K?new Uint16Array(128):An(128),aS=1,iS=1;function i8(N,I){var k=Fe(N,I)+257;I+=5;var R=Fe(N,I)+1;I+=5;var D=tt(N,I)+4;I+=4;for(var L=0,Y=K?new Uint8Array(19):An(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Q=K?new Uint8Array(8):An(8),Z=K?new Uint8Array(8):An(8),fe=Y.length,_e=0;_e<D;++_e)Y[W[_e]]=L=Ce(N,I),X<L&&(X=L),Q[L]++,I+=3;var Te=0;for(Q[0]=0,_e=1;_e<=X;++_e)Z[_e]=Te=Te+Q[_e-1]<<1;for(_e=0;_e<fe;++_e)(Te=Y[_e])!=0&&(le[_e]=Z[Te]++);var me=0;for(_e=0;_e<fe;++_e)if(me=Y[_e],me!=0){Te=ee[le[_e]]>>8-me;for(var je=(1<<7-me)-1;je>=0;--je)nS[Te|je<<me]=me&7|_e<<3}var $e=[];for(X=1;$e.length<k+R;)switch(Te=nS[we(N,I)],I+=Te&7,Te>>>=3){case 16:for(L=3+Le(N,I),I+=2,Te=$e[$e.length-1];L-- >0;)$e.push(Te);break;case 17:for(L=3+Ce(N,I),I+=3;L-- >0;)$e.push(0);break;case 18:for(L=11+we(N,I),I+=7;L-- >0;)$e.push(0);break;default:$e.push(Te),X<Te&&(X=Te);break}var Nt=$e.slice(0,k),Ot=$e.slice(k);for(_e=k;_e<286;++_e)Nt[_e]=0;for(_e=R;_e<30;++_e)Ot[_e]=0;return aS=ro(Nt,tS,286),iS=ro(Ot,rS,30),I}function s8(N,I){if(N[0]==3&&!(N[1]&3))return[el(I),2];for(var k=0,R=0,D=HE(I||1<<18),L=0,Y=D.length>>>0,le=0,X=0;!(R&1);){if(R=Ce(N,k),k+=3,R>>>1)R>>1==1?(le=9,X=5):(k=i8(N,k),le=aS,X=iS);else{k&7&&(k+=8-(k&7));var Q=N[k>>>3]|N[(k>>>3)+1]<<8;if(k+=32,Q>0)for(!I&&Y<L+Q&&(D=to(D,L+Q),Y=D.length);Q-- >0;)D[L++]=N[k>>>3],k+=8;continue}for(;;){!I&&Y<L+32767&&(D=to(D,L+32767),Y=D.length);var Z=Wt(N,k,le),fe=R>>>1==1?Rg[Z]:tS[Z];if(k+=fe&15,fe>>>=4,!(fe>>>8&255))D[L++]=fe;else{if(fe==256)break;fe-=257;var _e=fe<8?0:fe-4>>2;_e>5&&(_e=0);var Te=L+ae[fe];_e>0&&(Te+=Wt(N,k,_e),k+=_e),Z=Wt(N,k,X),fe=R>>>1==1?Ig[Z]:rS[Z],k+=fe&15,fe>>>=4;var me=fe<4?0:fe-2>>1,je=Se[fe];for(me>0&&(je+=Wt(N,k,me),k+=me),!I&&Y<Te&&(D=to(D,Te+100),Y=D.length);L<Te;)D[L]=D[L-je],++L}}}return I?[D,k+7>>>3]:[D.slice(0,L),k+7>>>3]}function sS(N,I){var k=N.slice(N.l||0),R=s8(k,I);return N.l+=R[1],R[0]}function oS(N,I){if(N)typeof console<"u"&&console.error(I);else throw new Error(I)}function lS(N,I){var k=N;Pn(k,0);var R=[],D=[],L={FileIndex:R,FullPaths:D};E(L,{root:I.root});for(var Y=k.length-4;(k[Y]!=80||k[Y+1]!=75||k[Y+2]!=5||k[Y+3]!=6)&&Y>=0;)--Y;k.l=Y+4,k.l+=4;var le=k.read_shift(2);k.l+=6;var X=k.read_shift(4);for(k.l=X,Y=0;Y<le;++Y){k.l+=20;var Q=k.read_shift(4),Z=k.read_shift(4),fe=k.read_shift(2),_e=k.read_shift(2),Te=k.read_shift(2);k.l+=8;var me=k.read_shift(4),je=o(k.slice(k.l+fe,k.l+fe+_e));k.l+=fe+_e+Te;var $e=k.l;k.l=me+4,o8(k,Q,Z,L,je),k.l=$e}return L}function o8(N,I,k,R,D){N.l+=2;var L=N.read_shift(2),Y=N.read_shift(2),le=s(N);if(L&8257)throw new Error("Unsupported ZIP encryption");for(var X=N.read_shift(4),Q=N.read_shift(4),Z=N.read_shift(4),fe=N.read_shift(2),_e=N.read_shift(2),Te="",me=0;me<fe;++me)Te+=String.fromCharCode(N[N.l++]);if(_e){var je=o(N.slice(N.l,N.l+_e));(je[21589]||{}).mt&&(le=je[21589].mt),((D||{})[21589]||{}).mt&&(le=D[21589].mt)}N.l+=_e;var $e=N.slice(N.l,N.l+Q);switch(Y){case 8:$e=H(N,Z);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Y)}var Nt=!1;L&8&&(X=N.read_shift(4),X==134695760&&(X=N.read_shift(4),Nt=!0),Q=N.read_shift(4),Z=N.read_shift(4)),Q!=I&&oS(Nt,"Bad compressed size: "+I+" != "+Q),Z!=k&&oS(Nt,"Bad uncompressed size: "+k+" != "+Z),Dg(R,Te,$e,{unsafe:!0,mt:le})}function l8(N,I){var k=I||{},R=[],D=[],L=ie(1),Y=k.compression?8:0,le=0,X=0,Q=0,Z=0,fe=0,_e=N.FullPaths[0],Te=_e,me=N.FileIndex[0],je=[],$e=0;for(X=1;X<N.FullPaths.length;++X)if(Te=N.FullPaths[X].slice(_e.length),me=N.FileIndex[X],!(!me.size||!me.content||Te=="Sh33tJ5")){var Nt=Z,Ot=ie(Te.length);for(Q=0;Q<Te.length;++Q)Ot.write_shift(1,Te.charCodeAt(Q)&127);Ot=Ot.slice(0,Ot.l),je[fe]=tB.buf(me.content,0);var Dr=me.content;Y==8&&(Dr=U(Dr)),L=ie(30),L.write_shift(4,67324752),L.write_shift(2,20),L.write_shift(2,le),L.write_shift(2,Y),me.mt?i(L,me.mt):L.write_shift(4,0),L.write_shift(-4,je[fe]),L.write_shift(4,Dr.length),L.write_shift(4,me.content.length),L.write_shift(2,Ot.length),L.write_shift(2,0),Z+=L.length,R.push(L),Z+=Ot.length,R.push(Ot),Z+=Dr.length,R.push(Dr),L=ie(46),L.write_shift(4,33639248),L.write_shift(2,0),L.write_shift(2,20),L.write_shift(2,le),L.write_shift(2,Y),L.write_shift(4,0),L.write_shift(-4,je[fe]),L.write_shift(4,Dr.length),L.write_shift(4,me.content.length),L.write_shift(2,Ot.length),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(4,0),L.write_shift(4,Nt),$e+=L.l,D.push(L),$e+=Ot.length,D.push(Ot),++fe}return L=ie(22),L.write_shift(4,101010256),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,fe),L.write_shift(2,fe),L.write_shift(4,$e),L.write_shift(4,Z),L.write_shift(2,0),Tr([Tr(R),Tr(D),L])}var Mh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function c8(N,I){if(N.ctype)return N.ctype;var k=N.name||"",R=k.match(/\.([^\.]+)$/);return R&&Mh[R[1]]||I&&(R=(k=I).match(/[\.\\]([^\.\\])+$/),R&&Mh[R[1]])?Mh[R[1]]:"application/octet-stream"}function u8(N){for(var I=gf(N),k=[],R=0;R<I.length;R+=76)k.push(I.slice(R,R+76));return k.join(`\r
`)+`\r
`}function d8(N){var I=N.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Q){var Z=Q.charCodeAt(0).toString(16).toUpperCase();return"="+(Z.length==1?"0"+Z:Z)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],R=I.split(`\r
`),D=0;D<R.length;++D){var L=R[D];if(L.length==0){k.push("");continue}for(var Y=0;Y<L.length;){var le=76,X=L.slice(Y,Y+le);X.charAt(le-1)=="="?le--:X.charAt(le-2)=="="?le-=2:X.charAt(le-3)=="="&&(le-=3),X=L.slice(Y,Y+le),Y+=le,Y<L.length&&(X+="="),k.push(X)}}return k.join(`\r
`)}function f8(N){for(var I=[],k=0;k<N.length;++k){for(var R=N[k];k<=N.length&&R.charAt(R.length-1)=="=";)R=R.slice(0,R.length-1)+N[++k];I.push(R)}for(var D=0;D<I.length;++D)I[D]=I[D].replace(/[=][0-9A-Fa-f]{2}/g,function(L){return String.fromCharCode(parseInt(L.slice(1),16))});return Na(I.join(`\r
`))}function h8(N,I,k){for(var R="",D="",L="",Y,le=0;le<10;++le){var X=I[le];if(!X||X.match(/^\s*$/))break;var Q=X.match(/^(.*?):\s*([^\s].*)$/);if(Q)switch(Q[1].toLowerCase()){case"content-location":R=Q[2].trim();break;case"content-type":L=Q[2].trim();break;case"content-transfer-encoding":D=Q[2].trim();break}}switch(++le,D.toLowerCase()){case"base64":Y=Na($i(I.slice(le).join("")));break;case"quoted-printable":Y=f8(I.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+D)}var Z=Dg(N,R.slice(k.length),Y,{unsafe:!0});L&&(Z.ctype=L)}function p8(N,I){if(te(N.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=I&&I.root||"",R=(Qe&&Buffer.isBuffer(N)?N.toString("binary"):te(N)).split(`\r
`),D=0,L="";for(D=0;D<R.length;++D)if(L=R[D],!!/^Content-Location:/i.test(L)&&(L=L.slice(L.indexOf("file")),k||(k=L.slice(0,L.lastIndexOf("/")+1)),L.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),L.slice(0,k.length)!=k););var Y=(R[1]||"").match(/boundary="(.*?)"/);if(!Y)throw new Error("MAD cannot find boundary");var le="--"+(Y[1]||""),X=[],Q=[],Z={FileIndex:X,FullPaths:Q};E(Z);var fe,_e=0;for(D=0;D<R.length;++D){var Te=R[D];Te!==le&&Te!==le+"--"||(_e++&&h8(Z,R.slice(fe,D),k),fe=D)}return Z}function m8(N,I){var k=I||{},R=k.boundary||"SheetJS";R="------="+R;for(var D=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+R.slice(2)+'"',"","",""],L=N.FullPaths[0],Y=L,le=N.FileIndex[0],X=1;X<N.FullPaths.length;++X)if(Y=N.FullPaths[X].slice(L.length),le=N.FileIndex[X],!(!le.size||!le.content||Y=="Sh33tJ5")){Y=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var Q=le.content,Z=Qe&&Buffer.isBuffer(Q)?Q.toString("binary"):te(Q),fe=0,_e=Math.min(1024,Z.length),Te=0,me=0;me<=_e;++me)(Te=Z.charCodeAt(me))>=32&&Te<128&&++fe;var je=fe>=_e*4/5;D.push(R),D.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+Y),D.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),D.push("Content-Type: "+c8(le,Y)),D.push(""),D.push(je?d8(Z):u8(Z))}return D.push(R+`--\r
`),D.join(`\r
`)}function v8(N){var I={};return E(I,N),I}function Dg(N,I,k,R){var D=R&&R.unsafe;D||E(N);var L=!D&&ct.find(N,I);if(!L){var Y=N.FullPaths[0];I.slice(0,Y.length)==Y?Y=I:(Y.slice(-1)!="/"&&(Y+="/"),Y=(Y+I).replace("//","/")),L={name:a(I),type:2},N.FileIndex.push(L),N.FullPaths.push(Y),D||ct.utils.cfb_gc(N)}return L.content=k,L.size=k?k.length:0,R&&(R.CLSID&&(L.clsid=R.CLSID),R.mt&&(L.mt=R.mt),R.ct&&(L.ct=R.ct)),L}function g8(N,I){E(N);var k=ct.find(N,I);if(k){for(var R=0;R<N.FileIndex.length;++R)if(N.FileIndex[R]==k)return N.FileIndex.splice(R,1),N.FullPaths.splice(R,1),!0}return!1}function x8(N,I,k){E(N);var R=ct.find(N,I);if(R){for(var D=0;D<N.FileIndex.length;++D)if(N.FileIndex[D]==R)return N.FileIndex[D].name=a(k),N.FullPaths[D]=k,!0}return!1}function y8(N){T(N,!0)}return t.find=C,t.read=S,t.parse=d,t.write=ue,t.writeFile=G,t.utils={cfb_new:v8,cfb_add:Dg,cfb_del:g8,cfb_mov:x8,cfb_gc:y8,ReadShift:Fd,CheckField:DP,prep_blob:Pn,bconcat:Tr,use_zlib:P,_deflateRaw:eS,_inflateRaw:sS,consts:se},t}();function rB(e){return typeof e=="string"?gv(e):Array.isArray(e)?N7(e):e}function yh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=gv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?yf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([rB(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=xh(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function kr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function JE(e,t){for(var r=[],n=kr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function v_(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function bv(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function nB(e){for(var t=[],r=kr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var kp=new Date(1899,11,30,0,0,0);function _n(e,t){var r=e.getTime(),n=kp.getTime()+(e.getTimezoneOffset()-kp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var xP=new Date,aB=kp.getTime()+(xP.getTimezoneOffset()-kp.getTimezoneOffset())*6e4,ZE=xP.getTimezoneOffset();function yP(e){var t=new Date;return t.setTime(e*24*60*60*1e3+aB),t.getTimezoneOffset()!==ZE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ZE)*6e4),t}var ej=new Date("2017-02-19T19:06:09.000Z"),bP=isNaN(ej.getFullYear())?new Date("2/19/17"):ej,iB=bP.getFullYear()==2017;function sn(e,t){var r=new Date(e);if(iB)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(bP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function wv(e,t){if(Qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Sn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Sn(e[r]));return t}function Lt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ti(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var sB=["january","february","march","april","may","june","july","august","september","october","november","december"];function xf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&sB.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ue(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qe?n=Yi(r):n=O7(r),ct.utils.cfb_add(e,t,n)}ct.utils.cfb_add(e,t,r)}else e.file(t,r)}function g_(){return ct.utils.cfb_new()}var er=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,oB={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x_=v_(oB),y_=/[&<>'"]/g,lB=/[\u0000-\u0008\u000b-\u001f]/g;function it(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(lB,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tj(e){return it(e).replace(/ /g,"_x0020_")}var wP=/[\u0000-\u001f]/g;function cB(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(/\n/g,"<br/>").replace(wP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function uB(e){var t=e+"";return t.replace(y_,function(r){return x_[r]}).replace(wP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function dB(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function fB(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function px(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function rj(e){var t=el(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function nj(e){return Yi(e,"binary").toString("utf8")}var l0="foo bar baz",Ld=Qe&&(nj(l0)==px(l0)&&nj||rj(l0)==px(l0)&&rj)||px,yf=Qe?function(e){return Yi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},hB=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),_P=/(^\s|\s$|\n)/;function Ar(e,t){return"<"+e+(t.match(_P)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bf(e){return kr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ge(e,t,r){return"<"+e+(r!=null?bf(r):"")+(t!=null?(t.match(_P)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function v1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function pB(e,t){switch(typeof e){case"string":var r=ge("vt:lpwstr",it(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ge((e|0)==e?"vt:i4":"vt:r8",it(String(e)));case"boolean":return ge("vt:bool",e?"true":"false")}if(e instanceof Date)return ge("vt:filetime",v1(e));throw new Error("Unable to serialize "+e)}var pr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Au=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Rn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function mB(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function vB(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var aj=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ij=Qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Yi(t)})):aj(e)}:aj,sj=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Sd(e,a)));return n.join("").replace($d,"")},b_=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace($d,""):sj(e,t,r)}:sj,oj=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},SP=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):oj(e,t,r)}:oj,lj=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Ll(e,a)));return n.join("")},bh=Qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):lj(t,r,n)}:lj,EP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},jP=EP,TP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},AP=TP,NP=function(e,t){var r=2*In(e,t);return r>0?bh(e,t+4,t+4+r-1):""},OP=NP,CP=function(t,r){var n=In(t,r);return n>0?b_(t,r+4,r+4+n):""},kP=CP,PP=function(e,t){var r=In(e,t);return r>0?bh(e,t+4,t+4+r):""},RP=PP,IP=function(e,t){return mB(e,t)},Pp=IP,w_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qe&&(jP=function(t,r){if(!Buffer.isBuffer(t))return EP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},AP=function(t,r){if(!Buffer.isBuffer(t))return TP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},OP=function(t,r){if(!Buffer.isBuffer(t))return NP(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},kP=function(t,r){if(!Buffer.isBuffer(t))return CP(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},RP=function(t,r){if(!Buffer.isBuffer(t))return PP(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Pp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):IP(t,r)},w_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ll=function(e,t){return e[t]},Sd=function(e,t){return e[t+1]*256+e[t]},gB=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},In=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xB=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fd(e,t){var r="",n,a,i=[],s,o,l,u;switch(t){case"dbcs":if(u=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Sd(this,u)),u+=2;e*=2;break;case"utf8":r=bh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=b_(this,this.l,this.l+e);break;case"wstr":return Fd.call(this,e,"dbcs");case"lpstr-ansi":r=jP(this,this.l),e=4+In(this,this.l);break;case"lpstr-cp":r=AP(this,this.l),e=4+In(this,this.l);break;case"lpwstr":r=OP(this,this.l),e=4+2*In(this,this.l);break;case"lpp4":e=4+In(this,this.l),r=kP(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+In(this,this.l),r=RP(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Ll(this,this.l+e++))!==0;)i.push(i0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Sd(this,this.l+e))!==0;)i.push(i0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ll(this,u),this.l=u+1,o=Fd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(i0(Sd(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ll(this,u),this.l=u+1,o=Fd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(i0(Ll(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Ll(this,this.l),this.l++,n;case 2:return n=(t==="i"?gB:Sd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yo:xB)(this,this.l),this.l+=4,n):(a=In(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Pp(this,this.l):a=Pp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=SP(this,this.l,e);break}}return this.l+=e,r}var yB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},bB=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},wB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function _B(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)wB(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,yB(this,t,this.l);break;case 8:if(n=8,r==="f"){vB(this,t,this.l);break}case 16:break;case-4:n=4,bB(this,t,this.l);break}return this.l+=n,this}function DP(e,t){var r=SP(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Pn(e,t){e.l=t,e.read_shift=Fd,e.chk=DP,e.write_shift=_B}function ai(e,t){e.l+=t}function ie(e){var t=el(e);return Pn(t,0),t}function wn(){var e=[],t=Qe?256:2048,r=function(u){var d=ie(u);return Pn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Tr(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function de(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=mq[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&w_(r)&&e.push(r)}}function Bd(e,t,r){var n=Sn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function cj(e,t,r){var n=Sn(e);return n.s=Bd(n.s,t.s,r),n.e=Bd(n.e,t.s,r),n}function Ud(e,t){if(e.cRel&&e.c<0)for(e=Sn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Sn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ot(e);return!e.cRel&&e.cRel!=null&&(r=jB(r)),!e.rRel&&e.rRel!=null&&(r=SB(r)),r}function mx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+zr(e.s.c)+":"+(e.e.cRel?"":"$")+zr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Or(e.s.r)+":"+(e.e.rRel?"":"$")+Or(e.e.r):Ud(e.s,t.biff)+":"+Ud(e.e,t.biff)}function __(e){return parseInt(EB(e),10)-1}function Or(e){return""+(e+1)}function SB(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function EB(e){return e.replace(/\$(\d+)$/,"$1")}function S_(e){for(var t=TB(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function zr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jB(e){return e.replace(/^([A-Z])/,"$$$1")}function TB(e){return e.replace(/^\$([A-Z])/,"$1")}function AB(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ot(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Wn(e){var t=e.indexOf(":");return t==-1?{s:mr(e),e:mr(e)}:{s:mr(e.slice(0,t)),e:mr(e.slice(t+1))}}function Jt(e,t){return typeof t>"u"||typeof t=="number"?Jt(e.s,e.e):(typeof e!="string"&&(e=ot(e)),typeof t!="string"&&(t=ot(t)),e==t?e:e+":"+t)}function _t(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function uj(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zs(e.z,r?_n(t):t)}catch{}try{return e.w=zs((e.XF||{}).numFmtId||(r?14:0),r?_n(t):t)}catch{return""+t}}function Li(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wh[e.v]||e.v:t==null?uj(e,e.v):uj(e,t))}function vl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function MP(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=_t(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||zt[14],n.cellDates?(p.t="d",p.w=zs(p.z,_n(p.v))):(p.t="n",p.v=_n(p.v),p.w=zs(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var x=ot({c:m,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Jt(u)),i}function Nu(e,t){return MP(null,e,t)}function NB(e){return e.read_shift(4,"i")}function Ra(e,t){return t||(t=ie(4)),t.write_shift(4,e),t}function Wr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function vr(e,t){var r=!1;return t==null&&(r=!0,t=ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function OB(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function CB(e,t){return t||(t=ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function E_(e,t){var r=e.l,n=e.read_shift(1),a=Wr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(OB(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function kB(e,t){var r=!1;return t==null&&(r=!0,t=ie(15+4*e.t.length)),t.write_shift(1,0),vr(e.t,t),r?t.slice(0,t.l):t}var PB=E_;function RB(e,t){var r=!1;return t==null&&(r=!0,t=ie(23+4*e.t.length)),t.write_shift(1,1),vr(e.t,t),t.write_shift(4,1),CB({},t),r?t.slice(0,t.l):t}function da(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gl(e,t){return t==null&&(t=ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function xl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function yl(e,t){return t==null&&(t=ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var IB=Wr,$P=vr;function j_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Rp(e,t){var r=!1;return t==null&&(r=!0,t=ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var DB=Wr,g1=j_,T_=Rp;function LP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Pp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yo(t,0)>>2;return r?a/100:a}function FP(e,t){t==null&&(t=ie(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function BP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function MB(e,t){return t||(t=ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var bl=BP,Ou=MB;function Cu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tl(e,t){return(t||ie(8)).write_shift(8,e,"f")}function $B(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=VB[a];u&&(t.rgb=wj(u));break;case 2:t.rgb=wj([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ip(e,t){if(t||(t=ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function LB(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function FB(e,t){t||(t=ie(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var UP=2,On=3,c0=11,Dp=19,u0=64,BB=65,UB=71,zB=4108,WB=4126,jr=80,dj={1:{n:"CodePage",t:UP},2:{n:"Category",t:jr},3:{n:"PresentationFormat",t:jr},4:{n:"ByteCount",t:On},5:{n:"LineCount",t:On},6:{n:"ParagraphCount",t:On},7:{n:"SlideCount",t:On},8:{n:"NoteCount",t:On},9:{n:"HiddenCount",t:On},10:{n:"MultimediaClipCount",t:On},11:{n:"ScaleCrop",t:c0},12:{n:"HeadingPairs",t:zB},13:{n:"TitlesOfParts",t:WB},14:{n:"Manager",t:jr},15:{n:"Company",t:jr},16:{n:"LinksUpToDate",t:c0},17:{n:"CharacterCount",t:On},19:{n:"SharedDoc",t:c0},22:{n:"HyperlinksChanged",t:c0},23:{n:"AppVersion",t:On,p:"version"},24:{n:"DigSig",t:BB},26:{n:"ContentType",t:jr},27:{n:"ContentStatus",t:jr},28:{n:"Language",t:jr},29:{n:"Version",t:jr},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}},fj={1:{n:"CodePage",t:UP},2:{n:"Title",t:jr},3:{n:"Subject",t:jr},4:{n:"Author",t:jr},5:{n:"Keywords",t:jr},6:{n:"Comments",t:jr},7:{n:"Template",t:jr},8:{n:"LastAuthor",t:jr},9:{n:"RevNumber",t:jr},10:{n:"EditTime",t:u0},11:{n:"LastPrinted",t:u0},12:{n:"CreatedDate",t:u0},13:{n:"ModifiedDate",t:u0},14:{n:"PageCount",t:On},15:{n:"WordCount",t:On},16:{n:"CharCount",t:On},17:{n:"Thumbnail",t:UB},18:{n:"Application",t:jr},19:{n:"DocSecurity",t:On},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}};function HB(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var qB=HB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),VB=Sn(qB),wh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},KB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},d0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function zP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WP(e,t){var r=nB(KB),n=[],a;n[n.length]=er,n[n.length]=ge("Types",null,{xmlns:pr.CT,"xmlns:xsd":pr.xsd,"xmlns:xsi":pr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ge("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=ge("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:d0[l][t.bookType]||d0[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(u){n[n.length]=ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:d0[l][t.bookType]||d0[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Xe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function HP(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function fc(e){var t=[er,ge("Relationships",null,{xmlns:pr.RELS})];return kr(e["!id"]).forEach(function(r){t[t.length]=ge("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Xe.HLINK,Xe.XPATH,Xe.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function GB(e){var t=[er];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function hj(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function XB(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function YB(e){var t=[er];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(hj(e[r][0],e[r][1])),t.push(XB("",e[r][0]));return t.push(hj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function qP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Tp.version+"</meta:generator></office:meta></office:document-meta>"}var Ho=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function vx(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=it(t),n[n.length]=r?ge(e,t,r):Ar(e,t))}function VP(e,t){var r=t||{},n=[er,ge("cp:coreProperties",null,{"xmlns:cp":pr.CORE_PROPS,"xmlns:dc":pr.dc,"xmlns:dcterms":pr.dcterms,"xmlns:dcmitype":pr.dcmitype,"xmlns:xsi":pr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&vx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:v1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&vx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:v1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ho.length;++i){var s=Ho[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&vx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var hc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],KP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GP(e){var t=[],r=ge;return e||(e={}),e.Application="SheetJS",t[t.length]=er,t[t.length]=ge("Properties",null,{xmlns:pr.EXT_PROPS,"xmlns:vt":pr.vt}),hc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=it(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+it(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function XP(e){var t=[er,ge("Properties",null,{xmlns:pr.CUST_PROPS,"xmlns:vt":pr.vt})];if(!e)return t.join("");var r=1;return kr(e).forEach(function(a){++r,t[t.length]=ge("property",pB(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:it(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function QB(e,t){var r=[];return kr(pj).map(function(n){for(var a=0;a<Ho.length;++a)if(Ho[a][1]==n)return Ho[a];for(a=0;a<hc.length;++a)if(hc[a][1]==n)return hc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ar(pj[n[1]]||n[1],a))}}),ge("DocumentProperties",r.join(""),{xmlns:Rn.o})}function JB(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&kr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Ho.length;++s)if(i==Ho[s][1])return;for(s=0;s<hc.length;++s)if(i==hc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(ge(tj(i),o,{"dt:dt":l}))}}),t&&kr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ge(tj(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Rn.o+'">'+a.join("")+"</"+n+">"}function ZB(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ie(8);return s.write_shift(4,n),s.write_shift(4,a),s}function mj(e,t){var r=ie(4),n=ie(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ie(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=ZB(t);break;case 31:case 80:for(n=ie(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Tr([r,n])}var YP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function e9(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function vj(e,t,r){var n=ie(8),a=[],i=[],s=8,o=0,l=ie(8),u=ie(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),s+=8+l.length,!t){u=ie(8),u.write_shift(4,0),a.unshift(u);var d=[ie(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=ie(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Tr(d),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(YP.indexOf(e[o][0])>-1||KP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=mj(g.t,h)}else{var x=e9(h);x==-1&&(x=31,h=String(h)),l=mj(x,h)}i.push(l),u=ie(8),u.write_shift(4,t?p:2+o),a.push(u),s+=8+l.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Tr([n].concat(a).concat(i))}function gj(e,t,r,n,a,i){var s=ie(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,ct.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=vj(e,r,n);if(o.push(l),a){var u=vj(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(u)}return Tr(o)}function t9(e,t){t||(t=ie(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function r9(e,t){return e.read_shift(t)===1}function Zr(e,t){return t||(t=ie(2)),t.write_shift(2,+!!e),t}function QP(e){return e.read_shift(2,"u")}function Jn(e,t){return t||(t=ie(2)),t.write_shift(2,e),t}function JP(e,t,r){return r||(r=ie(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function ZP(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function n9(e){var t=e.t||"",r=ie(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ie(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Tr(a)}function a9(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function i9(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):a9(e,n,r)}function s9(e,t,r){if(r.biff>5)return i9(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function e3(e,t,r){return r||(r=ie(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function xj(e,t){t||(t=ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function o9(e){var t=ie(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),xj(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&xj(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function rl(e,t,r,n){return n||(n=ie(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function l9(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function c9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function t3(e,t){return t||(t=ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function A_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ie(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function u9(e,t){var r=!t||t.biff==8,n=ie(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function d9(e,t){var r=!t||t.biff>=8?2:1,n=ie(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function f9(e,t){var r=ie(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=n9(e[a]);var i=Tr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function h9(){var e=ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function p9(e){var t=ie(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function m9(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ie(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function v9(e,t,r,n){var a=ie(10);return rl(e,t,n,a),a.write_shift(4,r),a}function g9(e,t,r,n,a){var i=!a||a.biff==8,s=ie(8+ +i+(1+i)*r.length);return rl(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function x9(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function y9(e,t){var r=t.biff==8||!t.biff?4:2,n=ie(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function yj(e,t,r,n){var a=r&&r.biff==5;n||(n=ie(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function b9(e){var t=ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function w9(e,t,r,n,a,i){var s=ie(8);return rl(e,t,n,s),JP(r,i,s),s}function _9(e,t,r,n){var a=ie(14);return rl(e,t,n,a),tl(r,a),a}function S9(e,t,r){if(r.biff<8)return E9(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(l9(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function E9(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ZP(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function j9(e){var t=ie(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)t3(e[r],t);return t}function T9(e){var t=ie(24),r=mr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Tr([t,o9(e[1])])}function A9(e){var t=e[1].Tooltip,r=ie(10+2*(t.length+1));r.write_shift(2,2048);var n=mr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function N9(e){return e||(e=ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function O9(e,t,r){if(!r.cellStyles)return ai(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function C9(e,t){var r=ie(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function k9(e){for(var t=ie(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function P9(e,t,r){var n=ie(15);return Sh(n,e,t),n.write_shift(8,r,"f"),n}function R9(e,t,r){var n=ie(9);return Sh(n,e,t),n.write_shift(2,r),n}var I9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=v_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=el(1);switch(l.type){case"base64":d=Na($i(o));break;case"binary":d=Na(o);break;case"buffer":case"array":d=o;break}Pn(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),v=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(v=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var y=[],_={},w=Math.min(d.length,f==2?521:x-10-(p?264:0)),S=g?32:11;d.l<w&&d[d.l]!=13;)switch(_={},_.name=Ap.utils.decode(v,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var E=0,j=0;for(u[0]=[],j=0;j!=y.length;++j)u[0][j]=y[j].name;for(;m-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++E]=[],j=0,j=0;j!=y.length;++j){var T=d.slice(d.l,d.l+y[j].len);d.l+=y[j].len,Pn(T,0);var O=Ap.utils.decode(v,T);switch(y[j].type){case"C":O.trim().length&&(u[E][j]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[E][j]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[E][j]=O;break;case"F":u[E][j]=parseFloat(O.trim());break;case"+":case"I":u[E][j]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[E][j]=!0;break;case"N":case"F":u[E][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][j]="##MEMO##"+(g?parseInt(O.trim(),10):T.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[E][j]=+O||0);break;case"@":u[E][j]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[E][j]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[E][j]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][j]=-T.read_shift(-8,"f");break;case"B":if(p&&y[j].len==8){u[E][j]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[j].len;break;case"0":if(y[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[j].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=y,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Nu(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return vl(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&vf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=wn(),f=Bp(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,x=0,b=0,v=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++b;continue}if(h[m]!=null){if(++b,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var y=_t(o["!ref"]),_=[],w=[],S=[];for(m=0;m<=y.e.c-y.s.c;++m){var E="",j="",T=0,O=[];for(x=0;x<p.length;++x)p[x][m]!=null&&O.push(p[x][m]);if(O.length==0||h[m]==null){_[m]="?";continue}for(x=0;x<O.length;++x){switch(typeof O[x]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=O[x]instanceof Date?"D":"C";break;default:j="C"}T=Math.max(T,String(O[x]).length),E=E&&E!=j?"C":j}T>250&&(T=250),j=((g[m]||{}).DBF||{}).type,j=="C"&&g[m].DBF.len>T&&(T=g[m].DBF.len),E=="B"&&j=="N"&&(E="N",S[m]=g[m].DBF.dec,T=g[m].DBF.len),w[m]=E=="C"||j=="N"?T:i[E]||0,v+=w[m],_[m]=E}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*b),C.write_shift(2,v),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[nP]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var M=d.next(32),F=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,F,"sbcs"),M.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),M.write_shift(4,x),M.write_shift(1,w[m]||i[_[m]]||0),M.write_shift(1,S[m]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=w[m]||i[_[m]]||0}var q=d.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<p.length;++m){var V=d.next(v);for(V.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(_[x]){case"L":V.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":V.write_shift(8,p[m][x]||0,"f");break;case"N":var ne="0";for(typeof p[m][x]=="number"&&(ne=p[m][x].toFixed(S[x]||0)),b=0;b<w[x]-ne.length;++b)V.write_shift(1,32);V.write_shift(1,ne,"sbcs");break;case"D":p[m][x]?(V.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var se=String(p[m][x]!=null?p[m][x]:"").slice(0,w[x]);for(V.write_shift(1,se,"sbcs"),b=0;b<w[x]-se.length;++b)V.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),D9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+kr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?WE(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:WE(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i($i(h),p);case"binary":return i(h,p);case"buffer":return i(Qe&&Buffer.isBuffer(h)?h.toString("binary"):xh(h),p);case"array":return i(wv(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,x=-1,b=0,v=0,y=[],_=[],w=null,S={},E=[],j=[],T=[],O=0,C;for(+p.codepage>=0&&vf(+p.codepage);b!==g.length;++b){O=0;var M=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=M.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),q=F[0],V;if(M.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&_.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,se=!1,G=!1,te=!1,ue=-1,pe=-1;for(v=1;v<F.length;++v)switch(F[v].charAt(0)){case"A":break;case"X":x=parseInt(F[v].slice(1))-1,se=!0;break;case"Y":for(m=parseInt(F[v].slice(1))-1,se||(x=0),C=y.length;C<=m;++C)y[C]=[];break;case"K":V=F[v].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Ti(V))?isNaN(xf(V).getDate())||(V=sn(V)):(V=Ti(V),w!==null&&mP(w)&&(V=yP(V))),ne=!0;break;case"E":te=!0;var P=RU(F[v].slice(1),{r:m,c:x});y[m][x]=[y[m][x],P];break;case"S":G=!0,y[m][x]=[y[m][x],"S5S"];break;case"G":break;case"R":ue=parseInt(F[v].slice(1))-1;break;case"C":pe=parseInt(F[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}if(ne&&(y[m][x]&&y[m][x].length==2?y[m][x][0]=V:y[m][x]=V,w=null),G){if(te)throw new Error("SYLK shared formula cannot have own formula");var H=ue>-1&&y[ue][pe];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");y[m][x][1]=IU(H[1],{r:m-ue,c:x-pe})}break;case"F":var U=0;for(v=1;v<F.length;++v)switch(F[v].charAt(0)){case"X":x=parseInt(F[v].slice(1))-1,++U;break;case"Y":for(m=parseInt(F[v].slice(1))-1,C=y.length;C<=m;++C)y[C]=[];break;case"M":O=parseInt(F[v].slice(1))/20;break;case"F":break;case"G":break;case"P":w=_[parseInt(F[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=F[v].slice(1).split(" "),C=parseInt(T[0],10);C<=parseInt(T[1],10);++C)O=parseInt(T[2],10),j[C-1]=O===0?{hidden:!0}:{wch:O},N_(j[C-1]);break;case"C":x=parseInt(F[v].slice(1))-1,j[x]||(j[x]={});break;case"R":m=parseInt(F[v].slice(1))-1,E[m]||(E[m]={}),O>0?(E[m].hpt=O,E[m].hpx=s3(O)):O===0&&(E[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}U<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}}return E.length>0&&(S["!rows"]=E),j.length>0&&(S["!cols"]=j),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function s(h,p){var g=a(h,p),m=g[0],x=g[1],b=Nu(m,p);return kr(x).forEach(function(v){b[v]=x[v]}),b}function o(h,p){return vl(s(h,p),p)}function l(h,p,g,m){var x="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+C_(h.f,{r:g,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Mp(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=$p(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Lp(g.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],x=_t(h["!ref"]),b,v=Array.isArray(h),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var w=x.s.c;w<=x.e.c;++w){var S=ot({r:_,c:w});b=v?(h[_]||[])[w]:h[S],!(!b||b.v==null&&(!b.f||b.F))&&m.push(l(b,h,_,w))}return g.join(y)+y+m.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),M9=function(){function e(i,s){switch(s.type){case"base64":return t($i(i),s);case"binary":return t(i,s);case"buffer":return t(Qe&&Buffer.isBuffer(i)?i.toString("binary"):xh(i),s);case"array":return t(wv(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=o[d]||"";(m.match(/["]/g)||[]).length&1&&d<o.length-1;)m+=`
`+o[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][u]=!0:m==="FALSE"?f[l][u]=!1:isNaN(Ti(g))?isNaN(xf(g).getDate())?f[l][u]=g:f[l][u]=sn(g):f[l][u]=Ti(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Nu(e(i,s),s)}function n(i,s){return vl(r(i,s),s)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=_t(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=ot({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=zs(f.z||zt[14],_n(sn(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var b=`\r
`,v=u.join(b);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),r3=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,x=0,b=[];x!==p.length;++x){var v=p[x].trim().split(":");if(v[0]==="cell"){var y=mr(v[1]);if(b.length<=y.r)for(g=b.length;g<=y.r;++g)b[g]||(b[g]=[]);switch(g=y.r,m=y.c,v[2]){case"t":b[g][m]=e(v[3]);break;case"v":b[g][m]=+v[3];break;case"vtf":var _=v[v.length-1];case"vtc":switch(v[3]){case"nl":b[g][m]=!!+v[4];break;default:b[g][m]=+v[4];break}v[2]=="vtf"&&(b[g][m]=[b[g][m],_])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Nu(r(f,h),h)}function a(f,h){return vl(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",x=Wn(f["!ref"]),b=Array.isArray(f),v=x.s.r;v<=x.e.r;++v)for(var y=x.s.c;y<=x.e.c;++y)if(m=ot({r:v,c:y}),g=b?(f[v]||[])[y]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=_n(sn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||zs(g.z||zt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),$9=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Ti(d))?isNaN(xf(d).getDate())?f[h][p]=d:f[h][p]=sn(d):f[h][p]=Ti(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var x=10,b=0,v=0;v<=m;++v)b=g[v].indexOf(" "),b==-1?b=g[v].length:b++,x=Math.max(x,b);for(v=0;v<=m;++v){p[v]=[];var y=0;for(e(g[v].slice(0,x).trim(),p,v,y,h),y=1;y<=(g[v].length-x)/10+1;++y)e(g[v].slice(x+(y-1)*10,x+y*10).trim(),p,v,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,v=0,y=0,_=0,w=p.charCodeAt(0),S=!1,E=0,j=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Z7(h.dateNF):null;function O(){var C=d.slice(y,_),M={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)M.t="z";else if(h.raw)M.t="s",M.v=C;else if(C.trim().length===0)M.t="s",M.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(M.t="s",M.v=C.slice(2,-1).replace(/""/g,'"')):DU(C)?(M.t="n",M.f=C.slice(1)):(M.t="s",M.v=C);else if(C=="TRUE")M.t="b",M.v=!0;else if(C=="FALSE")M.t="b",M.v=!1;else if(!isNaN(v=Ti(C)))M.t="n",h.cellText!==!1&&(M.w=C),M.v=v;else if(!isNaN(xf(C).getDate())||T&&C.match(T)){M.z=h.dateNF||zt[14];var F=0;T&&C.match(T)&&(C=eB(C,h.dateNF,C.match(T)||[]),F=1),h.cellDates?(M.t="d",M.v=sn(C,F)):(M.t="n",M.v=_n(sn(C,F))),h.cellText!==!1&&(M.w=zs(M.z,M.v instanceof Date?_n(M.v):M.v)),h.cellNF||delete M.z}else M.t="s",M.v=C;if(M.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=M):g[ot({c:b,r:x})]=M),y=_+1,j=d.charCodeAt(y),m.e.c<b&&(m.e.c=b),m.e.r<x&&(m.e.r=x),E==w)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;_<d.length;++_)switch(E=d.charCodeAt(_)){case 34:j===34&&(S=!S);break;case w:case 10:case 13:if(!S&&O())break e;break}return _-y>0&&O(),g["!ref"]=Jt(m),g}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Nu(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:Xq(d,f);switch(f.type){case"base64":h=$i(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Ap<"u"||(h=Qe&&Buffer.isBuffer(d)?d.toString("binary"):xh(d));break;case"array":h=wv(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Ld(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ld(h):f.type=="binary"&&typeof Ap<"u",h.slice(0,19)=="socialcalc:version:"?r3.to_sheet(f.type=="string"?h:Ld(h),f):s(h,f)}function l(d,f){return vl(o(d,f),f)}function u(d){for(var f=[],h=_t(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],b=h.s.c;b<=h.e.c;++b){var v=ot({r:m,c:b});if(p=g?(d[m]||[])[b]:d[v],!p||p.v==null){x.push("          ");continue}for(var y=(p.w||(Li(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),bj=function(){function e(P,H,U){if(P){Pn(P,P.l||0);for(var W=U.Enum||ue;P.l<P.length;){var ae=P.read_shift(2),Se=W[ae]||W[65535],J=P.read_shift(2),K=P.l+J,ee=Se.f&&Se.f(P,J,U);if(P.l=K,H(ee,Se,ae))return}}}function t(P,H){switch(H.type){case"base64":return r(Na($i(P)),H);case"binary":return r(Na(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var U=H||{},W=U.dense?[]:{},ae="Sheet1",Se="",J=0,K={},ee=[],ye=[],re={s:{r:0,c:0},e:{r:0,c:0}},Le=U.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)U.Enum=ue,e(P,function(we,Wt,Ir){switch(Ir){case 0:U.vers=we,we>=4096&&(U.qpro=!0);break;case 6:re=we;break;case 204:we&&(Se=we);break;case 222:Se=we;break;case 15:case 51:U.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:Ir==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=U.dateNF||zt[14],U.cellDates&&(we[1].t="d",we[1].v=yP(we[1].v))),U.qpro&&we[3]>J&&(W["!ref"]=Jt(re),K[ae]=W,ee.push(ae),W=U.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},J=we[3],ae=Se||"Sheet"+(J+1),Se="");var Vn=U.dense?(W[we[0].r]||[])[we[0].c]:W[ot(we[0])];if(Vn){Vn.t=we[1].t,Vn.v=we[1].v,we[1].z!=null&&(Vn.z=we[1].z),we[1].f!=null&&(Vn.f=we[1].f);break}U.dense?(W[we[0].r]||(W[we[0].r]=[]),W[we[0].r][we[0].c]=we[1]):W[ot(we[0])]=we[1];break}},U);else if(P[2]==26||P[2]==14)U.Enum=pe,P[2]==14&&(U.qpro=!0,P.l=0),e(P,function(we,Wt,Ir){switch(Ir){case 204:ae=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>J&&(W["!ref"]=Jt(re),K[ae]=W,ee.push(ae),W=U.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},J=we[3],ae="Sheet"+(J+1)),Le>0&&we[0].r>=Le)break;U.dense?(W[we[0].r]||(W[we[0].r]=[]),W[we[0].r][we[0].c]=we[1]):W[ot(we[0])]=we[1],re.e.c<we[0].c&&(re.e.c=we[0].c),re.e.r<we[0].r&&(re.e.r=we[0].r);break;case 27:we[14e3]&&(ye[we[14e3][0]]=we[14e3][1]);break;case 1537:ye[we[0]]=we[1],we[0]==J&&(ae=we[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=Jt(re),K[Se||ae]=W,ee.push(Se||ae),!ye.length)return{SheetNames:ee,Sheets:K};for(var Ce={},tt=[],Fe=0;Fe<ye.length;++Fe)K[ee[Fe]]?(tt.push(ye[Fe]||ee[Fe]),Ce[ye[Fe]]=K[ye[Fe]]||K[ee[Fe]]):(tt.push(ye[Fe]),Ce[ye[Fe]]={"!ref":"A1"});return{SheetNames:tt,Sheets:Ce}}function n(P,H){var U=H||{};if(+U.codepage>=0&&vf(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var W=wn(),ae=_t(P["!ref"]),Se=Array.isArray(P),J=[];xe(W,0,i(1030)),xe(W,6,l(ae));for(var K=Math.min(ae.e.r,8191),ee=ae.s.r;ee<=K;++ee)for(var ye=Or(ee),re=ae.s.c;re<=ae.e.c;++re){ee===ae.s.r&&(J[re]=zr(re));var Le=J[re]+ye,Ce=Se?(P[ee]||[])[re]:P[Le];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?xe(W,13,p(ee,re,Ce.v)):xe(W,14,m(ee,re,Ce.v));else{var tt=Li(Ce);xe(W,15,f(ee,re,tt.slice(0,239)))}}return xe(W,1),W.end()}function a(P,H){var U=H||{};if(+U.codepage>=0&&vf(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var W=wn();xe(W,0,s(P));for(var ae=0,Se=0;ae<P.SheetNames.length;++ae)(P.Sheets[P.SheetNames[ae]]||{})["!ref"]&&xe(W,27,te(P.SheetNames[ae],Se++));var J=0;for(ae=0;ae<P.SheetNames.length;++ae){var K=P.Sheets[P.SheetNames[ae]];if(!(!K||!K["!ref"])){for(var ee=_t(K["!ref"]),ye=Array.isArray(K),re=[],Le=Math.min(ee.e.r,8191),Ce=ee.s.r;Ce<=Le;++Ce)for(var tt=Or(Ce),Fe=ee.s.c;Fe<=ee.e.c;++Fe){Ce===ee.s.r&&(re[Fe]=zr(Fe));var we=re[Fe]+tt,Wt=ye?(K[Ce]||[])[Fe]:K[we];if(!(!Wt||Wt.t=="z"))if(Wt.t=="n")xe(W,23,O(Ce,Fe,J,Wt.v));else{var Ir=Li(Wt);xe(W,22,E(Ce,Fe,J,Ir.slice(0,239)))}}++J}}return xe(W,1),W.end()}function i(P){var H=ie(2);return H.write_shift(2,P),H}function s(P){var H=ie(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var U=0,W=0,ae=0,Se=0;Se<P.SheetNames.length;++Se){var J=P.SheetNames[Se],K=P.Sheets[J];if(!(!K||!K["!ref"])){++ae;var ee=Wn(K["!ref"]);U<ee.e.r&&(U=ee.e.r),W<ee.e.c&&(W=ee.e.c)}}return U>8191&&(U=8191),H.write_shift(2,U),H.write_shift(1,ae),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,U){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&U.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),H==12&&U.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(P){var H=ie(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function u(P,H,U){var W=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function d(P,H,U){var W=P.l+H,ae=u(P,H,U);if(ae[1].t="s",U.vers==20768){P.l++;var Se=P.read_shift(1);return ae[1].v=P.read_shift(Se,"utf8"),ae}return U.qpro&&P.l++,ae[1].v=P.read_shift(W-P.l,"cstr"),ae}function f(P,H,U){var W=ie(7+U.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(1,39);for(var ae=0;ae<W.length;++ae){var Se=U.charCodeAt(ae);W.write_shift(1,Se>=128?95:Se)}return W.write_shift(1,0),W}function h(P,H,U){var W=u(P,H,U);return W[1].v=P.read_shift(2,"i"),W}function p(P,H,U){var W=ie(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(2,U,"i"),W}function g(P,H,U){var W=u(P,H,U);return W[1].v=P.read_shift(8,"f"),W}function m(P,H,U){var W=ie(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(8,U,"f"),W}function x(P,H,U){var W=P.l+H,ae=u(P,H,U);if(ae[1].v=P.read_shift(8,"f"),U.qpro)P.l=W;else{var Se=P.read_shift(2);_(P.slice(P.l,P.l+Se),ae),P.l+=Se}return ae}function b(P,H,U){var W=H&32768;return H&=-32769,H=(W?P:0)+(H>=8192?H-16384:H),(W?"":"$")+(U?zr(H):Or(H))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,H){Pn(P,0);for(var U=[],W=0,ae="",Se="",J="",K="";P.l<P.length;){var ee=P[P.l++];switch(ee){case 0:U.push(P.read_shift(8,"f"));break;case 1:Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),U.push(Se+ae);break;case 2:{var ye=b(H[0].c,P.read_shift(2),!0),re=b(H[0].r,P.read_shift(2),!1);Se=b(H[0].c,P.read_shift(2),!0),ae=b(H[0].r,P.read_shift(2),!1),U.push(ye+re+":"+Se+ae)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(P.read_shift(2));break;case 6:{for(var Le="";ee=P[P.l++];)Le+=String.fromCharCode(ee);U.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:K=U.pop(),J=U.pop(),U.push(["AND","OR"][ee-20]+"("+J+","+K+")");break;default:if(ee<32&&y[ee])K=U.pop(),J=U.pop(),U.push(J+y[ee]+K);else if(v[ee]){if(W=v[ee][1],W==69&&(W=P[P.l++]),W>U.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+U.join("|")+"|");return}var Ce=U.slice(-W);U.length-=W,U.push(v[ee][0]+"("+Ce.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}U.length==1?H[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function w(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function S(P,H){var U=w(P);return U[1].t="s",U[1].v=P.read_shift(H-4,"cstr"),U}function E(P,H,U,W){var ae=ie(6+W.length);ae.write_shift(2,P),ae.write_shift(1,U),ae.write_shift(1,H),ae.write_shift(1,39);for(var Se=0;Se<W.length;++Se){var J=W.charCodeAt(Se);ae.write_shift(1,J>=128?95:J)}return ae.write_shift(1,0),ae}function j(P,H){var U=w(P);U[1].v=P.read_shift(2);var W=U[1].v>>1;if(U[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return U[1].v=W,U}function T(P,H){var U=w(P),W=P.read_shift(4),ae=P.read_shift(4),Se=P.read_shift(2);if(Se==65535)return W===0&&ae===3221225472?(U[1].t="e",U[1].v=15):W===0&&ae===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var J=Se&32768;return Se=(Se&32767)-16446,U[1].v=(1-J*2)*(ae*Math.pow(2,Se+32)+W*Math.pow(2,Se)),U}function O(P,H,U,W){var ae=ie(14);if(ae.write_shift(2,P),ae.write_shift(1,U),ae.write_shift(1,H),W==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Se=0,J=0,K=0,ee=0;return W<0&&(Se=1,W=-W),J=Math.log2(W)|0,W/=Math.pow(2,J-31),ee=W>>>0,ee&2147483648||(W/=2,++J,ee=W>>>0),W-=ee,ee|=2147483648,ee>>>=0,W*=Math.pow(2,32),K=W>>>0,ae.write_shift(4,K),ae.write_shift(4,ee),J+=16383+(Se?32768:0),ae.write_shift(2,J),ae}function C(P,H){var U=T(P);return P.l+=H-14,U}function M(P,H){var U=w(P),W=P.read_shift(4);return U[1].v=W>>6,U}function F(P,H){var U=w(P),W=P.read_shift(8,"f");return U[1].v=W,U}function q(P,H){var U=F(P);return P.l+=H-10,U}function V(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function ne(P,H){var U=P[P.l++];U>H-1&&(U=H-1);for(var W="";W.length<U;)W+=String.fromCharCode(P[P.l++]);return W}function se(P,H,U){if(!(!U.qpro||H<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ae=P.read_shift(H-21,"cstr");return[W,ae]}}function G(P,H){for(var U={},W=P.l+H;P.l<W;){var ae=P.read_shift(2);if(ae==14e3){for(U[ae]=[0,""],U[ae][0]=P.read_shift(2);P[P.l];)U[ae][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return U}function te(P,H){var U=ie(5+P.length);U.write_shift(2,14e3),U.write_shift(2,H);for(var W=0;W<P.length;++W){var ae=P.charCodeAt(W);U[U.l++]=ae>127?95:ae}return U[U.l++]=0,U}var ue={0:{n:"BOF",f:QP},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),L9=/^\s|\s$|[\t\n\r]/;function n3(e,t){if(!t.bookSST)return"";var r=[er];r[r.length]=ge("sst",null,{xmlns:Au[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(L9)&&(i+=' xml:space="preserve"'),i+=">"+it(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function F9(e){return[e.read_shift(4),e.read_shift(4)]}function B9(e,t){return t||(t=ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var U9=kB;function z9(e){var t=wn();de(t,159,B9(e));for(var r=0;r<e.length;++r)de(t,19,U9(e[r]));return de(t,160),t.end()}function W9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function a3(e){var t=0,r,n=W9(e),a=n.length+1,i,s,o,l,u;for(r=el(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^s;return t^52811}var H9=function(){function e(a,i){switch(i.type){case"base64":return t($i(a),i);case"binary":return t(a,i);case"buffer":return t(Qe&&Buffer.isBuffer(a)?a.toString("binary"):xh(a),i);case"array":return t(wv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var b={v:x,t:"s"};Array.isArray(o)?o[f][m]=b:o[ot({r:f,c:m})]=b}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Jt(u),o}function r(a,i){return vl(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=_t(a["!ref"]),o,l=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=ot({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Li(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function wj(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var q9=6,Ai=q9;function Mp(e){return Math.floor((e+Math.round(128/Ai)/256)*Ai)}function $p(e){return Math.floor((e-5)/Ai*100+.5)/100}function x1(e){return Math.round((e*Ai+5)/Ai*256)/256}function N_(e){e.width?(e.wpx=Mp(e.width),e.wch=$p(e.wpx),e.MDW=Ai):e.wpx?(e.wch=$p(e.wpx),e.width=x1(e.wch),e.MDW=Ai):typeof e.wch=="number"&&(e.width=x1(e.wch),e.wpx=Mp(e.width),e.MDW=Ai),e.customWidth&&delete e.customWidth}var V9=96,i3=V9;function Lp(e){return e*96/i3}function s3(e){return e*i3/96}function K9(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ge("numFmt",null,{numFmtId:n,formatCode:it(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ge("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function G9(e){var t=[];return t[t.length]=ge("cellXfs",null),e.forEach(function(r){t[t.length]=ge("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ge("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function o3(e,t){var r=[er,ge("styleSheet",null,{xmlns:Au[0],"xmlns:vt":pr.vt})],n;return e.SSF&&(n=K9(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=G9(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function X9(e,t){var r=e.read_shift(2),n=Wr(e);return[r,n]}function Y9(e,t,r){r||(r=ie(6+4*t.length)),r.write_shift(2,e),vr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Q9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=LB(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=$B(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wr(e),n}function J9(e,t){t||(t=ie(25+4*32)),t.write_shift(2,e.sz*20),FB(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ip(e.color,t);var n=0;return n=2,t.write_shift(1,n),vr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Z9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],gx,eU=ai;function _j(e,t){t||(t=ie(4*3+8*7+16*1)),gx||(gx=v_(Z9));var r=gx[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Ip({auto:1},t),Ip({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function tU(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function l3(e,t,r){r||(r=ie(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function id(e,t){return t||(t=ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var rU=ai;function nU(e,t){return t||(t=ie(51)),t.write_shift(1,0),id(null,t),id(null,t),id(null,t),id(null,t),id(null,t),t.length>t.l?t.slice(0,t.l):t}function aU(e,t){return t||(t=ie(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Rp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function iU(e,t,r){var n=ie(2052);return n.write_shift(4,e),Rp(t,n),Rp(r,n),n.length>n.l?n.slice(0,n.l):n}function sU(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(de(e,615,Ra(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&de(e,44,Y9(a,t[a]))}),de(e,616))}}function oU(e){var t=1;de(e,611,Ra(t)),de(e,43,J9({sz:12,color:{theme:1},name:"Calibri",family:2})),de(e,612)}function lU(e){var t=2;de(e,603,Ra(t)),de(e,45,_j({patternType:"none"})),de(e,45,_j({patternType:"gray125"})),de(e,604)}function cU(e){var t=1;de(e,613,Ra(t)),de(e,46,nU()),de(e,614)}function uU(e){var t=1;de(e,626,Ra(t)),de(e,47,l3({numFmtId:0},65535)),de(e,627)}function dU(e,t){de(e,617,Ra(t.length)),t.forEach(function(r){de(e,47,l3(r,0))}),de(e,618)}function fU(e){var t=1;de(e,619,Ra(t)),de(e,48,aU({xfId:0,name:"Normal"})),de(e,620)}function hU(e){var t=0;de(e,505,Ra(t)),de(e,506)}function pU(e){var t=0;de(e,508,iU(t,"TableStyleMedium9","PivotStyleMedium4")),de(e,509)}function mU(e,t){var r=wn();return de(r,278),sU(r,e.SSF),oU(r),lU(r),cU(r),uU(r),dU(r,t.cellXfs),fU(r),hU(r),pU(r),de(r,279),r.end()}function c3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[er];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function vU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wr(e)}}function gU(e){var t=ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),vr(e.name,t),t.slice(0,t.l)}function xU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function yU(e){var t=ie(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function bU(e,t){var r=ie(8+2*t.length);return r.write_shift(4,e),vr(t,r),r.slice(0,r.l)}function wU(e){return e.l+=4,e.read_shift(4)!=0}function _U(e,t){var r=ie(8);return r.write_shift(4,e),r.write_shift(4,1),r}function SU(){var e=wn();return de(e,332),de(e,334,Ra(1)),de(e,335,gU({name:"XLDAPR",version:12e4,flags:3496657072})),de(e,336),de(e,339,bU(1,"XLDAPR")),de(e,52),de(e,35,Ra(514)),de(e,4096,Ra(0)),de(e,4097,Jn(1)),de(e,36),de(e,53),de(e,340),de(e,337,_U(1)),de(e,51,yU([[1,0]])),de(e,338),de(e,333),e.end()}function u3(){var e=[er];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function EU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ot(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Zl=1024;function d3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ge("xml",null,{"xmlns:v":Rn.v,"xmlns:o":Rn.o,"xmlns:x":Rn.x,"xmlns:mv":Rn.mv}).replace(/\/>/,">"),ge("o:shapelayout",ge("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ge("v:shapetype",[ge("v:stroke",null,{joinstyle:"miter"}),ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Zl<e*1e3;)Zl+=1e3;return t.forEach(function(i){var s=mr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ge("v:fill",l,o),d={on:"t",obscured:"t"};++Zl,a=a.concat(["<v:shape"+bf({id:"_x0000_s"+Zl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ge("v:shadow",null,d),ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ar("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ar("x:AutoFill","False"),Ar("x:Row",String(s.r)),Ar("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function f3(e){var t=[er,ge("comments",null,{xmlns:Au[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=it(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(it(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ar("t",it(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Ar("t",it(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function jU(e,t,r){var n=[er,ge("ThreadedComments",null,{xmlns:pr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ge("threadedComment",Ar("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function TU(e){var t=[er,ge("personList",null,{xmlns:pr.TCMNT,"xmlns:x":Au[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function AU(e){var t={};t.iauthor=e.read_shift(4);var r=bl(e);return t.rfx=r.s,t.ref=ot(r.s),e.l+=16,t}function NU(e,t){return t==null&&(t=ie(36)),t.write_shift(4,e[1].iauthor),Ou(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var OU=Wr;function CU(e){return vr(e.slice(0,54))}function kU(e){var t=wn(),r=[];return de(t,628),de(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),de(t,632,CU(a.a)))})}),de(t,631),de(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:mr(n[0]),e:mr(n[0])};de(t,635,NU([i,a])),a.t&&a.t.length>0&&de(t,637,RB(a)),de(t,636),delete a.iauthor})}),de(t,634),de(t,629),t.end()}function PU(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ct.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var h3=["xlsb","xlsm","xlam","biff8","xla"],RU=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+zr(d)+(l?"":"$")+Or(u)}return function(a,i){return t=i,a.replace(e,r)}}(),O_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C_=function(){return function(t,r){return t.replace(O_,function(n,a,i,s,o,l){var u=S_(s)-(i?0:r.c),d=__(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function IU(e,t){return e.replace(O_,function(r,n,a,i,s,o){return n+(a=="$"?a+i:zr(S_(i)+t.c))+(s=="$"?s+o:Or(__(o)+t.r))})}function DU(e){return e.length!=1}function Vt(e){e.l+=1}function Ws(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function p3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return m3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Ws(e),o=Ws(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function m3(e){var t=Ws(e),r=Ws(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function MU(e,t,r){if(r.biff<8)return m3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ws(e),s=Ws(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function v3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return $U(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ws(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function $U(e){var t=Ws(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function LU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BU(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function BU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function UU(e,t,r){var n=(e[e.l++]&96)>>5,a=p3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function zU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=p3(e,i,r);return[n,a,s]}function WU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function HU(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function qU(e,t,r){var n=(e[e.l++]&96)>>5,a=MU(e,t-1,r);return[n,a]}function VU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Sj(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function KU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function GU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function YU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function QU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function g3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function JU(e){return e.read_shift(2),g3(e)}function ZU(e){return e.read_shift(2),g3(e)}function ez(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=v3(e,0,r);return[n,a]}function tz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=FU(e,0,r);return[n,a]}function rz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=v3(e,0,r);return[n,a,i]}function nz(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[nW[a],b3[a],n]}function az(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:iz(e);return[a,(i[0]===0?b3:rW)[i[1]]]}function iz(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function sz(e,t,r){e.l+=r&&r.biff==2?3:4}function oz(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function lz(e){return e.l++,wh[e.read_shift(1)]}function cz(e){return e.l++,e.read_shift(2)}function uz(e){return e.l++,e.read_shift(1)!==0}function dz(e){return e.l++,Cu(e)}function fz(e,t,r){return e.l++,ZP(e,t-1,r)}function hz(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=r9(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Cu(e);break;case 2:r[1]=s9(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pz(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?bl:c9)(e));return a}function mz(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=hz(e,r.biff);return s}function vz(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function gz(e,t,r){if(r.biff==5)return xz(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function xz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function yz(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function bz(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function wz(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function _z(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Sz=ai,Ez=ai,jz=ai;function _h(e,t,r){return e.l+=2,[LU(e)]}function k_(e){return e.l+=6,[]}var Tz=_h,Az=k_,Nz=k_,Oz=_h;function x3(e){return e.l+=2,[QP(e),e.read_shift(2)&1]}var Cz=_h,kz=x3,Pz=k_,Rz=_h,Iz=_h,Dz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Mz(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Dz[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function $z(e){return e.l+=2,[e.read_shift(4)]}function Lz(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Fz(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uz(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zz(e){return e.l+=4,[0,0]}var Ej={1:{n:"PtgExp",f:oz},2:{n:"PtgTbl",f:jz},3:{n:"PtgAdd",f:Vt},4:{n:"PtgSub",f:Vt},5:{n:"PtgMul",f:Vt},6:{n:"PtgDiv",f:Vt},7:{n:"PtgPower",f:Vt},8:{n:"PtgConcat",f:Vt},9:{n:"PtgLt",f:Vt},10:{n:"PtgLe",f:Vt},11:{n:"PtgEq",f:Vt},12:{n:"PtgGe",f:Vt},13:{n:"PtgGt",f:Vt},14:{n:"PtgNe",f:Vt},15:{n:"PtgIsect",f:Vt},16:{n:"PtgUnion",f:Vt},17:{n:"PtgRange",f:Vt},18:{n:"PtgUplus",f:Vt},19:{n:"PtgUminus",f:Vt},20:{n:"PtgPercent",f:Vt},21:{n:"PtgParen",f:Vt},22:{n:"PtgMissArg",f:Vt},23:{n:"PtgStr",f:fz},26:{n:"PtgSheet",f:Lz},27:{n:"PtgEndSheet",f:Fz},28:{n:"PtgErr",f:lz},29:{n:"PtgBool",f:uz},30:{n:"PtgInt",f:cz},31:{n:"PtgNum",f:dz},32:{n:"PtgArray",f:VU},33:{n:"PtgFunc",f:nz},34:{n:"PtgFuncVar",f:az},35:{n:"PtgName",f:vz},36:{n:"PtgRef",f:ez},37:{n:"PtgArea",f:UU},38:{n:"PtgMemArea",f:yz},39:{n:"PtgMemErr",f:Sz},40:{n:"PtgMemNoMem",f:Ez},41:{n:"PtgMemFunc",f:bz},42:{n:"PtgRefErr",f:wz},43:{n:"PtgAreaErr",f:WU},44:{n:"PtgRefN",f:tz},45:{n:"PtgAreaN",f:qU},46:{n:"PtgMemAreaN",f:Bz},47:{n:"PtgMemNoMemN",f:Uz},57:{n:"PtgNameX",f:gz},58:{n:"PtgRef3d",f:rz},59:{n:"PtgArea3d",f:zU},60:{n:"PtgRefErr3d",f:_z},61:{n:"PtgAreaErr3d",f:HU},255:{}},Wz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Hz={1:{n:"PtgElfLel",f:x3},2:{n:"PtgElfRw",f:Rz},3:{n:"PtgElfCol",f:Tz},6:{n:"PtgElfRwV",f:Iz},7:{n:"PtgElfColV",f:Oz},10:{n:"PtgElfRadical",f:Cz},11:{n:"PtgElfRadicalS",f:Pz},13:{n:"PtgElfColS",f:Az},15:{n:"PtgElfColSV",f:Nz},16:{n:"PtgElfRadicalLel",f:kz},25:{n:"PtgList",f:Mz},29:{n:"PtgSxName",f:$z},255:{}},qz={0:{n:"PtgAttrNoop",f:zz},1:{n:"PtgAttrSemi",f:QU},2:{n:"PtgAttrIf",f:XU},4:{n:"PtgAttrChoose",f:KU},8:{n:"PtgAttrGoto",f:GU},16:{n:"PtgAttrSum",f:sz},32:{n:"PtgAttrBaxcel",f:Sj},33:{n:"PtgAttrBaxcel",f:Sj},64:{n:"PtgAttrSpace",f:JU},65:{n:"PtgAttrSpaceSemi",f:ZU},128:{n:"PtgAttrIfError",f:YU},255:{}};function Vz(e,t,r,n){if(n.biff<8)return ai(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=mz(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=pz(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ai(e,t)),i}function Kz(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Ej[i]||Ej[Wz[i]],(i===24||i===25)&&(a=(i===24?Hz:qz)[e[e.l+1]]),!a||!a.f?ai(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Gz(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Xz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yz(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function y3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function jj(e,t,r){var n=y3(e,t,r);return n=="#REF"?n:Yz(n,r)}function qc(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",b=0,v=e[0].length;b<v;++b){var y=e[0][b];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Lt(" ",e[0][m][1][1]);break;case 1:x=Lt("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}o.push(u+Xz[y[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Bd(y[1][1],s,a),o.push(Ud(d,i));break;case"PtgRefN":d=r?Bd(y[1][1],r,a):y[1][1],o.push(Ud(d,i));break;case"PtgRef3d":f=y[1][1],d=Bd(y[1][2],s,a),g=jj(n,f,a),o.push(g+"!"+Ud(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],w=y[1][1];_||(_=0),_&=127;var S=_==0?[]:o.slice(-_);o.length-=_,w==="User"&&(w=S.shift()),o.push(w+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=cj(y[1][1],r?{s:r}:s,a),o.push(mx(p,a));break;case"PtgArea":p=cj(y[1][1],s,a),o.push(mx(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],g=jj(n,f,a),o.push(g+"!"+mx(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],j=E?E.Name:"SH33TJSNAME"+String(h);j&&j.slice(0,6)=="_xlfn."&&!a.xlfn&&(j=j.slice(6)),o.push(j);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var O;if(a.biff<=5)T<0&&(T=-T),n[T]&&(O=n[T][h]);else{var C="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(C=n.SheetNames[n[T][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])C+=n[T][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var M=(y3(n,T,a)||"").split(";;");M[h-1]?C=M[h-1]:C+="SH33TJSERRX"}o.push(C);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var F="(",q=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:F=Lt(" ",e[0][m][1][1])+F;break;case 3:F=Lt("\r",e[0][m][1][1])+F;break;case 4:q=Lt(" ",e[0][m][1][1])+q;break;case 5:q=Lt("\r",e[0][m][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(F+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[ot(d)]){var ne=n.sharedf[ot(d)];o.push(qc(ne,s,V,n,a))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(qc(u[1],s,V,n,a)),se=!0;break}se||o.push(y[1])}break;case"PtgArray":o.push("{"+Gz(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&G.indexOf(e[0][b][0])==-1){y=e[0][m];var te=!0;switch(y[1][0]){case 4:te=!1;case 0:x=Lt(" ",y[1][1]);break;case 5:te=!1;case 1:x=Lt("\r",y[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((te?x:"")+o.pop()+(te?"":x)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Qz(e){if(e==null){var t=ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return tl(e);return tl(0)}function Jz(e,t,r,n,a){var i=rl(t,r,a),s=Qz(e.v),o=ie(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=ie(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Tr([i,s,o,u]);return f}function _v(e,t,r){var n=e.read_shift(4),a=Kz(e,n,r),i=e.read_shift(4),s=i>0?Vz(e,i,a,r):null;return[a,s]}var Zz=_v,Sv=_v,eW=_v,tW=_v,rW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},b3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aW(e){var t="of:="+e.replace(O_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function iW(e){return e.replace(/\./,"!")}var zd=typeof Map<"u";function P_(e,t,r){var n=0,a=e.length;if(r){if(zd?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=zd?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(zd?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Ev(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ai=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=$p(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=x1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function w3(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ys(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){vP(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function sW(e,t,r){if(e&&e["!ref"]){var n=_t(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function oW(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Jt(e[r])+'"/>';return t+"</mergeCells>"}function lW(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=yf(it(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+ge("outlinePr",null,u)}!i&&!o||(a[a.length]=ge("sheetPr",o,s))}var cW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dW(e){var t={sheet:1};return cW.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),uW.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=a3(e.password).toString(16).toUpperCase()),ge("sheetProtection",null,t)}function fW(e){return w3(e),ge("pageMargins",null,e)}function hW(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ge("col",null,Ev(a,n)));return r[r.length]="</cols>",r.join("")}function pW(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Jt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Wn(a);s.s.r==s.e.r&&(s.e.r=Wn(t["!ref"]).e.r,a=Jt(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ge("autoFilter",null,{ref:a})}function mW(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ge("sheetViews",ge("sheetView",null,a),{})}function vW(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=wh[e.v];break;case"d":n&&n.cellDates?a=sn(e.v,-1).toISOString():(e=Sn(e),e.t="n",a=""+(e.v=_n(sn(e.v)))),typeof e.z>"u"&&(e.z=zt[14]);break;default:a=e.v;break}var o=Ar("v",it(a)),l={r:t},u=Ys(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ar("v",""+P_(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ge("f",it(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),ge("c",o,l)}function gW(e,t,r,n){var a=[],i=[],s=_t(e["!ref"]),o="",l,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},x,b=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=zr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=Or(f),h=s.s.c;h<=s.e.c;++h){l=d[h]+u;var v=g?(e[f]||[])[h]:e[l];v!==void 0&&(o=vW(v,l,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Lp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),a[a.length]=ge("row",i.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Lp(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level),a[a.length]=ge("row","",m));return a.join("")}function _3(e,t,r,n){var a=[er,ge("worksheet",null,{xmlns:Au[0],"xmlns:r":pr.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=_t(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Jt(d)}n||(n={}),l["!comments"]=[];var f=[];lW(l,r,e,t,a),a[a.length]=ge("dimension",null,{ref:u}),a[a.length]=mW(l,t,e,r),t.sheetFormat&&(a[a.length]=ge("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=hW(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=gW(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=dW(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=pW(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=oW(l["!merges"]));var h=-1,p,g=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=nt(n,-1,it(m[1].Target).replace(/#.*$/,""),Xe.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=it(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=it(m[1].Tooltip)),a[a.length]=ge("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=fW(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ar("ignoredErrors",ge("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=nt(n,-1,"../drawings/drawing"+(e+1)+".xml",Xe.DRAW),a[a.length]=ge("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=nt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xe.VML),a[a.length]=ge("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function xW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function yW(e,t,r){var n=ie(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Lp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[ot(u)];g&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function bW(e,t,r,n){var a=yW(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&de(e,0,a)}var wW=bl,_W=Ou;function SW(){}function EW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=IB(e),r}function jW(e,t,r){r==null&&(r=ie(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Ip({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),$P(e,r),r.slice(0,r.l)}function TW(e){var t=da(e);return[t]}function AW(e,t,r){return r==null&&(r=ie(8)),gl(t,r)}function NW(e){var t=xl(e);return[t]}function OW(e,t,r){return r==null&&(r=ie(4)),yl(t,r)}function CW(e){var t=da(e),r=e.read_shift(1);return[t,r,"b"]}function kW(e,t,r){return r==null&&(r=ie(9)),gl(t,r),r.write_shift(1,e.v?1:0),r}function PW(e){var t=xl(e),r=e.read_shift(1);return[t,r,"b"]}function RW(e,t,r){return r==null&&(r=ie(5)),yl(t,r),r.write_shift(1,e.v?1:0),r}function IW(e){var t=da(e),r=e.read_shift(1);return[t,r,"e"]}function DW(e,t,r){return r==null&&(r=ie(9)),gl(t,r),r.write_shift(1,e.v),r}function MW(e){var t=xl(e),r=e.read_shift(1);return[t,r,"e"]}function $W(e,t,r){return r==null&&(r=ie(8)),yl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function LW(e){var t=da(e),r=e.read_shift(4);return[t,r,"s"]}function FW(e,t,r){return r==null&&(r=ie(12)),gl(t,r),r.write_shift(4,t.v),r}function BW(e){var t=xl(e),r=e.read_shift(4);return[t,r,"s"]}function UW(e,t,r){return r==null&&(r=ie(8)),yl(t,r),r.write_shift(4,t.v),r}function zW(e){var t=da(e),r=Cu(e);return[t,r,"n"]}function WW(e,t,r){return r==null&&(r=ie(16)),gl(t,r),tl(e.v,r),r}function HW(e){var t=xl(e),r=Cu(e);return[t,r,"n"]}function qW(e,t,r){return r==null&&(r=ie(12)),yl(t,r),tl(e.v,r),r}function VW(e){var t=da(e),r=LP(e);return[t,r,"n"]}function KW(e,t,r){return r==null&&(r=ie(12)),gl(t,r),FP(e.v,r),r}function GW(e){var t=xl(e),r=LP(e);return[t,r,"n"]}function XW(e,t,r){return r==null&&(r=ie(8)),yl(t,r),FP(e.v,r),r}function YW(e){var t=da(e),r=E_(e);return[t,r,"is"]}function QW(e){var t=da(e),r=Wr(e);return[t,r,"str"]}function JW(e,t,r){return r==null&&(r=ie(12+4*e.v.length)),gl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ZW(e){var t=xl(e),r=Wr(e);return[t,r,"str"]}function eH(e,t,r){return r==null&&(r=ie(8+4*e.v.length)),yl(t,r),vr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function tH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function rH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function nH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=Cu(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}function aH(e,t,r){var n=e.l+t,a=da(e);a.r=r["!row"];var i=Wr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Sv(e,n-e.l,r);s[3]=qc(o,null,a,r.supbooks,r)}else e.l=n;return s}var iH=bl,sH=Ou;function oH(e,t){return t==null&&(t=ie(4)),t.write_shift(4,e),t}function lH(e,t){var r=e.l+t,n=bl(e),a=j_(e),i=Wr(e),s=Wr(e),o=Wr(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function cH(e,t){var r=ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ou({s:mr(e[0]),e:mr(e[0])},r),T_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return vr(a||"",r),vr(e[1].Tooltip||"",r),vr("",r),r.slice(0,r.l)}function uH(){}function dH(e,t,r){var n=e.l+t,a=BP(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Zz(e,n-e.l,r);s[1]=o}else e.l=n;return s}function fH(e,t,r){var n=e.l+t,a=bl(e),i=[a];if(r.cellFormula){var s=tW(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function hH(e,t,r){r==null&&(r=ie(18));var n=Ev(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var S3=["left","right","top","bottom","header","footer"];function pH(e){var t={};return S3.forEach(function(r){t[r]=Cu(e)}),t}function mH(e,t){return t==null&&(t=ie(6*8)),w3(e),S3.forEach(function(r){tl(e[r],t)}),t}function vH(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function gH(e,t,r){r==null&&(r=ie(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xH(e){var t=ie(24);return t.write_shift(4,4),t.write_shift(4,1),Ou(e,t),t}function yH(e,t){return t==null&&(t=ie(16*4+2)),t.write_shift(2,e.password?a3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function bH(){}function wH(){}function _H(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Sn(t),t.z=t.z||zt[14],t.v=_n(sn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=Ys(a.cellXfs,t,a),t.l&&i["!links"].push([ot(l),t.l]),t.c&&i["!comments"].push([ot(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=P_(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?de(e,18,UW(t,l)):de(e,7,FW(t,l))):(l.t="str",s?de(e,17,eH(t,l)):de(e,6,JW(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?de(e,13,XW(t,l)):de(e,2,KW(t,l)):s?de(e,16,qW(t,l)):de(e,5,WW(t,l)),!0;case"b":return l.t="b",s?de(e,15,RW(t,l)):de(e,4,kW(t,l)),!0;case"e":return l.t="e",s?de(e,14,$W(t,l)):de(e,3,DW(t,l)),!0}return s?de(e,12,OW(t,l)):de(e,1,AW(t,l)),!0}function SH(e,t,r,n){var a=_t(t["!ref"]||"A1"),i,s="",o=[];de(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=Or(d),bW(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=zr(h)),i=o[h]+s;var p=l?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=_H(e,p,d,h,n,t,f)}}de(e,146)}function EH(e,t){!t||!t["!merges"]||(de(e,177,oH(t["!merges"].length)),t["!merges"].forEach(function(r){de(e,176,sH(r))}),de(e,178))}function jH(e,t){!t||!t["!cols"]||(de(e,390),t["!cols"].forEach(function(r,n){r&&de(e,60,hH(n,r))}),de(e,391))}function TH(e,t){!t||!t["!ref"]||(de(e,648),de(e,649,xH(_t(t["!ref"]))),de(e,650))}function AH(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=nt(r,-1,n[1].Target.replace(/#.*$/,""),Xe.HLINK);de(e,494,cH(n,a))}}),delete t["!links"]}function NH(e,t,r,n){if(t["!comments"].length>0){var a=nt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Xe.VML);de(e,551,T_("rId"+a)),t["!legacy"]=a}}function OH(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Jt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Wn(i);o.s.r==o.e.r&&(o.e.r=Wn(t["!ref"]).e.r,i=Jt(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),de(e,161,Ou(_t(i))),de(e,162)}}function CH(e,t,r){de(e,133),de(e,137,gH(t,r)),de(e,138),de(e,134)}function kH(e,t){t["!protect"]&&de(e,535,yH(t["!protect"]))}function PH(e,t,r,n){var a=wn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=_t(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],de(a,129),(r.vbaraw||s["!outline"])&&de(a,147,jW(o,s["!outline"])),de(a,148,_W(l)),CH(a,s,r.Workbook),jH(a,s),SH(a,s,e,t),kH(a,s),OH(a,s,r,e),EH(a,s),AH(a,s,n),s["!margins"]&&de(a,476,mH(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&TH(a,s),NH(a,s,e,n),de(a,130),a.end()}function RH(e,t){e.l+=10;var r=Wr(e);return{name:r}}var IH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function DH(e){return!e.Workbook||!e.Workbook.WBProps?"false":fB(e.Workbook.WBProps.date1904)?"true":"false"}var MH="][*?/\\".split("");function E3(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return MH.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function $H(e,t,r){e.forEach(function(n,a){E3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function LH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];$H(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)sW(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function j3(e){var t=[er];t[t.length]=ge("workbook",null,{xmlns:Au[0],"xmlns:r":pr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(IH.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ge("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:it(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ge("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=ge("definedName",it(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function FH(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=g1(e),r.name=Wr(e),r}function BH(e,t){return t||(t=ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),T_(e.strRelID,t),vr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function UH(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Wr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function zH(e,t){t||(t=ie(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),$P(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function WH(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=DB(e),s=eW(e,0,r),o=j_(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function HH(e,t){de(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};de(e,156,BH(a))}de(e,144)}function qH(e,t){t||(t=ie(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return vr("SheetJS",t),vr(Tp.version,t),vr(Tp.version,t),vr("7262",t),t.length>t.l?t.slice(0,t.l):t}function VH(e,t){t||(t=ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function KH(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(de(e,135),de(e,158,VH(a)),de(e,136))}}function GH(e,t){var r=wn();return de(r,131),de(r,128,qH()),de(r,153,zH(e.Workbook&&e.Workbook.WBProps||null)),KH(r,e),HH(r,e),de(r,132),r.end()}function XH(e,t,r){return(t.slice(-4)===".bin"?GH:j3)(e)}function YH(e,t,r,n,a){return(t.slice(-4)===".bin"?PH:_3)(e,r,n,a)}function QH(e,t,r){return(t.slice(-4)===".bin"?mU:o3)(e,r)}function JH(e,t,r){return(t.slice(-4)===".bin"?z9:n3)(e,r)}function ZH(e,t,r){return(t.slice(-4)===".bin"?kU:f3)(e)}function eq(e){return(e.slice(-4)===".bin"?SU:u3)()}function tq(e,t){var r=[];return e.Props&&r.push(QB(e.Props,t)),e.Custprops&&r.push(JB(e.Props,e.Custprops)),r.join("")}function rq(){return""}function nq(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ge("NumberFormat",null,{"ss:Format":it(zt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ge("Style",i.join(""),s))}),ge("Styles",r.join(""))}function T3(e){return ge("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+C_(e.Ref,{r:0,c:0})})}function aq(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(T3(a)))}return ge("Names",r.join(""))}function iq(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(T3(o)))}return i.join("")}function sq(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ge("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ge("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ge("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ar("ProtectContents","True")),e["!protect"].objects&&a.push(Ar("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ar("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ar("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ar("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ge("WorksheetOptions",a.join(""),{xmlns:Rn.x})}function oq(e){return e.map(function(t){var r=dB(t.t||""),n=ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ge("Comment",n,{"ss:Author":t.a})}).join("")}function lq(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+it(C_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=mr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=it(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=it(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=wh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||zt[14]);break;case"s":f="String",h=uB(e.v||"");break}var p=Ys(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=oq(e.c)),ge("Cell",m,o)}function cq(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=s3(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function uq(e,t,r,n){if(!e["!ref"])return"";var a=_t(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,b){N_(x);var v=!!x.width,y=Ev(b,x),_={"ss:Index":b+1};v&&(_["ss:Width"]=Mp(y.width)),x.hidden&&(_["ss:Hidden"]="1"),o.push(ge("Column",null,_))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[cq(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=ot(p),m=l?(e[u]||[])[f]:e[g];d.push(lq(m,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function dq(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?iq(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?uq(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(sq(i,t,e,r)),n.join("")}function fq(e,t){t||(t={}),e.SSF||(e.SSF=Sn(zt)),e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(tq(e,t)),r.push(rq()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ge("Worksheet",dq(n,t,e),{"ss:Name":it(e.SheetNames[n])}));return r[2]=nq(e,t),r[3]=aq(e),er+ge("Workbook",r.join(""),{xmlns:Rn.ss,"xmlns:o":Rn.o,"xmlns:x":Rn.x,"xmlns:ss":Rn.ss,"xmlns:dt":Rn.dt,"xmlns:html":Rn.html})}var xx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hq(e,t){var r=[],n=[],a=[],i=0,s,o=JE(dj,"n"),l=JE(fj,"n");if(e.Props)for(s=kr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=kr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)YP.indexOf(a[i][0])>-1||KP.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&ct.utils.cfb_add(t,"/SummaryInformation",gj(n,xx.SI,l,fj)),(r.length||u.length)&&ct.utils.cfb_add(t,"/DocumentSummaryInformation",gj(r,xx.DSI,o,dj,u.length?u:null,xx.UDI))}function pq(e,t){var r=t||{},n=ct.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ct.utils.cfb_add(n,a,A3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&hq(e,n),r.biff==8&&e.vbaraw&&PU(n,ct.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var mq={0:{f:xW},1:{f:TW},2:{f:VW},3:{f:IW},4:{f:CW},5:{f:zW},6:{f:QW},7:{f:LW},8:{f:aH},9:{f:nH},10:{f:tH},11:{f:rH},12:{f:NW},13:{f:GW},14:{f:MW},15:{f:PW},16:{f:HW},17:{f:ZW},18:{f:BW},19:{f:E_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:WH},40:{},42:{},43:{f:Q9},44:{f:X9},45:{f:eU},46:{f:rU},47:{f:tU},48:{},49:{f:NB},50:{},51:{f:xU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:O9},62:{f:YW},63:{f:EU},64:{f:bH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:EW},148:{f:wW,p:16},151:{f:uH},152:{},153:{f:UH},154:{},155:{},156:{f:FH},157:{},158:{},159:{T:1,f:F9},160:{T:-1},161:{T:1,f:bl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:iH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vU},336:{T:-1},337:{f:wU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:g1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:S9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dH},427:{f:fH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:pH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:SW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:g1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:OU},633:{T:1},634:{T:-1},635:{T:1,f:AU},636:{T:-1},637:{f:PB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:RH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&w_(r)&&e.push(r)}}function vq(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return xe(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function Sh(e,t,r){return e||(e=ie(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function gq(e,t,r,n){var a=ie(9);return Sh(a,e,t),JP(r,n||"b",a),a}function xq(e,t,r){var n=ie(8+2*r.length);return Sh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function yq(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_n(sn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?xe(e,2,R9(r,n,a)):xe(e,3,P9(r,n,a));return;case"b":case"e":xe(e,5,gq(r,n,t.v,t.t));return;case"s":case"str":xe(e,4,xq(r,n,(t.v||"").slice(0,255)));return}xe(e,1,Sh(null,r,n))}function bq(e,t,r,n){var a=Array.isArray(t),i=_t(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Jt(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Or(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=zr(d)),s=l[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&yq(e,f,u,d)}}}function wq(e,t){for(var r=t||{},n=wn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xe(n,r.biff==4?1033:r.biff==3?521:9,A_(e,16,r)),bq(n,e.Sheets[e.SheetNames[a]],a,r),xe(n,10),n.end()}function _q(e,t,r){xe(e,49,m9({sz:12,name:"Arial"},r))}function Sq(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&xe(e,1054,x9(a,t[a],r))})}function Eq(e,t){var r=ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xe(e,2151,r),r=ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),t3(_t(t["!ref"]||"A1"),r),r.write_shift(4,4),xe(e,2152,r)}function jq(e,t){for(var r=0;r<16;++r)xe(e,224,yj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){xe(e,224,yj(n,0,t))})}function Tq(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];xe(e,440,T9(n)),n[1].Tooltip&&xe(e,2048,A9(n))}delete t["!links"]}function Aq(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&xe(e,125,C9(Ev(a,n),a))})}}function Nq(e,t,r,n,a){var i=16+Ys(a.cellXfs,t,a);if(t.v==null&&!t.bf){xe(e,513,rl(r,n,i));return}if(t.bf)xe(e,6,Jz(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?_n(sn(t.v)):t.v;xe(e,515,_9(r,n,s,i));break;case"b":case"e":xe(e,517,w9(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=P_(a.Strings,t.v,a.revStrings);xe(e,253,v9(r,n,o,i))}else xe(e,516,g9(r,n,(t.v||"").slice(0,255),i,a));break;default:xe(e,513,rl(r,n,i))}}function Oq(e,t,r){var n=wn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=_t(i["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}xe(n,2057,A_(r,16,t)),xe(n,13,Jn(1)),xe(n,12,Jn(100)),xe(n,15,Zr(!0)),xe(n,17,Zr(!1)),xe(n,16,tl(.001)),xe(n,95,Zr(!0)),xe(n,42,Zr(!1)),xe(n,43,Zr(!1)),xe(n,130,Jn(1)),xe(n,128,b9()),xe(n,131,Zr(!1)),xe(n,132,Zr(!1)),u&&Aq(n,i["!cols"]),xe(n,512,y9(p,t)),u&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=Or(m);for(var x=p.s.c;x<=p.e.c;++x){m===p.s.r&&(h[x]=zr(x)),d=h[x]+f;var b=l?(i[m]||[])[x]:i[d];b&&(Nq(n,b,m,x,t),u&&b.l&&i["!links"].push([d,b.l]))}}var v=o.CodeName||o.name||a;return u&&xe(n,574,p9((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&xe(n,229,j9(i["!merges"])),u&&Tq(n,i),xe(n,442,e3(v)),u&&Eq(n,i),xe(n,10),n.end()}function Cq(e,t,r){var n=wn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(xe(n,2057,A_(e,5,r)),r.bookType=="xla"&&xe(n,135),xe(n,225,o?Jn(1200):null),xe(n,193,t9(2)),l&&xe(n,191),l&&xe(n,192),xe(n,226),xe(n,92,u9("SheetJS",r)),xe(n,66,Jn(o?1200:1252)),o&&xe(n,353,Jn(0)),o&&xe(n,448),xe(n,317,k9(e.SheetNames.length)),o&&e.vbaraw&&xe(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";xe(n,442,e3(u))}xe(n,156,Jn(17)),xe(n,25,Zr(!1)),xe(n,18,Zr(!1)),xe(n,19,Jn(0)),o&&xe(n,431,Zr(!1)),o&&xe(n,444,Jn(0)),xe(n,61,h9()),xe(n,64,Zr(!1)),xe(n,141,Jn(0)),xe(n,34,Zr(DH(e)=="true")),xe(n,14,Zr(!0)),o&&xe(n,439,Zr(!1)),xe(n,218,Jn(0)),_q(n,e,r),Sq(n,e.SSF,r),jq(n,r),o&&xe(n,352,Zr(!1));var d=n.end(),f=wn();o&&xe(f,140,N9()),o&&r.Strings&&vq(f,252,f9(r.Strings)),xe(f,10);var h=f.end(),p=wn(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var x=d.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var b=i[m]||{};xe(p,133,d9({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var v=p.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var y=[];return d.length&&y.push(d),v.length&&y.push(v),h.length&&y.push(h),Tr(y)}function kq(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),r.revssf=bv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,R_(r),r.cellXfs=[],Ys(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Oq(a,r,e);return n.unshift(Cq(e,n,r)),Tr(n)}function A3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Wn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return kq(e,t);case 4:case 3:case 2:return wq(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Pq(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=ot({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||cB(f.w||(Li(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ge("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var Rq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Iq="</body></html>";function Dq(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function N3(e,t){var r=t||{},n=r.header!=null?r.header:Rq,a=r.footer!=null?r.footer:Iq,i=[n],s=Wn(e["!ref"]);r.dense=Array.isArray(e),i.push(Dq(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(Pq(e,s,o,r));return i.push("</table>"+a),i.join("")}function O3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?mr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Wn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,b=0,v=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var _=o[g];if(Tj(_)){if(n.display)continue;p[m]={hidden:!0}}var w=_.children;for(x=b=0;x<w.length;++x){var S=w[x];if(!(n.display&&Tj(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):hB(S.innerHTML),j=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==b+i&&T.s.r<m+a&&m+a<=T.e.r&&(b=T.e.c+1-i,h=-1)}y=+S.getAttribute("colspan")||1,((v=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:m+a,c:b+i},e:{r:m+a+(v||1)-1,c:b+i+(y||1)-1}});var O={t:"s",v:E},C=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?O.t=C||"z":n.raw||E.trim().length==0||C=="s"||(E==="TRUE"?O={t:"b",v:!0}:E==="FALSE"?O={t:"b",v:!1}:isNaN(Ti(E))?isNaN(xf(E).getDate())||(O={t:"d",v:sn(E)},n.cellDates||(O={t:"n",v:_n(O.v)}),O.z=n.dateNF||zt[14]):O={t:"n",v:Ti(E)})),O.z===void 0&&j!=null&&(O.z=j);var M="",F=S.getElementsByTagName("A");if(F&&F.length)for(var q=0;q<F.length&&!(F[q].hasAttribute("href")&&(M=F[q].getAttribute("href"),M.charAt(0)!="#"));++q);M&&M.charAt(0)!="#"&&(O.l={Target:M}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][b+i]=O):e[ot({c:b+i,r:m+a})]=O,u.e.c<b+i&&(u.e.c=b+i),b+=y}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Jt(u),m>=l&&(e["!fullref"]=Jt((u.e.r=o.length-g+m-1+a,u))),e}function C3(e,t){var r=t||{},n=r.dense?[]:{};return O3(n,e,t)}function Mq(e,t){return vl(C3(e,t),t)}function Tj(e){var t="",r=$q(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function $q(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Lq=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return er+t}}(),Aj=function(){var e=function(i){return it(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+it(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Wn(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var b=!1,v={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(b=!0),v["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,v["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(r);continue}var _=ot({r:u,c:d}),w=g?(i[u]||[])[d]:i[_];if(w&&w.f&&(v["table:formula"]=it(aW(w.f)),w.F&&w.F.slice(0,_.length)==_)){var S=Wn(w.F);v["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,v["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!w){l.push(t);continue}switch(w.t){case"b":y=w.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=w.v?"true":"false";break;case"n":y=w.w||String(w.v||0),v["office:value-type"]="float",v["office:value"]=w.v||0;break;case"s":case"str":y=w.v==null?"":w.v,v["office:value-type"]="string";break;case"d":y=w.w||sn(w.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=sn(w.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var E=e(y);if(w.l&&w.l.Target){var j=w.l.Target;j=j.charAt(0)=="#"?"#"+iW(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),E=ge("text:a",E,{"xlink:href":j.replace(/&/g,"&amp;")})}l.push("          "+ge("table:table-cell",ge("text:p",E,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;N_(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[er],u=bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=bf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(qP().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function k3(e,t){if(t.bookType=="fods")return Aj(e,t);var r=g_(),n="",a=[],i=[];return n="mimetype",Ue(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ue(r,n,Aj(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ue(r,n,Lq(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ue(r,n,er+qP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ue(r,n,YB(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ue(r,n,GB(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Fp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fq(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Na(yf(e))}function Bq(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Hs(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Uq(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function wf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function pc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function nr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=wf(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=wf(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function wr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(rt(n*8+a.type)),a.type==2&&t.push(rt(a.data.length)),t.push(a.data))})}),Hs(t)}function ma(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=wf(e,n),i=nr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:pc(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=nr(o.data),u=pc(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=pc(i[3][0].data)>>>0>0),r.push(s)}return r}function Ol(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:rt(s.data.length)}],n[2].push({data:wr(s.meta),type:2})});var i=wr(n);t.push(rt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Hs(t)}function zq(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=wf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Hs(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=Hs(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function va(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(zq(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Hs(t)}function Cl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=rt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Hs(t)}function yx(e,t){var r=new Uint8Array(32),n=Fp(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Uq(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function bx(e,t){var r=new Uint8Array(32),n=Fp(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function rs(e){var t=nr(e);return wf(t[1][0].data)}function Wq(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&pc(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Fp(e[7][0].data),d=0,f=[],h=Fp(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var x,b;switch(typeof t[m]){case"string":x=yx({t:"s",v:t[m]},r),b=bx({t:"s",v:t[m]},r);break;case"number":x=yx({t:"n",v:t[m]},r),b=bx({t:"n",v:t[m]},r);break;case"boolean":x=yx({t:"b",v:t[m]},r),b=bx({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(x),d+=x.length,g.push(b),p+=b.length,++l}for(e[2][0].data=rt(l);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Hs(f),e[3][0].data=Hs(g),l}function Hq(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Jt(n)));var i=Bp(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},l=[],u=ct.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,U){return[H,u.FullPaths[U]]}).forEach(function(H){var U=H[0],W=H[1];if(U.type==2&&U.name.match(/\.iwa/)){var ae=U.content,Se=va(ae),J=ma(Se);J.forEach(function(K){l.push(K.id),o[K.id]={deps:[],location:W,type:pc(K.messages[0].meta[1][0].data)}})}}),l.sort(function(H,U){return H-U});var d=l.filter(function(H){return H>1}).map(function(H){return[H,rt(H)]});u.FileIndex.map(function(H,U){return[H,u.FullPaths[U]]}).forEach(function(H){var U=H[0];if(H[1],!!U.name.match(/\.iwa/)){var W=ma(va(U.content));W.forEach(function(ae){ae.messages.forEach(function(Se){d.forEach(function(J){ae.messages.some(function(K){return pc(K.meta[1][0].data)!=11006&&Bq(K.data,J[1])})&&o[J[0]].deps.push(ae.id)})})})}});for(var f=ct.find(u,o[1].location),h=ma(va(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var x=rs(nr(p.messages[0].data)[1][0].data);for(f=ct.find(u,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=rs(nr(p.messages[0].data)[2][0].data),f=ct.find(u,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=rs(nr(p.messages[0].data)[2][0].data),f=ct.find(u,o[x].location),h=ma(va(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);var b=nr(p.messages[0].data);{b[6][0].data=rt(n.e.r+1),b[7][0].data=rt(n.e.c+1);var v=rs(b[46][0].data),y=ct.find(u,o[v].location),_=ma(va(y.content));{for(var w=0;w<_.length&&_[w].id!=v;++w);if(_[w].id!=v)throw"Bad ColumnRowUIDMapArchive";var S=nr(_[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=n.e.c;++E){var j=[];j[1]=j[2]=[{type:0,data:rt(E+420690)}],S[1].push({type:2,data:wr(j)}),S[2].push({type:0,data:rt(E)}),S[3].push({type:0,data:rt(E)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)j=[],j[1]=j[2]=[{type:0,data:rt(T+726270)}],S[4].push({type:2,data:wr(j)}),S[5].push({type:0,data:rt(T)}),S[6].push({type:0,data:rt(T)});_[w].messages[0].data=wr(S)}y.content=Cl(Ol(_)),y.size=y.content.length,delete b[46];var O=nr(b[4][0].data);{O[7][0].data=rt(n.e.r+1);var C=nr(O[1][0].data),M=rs(C[2][0].data);y=ct.find(u,o[M].location),_=ma(va(y.content));{if(_[0].id!=M)throw"Bad HeaderStorageBucket";var F=nr(_[0].messages[0].data);for(T=0;T<i.length;++T){var q=nr(F[2][0].data);q[1][0].data=rt(T),q[4][0].data=rt(i[T].length),F[2][T]={type:F[2][0].type,data:wr(q)}}_[0].messages[0].data=wr(F)}y.content=Cl(Ol(_)),y.size=y.content.length;var V=rs(O[2][0].data);y=ct.find(u,o[V].location),_=ma(va(y.content));{if(_[0].id!=V)throw"Bad HeaderStorageBucket";for(F=nr(_[0].messages[0].data),E=0;E<=n.e.c;++E)q=nr(F[2][0].data),q[1][0].data=rt(E),q[4][0].data=rt(n.e.r+1),F[2][E]={type:F[2][0].type,data:wr(q)};_[0].messages[0].data=wr(F)}y.content=Cl(Ol(_)),y.size=y.content.length;var ne=rs(O[4][0].data);(function(){for(var H=ct.find(u,o[ne].location),U=ma(va(H.content)),W,ae=0;ae<U.length;++ae){var Se=U[ae];Se.id==ne&&(W=Se)}var J=nr(W.messages[0].data);{J[3]=[];var K=[];s.forEach(function(re,Le){K[1]=[{type:0,data:rt(Le)}],K[2]=[{type:0,data:rt(1)}],K[3]=[{type:2,data:Fq(re)}],J[3].push({type:2,data:wr(K)})})}W.messages[0].data=wr(J);var ee=Ol(U),ye=Cl(ee);H.content=ye,H.size=H.content.length})();var se=nr(O[3][0].data);{var G=se[1][0];delete se[2];var te=nr(G.data);{var ue=rs(te[2][0].data);(function(){for(var H=ct.find(u,o[ue].location),U=ma(va(H.content)),W,ae=0;ae<U.length;++ae){var Se=U[ae];Se.id==ue&&(W=Se)}var J=nr(W.messages[0].data);{delete J[6],delete se[7];var K=new Uint8Array(J[5][0].data);J[5]=[];for(var ee=0,ye=0;ye<=n.e.r;++ye){var re=nr(K);ee+=Wq(re,i[ye],s),re[1][0].data=rt(ye),J[5].push({data:wr(re),type:2})}J[1]=[{type:0,data:rt(n.e.c+1)}],J[2]=[{type:0,data:rt(n.e.r+1)}],J[3]=[{type:0,data:rt(ee)}],J[4]=[{type:0,data:rt(n.e.r+1)}]}W.messages[0].data=wr(J);var Le=Ol(U),Ce=Cl(Le);H.content=Ce,H.size=H.content.length})()}G.data=wr(te)}O[3][0].data=wr(se)}b[4][0].data=wr(O)}p.messages[0].data=wr(b);var pe=Ol(h),P=Cl(pe);return f.content=P,f.size=f.content.length,u}function qq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function R_(e){qq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Vq(e,t){return t.bookType=="ods"?k3(e,t):t.bookType=="numbers"?Hq(e,t):t.bookType=="xlsb"?Kq(e,t):Gq(e,t)}function Kq(e,t){Zl=1024,e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=h3.indexOf(t.bookType)>-1,a=zP();R_(t=t||{});var i=g_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,VP(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,GP(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,XP(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,YH(o-1,s,t,e,d)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,Ue(i,m,ZH(p,m)),a.comments.push(m),nt(d,-1,"../comments"+o+"."+r,Xe.CMNT),g=!0),f["!legacy"]&&g&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",d3(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ue(i,HP(s),fc(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,JH(t.Strings,s,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,XH(e,s)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,c3(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,QH(e,s,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,eq(s)),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),Ue(i,"[Content_Types].xml",WP(a,t)),Ue(i,"_rels/.rels",fc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",fc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Gq(e,t){Zl=1024,e&&!e.SSF&&(e.SSF=Sn(zt)),e&&e.SSF&&(yv(),xv(e.SSF),t.revssf=bv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=h3.indexOf(t.bookType)>-1,a=zP();R_(t=t||{});var i=g_(),s="",o=0;if(t.cellXfs=[],Ys(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ue(i,s,VP(e.Props,t)),a.coreprops.push(s),nt(t.rels,2,s,Xe.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Ue(i,s,GP(e.Props)),a.extprops.push(s),nt(t.rels,3,s,Xe.EXT_PROPS),e.Custprops!==e.Props&&kr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ue(i,s,XP(e.Custprops)),a.custprops.push(s),nt(t.rels,4,s,Xe.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ue(i,s,_3(o-1,t,e,f)),a.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xe.WS[0])}if(h){var g=h["!comments"],m=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(v){v[1].forEach(function(y){y.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+o+"."+r,Ue(i,x,jU(g,d,t)),a.threadedcomments.push(x),nt(f,-1,"../threadedComments/threadedComment"+o+"."+r,Xe.TCMNT)),x="xl/comments"+o+"."+r,Ue(i,x,f3(g)),a.comments.push(x),nt(f,-1,"../comments"+o+"."+r,Xe.CMNT),m=!0}h["!legacy"]&&m&&Ue(i,"xl/drawings/vmlDrawing"+o+".vml",d3(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ue(i,HP(s),fc(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ue(i,s,n3(t.Strings,t)),a.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Xe.SST)),s="xl/workbook."+r,Ue(i,s,j3(e)),a.workbooks.push(s),nt(t.rels,1,s,Xe.WB),s="xl/theme/theme1.xml",Ue(i,s,c3(e.Themes,t)),a.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Xe.THEME),s="xl/styles."+r,Ue(i,s,o3(e,t)),a.styles.push(s),nt(t.wbrels,-1,"styles."+r,Xe.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ue(i,s,e.vbaraw),a.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Xe.VBA)),s="xl/metadata."+r,Ue(i,s,u3()),a.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Xe.XLMETA),d.length>1&&(s="xl/persons/person.xml",Ue(i,s,TU(d)),a.people.push(s),nt(t.wbrels,-1,"persons/person.xml",Xe.PEOPLE)),Ue(i,"[Content_Types].xml",WP(a,t)),Ue(i,"_rels/.rels",fc(t.rels)),Ue(i,"xl/_rels/workbook."+r+".rels",fc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Xq(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$i(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return yh(t.file,ct.write(e,{type:Qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ct.write(e,t)}function Yq(e,t){var r=Sn(t||{}),n=Vq(e,r);return Qq(n,r)}function Qq(e,t){var r={},n=Qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ct.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(gv(a))}return t.password&&typeof encrypt_agile<"u"?P3(encrypt_agile(a,t.password),t):t.type==="file"?yh(t.file,a):t.type=="string"?Ld(a):a}function Jq(e,t){var r=t||{},n=pq(e,r);return P3(n,r)}function Ha(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return gf(yf(n));case"binary":return yf(n);case"string":return e;case"file":return yh(t.file,n,"utf8");case"buffer":return Qe?Yi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ha(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Zq(e,t){switch(t.type){case"base64":return gf(e);case"binary":return e;case"string":return e;case"file":return yh(t.file,e,"binary");case"buffer":return Qe?Yi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function f0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?gf(r):t.type=="string"?Ld(r):r;case"file":return yh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function R3(e,t){A7(),LH(e);var r=Sn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=R3(e,r);return r.type="array",gv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ha(fq(e,r),r);case"slk":case"sylk":return Ha(D9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ha(N3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Zq(I3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ha(I_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ha(M9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return f0(I9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ha($9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ha(H9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ha(r3.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ha(k3(e,r),r);case"wk1":return f0(bj.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return f0(bj.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),f0(A3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Jq(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Yq(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function eV(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function tV(e,t,r){var n={};return n.type="file",n.file=t,eV(n),R3(e,n)}function rV(e,t,r,n,a,i,s,o){var l=Or(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Li(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function Bp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=_t(d);break;case"number":l=_t(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Or(l.s.r),h=[],p=[],g=0,m=0,x=Array.isArray(e),b=l.s.r,v=0,y={};x&&!e[b]&&(e[b]=[]);var _=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(_[v]||{}).hidden)switch(h[v]=zr(v),r=x?e[b][v]:e[h[v]+f],n){case 1:i[v]=v-l.s.c;break;case 2:i[v]=h[v];break;case 3:i[v]=u.header[v-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Li(r,null,u),m=y[s]||0,!m)y[s]=1;else{do o=s+"_"+m++;while(y[o]);y[s]=m,y[o]=1}i[v]=o}for(b=l.s.r+a;b<=l.e.r;++b)if(!(w[b]||{}).hidden){var S=rV(e,l,b,h,n,i,x,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=S.row)}return p.length=g,p}var Nj=/"/g;function nV(e,t,r,n,a,i,s,o){for(var l=!0,u=[],d="",f=Or(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Li(p,null,o));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){d='"'+d.replace(Nj,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(Nj,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(s)}function I_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=_t(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=zr(g));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=nV(e,a,x,f,s,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?o:"")+d)));return delete n.dense,r.join("")}function I3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=I_(e,t);return r}function aV(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=_t(e["!ref"]),i="",s=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=zr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Or(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function D3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;s=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=_t(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){kr(m).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var v=m[b],y="z",_="",w=ot({c:o+p,r:s+x+a});u=_f(i,w),v&&typeof v=="object"&&!(v instanceof Date)?i[w]=v:(typeof v=="number"?y="n":typeof v=="boolean"?y="b":typeof v=="string"?y="s":v instanceof Date?(y="d",n.cellDates||(y="n",v=_n(v)),_=n.dateNF||zt[14]):v===null&&n.nullError&&(y="e",v=0),u?(u.t=y,u.v=v,delete u.w,delete u.R,_&&(u.z=_)):i[w]=u={t:y,v},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=Or(s);if(a)for(p=0;p<h.length;++p)i[zr(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Jt(d),i}function iV(e,t){return D3(null,e,t)}function _f(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=mr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_f(e,ot(t)):_f(e,ot({r:t,c:r||0}))}function sV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oV(){return{SheetNames:[],Sheets:{}}}function lV(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(E3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function cV(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=sV(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function uV(e,t){return e.z=t,e}function M3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dV(e,t,r){return M3(e,"#"+t,r)}function fV(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function hV(e,t,r,n){for(var a=typeof t!="string"?t:_t(t),i=typeof t=="string"?t:Jt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=_f(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var wx={encode_col:zr,encode_row:Or,encode_cell:ot,encode_range:Jt,decode_col:S_,decode_row:__,split_cell:AB,decode_cell:mr,decode_range:Wn,format_cell:Li,sheet_add_aoa:MP,sheet_add_json:D3,sheet_add_dom:O3,aoa_to_sheet:Nu,json_to_sheet:iV,table_to_sheet:C3,table_to_book:Mq,sheet_to_csv:I_,sheet_to_txt:I3,sheet_to_json:Bp,sheet_to_html:N3,sheet_to_formulae:aV,sheet_to_row_object_array:Bp,sheet_get_cell:_f,book_new:oV,book_append_sheet:lV,book_set_sheet_visibility:cV,cell_set_number_format:uV,cell_set_hyperlink:M3,cell_set_internal_link:dV,cell_add_comment:fV,sheet_set_array_formula:hV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const dt=({filename:e,sheetName:t,rows:r,columns:n})=>{const a=e.endsWith(".xlsx")?e:`${e}.xlsx`,i=n.map(u=>u.header),s=r.map(u=>n.map(d=>(d.value?d.value(u):u[d.key])??"")),o=wx.aoa_to_sheet([i,...s]),l=wx.book_new();wx.book_append_sheet(l,o,t),tV(l,a)},wl=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),En=e=>{const t=wl(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},pV=e=>{const t=e.replace(/\D/g,"");let r=0,n=2;for(let i=t.length-1;i>=0;i--)r+=parseInt(t[i],10)*n,n=n===7?2:n+1;const a=11-r%11;return a===11?"0":a===10?"K":String(a)},y1=e=>{if(!e||e.trim()==="")return{valid:!1,error:"RUT es requerido"};const t=wl(e);if(!/^\d{7,9}[0-9K]$/i.test(t))return{valid:!1,error:"Formato de RUT invlido"};const r=t.slice(0,-1),n=t.slice(-1).toUpperCase(),a=pV(r);return n!==a?{valid:!1,error:"Dgito verificador invlido"}:{valid:!0}};var b1=function(e,t){return b1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},b1(e,t)};function $3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");b1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Up=function(){return Up=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Up.apply(this,arguments)};function ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function L3(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function F3(e,t){return function(r,n){t(r,n,e)}}function B3(e,t,r,n,a,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var x=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[l],g);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(d.get=f),(f=s(x.set))&&(d.set=f),(f=s(x.init))&&a.unshift(f)}else(f=s(x))&&(o==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function U3(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function z3(e){return typeof e=="symbol"?e:"".concat(e)}function W3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function H3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ne(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function q3(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function V3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jv(t,e,r)}function zp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function D_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function K3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D_(arguments[t]));return e}function G3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function X3(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vc(e){return this instanceof Vc?(this.v=e,this):new Vc(e)}function Y3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(a[p]=function(m){return new Promise(function(x,b){i.push([p,m,x,b])>1||l(p,m)})},g&&(a[p]=g(a[p])))}function l(p,g){try{u(n[p](g))}catch(m){h(i[0][3],m)}}function u(p){p.value instanceof Vc?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Q3(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:Vc(e[a](s)),done:!1}:i?i(s):s}:i}}function J3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof zp=="function"?zp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(u){i({value:u,done:o})},s)}}function Z3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var mV=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},w1=function(e){return w1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},w1(e)};function e5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=w1(e),n=0;n<r.length;n++)r[n]!=="default"&&jv(t,e,r[n]);return mV(t,e),t}function t5(e){return e&&e.__esModule?e:{default:e}}function r5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function n5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function a5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function i5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var vV=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function s5(e){function t(i){e.error=e.hasError?new vV(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function o5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const gV={__extends:$3,__assign:Up,__rest:ku,__decorate:L3,__param:F3,__esDecorate:B3,__runInitializers:U3,__propKey:z3,__setFunctionName:W3,__metadata:H3,__awaiter:Ne,__generator:q3,__createBinding:jv,__exportStar:V3,__values:zp,__read:D_,__spread:K3,__spreadArrays:G3,__spreadArray:X3,__await:Vc,__asyncGenerator:Y3,__asyncDelegator:Q3,__asyncValues:J3,__makeTemplateObject:Z3,__importStar:e5,__importDefault:t5,__classPrivateFieldGet:r5,__classPrivateFieldSet:n5,__classPrivateFieldIn:a5,__addDisposableResource:i5,__disposeResources:s5,__rewriteRelativeImportExtension:o5},xV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:i5,get __assign(){return Up},__asyncDelegator:Q3,__asyncGenerator:Y3,__asyncValues:J3,__await:Vc,__awaiter:Ne,__classPrivateFieldGet:r5,__classPrivateFieldIn:a5,__classPrivateFieldSet:n5,__createBinding:jv,__decorate:L3,__disposeResources:s5,__esDecorate:B3,__exportStar:V3,__extends:$3,__generator:q3,__importDefault:t5,__importStar:e5,__makeTemplateObject:Z3,__metadata:H3,__param:F3,__propKey:z3,__read:D_,__rest:ku,__rewriteRelativeImportExtension:o5,__runInitializers:U3,__setFunctionName:W3,__spread:K3,__spreadArray:X3,__spreadArrays:G3,__values:zp,default:gV},Symbol.toStringTag,{value:"Module"})),yV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Tv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class l5 extends Tv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _1 extends Tv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class S1 extends Tv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wp||(Wp={}));class bV{constructor(t,{headers:r={},customFetch:n,region:a=Wp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=yV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ne(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let x=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(x=s.signal,d.addEventListener("abort",()=>s.abort())):x=s.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m,signal:x}).catch(w=>{throw new l5(w)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new _1(b);if(!b.ok)throw new S1(b);let y=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield b.json():y==="application/octet-stream"||y==="application/pdf"?_=yield b.blob():y==="text/event-stream"?_=b:y==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof S1||o instanceof _1?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var en={};const Pu=b8(xV);var h0={},p0={},m0={},v0={},g0={},x0={},Oj;function c5(){if(Oj)return x0;Oj=1,Object.defineProperty(x0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return x0.default=e,x0}var Cj;function u5(){if(Cj)return g0;Cj=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=Pu.__importDefault(c5());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let p=null,g=null,m=null,x=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=w:g=JSON.parse(w))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,x=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(g=[],p=null,x=200,b="OK")}catch{l.status===404&&y===""?(x=204,b="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,b="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:m,status:x,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,f,h,p,g;let m="";const x=l==null?void 0:l.cause;if(x){const b=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",v=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";m=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${b}`,v&&(m+=` (${v})`),x!=null&&x.stack&&(m+=`
${x.stack}`)}else m=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return g0.default=r,g0}var kj;function d5(){if(kj)return v0;kj=1,Object.defineProperty(v0,"__esModule",{value:!0});const t=Pu.__importDefault(u5());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return v0.default=r,v0}var Pj;function M_(){if(Pj)return m0;Pj=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=Pu.__importDefault(d5()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return m0.default=n,m0}var Rj;function f5(){if(Rj)return p0;Rj=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=Pu.__importDefault(M_());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},l=s?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return p0.default=r,p0}var Ij;function wV(){if(Ij)return h0;Ij=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=Pu,t=e.__importDefault(f5()),r=e.__importDefault(M_());class n{constructor(i,{headers:s={},schema:o,fetch:l}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([m,x])=>x!==void 0).map(([m,x])=>[m,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([m,x])=>{h.searchParams.append(m,x)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return h0.default=n,h0}Object.defineProperty(en,"__esModule",{value:!0});var h5=en.PostgrestError=S5=en.PostgrestBuilder=w5=en.PostgrestTransformBuilder=y5=en.PostgrestFilterBuilder=g5=en.PostgrestQueryBuilder=m5=en.PostgrestClient=void 0;const Ru=Pu,p5=Ru.__importDefault(wV());var m5=en.PostgrestClient=p5.default;const v5=Ru.__importDefault(f5());var g5=en.PostgrestQueryBuilder=v5.default;const x5=Ru.__importDefault(M_());var y5=en.PostgrestFilterBuilder=x5.default;const b5=Ru.__importDefault(d5());var w5=en.PostgrestTransformBuilder=b5.default;const _5=Ru.__importDefault(u5());var S5=en.PostgrestBuilder=_5.default;const E5=Ru.__importDefault(c5());h5=en.PostgrestError=E5.default;var j5=en.default={PostgrestClient:p5.default,PostgrestQueryBuilder:v5.default,PostgrestFilterBuilder:x5.default,PostgrestTransformBuilder:b5.default,PostgrestBuilder:_5.default,PostgrestError:E5.default};const _V=pC({__proto__:null,get PostgrestBuilder(){return S5},get PostgrestClient(){return m5},get PostgrestError(){return h5},get PostgrestFilterBuilder(){return y5},get PostgrestQueryBuilder(){return g5},get PostgrestTransformBuilder(){return w5},default:j5},[en]),{PostgrestClient:SV,PostgrestQueryBuilder:aEe,PostgrestFilterBuilder:iEe,PostgrestTransformBuilder:sEe,PostgrestBuilder:oEe,PostgrestError:EV}=j5||_V;class T5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jV="2.87.3",TV=`realtime-js/${jV}`,A5="1.0.0",AV="2.0.0",Dj=A5,E1=1e4,NV=1e3,OV=100;var bo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bo||(bo={}));var Kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Kt||(Kt={}));var Ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ea||(Ea={}));var j1;(function(e){e.websocket="websocket"})(j1||(j1={}));var wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wo||(wo={}));class CV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,s.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(m++,b.charCodeAt(0)));var x=new Uint8Array(p.byteLength+n.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(n),p.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,l]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class N5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const Mj=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=kV(s,e,t,a),i),{}):{}},kV=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?O5(i,s):T1(s)},O5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DV(t,r)}switch(e){case ht.bool:return PV(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return RV(t);case ht.json:case ht.jsonb:return IV(t);case ht.timestamp:return MV(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return T1(t);default:return T1(t)}},T1=e=>e,PV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>O5(t,o))}return e},MV=e=>typeof e=="string"?e.replace(" ","T"):e,C5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _x{constructor(t,r,n={},a=E1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var A1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(A1||(A1={}));class mc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=mc.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=mc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(l[u]=m)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(N1||(N1={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var Va;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Va||(Va={}));const $V=Kt;class Ao{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _x(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new N5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new mc(this),this.broadcastEndpointURL=C5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Va.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Va.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Va.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<x;v++){const y=m[v],{filter:{event:_,schema:w,table:S,filter:E}}=y,j=p&&p[v];if(j&&j.event===_&&Ao.isFilterValueEqual(j.schema,w)&&Ao.isFilterValueEqual(j.table,S)&&Ao.isFilterValueEqual(j.filter,E))b.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Kt.errored,t==null||t(Va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Va.SUBSCRIBED);return}}).receive("error",p=>{this.state=Kt.errored,t==null||t(Va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Kt.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new _x(this,Ea.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new _x(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Ea;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,x,b,v,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:x,commit_timestamp:b,type:v,errors:y}=g;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ao.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ea.close,{},t)}_onError(t){this._on(Ea.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mj(t.columns,t.old_record)),r}}const Sx=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LV=[1e3,2e3,5e3,1e4],FV=1e4,BV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=E1,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sx,this.ref=0,this.reconnectTimer=null,this.vsn=Dj,this.logger=Sx,this.conn=null,this.sendBuffer=[],this.serializer=new CV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${j1.websocket}`,this.httpEndpoint=C5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bo.connecting:return wo.Connecting;case bo.open:return wo.Open;case bo.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ao(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===bo.open||this.conn.readyState===bo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ea.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([BV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:TV};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ea.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new N5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,l,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:E1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:y0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Sx,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Dj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>LV[g-1]||FV,this.vsn){case A5:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case AV:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Av extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UV extends Av{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O1 extends Av{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const $_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zV=()=>Response,C1=e=>{if(Array.isArray(e))return e.map(r=>C1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=C1(n)}),t},WV=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HV=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ex=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},qV=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){const n=yield zV();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new UV(Ex(a),i,s))}).catch(a=>{t(new O1(Ex(a),a))}):t(new O1(Ex(e),e))}),VV=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(WV(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Eh(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,VV(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>qV(l,o,n))})})}function Sf(e,t,r,n){return Ne(this,void 0,void 0,function*(){return Eh(e,"GET",t,r,n)})}function ba(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"POST",t,n,a,r)})}function k1(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"PUT",t,n,a,r)})}function KV(e,t,r,n){return Ne(this,void 0,void 0,function*(){return Eh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function L_(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return Eh(e,"DELETE",t,n,a,r)})}class GV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var P5;class XV{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[P5]="BlobDownloadBuilder",this.promise=null}asStream(){return new GV(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}P5=Symbol.toStringTag;const YV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QV{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ne(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$j),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?k1:ba)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:$j.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield k1(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ba(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Av("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ba(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),l=()=>Sf(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new XV(l,this.shouldThrowOnError)}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Sf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KV(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n)&&n instanceof O1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YV),r),{prefix:t||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R5="2.87.3",I5={"X-Client-Info":`storage-js/${R5}`};class JV{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=$_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Sf(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t){return Ne(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ct(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ef=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ZV(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function eK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function tK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=ZV(e.baseUrl,n,a),l=await eK(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new Ef((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function b0(e){return e.join("")}var rK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:b0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${b0(e.namespace)}`}),!0}catch(t){if(t instanceof Ef&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return;throw r}}};function kl(e){return e.join("")}var nK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ef&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ef&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},aK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=tK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new rK(this.client,t),this.tableOps=new nK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class iK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=$_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Sf(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}from(t){if(!HV(t))throw new Av("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new aK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:(...l)=>Ne(this,void 0,void 0,function*(){try{return{data:yield o.apply(i,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const F_={"X-Client-Info":`storage-js/${R5}`,"Content-Type":"application/json"};class D5 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jx extends D5{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sK extends D5{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Lj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lj||(Lj={}));const B_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lK=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new jx(Fj(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new jx(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new jx(o,a,s))}}else t(new sK(Fj(e),e))}),cK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(oK(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function uK(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,cK(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>lK(l,o,n))})})}function Mn(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return uK(e,"POST",t,n,a,r)})}class dK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}}class fK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Mn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class hK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(t={}){try{return{data:yield Mn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class pK extends hK{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mK(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ne(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ne(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ne(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ne(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class mK extends dK{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new vK(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class vK extends fK{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gK extends JV{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new QV(this.url,this.headers,t,this.fetch)}get vectors(){return new pK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iK(this.url+"/iceberg",this.headers,this.fetch)}}const xK="2.87.3";let Ed="";typeof Deno<"u"?Ed="deno":typeof document<"u"?Ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ed="react-native":Ed="node";const yK={"X-Client-Info":`supabase-js-${Ed}/${xK}`},bK={headers:yK},wK={schema:"public"},_K={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SK={},EK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jK=()=>Headers,TK=(e,t,r)=>{const n=EK(r),a=jK();return async(i,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:u}))}};function AK(e){return e.endsWith("/")?e:e+"/"}function NK(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function OK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const M5="2.87.3",Fl=30*1e3,P1=3,Tx=P1*Fl,CK="http://localhost:9999",kK="supabase.auth.token",PK={"X-Client-Info":`gotrue-js/${M5}`},R1="X-Supabase-Api-Version",$5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IK=10*60*1e3;class Kc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L5 extends Kc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function F5(e){return ke(e)&&e.name==="AuthApiError"}class us extends Kc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class si extends Kc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class un extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B5(e){return ke(e)&&e.name==="AuthSessionMissingError"}class ho extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jd extends si{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Td extends si{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U5(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class I1 extends si{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z5 extends si{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function DK(e){return ke(e)&&e.name==="AuthPKCECodeVerifierMissingError"}class Hp extends si{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function G0(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class D1 extends si{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function MK(e){return ke(e)&&e.name==="AuthWeakPasswordError"}class qp extends si{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bj=` 	
\r=`.split(""),$K=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bj.length;t+=1)e[Bj[t].charCodeAt(0)]=-2;for(let t=0;t<Vp.length;t+=1)e[Vp[t].charCodeAt(0)]=t;return e})();function Uj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vp[n]),t.queuedBits-=6}}function W5(e,t,r){const n=$K[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zj(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{BK(s,n,r)};for(let s=0;s<e.length;s+=1)W5(e.charCodeAt(s),a,i);return t.join("")}function LK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}LK(n,t)}}function BK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)W5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function UK(e){const t=[];return FK(e,r=>t.push(r)),new Uint8Array(t)}function No(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Uj(a,r,n)),Uj(null,r,n),t.join("")}function zK(e){return Math.round(Date.now()/1e3)+e}function WK(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},H5=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function HK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const q5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},so=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},br=async(e,t)=>{await e.removeItem(t)};class Nv{constructor(){this.promise=new Nv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nv.promiseConstructor=Promise;function Ax(e){const t=e.split(".");if(t.length!==3)throw new qp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!RK.test(t[n]))throw new qp("JWT not in base64url format");return{header:JSON.parse(zj(t[0])),payload:JSON.parse(zj(t[1])),signature:gc(t[2]),raw:{header:t[0],payload:t[1]}}}async function VK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KK(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function GK(e){return("0"+e.toString(16)).substr(-2)}function XK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,GK).join("")}async function YK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function QK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pl(e,t,r=!1){const n=XK();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Bl(e,`${t}-code-verifier`,a);const i=await QK(n);return[i,n===i?"plain":"s256"]}const JK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZK(e){const t=e.headers.get(R1);if(!t||!t.match(JK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(e){if(!rG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Wj(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aG=[502,503,504];async function Hj(e){var t;if(!qK(e))throw new Hp(po(e),0);if(aG.includes(e.status))throw new Hp(po(e),e.status);let r;try{r=await e.json()}catch(i){throw new us(po(i),i)}let n;const a=ZK(e);if(a&&a.getTime()>=$5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new D1(po(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new D1(po(r),e.status,r.weak_password.reasons);throw new L5(po(r),e.status||500,n)}const iG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[R1]||(i[R1]=$5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await sG(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sG(e,t,r,n,a,i){const s=iG(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Hp(po(l),0)}if(o.ok||await Hj(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Hj(l)}}function xa(e){var t;let r=null;cG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qj(e){const t=xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oG(e){return{data:e,error:null}}function lG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=ku(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Vj(e){return e}function cG(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];class U_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=q5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=X0[0]){if(X0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ku(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Rl(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rl(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rl(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rl(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rl(t.userId),Rl(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Vj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Kj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const mo={debug:!!(globalThis&&H5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class V5 extends z_{}class uG extends z_{}async function K5(e,t,r){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Gj={};async function dG(e,t,r){var n;const a=(n=Gj[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((s,o)=>{setTimeout(()=>{o(new uG(`Acquiring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return Gj[e]=i.catch(async s=>{if(s&&s.isAcquireTimeout)return await a,null;throw s}),await i}function fG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function G5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hG(e){return parseInt(e,16)}function pG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function mG(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=G5(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}b+=v}return`${x}
${b}`}class Xt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Kp extends Xt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vG({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(X5(s)){if(i.rp.id!==s)return new Xt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(X5(n)){if(r.rpId!==n)return new Xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xG{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yG=new xG;function bG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ku(e,["challenge","user","excludeCredentials"]),i=gc(t).buffer,s=Object.assign(Object.assign({},r),{id:gc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:gc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function wG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ku(e,["challenge","allowCredentials"]),a=gc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:gc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function _G(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:No(new Uint8Array(e.response.attestationObject)),clientDataJSON:No(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:No(new Uint8Array(a.authenticatorData)),clientDataJSON:No(new Uint8Array(a.clientDataJSON)),signature:No(new Uint8Array(a.signature)),userHandle:a.userHandle?No(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function X5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xj(){var e,t;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function EG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:vG({error:t,options:e})}}}async function jG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:gG({error:t,options:e})}}}const TG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},AG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gp(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Gp(o,s):n[i]=Gp(s)}else n[i]=s}return n}function NG(e,t){return Gp(TG,e,t||{})}function OG(e,t){return Gp(AG,e,t||{})}class CG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=a??yG.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=NG(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await EG({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=OG(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await jG(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kc("rpId is required for WebAuthn authentication")};try{if(!Xj())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Kc("rpId is required for WebAuthn registration")};try{if(!Xj())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ke(s)?{data:null,error:s}:{data:null,error:new us("Unexpected error in register",s)}}}}fG();const kG={url:CK,storageKey:kK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yj(e,t,r){return await r()}const Il={};class Gc{get jwks(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},kG),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_r()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new U_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=q5(i.fetch),this.lock=i.lock||Yj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&_r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=K5:this.lock=Yj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:H5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Kj(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(_r()&&(r=HK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_r()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U5(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new us("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:xa}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Pl(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:xa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xa})}else throw new jd("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return await br(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qj})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qj})}else throw new jd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ho;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,l,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:x,statement:b,options:v}=t;let y;if(_r())if(typeof x=="object")y=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),w=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=G5(w[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await y.request({method:"eth_chainId"});E=hG(T)}const j={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:E,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=mG(j),g=await y.request({method:"personal_sign",params:[pG(p),S]})}try{const{data:m,error:x}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xa});if(x)throw x;if(!m||!m.session||!m.user){const b=new ho;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(ke(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,o,l,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:x,wallet:b,statement:v,options:y}=t;let _;if(_r())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),v?{statement:v}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:x,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:No(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xa});if(b)throw b;if(!x||!x.session||!x.user){const v=new ho;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(ke(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new z5;const{data:i,error:s}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xa});if(await br(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new ho;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xa}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new ho;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pl(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new jd("You must provide either an email or phone number.")}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:xa});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Pl(this.storage,this.storageKey));const u=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:oG});return!((i=u.data)===null||i===void 0)&&i.url&&_r()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new un;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new jd("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await so(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Nx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=nG(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(r){if(ke(r))return B5(r)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new un;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Pl(this.storage,this.storageKey));const{data:u,error:d}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ds});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Ax(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!_r())throw new Td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I1("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!s||!u)throw new Td("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(F5(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=WK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Pl(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return _r()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:xa}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ho}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await br(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KK(async a=>(a>0&&await VK(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xa})),(a,i)=>{const s=200*Math.pow(2,a);return i&&G0(i)&&Date.now()+s-n<Fl})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await so(this.storage,this.storageKey);if(a&&this.userStorage){let s=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Bl(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Nx()}else if(a&&!a.user&&!a.user){const s=await so(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await br(this.storage,this.storageKey+"-user"),await Bl(this.storage,this.storageKey,a)):a.user=Nx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),G0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Nv;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ke(i)){const s={data:null,error:i};return G0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await br(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Wj(a);await Bl(this.storage,this.storageKey,i)}else{const a=Wj(r);await Bl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fl}ms, refresh threshold is ${P1} ticks`),a<=P1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Pl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_G(t.webauthn.credential_response):SG(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:bG(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:wG(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ax(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new un});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new un});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&_r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new un})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+IK>a)return n;const{data:i,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=Ax(n);r!=null&&r.allowExpired||eG(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=tG(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,UK(`${o}.${l}`)))throw new qp("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}Gc.nextInstanceID={};const PG=U_,Y5=Gc;class RG extends Y5{constructor(t){super(t)}}class Q5{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=OK(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:wK,realtime:SK,auth:Object.assign(Object.assign({},_K),{storageKey:l}),global:bK},d=NK(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=TK(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new SV(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gK(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new k5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IG=(e,t,r)=>new Q5(e,t,r);function DG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}DG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MG=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:PG,AuthApiError:L5,AuthClient:Y5,AuthError:Kc,AuthImplicitGrantRedirectError:Td,AuthInvalidCredentialsError:jd,AuthInvalidJwtError:qp,AuthInvalidTokenResponseError:ho,AuthPKCECodeVerifierMissingError:z5,AuthPKCEGrantCodeExchangeError:I1,AuthRetryableFetchError:Hp,AuthSessionMissingError:un,AuthUnknownError:us,AuthWeakPasswordError:D1,CustomAuthError:si,get FunctionRegion(){return Wp},FunctionsError:Tv,FunctionsFetchError:l5,FunctionsHttpError:S1,FunctionsRelayError:_1,GoTrueAdminApi:U_,GoTrueClient:Gc,NavigatorLockAcquireTimeoutError:V5,PostgrestError:EV,REALTIME_CHANNEL_STATES:$V,get REALTIME_LISTEN_TYPES(){return vc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return N1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return A1},get REALTIME_SUBSCRIBE_STATES(){return Va},RealtimeChannel:Ao,RealtimeClient:k5,RealtimePresence:mc,SIGN_OUT_SCOPES:X0,SupabaseClient:Q5,WebSocketFactory:T5,createClient:IG,isAuthApiError:F5,isAuthError:ke,isAuthImplicitGrantRedirectError:U5,isAuthPKCECodeVerifierMissingError:DK,isAuthRetryableFetchError:G0,isAuthSessionMissingError:B5,isAuthWeakPasswordError:MK,lockInternals:mo,navigatorLock:K5,processLock:dG},Symbol.toStringTag,{value:"Module"})),{createClient:J5}=MG,$G="https://kzslhhctjfxsdvcrqvvs.supabase.co",Z5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",be=J5($G,Z5,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),jn=()=>!!Z5,Xc=[{value:"conductor",label:"Conductor"},{value:"inspector_patio",label:"Inspector Patio"},{value:"cleaner",label:"Cleaner"},{value:"planillero",label:"Planillero"},{value:"supervisor",label:"Supervisor"}],LG=[{value:"todos",label:"Todos"},{value:"ACTIVO",label:"Activo"},{value:"DESVINCULADO",label:"Desvinculado"}],eR=async(e,t)=>{if(!jn())return console.warn("Supabase not configured, returning empty array"),[];const r=Xi(e);let n=be.from("staff").select(`
      *,
      staff_admonitions(count)
    `).in("terminal_code",r).order("nombre",{ascending:!0});if(t!=null&&t.status&&t.status!=="todos"&&(n=n.eq("status",t.status)),t!=null&&t.cargo&&t.cargo!=="todos"&&(n=n.eq("cargo",t.cargo)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw console.error("Error fetching staff:",i),i;return(a||[]).map(s=>{var o,l;return{...s,admonition_count:((l=(o=s.staff_admonitions)==null?void 0:o[0])==null?void 0:l.count)??0}})},FG=async e=>{const t=wl(e),{data:r,error:n}=await be.from("staff").select("*").eq("rut",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},BG=async e=>{const{data:t,error:r}=await be.from("staff").insert({rut:wl(e.rut),nombre:e.nombre.trim(),cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno.trim(),horario:e.horario.trim(),contacto:e.contacto.trim()}).select().single();if(r)throw r.code==="23505"?new Error("Ya existe un trabajador con ese RUT"):r;return t},UG=async(e,t)=>{const r={};t.rut!==void 0&&(r.rut=wl(t.rut)),t.nombre!==void 0&&(r.nombre=t.nombre.trim()),t.cargo!==void 0&&(r.cargo=t.cargo),t.terminal_code!==void 0&&(r.terminal_code=t.terminal_code),t.turno!==void 0&&(r.turno=t.turno.trim()),t.horario!==void 0&&(r.horario=t.horario.trim()),t.contacto!==void 0&&(r.contacto=t.contacto.trim());const{data:n,error:a}=await be.from("staff").update(r).eq("id",e).select().single();if(a)throw a;return n},zG=async(e,t)=>{const{data:r,error:n}=await be.from("staff").update({status:"DESVINCULADO",terminated_at:new Date().toISOString(),termination_comment:t.trim()}).eq("id",e).select().single();if(n)throw n;return r},WG=async e=>{const t=Xi(e),{data:r,error:n}=await be.from("staff").select("cargo, terminal_code").eq("status","ACTIVO").in("terminal_code",t);if(n)throw n;const{data:a}=await be.from("staff_caps").select("*").eq("scope_code","ER_LR"),i=new Map;(a||[]).forEach(d=>{i.set(d.cargo,d.max_q)});const s=new Map;Xc.forEach(d=>s.set(d.value,0)),(r||[]).forEach(d=>{const f=s.get(d.cargo)||0;s.set(d.cargo,f+1)});const o=Xc.map(d=>({cargo:d.value,count:s.get(d.value)||0,max_q:i.get(d.value)??null})),l=new Map;t.forEach(d=>l.set(d,0)),(r||[]).forEach(d=>{const f=l.get(d.terminal_code)||0;l.set(d.terminal_code,f+1)});const u=t.map(d=>({terminal_code:d,count:l.get(d)||0}));return{byCargo:o,byTerminal:u,total:(r==null?void 0:r.length)||0}},HG=async(e,t,r,n)=>{const a=n.name.split(".").pop(),i=`staff/${e}/admonitions/${Date.now()}.${a}`,{error:s}=await be.storage.from("staff-docs").upload(i,n);if(s)throw console.error("Upload error:",s),new Error("Error al subir el documento");const{data:o,error:l}=await be.from("staff_admonitions").insert({staff_id:e,reason:t.trim(),admonition_date:r,document_path:i}).select().single();if(l)throw l;return o},qG=(e,t)=>{const r=be.channel("staff-changes").on("postgres_changes",{event:"*",schema:"public",table:"staff"},n=>{e({eventType:n.eventType,new:n.new,old:n.old})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"staff_admonitions"},n=>{t({eventType:n.eventType,new:n.new})}).subscribe();return()=>{be.removeChannel(r)}},St={all:["staff"],lists:()=>[...St.all,"list"],list:(e,t)=>[...St.lists(),e,t],details:()=>[...St.all,"detail"],detail:e=>[...St.details(),e],counts:e=>[...St.all,"counts",e],caps:()=>[...St.all,"caps"],admonitions:e=>[...St.all,"admonitions",e]},VG=(e,t)=>Tt({queryKey:St.list(e,t),queryFn:()=>eR(e,t)}),KG=e=>Tt({queryKey:St.counts(e),queryFn:()=>WG(e)}),GG=()=>{const e=qt();return Qt({mutationFn:t=>BG(t),onSuccess:()=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.counts({})})}})},XG=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>UG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},YG=()=>{const e=qt();return Qt({mutationFn:({id:t,comment:r})=>zG(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:St.lists()}),e.invalidateQueries({queryKey:St.detail(t.id)}),e.invalidateQueries({queryKey:St.counts({})})}})},QG=()=>{const e=qt();return Qt({mutationFn:({staffId:t,reason:r,admonitionDate:n,file:a})=>HG(t,r,n,a),onSuccess:t=>{e.invalidateQueries({queryKey:St.admonitions(t.staff_id)}),e.invalidateQueries({queryKey:St.lists()})}})},JG=e=>{const t=qt();A.useEffect(()=>qG(n=>{console.log("Staff change:",n.eventType),t.invalidateQueries({queryKey:St.lists()}),t.invalidateQueries({queryKey:St.counts(e)}),n.new&&t.invalidateQueries({queryKey:St.detail(n.new.id)})},n=>{console.log("Admonition change:",n.eventType),n.new&&(t.invalidateQueries({queryKey:St.admonitions(n.new.staff_id)}),t.invalidateQueries({queryKey:St.lists()}))}),[t,e])},ZG=e=>({conductor:"calendar",inspector_patio:"clipboard",cleaner:"check-circle",planillero:"layers",supervisor:"users"})[e]||"users",eX=e=>{var t;return((t=Xc.find(r=>r.value===e))==null?void 0:t.label)||e},tX=({terminalContext:e})=>{const{data:t,isLoading:r}=KG(e);if(r)return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[...Array(5)].map((a,i)=>c.jsxs("div",{className:"card p-4 animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),c.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});if(!t)return null;const n=e.mode==="ALL"||e.mode==="TERMINAL"&&(e.value==="EL_ROBLE"||e.value==="LA_REINA");return c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:["Personal por Cargo ",n&&"(ER-LR)"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:t.byCargo.map(a=>{const i=a.max_q?a.count/a.max_q*100:0,s=a.max_q&&a.count>a.max_q,o=a.max_q&&i>=80&&!s;return c.jsxs("div",{className:`card p-4 transition-all ${s?"border-danger-300 bg-danger-50":o?"border-warning-300 bg-warning-50":""}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100",children:c.jsx(ce,{name:ZG(a.cargo),size:18,className:"text-slate-600"})}),c.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:eX(a.cargo)})]}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:`text-2xl font-bold ${s?"text-danger-600":o?"text-warning-600":"text-slate-900"}`,children:a.count}),a.max_q&&c.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",a.max_q]})]}),a.max_q&&c.jsx("div",{className:"mt-2 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all ${s?"bg-danger-500":o?"bg-warning-500":"bg-brand-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},a.cargo)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"Personal por Terminal"}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.byTerminal.map(a=>c.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3",children:[c.jsx(ce,{name:"building",size:18,className:"text-slate-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-slate-500",children:Ge(a.terminal_code)}),c.jsx("p",{className:"text-lg font-bold text-slate-900",children:a.count})]})]},a.terminal_code)),c.jsxs("div",{className:"card px-4 py-3 flex items-center gap-3 bg-brand-50 border-brand-200",children:[c.jsx(ce,{name:"users",size:18,className:"text-brand-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-brand-600 font-semibold",children:"Total"}),c.jsx("p",{className:"text-lg font-bold text-brand-700",children:t.total})]})]})]})]})]})},rX=e=>{var t;return((t=Xc.find(r=>r.value===e))==null?void 0:t.label)||e},nX=({staff:e,onEdit:t,onOffboard:r,onAdmonish:n})=>e.length?c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"table-header-cell",children:"RUT"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Nombre"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Cargo"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Terminal"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Turno"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Horario"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Contacto"}),c.jsx("th",{scope:"col",className:"table-header-cell",children:"Estado"}),c.jsx("th",{scope:"col",className:"table-header-cell text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"table-body",children:e.map(a=>{const i=a.status==="DESVINCULADO";return c.jsxs("tr",{className:`table-row ${i?"bg-danger-50 hover:bg-danger-100":""}`,children:[c.jsx("td",{className:"table-cell font-mono text-sm",children:En(a.rut)}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-slate-900",children:a.nombre}),a.admonition_count>0&&c.jsxs("span",{className:"badge badge-warning text-xs",title:`${a.admonition_count} amonestacin(es)`,children:[" ",a.admonition_count]})]})}),c.jsx("td",{className:"table-cell",children:rX(a.cargo)}),c.jsx("td",{className:"table-cell",children:Ge(a.terminal_code)}),c.jsx("td",{className:"table-cell",children:a.turno}),c.jsx("td",{className:"table-cell font-mono text-xs",children:a.horario}),c.jsx("td",{className:"table-cell text-sm",children:a.contacto}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${i?"badge-danger":"badge-success"}`,children:a.status})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[!i&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-brand-600",title:"Modificar",children:c.jsx(ce,{name:"clipboard",size:16})}),c.jsx("button",{onClick:()=>n(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-warning-600",title:"Amonestar",children:c.jsx(ce,{name:"megaphone",size:16})}),c.jsx("button",{onClick:()=>r(a),className:"btn btn-ghost btn-icon text-slate-600 hover:text-danger-600",title:"Desvincular",children:c.jsx(ce,{name:"logout",size:16})})]}),i&&c.jsx("span",{className:"text-xs text-danger-600",children:a.terminated_at?new Date(a.terminated_at).toLocaleDateString("es-CL"):"Desvinculado"})]})})]},a.id)})})]})}):c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[c.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:c.jsx(ce,{name:"users",size:28,className:"text-slate-400"})}),c.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"No hay personal registrado"}),c.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:'Comienza agregando trabajadores con el botn "Nuevo Trabajador"'})]}),aX=["Maana","Tarde","Noche","Rotativo"],iX=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"conductor",terminal_code:"EL_ROBLE",turno:"Maana",horario:"08:00-18:00",contacto:""}),[s,o]=A.useState(null),[l,u]=A.useState("");A.useEffect(()=>{e&&(i({rut:e.rut,nombre:e.nombre,cargo:e.cargo,terminal_code:e.terminal_code,turno:e.turno,horario:e.horario,contacto:e.contacto}),u(En(e.rut)))},[e]);const d=g=>{u(g);const m=y1(g);m.valid?(o(null),i(x=>({...x,rut:wl(g)}))):o(m.error||null)},f=()=>{a.rut&&u(En(a.rut))},h=g=>{g.preventDefault();const m=y1(a.rut);if(!m.valid){o(m.error||"RUT invlido");return}t(a)},p=!!e;return c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"RUT"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:`input ${s?"border-danger-500 focus:ring-danger-500":""}`,value:l,onChange:g=>d(g.target.value),onBlur:f,placeholder:"12.345.678-9",disabled:p,required:!0}),p&&c.jsx(ce,{name:"key",size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),s&&c.jsx("p",{className:"mt-1 text-xs text-danger-600",children:s}),p&&c.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"El RUT no puede modificarse"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre Completo"}),c.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:g=>i(m=>({...m,nombre:g.target.value})),placeholder:"Juan Prez Gonzlez",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cargo"}),c.jsx("select",{className:"input",value:a.cargo,onChange:g=>i(m=>({...m,cargo:g.target.value})),required:!0,children:Xc.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsx("select",{className:"input",value:a.terminal_code,onChange:g=>i(m=>({...m,terminal_code:g.target.value})),required:!0,children:Ma.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Turno"}),c.jsx("select",{className:"input",value:a.turno,onChange:g=>i(m=>({...m,turno:g.target.value})),required:!0,children:aX.map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Horario"}),c.jsx("input",{type:"text",className:"input",value:a.horario,onChange:g=>i(m=>({...m,horario:g.target.value})),placeholder:"08:00-18:00",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contacto"}),c.jsx("input",{type:"text",className:"input",value:a.contacto,onChange:g=>i(m=>({...m,contacto:g.target.value})),placeholder:"Telfono o email",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!!s,children:n?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):p?"Guardar Cambios":"Crear Trabajador"})]})]})},sX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),s=o=>{o.preventDefault(),a.trim()&&t(a.trim())};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),c.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-danger-100",children:c.jsx(ce,{name:"logout",size:24,className:"text-danger-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Desvincular Trabajador"}),c.jsxs("p",{className:"text-sm text-slate-600",children:["Ests seguro que deseas desvincular a ",c.jsx("strong",{children:e}),"?"]})]})]}),c.jsx("div",{className:"mb-4 p-3 rounded-lg bg-warning-50 border border-warning-200",children:c.jsxs("p",{className:"text-sm text-warning-800",children:[c.jsx("strong",{children:" Esta accin es irreversible."})," El trabajador quedar marcado como desvinculado y no podr ser eliminado del sistema."]})}),c.jsxs("form",{onSubmit:s,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"label",children:"Motivo de Desvinculacin *"}),c.jsx("textarea",{className:"input min-h-[100px]",value:a,onChange:o=>i(o.target.value),placeholder:"Describe el motivo de la desvinculacin...",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-danger",disabled:n||!a.trim(),children:n?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):"Confirmar Desvinculacin"})]})]})]})]})},oX=({staffName:e,onConfirm:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(new Date().toISOString().split("T")[0]),[l,u]=A.useState(null),[d,f]=A.useState(!1),h=A.useRef(null),p=v=>{v.preventDefault(),a.trim()&&s&&l&&t(a.trim(),s,l)},g=v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?f(!0):v.type==="dragleave"&&f(!1)},m=v=>{v.preventDefault(),v.stopPropagation(),f(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&u(v.dataTransfer.files[0])},x=v=>{v.target.files&&v.target.files[0]&&u(v.target.files[0])},b=()=>{u(null),h.current&&(h.current.value="")};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),c.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-warning-100",children:c.jsx(ce,{name:"megaphone",size:24,className:"text-warning-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Registrar Amonestacin"}),c.jsxs("p",{className:"text-sm text-slate-600",children:["Amonestacin para ",c.jsx("strong",{children:e})]})]})]}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Motivo de la Amonestacin *"}),c.jsx("textarea",{className:"input min-h-[80px]",value:a,onChange:v=>i(v.target.value),placeholder:"Describe el motivo de la amonestacin...",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha de Amonestacin *"}),c.jsx("input",{type:"date",className:"input",value:s,onChange:v=>o(v.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Documento Adjunto *"}),c.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all ${d?"border-brand-500 bg-brand-50":l?"border-success-300 bg-success-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:m,children:[c.jsx("input",{ref:h,type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:x,className:"hidden",id:"admonition-file"}),l?c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx(ce,{name:"check-circle",size:24,className:"text-success-600"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:l.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(l.size/1024).toFixed(1)," KB"]})]}),c.jsx("button",{type:"button",onClick:b,className:"ml-4 text-danger-600 hover:text-danger-700",children:c.jsx(ce,{name:"x",size:20})})]}):c.jsxs("label",{htmlFor:"admonition-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[c.jsx(ce,{name:"image",size:32,className:"text-slate-400"}),c.jsxs("p",{className:"text-sm text-slate-600",children:[c.jsx("span",{className:"font-semibold text-brand-600",children:"Haz clic para subir"})," ","o arrastra el archivo aqu"]}),c.jsx("p",{className:"text-xs text-slate-400",children:"PDF, JPG, PNG (mx. 10MB)"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!a.trim()||!s||!l,children:n?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Guardando..."]}):"Registrar Amonestacin"})]})]})]})]})},lX=()=>{const e=qe(y=>y.context),t=qe(y=>y.setContext),[r,n]=A.useState({status:"todos",cargo:"todos"}),[a,i]=A.useState({type:"none"}),s=VG(e,r),o=GG(),l=XG(),u=YG(),d=QG();JG(e);const f=[{key:"rut",header:"RUT",value:y=>En(y.rut)},{key:"nombre",header:"Nombre",value:y=>y.nombre},{key:"cargo",header:"Cargo",value:y=>y.cargo},{key:"terminal_code",header:"Terminal",value:y=>Ge(y.terminal_code)},{key:"turno",header:"Turno",value:y=>y.turno},{key:"horario",header:"Horario",value:y=>y.horario},{key:"contacto",header:"Contacto",value:y=>y.contacto},{key:"status",header:"Estado",value:y=>y.status}],h=()=>{s.data&&dt({filename:"personal_vista",sheetName:"Personal",rows:s.data,columns:f})},p=()=>{s.data&&dt({filename:"personal_completo",sheetName:"Personal",rows:s.data,columns:f})},g=async y=>{try{await o.mutateAsync(y),i({type:"none"})}catch(_){console.error("Error creating staff:",_),alert(_ instanceof Error?_.message:"Error al crear trabajador")}},m=async y=>{if(a.type==="edit")try{await l.mutateAsync({id:a.staff.id,values:y}),i({type:"none"})}catch(_){console.error("Error updating staff:",_),alert(_ instanceof Error?_.message:"Error al actualizar trabajador")}},x=async y=>{if(a.type==="offboard")try{await u.mutateAsync({id:a.staff.id,comment:y}),i({type:"none"})}catch(_){console.error("Error offboarding staff:",_),alert(_ instanceof Error?_.message:"Error al desvincular trabajador")}},b=async(y,_,w)=>{if(a.type==="admonish")try{await d.mutateAsync({staffId:a.staff.id,reason:y,admonitionDate:_,file:w}),i({type:"none"})}catch(S){console.error("Error creating admonition:",S),alert(S instanceof Error?S.message:"Error al registrar amonestacin")}},v=()=>i({type:"none"});return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Personal",description:"Gestin del equipo operativo por terminal.",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>i({type:"create"}),children:[c.jsx(ce,{name:"users",size:18}),"Nuevo Trabajador"]}),c.jsx(qr,{onExportView:h,onExportAll:p})]})}),c.jsx(tX,{terminalContext:e}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsx("select",{className:"input",value:r.status,onChange:y=>n(_=>({..._,status:y.target.value})),children:LG.map(y=>c.jsx("option",{value:y.value,children:y.label},y.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Cargo"}),c.jsxs("select",{className:"input",value:r.cargo||"todos",onChange:y=>n(_=>({..._,cargo:y.target.value})),children:[c.jsx("option",{value:"todos",children:"Todos"}),Xc.map(y=>c.jsx("option",{value:y.value,children:y.label},y.value))]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Buscar"}),c.jsx("input",{className:"input",placeholder:"RUT o nombre",value:r.search??"",onChange:y=>n(_=>({..._,search:y.target.value}))})]})]}),s.isLoading&&c.jsx(xr,{label:"Cargando personal..."}),s.isError&&c.jsx(Rr,{onRetry:()=>s.refetch()}),!s.isLoading&&!s.isError&&c.jsx(nX,{staff:s.data||[],onEdit:y=>i({type:"edit",staff:y}),onOffboard:y=>i({type:"offboard",staff:y}),onAdmonish:y=>i({type:"admonish",staff:y})}),(a.type==="create"||a.type==="edit")&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:v}),c.jsxs("div",{className:"relative w-full max-w-2xl card p-6 animate-scale-in max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a.type==="create"?"Nuevo Trabajador":"Editar Trabajador"}),c.jsx("button",{onClick:v,className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),c.jsx(iX,{initialData:a.type==="edit"?a.staff:null,onSubmit:a.type==="create"?g:m,onCancel:v,isLoading:o.isPending||l.isPending})]})]}),a.type==="offboard"&&c.jsx(sX,{staffName:a.staff.nombre,onConfirm:x,onCancel:v,isLoading:u.isPending}),a.type==="admonish"&&c.jsx(oX,{staffName:a.staff.nombre,onConfirm:b,onCancel:v,isLoading:d.isPending})]})},$a=({columns:e,rows:t,emptyMessage:r="Sin resultados"})=>t.length?c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsx("tr",{children:e.map(n=>c.jsx("th",{scope:"col",className:"table-header-cell",children:n.header},n.key))})}),c.jsx("tbody",{className:"table-body",children:t.map((n,a)=>c.jsx("tr",{className:"table-row",children:e.map(i=>c.jsx("td",{className:"table-cell",children:i.render?i.render(n):n[i.key]},i.key))},a))})]})}):c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 mb-3",children:c.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),c.jsx("p",{className:"text-sm font-medium text-slate-600",children:r}),c.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"No hay datos para mostrar en este momento"})]}),La=({label:e="Sin datos",description:t})=>c.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50/50 px-6 py-12 text-center",children:[c.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 mb-4",children:c.jsx("svg",{className:"h-7 w-7 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),c.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),t&&c.jsx("p",{className:"mt-1 text-xs text-slate-500 max-w-xs",children:t})]}),Iu=(e,t)=>({list:async({terminalContext:r,filters:n,scope:a})=>{const i=v7(e,r);return a==="all"?i:t?i.filter(s=>t(s,n)):i}}),cX=[{id:"r-1",tema:"Coordinacin semanal",fecha:"2023-12-04T09:00:00Z",responsable:"Ana Prez",participantes:8,estado:"agendada",terminal:"EL_ROBLE"},{id:"r-2",tema:"Operacin nocturna",fecha:"2023-12-03T18:00:00Z",responsable:"Carlos Vega",participantes:6,estado:"en_curso",terminal:"LA_REINA"},{id:"r-3",tema:"Revisin de seguridad",fecha:"2023-12-01T15:30:00Z",responsable:"Laura Soto",participantes:5,estado:"cerrada",terminal:"EL_SALTO"}],Qj=Iu(cX,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),uX=()=>{var u;const e=qe(d=>d.context),t=qe(d=>d.setContext),[r,n]=A.useState({estado:"todas"}),a=Tt({queryKey:["reuniones",e,r],queryFn:()=>Qj.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"tema",header:"Tema"},{key:"fecha",header:"Fecha",render:d=>Ut(d.fecha),value:d=>Ut(d.fecha)},{key:"responsable",header:"Responsable"},{key:"participantes",header:"Asistentes"},{key:"estado",header:"Estado",render:d=>c.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"terminal",header:"Terminal",render:d=>Ge(d.terminal),value:d=>Ge(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&dt({filename:"reuniones_vista",sheetName:"Reuniones",rows:a.data,columns:s})},l=async()=>{const d=await Qj.list({terminalContext:e,scope:"all"});dt({filename:"reuniones_completo",sheetName:"Reuniones",rows:d,columns:s})};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Reuniones",description:"Agenda y seguimiento de reuniones.",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",children:"Nueva reunin"}),c.jsx(qr,{onExportView:o,onExportAll:l})]})}),c.jsx(ua,{terminalContext:e,onTerminalChange:t,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsxs("select",{className:"input",value:r.estado,onChange:d=>n({estado:d.target.value}),children:[c.jsx("option",{value:"todas",children:"Todas"}),c.jsx("option",{value:"agendada",children:"Agendada"}),c.jsx("option",{value:"en_curso",children:"En curso"}),c.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),a.isLoading&&c.jsx(xr,{}),a.isError&&c.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&c.jsxs(c.Fragment,{children:[!((u=a.data)!=null&&u.length)&&c.jsx(La,{description:"No hay reuniones con estos filtros."}),a.data&&a.data.length>0&&c.jsx($a,{columns:i,rows:a.data})]})]})},dX=[{id:"t-1",titulo:"Inventario patio",responsable:"Ana Prez",prioridad:"alta",estado:"pendiente",vencimiento:"2023-12-06",terminal:"EL_ROBLE"},{id:"t-2",titulo:"Actualizar checklists",responsable:"Carlos Vega",prioridad:"media",estado:"en_progreso",vencimiento:"2023-12-07",terminal:"EL_SALTO"},{id:"t-3",titulo:"Control de EPIs",responsable:"Laura Soto",prioridad:"baja",estado:"completada",vencimiento:"2023-11-30",terminal:"COLO_COLO"}],Jj=Iu(dX,(e,t)=>{const r=t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0,n=t!=null&&t.prioridad&&t.prioridad!=="todas"?e.prioridad===t.prioridad:!0;return r&&n}),fX=()=>{var u;const e=qe(d=>d.context),t=qe(d=>d.setContext),[r,n]=A.useState({estado:"todas",prioridad:"todas"}),a=Tt({queryKey:["tareas",e,r],queryFn:()=>Jj.list({terminalContext:e,filters:r,scope:"view"})}),i=A.useMemo(()=>[{key:"titulo",header:"Tarea"},{key:"responsable",header:"Responsable"},{key:"prioridad",header:"Prioridad",render:d=>c.jsx("span",{className:"badge capitalize",children:d.prioridad}),value:d=>d.prioridad},{key:"estado",header:"Estado",render:d=>c.jsx("span",{className:"badge capitalize",children:d.estado}),value:d=>d.estado},{key:"vencimiento",header:"Vencimiento",render:d=>Ut(d.vencimiento),value:d=>Ut(d.vencimiento)},{key:"terminal",header:"Terminal",render:d=>Ge(d.terminal),value:d=>Ge(d.terminal)}],[]),s=i.map(d=>({key:d.key,header:d.header,value:f=>d.value?d.value(f):f[d.key]})),o=()=>{a.data&&dt({filename:"tareas_vista",sheetName:"Tareas",rows:a.data,columns:s})},l=async()=>{const d=await Jj.list({terminalContext:e,scope:"all"});dt({filename:"tareas_completo",sheetName:"Tareas",rows:d,columns:s})};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Tareas",description:"Seguimiento de pendientes y compromisos.",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",children:"Nueva tarea"}),c.jsx(qr,{onExportView:o,onExportAll:l})]})}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsxs("select",{className:"input",value:r.estado,onChange:d=>n(f=>({...f,estado:d.target.value})),children:[c.jsx("option",{value:"todas",children:"Todas"}),c.jsx("option",{value:"pendiente",children:"Pendiente"}),c.jsx("option",{value:"en_progreso",children:"En progreso"}),c.jsx("option",{value:"completada",children:"Completada"})]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Prioridad"}),c.jsxs("select",{className:"input",value:r.prioridad,onChange:d=>n(f=>({...f,prioridad:d.target.value})),children:[c.jsx("option",{value:"todas",children:"Todas"}),c.jsx("option",{value:"alta",children:"Alta"}),c.jsx("option",{value:"media",children:"Media"}),c.jsx("option",{value:"baja",children:"Baja"})]})]})]}),a.isLoading&&c.jsx(xr,{}),a.isError&&c.jsx(Rr,{onRetry:a.refetch}),!a.isLoading&&!a.isError&&c.jsxs(c.Fragment,{children:[!((u=a.data)!=null&&u.length)&&c.jsx(La,{description:"No hay tareas para mostrar."}),a.data&&a.data.length>0&&c.jsx($a,{columns:i,rows:a.data})]})]})},hX=[{id:"i-1",titulo:"Actualizacin de protocolos",fecha:"2023-12-02",enviadoPor:"Equipo Seguridad",alcance:"todos",terminal:"EL_ROBLE"},{id:"i-2",titulo:"Corte programado",fecha:"2023-12-03",enviadoPor:"Operaciones",alcance:"terminal",terminal:"LA_REINA"},{id:"i-3",titulo:"Campaa de seguridad",fecha:"2023-12-01",enviadoPor:"Prevencin",alcance:"segmentado",terminal:"EL_SALTO"}],Zj=Iu(hX,(e,t)=>t!=null&&t.alcance&&t.alcance!=="todos"?e.alcance===t.alcance:!0),pX="https://kzslhhctjfxsdvcrqvvs.supabase.co/functions/v1/send-email",eT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6c2xoaGN0amZ4c2R2Y3JxdnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDAzODQsImV4cCI6MjA4MTQxNjM4NH0.NQ1maFD5Nl8y-5TxJFjeSdhOSzOi-6Hd8o4VcrmLUKo",nl={sendEmail:async e=>{const t=await fetch(pX,{method:"POST",headers:{"Content-Type":"application/json",apikey:eT,Authorization:`Bearer ${eT}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Email send failed: ${t.status} ${n}`)}const r=await t.json();return{accepted:r.accepted??!0,messageId:r.messageId??"pending"}}},mX=Object.freeze(Object.defineProperty({__proto__:null,emailService:nl},Symbol.toStringTag,{value:"Module"})),vX=()=>{var O;const e=qe(C=>C.context),t=qe(C=>C.setContext),[r,n]=A.useState({alcance:"todos"}),[a,i]=A.useState("todos"),[s,o]=A.useState("EL_ROBLE"),[l,u]=A.useState(""),[d,f]=A.useState(""),[h,p]=A.useState(""),[g,m]=A.useState(!1),[x,b]=A.useState(""),[v,y]=A.useState(""),_=Tt({queryKey:["informativos",e,r],queryFn:()=>Zj.list({terminalContext:e,filters:r,scope:"view"})}),w=A.useMemo(()=>[{key:"titulo",header:"Ttulo"},{key:"enviadoPor",header:"Enviado por"},{key:"alcance",header:"Alcance",render:C=>c.jsx("span",{className:"badge",children:C.alcance}),value:C=>C.alcance},{key:"fecha",header:"Fecha",render:C=>Ut(C.fecha),value:C=>Ut(C.fecha)},{key:"terminal",header:"Terminal",render:C=>Ge(C.terminal),value:C=>Ge(C.terminal)}],[]),S=w.map(C=>({key:C.key,header:C.header,value:M=>C.value?C.value(M):M[C.key]})),E=()=>{_.data&&dt({filename:"informativos_vista",sheetName:"Informativos",rows:_.data,columns:S})},j=async()=>{const C=await Zj.list({terminalContext:e,scope:"all"});dt({filename:"informativos_completo",sheetName:"Informativos",rows:C,columns:S})},T=async()=>{y(""),m(!0);try{const C=await nl.sendEmail({audience:a,terminalCodes:a==="por_terminal"?[s]:void 0,manualRecipients:a==="manual"?l.split(",").map(M=>M.trim()).filter(Boolean):void 0,subject:d,body:h});b(`Correo enviado (${C.messageId})`),f(""),p(""),u("")}catch(C){y(C.message)}finally{m(!1)}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Informativos",description:"Comunicaciones internas con opciones de envo por terminal.",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",children:"Nuevo informativo"}),c.jsx(qr,{onExportView:E,onExportAll:j})]})}),c.jsx(ua,{terminalContext:e,onTerminalChange:t,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Alcance"}),c.jsxs("select",{className:"input",value:r.alcance,onChange:C=>n({alcance:C.target.value}),children:[c.jsx("option",{value:"todos",children:"Todos"}),c.jsx("option",{value:"terminal",children:"Por terminal"}),c.jsx("option",{value:"segmentado",children:"Segmentado"})]})]})}),_.isLoading&&c.jsx(xr,{}),_.isError&&c.jsx(Rr,{onRetry:_.refetch}),!_.isLoading&&!_.isError&&c.jsxs(c.Fragment,{children:[!((O=_.data)!=null&&O.length)&&c.jsx(La,{description:"No hay informativos con los filtros actuales."}),_.data&&_.data.length>0&&c.jsx($a,{columns:w,rows:_.data})]}),c.jsxs("div",{className:"card p-4",children:[c.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Enviar correo interno"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Mdulo preparado para conectar a Edge Function."})]}),c.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[x&&c.jsx("span",{className:"badge",children:x}),v&&c.jsx("span",{className:"text-xs font-semibold text-red-600",children:v})]})]}),c.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Destinatarios"}),c.jsxs("select",{className:"input",value:a,onChange:C=>i(C.target.value),children:[c.jsx("option",{value:"todos",children:"Todos"}),c.jsx("option",{value:"por_terminal",children:"Por terminal"}),c.jsx("option",{value:"manual",children:"Lista manual"})]})]}),a==="por_terminal"&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Terminal objetivo"}),c.jsx("select",{className:"input",value:s,onChange:C=>o(C.target.value),children:Ma.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),a==="manual"&&c.jsxs("div",{className:"space-y-1 md:col-span-2",children:[c.jsx("label",{className:"label",children:"Correos (separados por coma)"}),c.jsx("input",{className:"input",value:l,onChange:C=>u(C.target.value),placeholder:"correo1@dominio.com, correo2@dominio.com"})]}),c.jsxs("div",{className:"md:col-span-3 grid gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Asunto"}),c.jsx("input",{className:"input",value:d,onChange:C=>f(C.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Mensaje"}),c.jsx("textarea",{className:"input min-h-[120px]",value:h,onChange:C=>p(C.target.value),placeholder:"Contenido del correo"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{className:"btn btn-primary",onClick:T,disabled:g||!d||!h,children:g?"Enviando...":"Enviar (mock)"})})]})]})]})]})},gX=["ISAAC AVILA","CLAUDIO ARRIAGADA","CRISTIAN LURASCHI"],xX={EL_ROBLE:"CRISTIAN LURASCHI",LA_REINA:"CRISTIAN LURASCHI"},_l=e=>e.trim().replace(/\s+/g," ").toUpperCase(),Ov=e=>{const t=_l(e);return gX.includes(t)},yX=e=>xX[e]??"",Cv=({data:e,isLoading:t})=>{if(t)return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((n,a)=>c.jsxs("div",{className:"card p-4 animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),c.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},a))});if(!e)return null;const r=[{label:"Pendientes Hoy",value:e.pendingToday,icon:"clock",bgClass:"bg-warning-50 border-warning-200",textClass:"text-warning-700",iconClass:"text-warning-500"},{label:"Pendientes Total",value:e.pendingTotal,icon:"inbox",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",iconClass:"text-orange-500"},{label:"Autorizados (30d)",value:e.authorizedRange,icon:"check-circle",bgClass:"bg-success-50 border-success-200",textClass:"text-success-700",iconClass:"text-success-500"},{label:"Rechazados (30d)",value:e.rejectedRange,icon:"x",bgClass:"bg-danger-50 border-danger-200",textClass:"text-danger-700",iconClass:"text-danger-500"}];return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map(n=>c.jsxs("div",{className:`card p-4 ${n.bgClass}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(ce,{name:n.icon,size:18,className:n.iconClass}),c.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:n.label})]}),c.jsx("p",{className:`text-2xl font-bold ${n.textClass}`,children:n.value})]},n.label))})},qs=({mode:e,itemName:t,onConfirm:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState(""),o=u=>{u.preventDefault(),!(e==="reject"&&!i.trim())&&r(i.trim()||void 0)},l=e==="authorize";return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),c.jsxs("div",{className:"relative w-full max-w-md card p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${l?"bg-success-100":"bg-danger-100"}`,children:c.jsx(ce,{name:l?"check-circle":"x",size:24,className:l?"text-success-600":"text-danger-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:l?"Autorizar Registro":"Rechazar Registro"}),c.jsx("p",{className:"text-sm text-slate-600",children:l?`Confirmas la autorizacin de "${t}"?`:`Confirmas el rechazo de "${t}"?`})]})]}),c.jsxs("form",{onSubmit:o,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"label",children:l?"Comentario (opcional)":"Motivo del rechazo *"}),c.jsx("textarea",{className:"input min-h-[80px]",value:i,onChange:u=>s(u.target.value),placeholder:l?"Agregar comentario...":"Describe el motivo del rechazo...",required:!l})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),c.jsx("button",{type:"submit",className:`btn ${l?"btn-success":"btn-danger"}`,disabled:a||!l&&!i.trim(),children:a?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):l?"Autorizar":"Rechazar"})]})]})]})]})},kv=({value:e,onChange:t,onStaffFound:r,disabled:n})=>{const[a,i]=A.useState(""),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(!1);A.useEffect(()=>{e&&i(En(e))},[e]);const h=m=>{if(i(m),u(null),f(!1),y1(m).valid){const b=wl(m);t(b),p(b)}else t(""),r(null)},p=async m=>{o(!0);try{const x=await FG(m);x?(f(!0),r(x)):(u("RUT no encontrado en Personal"),r(null))}catch{u("Error al buscar RUT"),r(null)}finally{o(!1)}},g=()=>{e&&i(En(e))};return c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"RUT"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:`input pr-10 ${l?"border-danger-500":d?"border-success-500":""}`,value:a,onChange:m=>h(m.target.value),onBlur:g,placeholder:"12.345.678-9",disabled:n}),c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s?c.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-400",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d?c.jsx(ce,{name:"check-circle",size:18,className:"text-success-500"}):l?c.jsx(ce,{name:"x",size:18,className:"text-danger-500"}):c.jsx(ce,{name:"search",size:18,className:"text-slate-400"})})]}),l&&c.jsx("p",{className:"mt-1 text-xs text-danger-600",children:l}),d&&c.jsx("p",{className:"mt-1 text-xs text-success-600",children:"Datos cargados desde Personal"})]})},bX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",area:"Logstica",cargo:"",jefe_terminal:"",terminal_code:"EL_ROBLE",cabezal:"",incident_state:"",schedule_in_out:"",date:new Date().toISOString().split("T")[0],time_range:"",observations:"",informed_by:t,...e});A.useEffect(()=>{const u=yX(i.terminal_code);u&&s(d=>({...d,jefe_terminal:u}))},[i.terminal_code]);const o=u=>{u&&s(d=>({...d,nombre:u.nombre,cargo:u.cargo,terminal_code:u.terminal_code}))},l=u=>{u.preventDefault(),r(i)};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(kv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre"}),c.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"rea"}),c.jsx("input",{type:"text",className:"input",value:i.area,onChange:u=>s(d=>({...d,area:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cargo"}),c.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:u=>s(d=>({...d,cargo:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:Ma.map(u=>c.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Jefe de Terminal"}),c.jsx("input",{type:"text",className:"input",value:i.jefe_terminal,onChange:u=>s(d=>({...d,jefe_terminal:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cabezal"}),c.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Estado (Incidente)"}),c.jsx("input",{type:"text",className:"input",value:i.incident_state,onChange:u=>s(d=>({...d,incident_state:u.target.value}))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Horario Entrada/Salida"}),c.jsx("input",{type:"text",className:"input",value:i.schedule_in_out,onChange:u=>s(d=>({...d,schedule_in_out:u.target.value})),placeholder:"08:00-18:00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha"}),c.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Horario (Rango)"}),c.jsx("input",{type:"text",className:"input",value:i.time_range,onChange:u=>s(d=>({...d,time_range:u.target.value})),placeholder:"10:00-14:00"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Observaciones"}),c.jsx("textarea",{className:"input min-h-[80px]",value:i.observations,onChange:u=>s(d=>({...d,observations:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Informado Por"}),c.jsx("input",{type:"text",className:"input",value:i.informed_by,onChange:u=>s(d=>({...d,informed_by:u.target.value}))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},W_=async e=>{const{data:t,error:r}=await be.from("app_configuration").select("value").eq("key",e).single();return r?(r.code==="PGRST116"||console.error(`Error fetching config ${e}:`,r),null):t.value},wX=async(e,t,r)=>{const{error:n}=await be.from("app_configuration").upsert({key:e,value:t,description:r},{onConflict:"key"});if(n)throw console.error(`Error updating config ${e}:`,n),n},_X=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=be.from("attendance_no_marcaciones").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}t!=null&&t.date_from&&(n=n.gte("date",t.date_from)),t!=null&&t.date_to&&(n=n.lte("date",t.date_to));const{data:a,error:i}=await n;if(i)throw i;return a||[]},SX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_no_marcaciones").insert({...e,created_by_supervisor:_l(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar el registro de No Marcacin"),n;try{await Pv("No Marcaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{rea:e.area||"",Cargo:e.cargo||"","Jefe Terminal":e.jefe_terminal||"",Observaciones:e.observations||""}}),ni("Registro creado exitosamente",`No Marcacin para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`No Marcacin para ${e.nombre} guardado (correo no enviado)`,t)}return r},EX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_no_marcaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},jX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=be.from("attendance_sin_credenciales").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},TX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_sin_credenciales").insert({...e,created_by_supervisor:_l(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar el registro de Sin Credenciales"),n;try{await Pv("Sin Credenciales",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{Cabezal:e.cabezal||"",Horario:`${e.start_time||""} - ${e.end_time||""}`,Cargo:e.cargo||"","Supervisor Autoriza":e.supervisor_autoriza||""}}),ni("Registro creado exitosamente",`Sin Credenciales para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`Sin Credenciales para ${e.nombre} guardado (correo no enviado)`,t)}return r},AX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_sin_credenciales").update(t).eq("id",e).select().single();if(n)throw n;return r},NX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=be.from("attendance_cambios_dia").select("*").in("terminal_code",r).order("date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},OX=async(e,t)=>{let r=null;if(e.document){const u=e.document.name.split(".").pop(),d=`cambios-dia/${Date.now()}.${u}`,{error:f}=await be.storage.from("attendance-docs").upload(d,e.document);if(f)throw console.error("Storage Upload Error Detail:",f),Qa("Error al subir documento","Verifica que el archivo sea imagen o PDF y menor a 5MB"),new Error(`Error al subir documento: ${f.message}`);r=d}const{document:n,...a}=e,i={...a,document_path:r,created_by_supervisor:_l(t)};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(u=>{i[u]===""&&(i[u]=null)});const{data:o,error:l}=await be.from("attendance_cambios_dia").insert(i).select().single();if(l)throw Qa("Error al crear registro","No se pudo guardar el registro de Cambio de Da"),l;try{let u="No adjunto";if(r){const{data:d}=be.storage.from("attendance-docs").getPublicUrl(r);u=`<a href="${d.publicUrl}" target="_blank" style="color: #2563eb; text-decoration: underline; font-weight: 700;">Ver Documento Adjunto</a>`}await Pv("Cambios de Da",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.date,createdBy:t,details:{"Jornada Programada":`${e.prog_start||""} - ${e.prog_end||""}`,"Da No Trabaja":e.day_off_date||"","Da Trabaja":e.day_on_date||"",Documento:u}}),ni("Registro creado exitosamente",`Cambio de Da para ${e.nombre} guardado y correo enviado`,t)}catch{ni("Registro creado",`Cambio de Da para ${e.nombre} guardado (correo no enviado)`,t)}return o},CX=async(e,t)=>{const{document:r,...n}=t,a={...n};["day_off_date","day_on_date","prog_start","prog_end","reprogram_start","reprogram_end","day_off_start","day_off_end","day_on_start","day_on_end"].forEach(l=>{a[l]===""&&(a[l]=null)});const{data:s,error:o}=await be.from("attendance_cambios_dia").update(a).eq("id",e).select().single();if(o)throw o;return s},kX=async e=>{const{data:t,error:r}=await be.storage.from("attendance-docs").createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},PX=async(e,t)=>{if(!jn())return[];const r=Xi(e);let n=be.from("attendance_autorizaciones").select("*").in("terminal_code",r).order("authorization_date",{ascending:!1});if(t!=null&&t.auth_status&&t.auth_status!=="todos"&&(n=n.eq("auth_status",t.auth_status)),t!=null&&t.search){const s=`%${t.search}%`;n=n.or(`nombre.ilike.${s},rut.ilike.${s}`)}const{data:a,error:i}=await n;if(i)throw i;return a||[]},RX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_autorizaciones").insert({...e,created_by_supervisor:_l(t)}).select().single();if(n)throw Qa("Error al crear registro","No se pudo guardar la autorizacin"),n;try{await Pv("Autorizaciones",{rut:e.rut,nombre:e.nombre,terminal:e.terminal_code,date:e.authorization_date,createdBy:t,details:{Tipo:e.entry_or_exit==="ENTRADA"?"Llegada Tarda":"Retiro Anticipado",Horario:e.horario||"",Turno:e.turno||"",Motivo:e.motivo||""}}),ni("Registro creado exitosamente",`Autorizacin para ${e.nombre} guardada y correo enviado`,t)}catch{ni("Registro creado",`Autorizacin para ${e.nombre} guardada (correo no enviado)`,t)}return r},IX=async(e,t)=>{const{data:r,error:n}=await be.from("attendance_autorizaciones").update(t).eq("id",e).select().single();if(n)throw n;return r},DX=async(e,t,r)=>{const{error:n}=await be.from(e).update({auth_status:"AUTORIZADO",authorized_by:_l(r),authorized_at:new Date().toISOString()}).eq("id",t);if(n)throw n},MX=async(e,t,r,n)=>{const{error:a}=await be.from(e).update({auth_status:"RECHAZADO",authorized_by:_l(r),authorized_at:new Date().toISOString(),rejection_reason:n}).eq("id",t);if(a)throw a},$X=async(e,t,r="date")=>{if(!jn())return{pendingToday:0,pendingTotal:0,authorizedRange:0,rejectedRange:0};const n=Xi(t),a=new Date().toISOString().split("T")[0],{count:i}=await be.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE").eq(r,a),{count:s}=await be.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","PENDIENTE"),o=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],{count:l}=await be.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","AUTORIZADO").gte(r,o),{count:u}=await be.from(e).select("*",{count:"exact",head:!0}).in("terminal_code",n).eq("auth_status","RECHAZADO").gte(r,o);return{pendingToday:i??0,pendingTotal:s??0,authorizedRange:l??0,rejectedRange:u??0}},LX=(e,t)=>{const r=be.channel("attendance-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_no_marcaciones"},()=>e("attendance_no_marcaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_no_marcaciones"},()=>t("attendance_no_marcaciones")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_sin_credenciales"},()=>e("attendance_sin_credenciales")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_sin_credenciales"},()=>t("attendance_sin_credenciales")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_cambios_dia"},()=>e("attendance_cambios_dia")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_cambios_dia"},()=>t("attendance_cambios_dia")).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_autorizaciones"},()=>e("attendance_autorizaciones")).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendance_autorizaciones"},()=>t("attendance_autorizaciones")).subscribe();return()=>{be.removeChannel(r)}},tR="isaac.avila@transdev.cl",hn={check:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
        <path d="M18 28L24 34L38 20" stroke="#16a34a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,x:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fee2e2" stroke="#ef4444" stroke-width="3"/>
        <path d="M20 20L36 36M36 20L20 36" stroke="#dc2626" stroke-width="4" stroke-linecap="round"/>
    </svg>`,clock:`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="28" cy="28" r="26" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <circle cx="28" cy="28" r="3" fill="#d97706"/>
        <path d="M28 16V28L36 33" stroke="#d97706" stroke-width="3" stroke-linecap="round"/>
    </svg>`,user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`},rR=e=>new Date(e+"T12:00:00").toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Aa=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 12px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,nR=async(e,t,r,n,a,i,s)=>{const o=e==="AUTORIZADO",l=o?"#16a34a":"#dc2626",u=o?"#f0fdf4":"#fef2f2",d=o?"#bbf7d0":"#fecaca",f=o?hn.check:hn.x,h=`${t} ${e} - ${n}`,p=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: ${u}; border: 1px solid ${d}; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${f}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 20px; font-weight: 800; color: ${l}; letter-spacing: -0.5px;">${e}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Aa(hn.id,"Subseccin",t,!0)}
            ${Aa(hn.id,"RUT",r)}
            ${Aa(hn.user,"Trabajador",n)}
            ${Aa(hn.building,"Terminal",Ge(a))}
            ${Aa(hn.calendar,"Fecha",rR(i))}
            ${s?Aa(hn.id,"Motivo",s,!0):""}
        </table>
    `.trim(),g=await W_("email_notifications"),m=g!=null&&g.to&&g.to.length>0?g.to:[tR],x=(g==null?void 0:g.cc)||[];try{await nl.sendEmail({audience:"manual",manualRecipients:m,cc:x,subject:h,body:p})}catch(b){console.error("Error sending authorization email:",b)}},Pv=async(e,t)=>{const r=t.details?Object.entries(t.details).filter(([l,u])=>u&&u.trim()).map(([l,u])=>Aa(hn.id,l,u)).join(""):"",n=`Nuevo Registro: ${e} - ${t.nombre}`,a=`
        <!-- Status Banner -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td style="background: #fffbeb; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td align="center" style="padding-bottom: 8px;">
                                ${hn.clock}
                            </td>
                        </tr>
                        <tr>
                            <td align="center">
                                <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Estado del Registro</span>
                                <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">PENDIENTE DE AUTORIZACIN</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        
        <!-- Subsection Badge -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
            <tr>
                <td align="center">
                    <span style="display: inline-block; padding: 8px 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 100px; color: #2563eb; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${e}</span>
                </td>
            </tr>
        </table>
        
        <!-- Data Table -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate;">
            ${Aa(hn.id,"RUT",t.rut)}
            ${Aa(hn.user,"Trabajador",t.nombre,!0)}
            ${Aa(hn.building,"Terminal",Ge(t.terminal))}
            ${Aa(hn.calendar,"Fecha",rR(t.date))}
            ${r}
        </table>
        
        <!-- Registered By -->
        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top: 24px;">
            <tr>
                <td style="padding: 16px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                        <tr>
                            <td width="40" style="padding-right: 12px; vertical-align: middle;">
                                <div style="width: 40px; height: 40px; background: #2563eb; border-radius: 50%; text-align: center; line-height: 40px; color: white; font-weight: 700; font-size: 16px;">${t.createdBy.charAt(0)}</div>
                            </td>
                            <td style="vertical-align: middle;">
                                <span style="display: block; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;">Registrado por</span>
                                <span style="display: block; font-size: 14px; font-weight: 700; color: #0f172a;">${t.createdBy}</span>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    `.trim(),i=await W_("email_notifications"),s=i!=null&&i.to&&i.to.length>0?i.to:[tR],o=(i==null?void 0:i.cc)||[];try{await nl.sendEmail({audience:"manual",manualRecipients:s,cc:o,subject:n,body:a})}catch(l){console.error("Error sending record created email:",l)}},Rv=[{value:"todos",label:"Todos"},{value:"PENDIENTE",label:"Pendiente"},{value:"AUTORIZADO",label:"Autorizado"},{value:"RECHAZADO",label:"Rechazado"}],aR=[{value:"ENTRADA",label:"Llegada Tarda"},{value:"SALIDA",label:"Retiro Anticipado"}],iR={"no-marcaciones":"No Marcaciones","sin-credenciales":"Sin Credenciales","cambios-dia":"Cambios de Da",autorizaciones:"Autorizaciones"},Bt={all:["attendance"],noMarcaciones:(e,t)=>[...Bt.all,"no-marcaciones",e,t],sinCredenciales:(e,t)=>[...Bt.all,"sin-credenciales",e,t],cambiosDia:(e,t)=>[...Bt.all,"cambios-dia",e,t],autorizaciones:(e,t)=>[...Bt.all,"autorizaciones",e,t],kpis:(e,t)=>[...Bt.all,"kpis",e,t]},FX=(e,t)=>Tt({queryKey:Bt.noMarcaciones(e,t),queryFn:()=>_X(e,t)}),BX=(e,t)=>Tt({queryKey:Bt.sinCredenciales(e,t),queryFn:()=>jX(e,t)}),UX=(e,t)=>Tt({queryKey:Bt.cambiosDia(e,t),queryFn:()=>NX(e,t)}),zX=(e,t)=>Tt({queryKey:Bt.autorizaciones(e,t),queryFn:()=>PX(e,t)}),H_={"no-marcaciones":"attendance_no_marcaciones","sin-credenciales":"attendance_sin_credenciales","cambios-dia":"attendance_cambios_dia",autorizaciones:"attendance_autorizaciones"},WX={"no-marcaciones":"date","sin-credenciales":"date","cambios-dia":"date",autorizaciones:"authorization_date"},Iv=(e,t)=>Tt({queryKey:Bt.kpis(e,t),queryFn:()=>$X(H_[e],t,WX[e])}),HX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>SX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},qX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>TX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},VX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>OX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},KX=()=>{const e=qt();return Qt({mutationFn:({values:t,createdBy:r})=>RX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},GX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>EX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},XX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>AX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},YX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>CX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},QX=()=>{const e=qt();return Qt({mutationFn:({id:t,values:r})=>IX(t,r),onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},Dv=()=>{const e=qt();return Qt({mutationFn:async({subsection:t,id:r,authorizedBy:n,rut:a,nombre:i,terminal:s,date:o})=>{await DX(H_[t],r,n),await nR("AUTORIZADO",iR[t],a,i,s,o)},onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},Mv=()=>{const e=qt();return Qt({mutationFn:async({subsection:t,id:r,authorizedBy:n,reason:a,rut:i,nombre:s,terminal:o,date:l})=>{await MX(H_[t],r,n,a),await nR("RECHAZADO",iR[t],i,s,o,l,a)},onSuccess:()=>e.invalidateQueries({queryKey:Bt.all})})},$v=()=>{const e=qt();A.useEffect(()=>{const t=LX(()=>e.invalidateQueries({queryKey:Bt.all}),()=>e.invalidateQueries({queryKey:Bt.all}));return()=>{t()}},[e])},JX=()=>{const e=qe(w=>w.context),t=qe(w=>w.setContext),r=zn(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Ov(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),u=FX(e,i),d=Iv("no-marcaciones",e),f=HX(),h=GX(),p=Dv(),g=Mv();$v();const m=[{key:"rut",header:"RUT",value:w=>En(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"area",header:"rea",value:w=>w.area},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"jefe_terminal",header:"Jefe Terminal",value:w=>w.jefe_terminal},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"incident_state",header:"Estado",value:w=>w.incident_state},{key:"date",header:"Fecha",value:w=>w.date},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"no-marcaciones",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"no-marcaciones",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return c.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return c.jsx("span",{className:"badge badge-danger",children:w});default:return c.jsx("span",{className:"badge badge-warning",children:w})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"No Marcaciones",description:"Registros de no marcacin de personal",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[c.jsx(ce,{name:"clipboard",size:18})," Nuevo Registro"]}),c.jsx(qr,{onExportView:()=>dt({filename:"no_marcaciones",sheetName:"Datos",rows:u.data||[],columns:m}),onExportAll:()=>dt({filename:"no_marcaciones_all",sheetName:"Datos",rows:u.data||[],columns:m})})]})}),c.jsx(Cv,{data:d.data,isLoading:d.isLoading}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Rv.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Buscar"}),c.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),u.isLoading&&c.jsx(xr,{label:"Cargando registros..."}),u.isError&&c.jsx(Rr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"RUT"}),c.jsx("th",{className:"table-header-cell",children:"Nombre"}),c.jsx("th",{className:"table-header-cell",children:"Terminal"}),c.jsx("th",{className:"table-header-cell",children:"Fecha"}),c.jsx("th",{className:"table-header-cell",children:"Estado"}),c.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),c.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"table-body",children:(u.data||[]).map(w=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-mono text-sm",children:En(w.rut)}),c.jsx("td",{className:"table-cell font-medium",children:w.nombre}),c.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),c.jsx("td",{className:"table-cell",children:w.date}),c.jsx("td",{className:"table-cell",children:w.incident_state||"-"}),c.jsx("td",{className:"table-cell",children:_(w.auth_status)}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&c.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:c.jsx(ce,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:c.jsx(ce,{name:"check-circle",size:16})}),c.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:c.jsx(ce,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),c.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),c.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),c.jsx(bX,{initialData:o.type==="edit"?{...o.record,area:o.record.area??"Logstica",cargo:o.record.cargo??"",jefe_terminal:o.record.jefe_terminal??"",cabezal:o.record.cabezal??"",incident_state:o.record.incident_state??"",schedule_in_out:o.record.schedule_in_out??"",time_range:o.record.time_range??"",observations:o.record.observations??"",informed_by:o.record.informed_by??n}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&c.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&c.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},ZX=({initialData:e,supervisorName:t,onSubmit:r,onCancel:n,isLoading:a})=>{const[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",cargo:"",supervisor_autoriza:t,area:"Logstica",responsable:"",observacion:"",...e}),o=u=>{if(u){const[d,f]=(u.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:u.nombre,cargo:u.cargo,terminal_code:u.terminal_code,start_time:h,end_time:p}))}},l=u=>{u.preventDefault(),r(i)};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(kv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre"}),c.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:Ma.map(u=>c.jsx("option",{value:u.value,children:u.label},u.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cabezal"}),c.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha"}),c.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Hora Inicio"}),c.jsx("input",{type:"time",className:"input",value:i.start_time,onChange:u=>s(d=>({...d,start_time:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Hora Fin"}),c.jsx("input",{type:"time",className:"input",value:i.end_time,onChange:u=>s(d=>({...d,end_time:u.target.value}))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cargo"}),c.jsx("input",{type:"text",className:"input",value:i.cargo,onChange:u=>s(d=>({...d,cargo:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Supervisor Autoriza"}),c.jsx("input",{type:"text",className:"input",value:i.supervisor_autoriza,onChange:u=>s(d=>({...d,supervisor_autoriza:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"rea"}),c.jsx("input",{type:"text",className:"input",value:i.area,onChange:u=>s(d=>({...d,area:u.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Responsable"}),c.jsx("input",{type:"text",className:"input",value:i.responsable,onChange:u=>s(d=>({...d,responsable:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Observacin"}),c.jsx("textarea",{className:"input min-h-[80px]",value:i.observacion,onChange:u=>s(d=>({...d,observacion:u.target.value}))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},eY=()=>{const e=qe(w=>w.context),t=qe(w=>w.setContext),r=zn(w=>w.session),n=(r==null?void 0:r.supervisorName)??"",a=Ov(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),u=BX(e,i),d=Iv("sin-credenciales",e),f=qX(),h=XX(),p=Dv(),g=Mv();$v();const m=[{key:"rut",header:"RUT",value:w=>En(w.rut)},{key:"nombre",header:"Nombre",value:w=>w.nombre},{key:"terminal",header:"Terminal",value:w=>Ge(w.terminal_code)},{key:"cabezal",header:"Cabezal",value:w=>w.cabezal},{key:"date",header:"Fecha",value:w=>w.date},{key:"start_time",header:"Hora Inicio",value:w=>w.start_time},{key:"end_time",header:"Hora Fin",value:w=>w.end_time},{key:"cargo",header:"Cargo",value:w=>w.cargo},{key:"supervisor_autoriza",header:"Supervisor Autoriza",value:w=>w.supervisor_autoriza},{key:"auth_status",header:"Autorizacin",value:w=>w.auth_status}],x=async w=>{await f.mutateAsync({values:w,createdBy:n}),l({type:"none"})},b=async w=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:w}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const w=o.record;await p.mutateAsync({subsection:"sin-credenciales",id:w.id,authorizedBy:n,rut:w.rut,nombre:w.nombre,terminal:w.terminal_code,date:w.date}),l({type:"none"})},y=async w=>{if(o.type!=="reject"||!w)return;const S=o.record;await g.mutateAsync({subsection:"sin-credenciales",id:S.id,authorizedBy:n,reason:w,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},_=w=>{switch(w){case"AUTORIZADO":return c.jsx("span",{className:"badge badge-success",children:w});case"RECHAZADO":return c.jsx("span",{className:"badge badge-danger",children:w});default:return c.jsx("span",{className:"badge badge-warning",children:w})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Sin Credenciales",description:"Registros de personal sin credencial",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[c.jsx(ce,{name:"key",size:18})," Nuevo Registro"]}),c.jsx(qr,{onExportView:()=>dt({filename:"sin_credenciales",sheetName:"Datos",rows:u.data||[],columns:m}),onExportAll:()=>dt({filename:"sin_credenciales_all",sheetName:"Datos",rows:u.data||[],columns:m})})]})}),c.jsx(Cv,{data:d.data,isLoading:d.isLoading}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsx("select",{className:"input",value:i.auth_status,onChange:w=>s(S=>({...S,auth_status:w.target.value})),children:Rv.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Buscar"}),c.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:w=>s(S=>({...S,search:w.target.value}))})]})]}),u.isLoading&&c.jsx(xr,{label:"Cargando registros..."}),u.isError&&c.jsx(Rr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"RUT"}),c.jsx("th",{className:"table-header-cell",children:"Nombre"}),c.jsx("th",{className:"table-header-cell",children:"Terminal"}),c.jsx("th",{className:"table-header-cell",children:"Cabezal"}),c.jsx("th",{className:"table-header-cell",children:"Fecha"}),c.jsx("th",{className:"table-header-cell",children:"Hora"}),c.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),c.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"table-body",children:(u.data||[]).map(w=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-mono text-sm",children:En(w.rut)}),c.jsx("td",{className:"table-cell font-medium",children:w.nombre}),c.jsx("td",{className:"table-cell",children:Ge(w.terminal_code)}),c.jsx("td",{className:"table-cell",children:w.cabezal||"-"}),c.jsx("td",{className:"table-cell",children:w.date}),c.jsxs("td",{className:"table-cell",children:[w.start_time," - ",w.end_time]}),c.jsx("td",{className:"table-cell",children:_(w.auth_status)}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[w.auth_status==="PENDIENTE"&&c.jsx("button",{onClick:()=>l({type:"edit",record:w}),className:"btn btn-ghost btn-icon",title:"Editar",children:c.jsx(ce,{name:"clipboard",size:16})}),a&&w.auth_status==="PENDIENTE"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>l({type:"authorize",record:w}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:c.jsx(ce,{name:"check-circle",size:16})}),c.jsx("button",{onClick:()=>l({type:"reject",record:w}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:c.jsx(ce,{name:"x",size:16})})]})]})})]},w.id))})]})}),(o.type==="create"||o.type==="edit")&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),c.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),c.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),c.jsx(ZX,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",start_time:o.record.start_time??"",end_time:o.record.end_time??"",cargo:o.record.cargo??"",supervisor_autoriza:o.record.supervisor_autoriza??"",area:o.record.area??"",responsable:o.record.responsable??"",observacion:o.record.observacion??""}:void 0,supervisorName:n,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&c.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&c.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},tY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const a=A.useRef(null),[i,s]=A.useState({rut:"",nombre:"",terminal_code:"EL_ROBLE",cabezal:"",date:new Date().toISOString().split("T")[0],prog_start:"",prog_end:"",reprogram_start:"",reprogram_end:"",day_off_date:"",day_off_start:"",day_off_end:"",day_on_date:"",day_on_start:"",day_on_end:"",document:null,...e}),o=u=>{if(u){const[d,f]=(u.horario||"").split("-"),h=(d==null?void 0:d.trim())||"",p=(f==null?void 0:f.trim())||"";s(g=>({...g,nombre:u.nombre,terminal_code:u.terminal_code,prog_start:h,prog_end:p,day_off_start:h,day_off_end:p,day_on_start:h,day_on_end:p}))}},l=u=>{u.preventDefault(),t(i)};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(kv,{value:i.rut,onChange:u=>s(d=>({...d,rut:u})),onStaffFound:o,disabled:!!(e!=null&&e.rut)}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre"}),c.jsx("input",{type:"text",className:"input",value:i.nombre,onChange:u=>s(d=>({...d,nombre:u.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsx("select",{className:"input",value:i.terminal_code,onChange:u=>s(d=>({...d,terminal_code:u.target.value})),required:!0,children:Ma.map(u=>c.jsx("option",{value:u.value,children:u.label},u.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cabezal"}),c.jsx("input",{type:"text",className:"input",value:i.cabezal,onChange:u=>s(d=>({...d,cabezal:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha Registro"}),c.jsx("input",{type:"date",className:"input",value:i.date,onChange:u=>s(d=>({...d,date:u.target.value})),required:!0})]})]}),c.jsxs("div",{className:"card p-4 bg-brand-50 border-brand-200",children:[c.jsx("h4",{className:"font-semibold text-brand-800 mb-3",children:"Jornada Programada (desde Personal)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Entrada"}),c.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_start,onChange:u=>s(d=>({...d,prog_start:u.target.value})),placeholder:"--:--",readOnly:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Salida"}),c.jsx("input",{type:"text",className:"input bg-brand-100 font-medium",value:i.prog_end,onChange:u=>s(d=>({...d,prog_end:u.target.value})),placeholder:"--:--",readOnly:!0})]})]})]}),c.jsxs("div",{className:"card p-4 bg-slate-50",children:[c.jsx("h4",{className:"font-semibold text-slate-700 mb-3",children:"Da Programado (No Trabaja)"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha"}),c.jsx("input",{type:"date",className:"input",value:i.day_off_date,onChange:u=>s(d=>({...d,day_off_date:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inicio"}),c.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_start,onChange:u=>s(d=>({...d,day_off_start:u.target.value})),placeholder:"--:--"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Trmino"}),c.jsx("input",{type:"text",className:"input font-medium",value:i.day_off_end,onChange:u=>s(d=>({...d,day_off_end:u.target.value})),placeholder:"--:--"})]})]})]}),c.jsxs("div",{className:"card p-4 bg-success-50 border-success-200",children:[c.jsx("h4",{className:"font-semibold text-success-800 mb-3",children:"Da ReProgramado (Trabaja)"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha"}),c.jsx("input",{type:"date",className:"input",value:i.day_on_date,onChange:u=>s(d=>({...d,day_on_date:u.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inicio"}),c.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_start,onChange:u=>s(d=>({...d,day_on_start:u.target.value})),placeholder:"--:--"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Trmino"}),c.jsx("input",{type:"text",className:"input font-medium",value:i.day_on_end,onChange:u=>s(d=>({...d,day_on_end:u.target.value})),placeholder:"--:--"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Documento Adjunto (opcional)"}),c.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-center",children:[c.jsx("input",{ref:a,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:u=>s(d=>{var f;return{...d,document:((f=u.target.files)==null?void 0:f[0])||null}})}),i.document?c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx(ce,{name:"check-circle",size:20,className:"text-success-600"}),c.jsx("span",{className:"text-sm",children:i.document.name}),c.jsx("button",{type:"button",onClick:()=>{s(u=>({...u,document:null})),a.current&&(a.current.value="")},className:"text-danger-600",children:c.jsx(ce,{name:"x",size:18})})]}):c.jsxs("button",{type:"button",onClick:()=>{var u;return(u=a.current)==null?void 0:u.click()},className:"btn btn-secondary",children:[c.jsx(ce,{name:"image",size:18})," Seleccionar Archivo"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},rY=()=>{const e=qe(S=>S.context),t=qe(S=>S.setContext),r=zn(S=>S.session),n=(r==null?void 0:r.supervisorName)??"",a=Ov(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),u=UX(e,i),d=Iv("cambios-dia",e),f=VX(),h=YX(),p=Dv(),g=Mv();$v();const m=[{key:"rut",header:"RUT",value:S=>En(S.rut)},{key:"nombre",header:"Nombre",value:S=>S.nombre},{key:"terminal",header:"Terminal",value:S=>Ge(S.terminal_code)},{key:"cabezal",header:"Cabezal",value:S=>S.cabezal},{key:"date",header:"Fecha",value:S=>S.date},{key:"prog_start",header:"Prog. Inicio",value:S=>S.prog_start},{key:"prog_end",header:"Prog. Fin",value:S=>S.prog_end},{key:"reprogram_start",header:"Reprog. Inicio",value:S=>S.reprogram_start},{key:"reprogram_end",header:"Reprog. Fin",value:S=>S.reprogram_end},{key:"auth_status",header:"Autorizacin",value:S=>S.auth_status}],x=async S=>{await f.mutateAsync({values:S,createdBy:n}),l({type:"none"})},b=async S=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:S}),l({type:"none"}))},v=async()=>{if(o.type!=="authorize")return;const S=o.record;await p.mutateAsync({subsection:"cambios-dia",id:S.id,authorizedBy:n,rut:S.rut,nombre:S.nombre,terminal:S.terminal_code,date:S.date}),l({type:"none"})},y=async S=>{if(o.type!=="reject"||!S)return;const E=o.record;await g.mutateAsync({subsection:"cambios-dia",id:E.id,authorizedBy:n,reason:S,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.date}),l({type:"none"})},_=async S=>{try{const E=await kX(S);window.open(E,"_blank")}catch(E){console.error("Error getting document URL:",E)}},w=S=>{switch(S){case"AUTORIZADO":return c.jsx("span",{className:"badge badge-success",children:S});case"RECHAZADO":return c.jsx("span",{className:"badge badge-danger",children:S});default:return c.jsx("span",{className:"badge badge-warning",children:S})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Cambios de Da",description:"Reprogramaciones de jornada laboral",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[c.jsx(ce,{name:"calendar",size:18})," Nuevo Registro"]}),c.jsx(qr,{onExportView:()=>dt({filename:"cambios_dia",sheetName:"Datos",rows:u.data||[],columns:m}),onExportAll:()=>dt({filename:"cambios_dia_all",sheetName:"Datos",rows:u.data||[],columns:m})})]})}),c.jsx(Cv,{data:d.data,isLoading:d.isLoading}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsx("select",{className:"input",value:i.auth_status,onChange:S=>s(E=>({...E,auth_status:S.target.value})),children:Rv.map(S=>c.jsx("option",{value:S.value,children:S.label},S.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Buscar"}),c.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:S=>s(E=>({...E,search:S.target.value}))})]})]}),u.isLoading&&c.jsx(xr,{label:"Cargando registros..."}),u.isError&&c.jsx(Rr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"RUT"}),c.jsx("th",{className:"table-header-cell",children:"Nombre"}),c.jsx("th",{className:"table-header-cell",children:"Terminal"}),c.jsx("th",{className:"table-header-cell",children:"Fecha"}),c.jsx("th",{className:"table-header-cell",children:"Jornada Prog."}),c.jsx("th",{className:"table-header-cell",children:"Jornada Reprog."}),c.jsx("th",{className:"table-header-cell",children:"Doc"}),c.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),c.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"table-body",children:(u.data||[]).map(S=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-mono text-sm",children:En(S.rut)}),c.jsx("td",{className:"table-cell font-medium",children:S.nombre}),c.jsx("td",{className:"table-cell",children:Ge(S.terminal_code)}),c.jsx("td",{className:"table-cell",children:S.date}),c.jsxs("td",{className:"table-cell text-xs",children:[S.prog_start," - ",S.prog_end]}),c.jsxs("td",{className:"table-cell text-xs",children:[S.reprogram_start," - ",S.reprogram_end]}),c.jsx("td",{className:"table-cell",children:S.document_path?c.jsx("button",{onClick:()=>_(S.document_path),className:"text-brand-600 hover:underline",children:c.jsx(ce,{name:"image",size:16})}):"-"}),c.jsx("td",{className:"table-cell",children:w(S.auth_status)}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[S.auth_status==="PENDIENTE"&&c.jsx("button",{onClick:()=>l({type:"edit",record:S}),className:"btn btn-ghost btn-icon",title:"Editar",children:c.jsx(ce,{name:"clipboard",size:16})}),a&&S.auth_status==="PENDIENTE"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>l({type:"authorize",record:S}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:c.jsx(ce,{name:"check-circle",size:16})}),c.jsx("button",{onClick:()=>l({type:"reject",record:S}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:c.jsx(ce,{name:"x",size:16})})]})]})})]},S.id))})]})}),(o.type==="create"||o.type==="edit")&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),c.jsxs("div",{className:"relative w-full max-w-4xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nuevo Registro":"Editar Registro"}),c.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),c.jsx(tY,{initialData:o.type==="edit"?{...o.record,cabezal:o.record.cabezal??"",prog_start:o.record.prog_start??"",prog_end:o.record.prog_end??"",reprogram_start:o.record.reprogram_start??"",reprogram_end:o.record.reprogram_end??"",day_off_date:o.record.day_off_date??"",day_off_start:o.record.day_off_start??"",day_off_end:o.record.day_off_end??"",day_on_date:o.record.day_on_date??"",day_on_start:o.record.day_on_start??"",day_on_end:o.record.day_on_end??"",document:null}:void 0,onSubmit:o.type==="create"?x:b,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&c.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:v,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&c.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},nY=({initialData:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=A.useState({rut:"",nombre:"",cargo:"",terminal_code:"EL_ROBLE",turno:"",horario:"",authorization_date:new Date().toISOString().split("T")[0],entry_or_exit:"ENTRADA",motivo:"",...e}),s=l=>{l&&i(u=>({...u,nombre:l.nombre,cargo:l.cargo,terminal_code:l.terminal_code,turno:l.turno,horario:l.horario}))},o=l=>{l.preventDefault(),t(a)};return c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(kv,{value:a.rut,onChange:l=>i(u=>({...u,rut:l})),onStaffFound:s,disabled:!!(e!=null&&e.rut)}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nombre"}),c.jsx("input",{type:"text",className:"input",value:a.nombre,onChange:l=>i(u=>({...u,nombre:l.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Cargo"}),c.jsx("input",{type:"text",className:"input",value:a.cargo,onChange:l=>i(u=>({...u,cargo:l.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Terminal"}),c.jsx("select",{className:"input",value:a.terminal_code,onChange:l=>i(u=>({...u,terminal_code:l.target.value})),required:!0,children:Ma.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Turno"}),c.jsx("input",{type:"text",className:"input",value:a.turno,onChange:l=>i(u=>({...u,turno:l.target.value}))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Horario"}),c.jsx("input",{type:"text",className:"input",value:a.horario,onChange:l=>i(u=>({...u,horario:l.target.value})),placeholder:"08:00-18:00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Fecha de Autorizacin"}),c.jsx("input",{type:"date",className:"input",value:a.authorization_date,onChange:l=>i(u=>({...u,authorization_date:l.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Tipo"}),c.jsx("select",{className:"input",value:a.entry_or_exit,onChange:l=>i(u=>({...u,entry_or_exit:l.target.value})),required:!0,children:aR.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Motivo"}),c.jsx("textarea",{className:"input min-h-[80px]",value:a.motivo,onChange:l=>i(u=>({...u,motivo:l.target.value})),placeholder:"Describe el motivo de la autorizacin...",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Guardando...":e?"Guardar Cambios":"Crear Registro"})]})]})},aY=()=>{const e=qe(E=>E.context),t=qe(E=>E.setContext),r=zn(E=>E.session),n=(r==null?void 0:r.supervisorName)??"",a=Ov(n),[i,s]=A.useState({auth_status:"todos"}),[o,l]=A.useState({type:"none"}),u=zX(e,i),d=Iv("autorizaciones",e),f=KX(),h=QX(),p=Dv(),g=Mv();$v();const m=E=>{var j;return((j=aR.find(T=>T.value===E))==null?void 0:j.label)||E},x=[{key:"rut",header:"RUT",value:E=>En(E.rut)},{key:"nombre",header:"Nombre",value:E=>E.nombre},{key:"cargo",header:"Cargo",value:E=>E.cargo},{key:"terminal",header:"Terminal",value:E=>Ge(E.terminal_code)},{key:"turno",header:"Turno",value:E=>E.turno},{key:"horario",header:"Horario",value:E=>E.horario},{key:"authorization_date",header:"Fecha",value:E=>E.authorization_date},{key:"entry_or_exit",header:"Tipo",value:E=>m(E.entry_or_exit)},{key:"motivo",header:"Motivo",value:E=>E.motivo},{key:"auth_status",header:"Autorizacin",value:E=>E.auth_status}],b=async E=>{await f.mutateAsync({values:E,createdBy:n}),l({type:"none"})},v=async E=>{o.type==="edit"&&(await h.mutateAsync({id:o.record.id,values:E}),l({type:"none"}))},y=async()=>{if(o.type!=="authorize")return;const E=o.record;await p.mutateAsync({subsection:"autorizaciones",id:E.id,authorizedBy:n,rut:E.rut,nombre:E.nombre,terminal:E.terminal_code,date:E.authorization_date}),l({type:"none"})},_=async E=>{if(o.type!=="reject"||!E)return;const j=o.record;await g.mutateAsync({subsection:"autorizaciones",id:j.id,authorizedBy:n,reason:E,rut:j.rut,nombre:j.nombre,terminal:j.terminal_code,date:j.authorization_date}),l({type:"none"})},w=E=>{switch(E){case"AUTORIZADO":return c.jsx("span",{className:"badge badge-success",children:E});case"RECHAZADO":return c.jsx("span",{className:"badge badge-danger",children:E});default:return c.jsx("span",{className:"badge badge-warning",children:E})}},S=E=>E==="ENTRADA"?c.jsx("span",{className:"badge bg-blue-100 text-blue-700",children:"Llegada Tarda"}):c.jsx("span",{className:"badge bg-purple-100 text-purple-700",children:"Retiro Anticipado"});return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Autorizaciones",description:"Retiros anticipados y llegadas tardas",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"btn btn-primary",onClick:()=>l({type:"create"}),children:[c.jsx(ce,{name:"check-circle",size:18})," Nueva Solicitud"]}),c.jsx(qr,{onExportView:()=>dt({filename:"autorizaciones",sheetName:"Datos",rows:u.data||[],columns:x}),onExportAll:()=>dt({filename:"autorizaciones_all",sheetName:"Datos",rows:u.data||[],columns:x})})]})}),c.jsx(Cv,{data:d.data,isLoading:d.isLoading}),c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsx("select",{className:"input",value:i.auth_status,onChange:E=>s(j=>({...j,auth_status:E.target.value})),children:Rv.map(E=>c.jsx("option",{value:E.value,children:E.label},E.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Buscar"}),c.jsx("input",{className:"input",placeholder:"RUT o nombre",value:i.search??"",onChange:E=>s(j=>({...j,search:E.target.value}))})]})]}),u.isLoading&&c.jsx(xr,{label:"Cargando registros..."}),u.isError&&c.jsx(Rr,{onRetry:()=>u.refetch()}),!u.isLoading&&!u.isError&&c.jsx("div",{className:"table-container overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"RUT"}),c.jsx("th",{className:"table-header-cell",children:"Nombre"}),c.jsx("th",{className:"table-header-cell",children:"Terminal"}),c.jsx("th",{className:"table-header-cell",children:"Fecha"}),c.jsx("th",{className:"table-header-cell",children:"Tipo"}),c.jsx("th",{className:"table-header-cell",children:"Motivo"}),c.jsx("th",{className:"table-header-cell",children:"Autorizacin"}),c.jsx("th",{className:"table-header-cell text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"table-body",children:(u.data||[]).map(E=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-mono text-sm",children:En(E.rut)}),c.jsx("td",{className:"table-cell font-medium",children:E.nombre}),c.jsx("td",{className:"table-cell",children:Ge(E.terminal_code)}),c.jsx("td",{className:"table-cell",children:E.authorization_date}),c.jsx("td",{className:"table-cell",children:S(E.entry_or_exit)}),c.jsx("td",{className:"table-cell max-w-[200px] truncate",title:E.motivo,children:E.motivo}),c.jsx("td",{className:"table-cell",children:w(E.auth_status)}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[E.auth_status==="PENDIENTE"&&c.jsx("button",{onClick:()=>l({type:"edit",record:E}),className:"btn btn-ghost btn-icon",title:"Editar",children:c.jsx(ce,{name:"clipboard",size:16})}),a&&E.auth_status==="PENDIENTE"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>l({type:"authorize",record:E}),className:"btn btn-ghost btn-icon text-success-600",title:"Autorizar",children:c.jsx(ce,{name:"check-circle",size:16})}),c.jsx("button",{onClick:()=>l({type:"reject",record:E}),className:"btn btn-ghost btn-icon text-danger-600",title:"Rechazar",children:c.jsx(ce,{name:"x",size:16})})]})]})})]},E.id))})]})}),(o.type==="create"||o.type==="edit")&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>l({type:"none"})}),c.jsxs("div",{className:"relative w-full max-w-3xl card p-6 max-h-[90vh] overflow-y-auto animate-scale-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold",children:o.type==="create"?"Nueva Solicitud":"Editar Solicitud"}),c.jsx("button",{onClick:()=>l({type:"none"}),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),c.jsx(nY,{initialData:o.type==="edit"?{...o.record,cargo:o.record.cargo??"",turno:o.record.turno??"",horario:o.record.horario??""}:void 0,onSubmit:o.type==="create"?b:v,onCancel:()=>l({type:"none"}),isLoading:f.isPending||h.isPending})]})]}),o.type==="authorize"&&c.jsx(qs,{mode:"authorize",itemName:o.record.nombre,onConfirm:y,onCancel:()=>l({type:"none"}),isLoading:p.isPending}),o.type==="reject"&&c.jsx(qs,{mode:"reject",itemName:o.record.nombre,onConfirm:_,onCancel:()=>l({type:"none"}),isLoading:g.isPending})]})},tT="email_notifications",iY=({isOpen:e,onClose:t})=>{const[r,n]=A.useState({to:[],cc:[]}),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[l,u]=A.useState(""),[d,f]=A.useState("");A.useEffect(()=>{e&&h()},[e]);const h=async()=>{i(!0);try{const v=await W_(tT);n(v||{to:["isaac.avila@transdev.cl"],cc:[]})}catch(v){console.error("Error loading config:",v),Qa("Error","No se pudo cargar la configuracin")}finally{i(!1)}},p=async()=>{o(!0);try{await wX(tT,r,"Configuracin de destinatarios para notificaciones"),ni("Configuracin guardada","Los correos se enviarn a los nuevos destinatarios"),t()}catch(v){console.error("Error saving config:",v),Qa("Error","No se pudo guardar la configuracin")}finally{o(!1)}},g=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),m=v=>{const y=v==="to"?l:d,_=v==="to"?u:f,w=y.trim();if(w){if(!g(w)){Qa("Email invlido","Por favor ingresa un correo electrnico vlido");return}if(r[v].includes(w)){Qa("Email duplicado","Este correo ya est en la lista");return}n(S=>({...S,[v]:[...S[v],w]})),_("")}},x=(v,y)=>{n(_=>({..._,[v]:_[v].filter(w=>w!==y)}))},b=(v,y)=>{v.key==="Enter"&&(v.preventDefault(),m(y))};return e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"relative w-full max-w-lg card p-6 animate-scale-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-brand-100 p-2 rounded-lg text-brand-600",children:c.jsx(ce,{name:"settings",size:24})}),c.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Configuracin de Correos"})]}),c.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:24})})]}),a?c.jsx("div",{className:"py-12 flex justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"label mb-2 flex justify-between",children:[c.jsx("span",{children:"Destinatarios Principales (Para)"}),c.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben el correo directamente"})]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("input",{type:"email",className:"input flex-1",placeholder:"ejemplo@transdev.cl",value:l,onChange:v=>u(v.target.value),onKeyDown:v=>b(v,"to")}),c.jsx("button",{type:"button",onClick:()=>m("to"),className:"btn btn-secondary px-3",disabled:!l.trim(),children:c.jsx(ce,{name:"plus",size:18})})]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.to.length===0&&c.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin destinatarios"}),r.to.map(v=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[v,c.jsx("button",{onClick:()=>x("to",v),className:"text-slate-400 hover:text-danger-500 ml-1",children:c.jsx(ce,{name:"x",size:14})})]},v))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label mb-2 flex justify-between",children:[c.jsx("span",{children:"En Copia (CC)"}),c.jsx("span",{className:"text-xs font-normal text-slate-500",children:"Reciben una copia"})]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("input",{type:"email",className:"input flex-1",placeholder:"jefe@transdev.cl",value:d,onChange:v=>f(v.target.value),onKeyDown:v=>b(v,"cc")}),c.jsx("button",{type:"button",onClick:()=>m("cc"),className:"btn btn-secondary px-3",disabled:!d.trim(),children:c.jsx(ce,{name:"plus",size:18})})]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 min-h-[60px] border border-slate-200 flex flex-wrap gap-2",children:[r.cc.length===0&&c.jsx("span",{className:"text-sm text-slate-400 italic self-center w-full text-center",children:"Sin copias"}),r.cc.map(v=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white border border-slate-200 rounded-full text-sm font-medium text-slate-700 shadow-sm",children:[v,c.jsx("button",{onClick:()=>x("cc",v),className:"text-slate-400 hover:text-danger-500 ml-1",children:c.jsx(ce,{name:"x",size:14})})]},v))]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[c.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),c.jsx("button",{onClick:p,className:"btn btn-primary min-w-[120px]",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]}):null},sY=[{id:"no-marcaciones",label:"No Marcaciones",icon:"clock"},{id:"sin-credenciales",label:"Sin Credenciales",icon:"key"},{id:"cambios-dia",label:"Cambios de Da",icon:"calendar"},{id:"autorizaciones",label:"Autorizaciones",icon:"check-circle"}],oY=()=>{const[e,t]=A.useState("no-marcaciones"),[r,n]=A.useState(!1),a=()=>{switch(e){case"no-marcaciones":return c.jsx(JX,{});case"sin-credenciales":return c.jsx(eY,{});case"cambios-dia":return c.jsx(rY,{});case"autorizaciones":return c.jsx(aY,{});default:return null}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 border-b border-slate-200 pb-4",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:sY.map(i=>c.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===i.id?"bg-brand-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[c.jsx(ce,{name:i.icon,size:18}),c.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.id))}),c.jsxs("button",{onClick:()=>n(!0),className:"btn btn-secondary text-sm flex items-center gap-2 shrink-0",children:[c.jsx(ce,{name:"settings",size:16}),c.jsx("span",{children:"Configurar Correos"})]})]}),a(),c.jsx(iY,{isOpen:r,onClose:()=>n(!1)})]})},lY=[{id:"ai-1",area:"interior",responsable:"Equipo Aseo 1",fecha:"2023-12-04T08:00:00Z",estado:"pendiente",observaciones:"Pendiente zona comedor",terminal:"EL_ROBLE"},{id:"ae-1",area:"exterior",responsable:"Equipo Aseo 2",fecha:"2023-12-03T15:00:00Z",estado:"completado",observaciones:"Patio listo",terminal:"LA_REINA"},{id:"ar-1",area:"rodillo",responsable:"Equipo Rodillo",fecha:"2023-12-02T17:00:00Z",estado:"pendiente",terminal:"EL_SALTO"}],cY=e=>Iu(lY.filter(t=>t.area===e),(t,r)=>r!=null&&r.estado&&r.estado!=="todos"?t.estado===r.estado:!0),q_=({area:e,title:t})=>{var h;const r=qe(p=>p.context),n=qe(p=>p.setContext),[a,i]=A.useState({estado:"todos"}),s=A.useMemo(()=>cY(e),[e]),o=Tt({queryKey:["aseo",e,r,a],queryFn:()=>s.list({terminalContext:r,filters:a,scope:"view"})}),l=A.useMemo(()=>[{key:"responsable",header:"Responsable"},{key:"fecha",header:"Fecha",render:p=>Ut(p.fecha),value:p=>Ut(p.fecha)},{key:"estado",header:"Estado",render:p=>c.jsx("span",{className:"badge capitalize",children:p.estado}),value:p=>p.estado},{key:"observaciones",header:"Observaciones",render:p=>p.observaciones??"",value:p=>p.observaciones??""},{key:"terminal",header:"Terminal",render:p=>Ge(p.terminal),value:p=>Ge(p.terminal)}],[]),u=l.map(p=>({key:p.key,header:p.header,value:g=>p.value?p.value(g):g[p.key]})),d=()=>{o.data&&dt({filename:`aseo_${e}_vista`,sheetName:`Aseo ${e}`,rows:o.data,columns:u})},f=async()=>{const p=await s.list({terminalContext:r,scope:"all"});dt({filename:`aseo_${e}_completo`,sheetName:`Aseo ${e}`,rows:p,columns:u})};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:`Aseo - ${t}`,description:"Control de aseo por rea",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",children:"Nuevo registro"}),c.jsx(qr,{onExportView:d,onExportAll:f})]})}),c.jsx(ua,{terminalContext:r,onTerminalChange:n,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsxs("select",{className:"input",value:a.estado,onChange:p=>i({estado:p.target.value}),children:[c.jsx("option",{value:"todos",children:"Todos"}),c.jsx("option",{value:"pendiente",children:"Pendiente"}),c.jsx("option",{value:"completado",children:"Completado"})]})]})}),o.isLoading&&c.jsx(xr,{}),o.isError&&c.jsx(Rr,{onRetry:o.refetch}),!o.isLoading&&!o.isError&&c.jsxs(c.Fragment,{children:[!((h=o.data)!=null&&h.length)&&c.jsx(La,{description:"Sin registros"}),o.data&&o.data.length>0&&c.jsx($a,{columns:l,rows:o.data})]})]})},uY=()=>c.jsx(q_,{area:"interior",title:"Interior"}),dY=()=>c.jsx(q_,{area:"exterior",title:"Exterior"}),fY=()=>c.jsx(q_,{area:"rodillo",title:"Rodillo"});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),rT=e=>{const t=pY(e);return t.charAt(0).toUpperCase()+t.slice(1)},sR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),mY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>A.createElement("svg",{ref:l,...vY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sR("lucide",a),...!i&&!mY(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>A.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=A.forwardRef(({className:n,...a},i)=>A.createElement(gY,{ref:i,iconNode:t,className:sR(`lucide-${hY(rT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=rT(e),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yY=At("calendar",xY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wY=At("circle-alert",bY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oR=At("clock",_Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jf=At("credit-card",SY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],lR=At("dollar-sign",EY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TY=At("download",jY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NY=At("eye",AY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CY=At("file-text",OY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PY=At("funnel",kY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cR=At("mail",RY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uR=At("plus",IY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],MY=At("printer",DY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dR=At("rotate-ccw",$Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FY=At("save",LY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UY=At("search",BY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WY=At("send",zY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qY=At("settings",HY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],KY=At("square-pen",VY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XY=At("trash-2",GY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],QY=At("trending-up",YY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lv=At("triangle-alert",JY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eQ=At("upload",ZY);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rQ=At("user",tQ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fi=At("x",nQ),Vs=["El Roble","La Reina","Maria Angelica"],fR=[{value:"PERDIDA",label:"Perdida"},{value:"DETERIORO",label:"Deterioro"}],aQ=[{value:"ASIGNADA",label:"Asignada"},{value:"RECUPERADA",label:"Recuperada"},{value:"CERRADA",label:"Cerrada"},{value:"CANCELADA",label:"Cancelada"}],iQ=[{value:"LIBRE",label:"Libre"},{value:"ASIGNADA",label:"Asignada"},{value:"INACTIVA",label:"Inactiva"}],sd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-slate-50 text-slate-600"})=>c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:e}),c.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:t}),r&&c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]}),c.jsx("div",{className:`p-2 rounded-lg ${a}`,children:n})]})}),sQ=({kpis:e,isLoading:t})=>{if(t)return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Array.from({length:5}).map((a,i)=>c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 mb-2"}),c.jsx("div",{className:"h-8 bg-slate-200 rounded w-16"})]},i))});const r=Vs.reduce((a,i)=>a+(e.availableByTerminal[i]||0),0),n=Vs.map(a=>`${a.split(" ")[0]}: ${e.availableByTerminal[a]||0}`).join(" | ");return c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[c.jsx(sd,{title:"Disponibles",value:r,subtitle:n,icon:c.jsx(jf,{className:"w-5 h-5"}),colorClass:"bg-emerald-50 text-emerald-600"}),c.jsx(sd,{title:"Prestamos Activos",value:e.activeLoans,icon:c.jsx(oR,{className:"w-5 h-5"}),colorClass:"bg-blue-50 text-blue-600"}),c.jsx(sd,{title:"Atrasados (+7d)",value:e.overdueLoans,icon:c.jsx(Lv,{className:"w-5 h-5"}),colorClass:e.overdueLoans>0?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}),c.jsx(sd,{title:"Tiempo Promedio",value:`${e.avgReturnDays} dias`,subtitle:"Ultimos 30 dias",icon:c.jsx(QY,{className:"w-5 h-5"}),colorClass:"bg-indigo-50 text-indigo-600"}),c.jsx(sd,{title:"Descuentos",value:`$${e.totalDiscounts.toLocaleString("es-CL")}`,icon:c.jsx(lR,{className:"w-5 h-5"}),colorClass:"bg-violet-50 text-violet-600"})]})};function hR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hR(e))&&(n&&(n+=" "),n+=t);return n}var oQ=Array.isArray,Tn=oQ,lQ=typeof Lh=="object"&&Lh&&Lh.Object===Object&&Lh,pR=lQ,cQ=pR,uQ=typeof self=="object"&&self&&self.Object===Object&&self,dQ=cQ||uQ||Function("return this")(),oi=dQ,fQ=oi,hQ=fQ.Symbol,jh=hQ,nT=jh,mR=Object.prototype,pQ=mR.hasOwnProperty,mQ=mR.toString,od=nT?nT.toStringTag:void 0;function vQ(e){var t=pQ.call(e,od),r=e[od];try{e[od]=void 0;var n=!0}catch{}var a=mQ.call(e);return n&&(t?e[od]=r:delete e[od]),a}var gQ=vQ,xQ=Object.prototype,yQ=xQ.toString;function bQ(e){return yQ.call(e)}var wQ=bQ,aT=jh,_Q=gQ,SQ=wQ,EQ="[object Null]",jQ="[object Undefined]",iT=aT?aT.toStringTag:void 0;function TQ(e){return e==null?e===void 0?jQ:EQ:iT&&iT in Object(e)?_Q(e):SQ(e)}var Qi=TQ;function AQ(e){return e!=null&&typeof e=="object"}var Ji=AQ,NQ=Qi,OQ=Ji,CQ="[object Symbol]";function kQ(e){return typeof e=="symbol"||OQ(e)&&NQ(e)==CQ}var Du=kQ,PQ=Tn,RQ=Du,IQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DQ=/^\w*$/;function MQ(e,t){if(PQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||RQ(e)?!0:DQ.test(e)||!IQ.test(e)||t!=null&&e in Object(t)}var V_=MQ;function $Q(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qs=$Q;const Mu=et(Qs);var LQ=Qi,FQ=Qs,BQ="[object AsyncFunction]",UQ="[object Function]",zQ="[object GeneratorFunction]",WQ="[object Proxy]";function HQ(e){if(!FQ(e))return!1;var t=LQ(e);return t==UQ||t==zQ||t==BQ||t==WQ}var K_=HQ;const Me=et(K_);var qQ=oi,VQ=qQ["__core-js_shared__"],KQ=VQ,Ox=KQ,sT=function(){var e=/[^.]+$/.exec(Ox&&Ox.keys&&Ox.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GQ(e){return!!sT&&sT in e}var XQ=GQ,YQ=Function.prototype,QQ=YQ.toString;function JQ(e){if(e!=null){try{return QQ.call(e)}catch{}try{return e+""}catch{}}return""}var vR=JQ,ZQ=K_,eJ=XQ,tJ=Qs,rJ=vR,nJ=/[\\^$.*+?()[\]{}|]/g,aJ=/^\[object .+?Constructor\]$/,iJ=Function.prototype,sJ=Object.prototype,oJ=iJ.toString,lJ=sJ.hasOwnProperty,cJ=RegExp("^"+oJ.call(lJ).replace(nJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uJ(e){if(!tJ(e)||eJ(e))return!1;var t=ZQ(e)?cJ:aJ;return t.test(rJ(e))}var dJ=uJ;function fJ(e,t){return e==null?void 0:e[t]}var hJ=fJ,pJ=dJ,mJ=hJ;function vJ(e,t){var r=mJ(e,t);return pJ(r)?r:void 0}var Sl=vJ,gJ=Sl,xJ=gJ(Object,"create"),Fv=xJ,oT=Fv;function yJ(){this.__data__=oT?oT(null):{},this.size=0}var bJ=yJ;function wJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _J=wJ,SJ=Fv,EJ="__lodash_hash_undefined__",jJ=Object.prototype,TJ=jJ.hasOwnProperty;function AJ(e){var t=this.__data__;if(SJ){var r=t[e];return r===EJ?void 0:r}return TJ.call(t,e)?t[e]:void 0}var NJ=AJ,OJ=Fv,CJ=Object.prototype,kJ=CJ.hasOwnProperty;function PJ(e){var t=this.__data__;return OJ?t[e]!==void 0:kJ.call(t,e)}var RJ=PJ,IJ=Fv,DJ="__lodash_hash_undefined__";function MJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=IJ&&t===void 0?DJ:t,this}var $J=MJ,LJ=bJ,FJ=_J,BJ=NJ,UJ=RJ,zJ=$J;function $u(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$u.prototype.clear=LJ;$u.prototype.delete=FJ;$u.prototype.get=BJ;$u.prototype.has=UJ;$u.prototype.set=zJ;var WJ=$u;function HJ(){this.__data__=[],this.size=0}var qJ=HJ;function VJ(e,t){return e===t||e!==e&&t!==t}var G_=VJ,KJ=G_;function GJ(e,t){for(var r=e.length;r--;)if(KJ(e[r][0],t))return r;return-1}var Bv=GJ,XJ=Bv,YJ=Array.prototype,QJ=YJ.splice;function JJ(e){var t=this.__data__,r=XJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():QJ.call(t,r,1),--this.size,!0}var ZJ=JJ,eZ=Bv;function tZ(e){var t=this.__data__,r=eZ(t,e);return r<0?void 0:t[r][1]}var rZ=tZ,nZ=Bv;function aZ(e){return nZ(this.__data__,e)>-1}var iZ=aZ,sZ=Bv;function oZ(e,t){var r=this.__data__,n=sZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var lZ=oZ,cZ=qJ,uZ=ZJ,dZ=rZ,fZ=iZ,hZ=lZ;function Lu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lu.prototype.clear=cZ;Lu.prototype.delete=uZ;Lu.prototype.get=dZ;Lu.prototype.has=fZ;Lu.prototype.set=hZ;var Uv=Lu,pZ=Sl,mZ=oi,vZ=pZ(mZ,"Map"),X_=vZ,lT=WJ,gZ=Uv,xZ=X_;function yZ(){this.size=0,this.__data__={hash:new lT,map:new(xZ||gZ),string:new lT}}var bZ=yZ;function wZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _Z=wZ,SZ=_Z;function EZ(e,t){var r=e.__data__;return SZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var zv=EZ,jZ=zv;function TZ(e){var t=jZ(this,e).delete(e);return this.size-=t?1:0,t}var AZ=TZ,NZ=zv;function OZ(e){return NZ(this,e).get(e)}var CZ=OZ,kZ=zv;function PZ(e){return kZ(this,e).has(e)}var RZ=PZ,IZ=zv;function DZ(e,t){var r=IZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var MZ=DZ,$Z=bZ,LZ=AZ,FZ=CZ,BZ=RZ,UZ=MZ;function Fu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fu.prototype.clear=$Z;Fu.prototype.delete=LZ;Fu.prototype.get=FZ;Fu.prototype.has=BZ;Fu.prototype.set=UZ;var Y_=Fu,gR=Y_,zZ="Expected a function";function Q_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zZ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Q_.Cache||gR),r}Q_.Cache=gR;var xR=Q_;const WZ=et(xR);var HZ=xR,qZ=500;function VZ(e){var t=HZ(e,function(n){return r.size===qZ&&r.clear(),n}),r=t.cache;return t}var KZ=VZ,GZ=KZ,XZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YZ=/\\(\\)?/g,QZ=GZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(XZ,function(r,n,a,i){t.push(a?i.replace(YZ,"$1"):n||r)}),t}),JZ=QZ;function ZZ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var J_=ZZ,cT=jh,eee=J_,tee=Tn,ree=Du,uT=cT?cT.prototype:void 0,dT=uT?uT.toString:void 0;function yR(e){if(typeof e=="string")return e;if(tee(e))return eee(e,yR)+"";if(ree(e))return dT?dT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nee=yR,aee=nee;function iee(e){return e==null?"":aee(e)}var bR=iee,see=Tn,oee=V_,lee=JZ,cee=bR;function uee(e,t){return see(e)?e:oee(e,t)?[e]:lee(cee(e))}var wR=uee,dee=Du;function fee(e){if(typeof e=="string"||dee(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wv=fee,hee=wR,pee=Wv;function mee(e,t){t=hee(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[pee(t[r++])];return r&&r==n?e:void 0}var Z_=mee,vee=Z_;function gee(e,t,r){var n=e==null?void 0:vee(e,t);return n===void 0?r:n}var _R=gee;const Bn=et(_R);function xee(e){return e==null}var yee=xee;const We=et(yee);var bee=Qi,wee=Tn,_ee=Ji,See="[object String]";function Eee(e){return typeof e=="string"||!wee(e)&&_ee(e)&&bee(e)==See}var jee=Eee;const al=et(jee);var SR={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=Symbol.for("react.element"),t2=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),Tee=Symbol.for("react.server_context"),Xv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Qv=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),Aee=Symbol.for("react.offscreen"),ER;ER=Symbol.for("react.module.reference");function fa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case e2:switch(e=e.type,e){case Hv:case Vv:case qv:case Yv:case Qv:return e;default:switch(e=e&&e.$$typeof,e){case Tee:case Gv:case Xv:case Zv:case Jv:case Kv:return e;default:return t}}case t2:return t}}}lt.ContextConsumer=Gv;lt.ContextProvider=Kv;lt.Element=e2;lt.ForwardRef=Xv;lt.Fragment=Hv;lt.Lazy=Zv;lt.Memo=Jv;lt.Portal=t2;lt.Profiler=Vv;lt.StrictMode=qv;lt.Suspense=Yv;lt.SuspenseList=Qv;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return fa(e)===Gv};lt.isContextProvider=function(e){return fa(e)===Kv};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===e2};lt.isForwardRef=function(e){return fa(e)===Xv};lt.isFragment=function(e){return fa(e)===Hv};lt.isLazy=function(e){return fa(e)===Zv};lt.isMemo=function(e){return fa(e)===Jv};lt.isPortal=function(e){return fa(e)===t2};lt.isProfiler=function(e){return fa(e)===Vv};lt.isStrictMode=function(e){return fa(e)===qv};lt.isSuspense=function(e){return fa(e)===Yv};lt.isSuspenseList=function(e){return fa(e)===Qv};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hv||e===Vv||e===qv||e===Yv||e===Qv||e===Aee||typeof e=="object"&&e!==null&&(e.$$typeof===Zv||e.$$typeof===Jv||e.$$typeof===Kv||e.$$typeof===Gv||e.$$typeof===Xv||e.$$typeof===ER||e.getModuleId!==void 0)};lt.typeOf=fa;SR.exports=lt;var Nee=SR.exports,Oee=Qi,Cee=Ji,kee="[object Number]";function Pee(e){return typeof e=="number"||Cee(e)&&Oee(e)==kee}var jR=Pee;const Ree=et(jR);var Iee=jR;function Dee(e){return Iee(e)&&e!=+e}var Mee=Dee;const Th=et(Mee);var tn=function(t){return t===0?0:t>0?1:-1},Oo=function(t){return al(t)&&t.indexOf("%")===t.length-1},ve=function(t){return Ree(t)&&!Th(t)},$ee=function(t){return We(t)},or=function(t){return ve(t)||al(t)},Lee=0,Ah=function(t){var r=++Lee;return"".concat(t||"").concat(r)},rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!al(t))return n;var i;if(Oo(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Th(i)&&(i=n),a&&i>r&&(i=r),i},fs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Fee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ss=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function M1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var Bee=function(t,r){return ve(t)&&ve(r)?t-r:al(t)&&al(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function xc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}var Uee=["viewBox","children"],zee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fT=["points","pathLength"],Cx={svg:Uee,polygon:fT,polyline:fT},r2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!Mu(n))return null;var a={};return Object.keys(n).forEach(function(i){r2.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Wee=function(t,r,n){return function(a){return t(r,n,a),null}},il=function(t,r,n){if(!Mu(t)||$1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];r2.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Wee(s,r,n))}),a},Hee=["children"],qee=["children"];function hT(e,t){if(e==null)return{};var r=Vee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ni=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},mT=null,kx=null,n2=function e(t){if(t===mT&&Array.isArray(kx))return kx;var r=[];return A.Children.forEach(t,function(n){We(n)||(Nee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kx=r,mT=t,r};function sa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ni(a)}):n=[Ni(t)],n2(e).forEach(function(a){var i=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function kn(e,t){var r=sa(e,t);return r&&r[0]}var vT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ve(n)||n<=0||!ve(a)||a<=0)},Kee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gee=function(t){return t&&t.type&&al(t.type)&&Kee.indexOf(t.type)>=0},Xee=function(t,r,n,a){var i,s=(i=Cx==null?void 0:Cx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Me(t)&&(a&&s.includes(r)||zee.includes(r))||n&&r2.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!Mu(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Xee((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},L1=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!gT(i,s))return!1}return!0},gT=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,i=hT(n,Hee),s=r.props||{},o=s.children,l=hT(s,qee);return a&&o?xc(i,l)&&L1(a,o):!a&&!o?xc(i,l):!1}return!1},xT=function(t,r){var n=[],a={};return n2(t).forEach(function(i,s){if(Gee(i))n.push(i);else if(i){var o=Ni(i.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},Yee=function(t){var r=t&&t.type;return r&&pT[r]?pT[r]:null},Qee=function(t,r){return n2(r).indexOf(t)},Jee=["children","width","height","viewBox","className","style","title","desc"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function Zee(e,t){if(e==null)return{};var r=ete(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,u=Zee(e,Jee),d=a||{width:r,height:n,x:0,y:0},f=ze("recharts-surface",i);return z.createElement("svg",F1({},De(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),t)}var tte=["children","className"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function rte(e,t){if(e==null)return{};var r=nte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var at=z.forwardRef(function(e,t){var r=e.children,n=e.className,a=rte(e,tte),i=ze("recharts-layer",n);return z.createElement("g",U1({className:i},De(a,!0),{ref:t}),r)}),Ia=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function ate(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var ite=ate,ste=ite;function ote(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:ste(e,t,r)}var lte=ote,cte="\\ud800-\\udfff",ute="\\u0300-\\u036f",dte="\\ufe20-\\ufe2f",fte="\\u20d0-\\u20ff",hte=ute+dte+fte,pte="\\ufe0e\\ufe0f",mte="\\u200d",vte=RegExp("["+mte+cte+hte+pte+"]");function gte(e){return vte.test(e)}var TR=gte;function xte(e){return e.split("")}var yte=xte,AR="\\ud800-\\udfff",bte="\\u0300-\\u036f",wte="\\ufe20-\\ufe2f",_te="\\u20d0-\\u20ff",Ste=bte+wte+_te,Ete="\\ufe0e\\ufe0f",jte="["+AR+"]",z1="["+Ste+"]",W1="\\ud83c[\\udffb-\\udfff]",Tte="(?:"+z1+"|"+W1+")",NR="[^"+AR+"]",OR="(?:\\ud83c[\\udde6-\\uddff]){2}",CR="[\\ud800-\\udbff][\\udc00-\\udfff]",Ate="\\u200d",kR=Tte+"?",PR="["+Ete+"]?",Nte="(?:"+Ate+"(?:"+[NR,OR,CR].join("|")+")"+PR+kR+")*",Ote=PR+kR+Nte,Cte="(?:"+[NR+z1+"?",z1,OR,CR,jte].join("|")+")",kte=RegExp(W1+"(?="+W1+")|"+Cte+Ote,"g");function Pte(e){return e.match(kte)||[]}var Rte=Pte,Ite=yte,Dte=TR,Mte=Rte;function $te(e){return Dte(e)?Mte(e):Ite(e)}var Lte=$te,Fte=lte,Bte=TR,Ute=Lte,zte=bR;function Wte(e){return function(t){t=zte(t);var r=Bte(t)?Ute(t):void 0,n=r?r[0]:t.charAt(0),a=r?Fte(r,1).join(""):t.slice(1);return n[e]()+a}}var Hte=Wte,qte=Hte,Vte=qte("toUpperCase"),Kte=Vte;const eg=et(Kte);function mt(e){return function(){return e}}const RR=Math.cos,Yp=Math.sin,Fa=Math.sqrt,Qp=Math.PI,tg=2*Qp,H1=Math.PI,q1=2*H1,vo=1e-6,Gte=q1-vo;function IR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Xte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IR;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Yte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IR:Xte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vo)if(!(Math.abs(f*l-u*d)>vo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+u*u,x=p*p+g*g,b=Math.sqrt(m),v=Math.sqrt(h),y=i*Math.tan((H1-Math.acos((m+h-x)/(2*b*v)))/2),_=y/v,w=y/b;Math.abs(_-1)>vo&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*l},${this._y1=r+w*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,d=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vo||Math.abs(this._y1-d)>vo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%q1+q1),h>Gte?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>vo&&this._append`A${n},${n},0,${+(h>=H1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function a2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Yte(t)}function i2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DR(e){this._context=e}DR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rg(e){return new DR(e)}function MR(e){return e[0]}function $R(e){return e[1]}function LR(e,t){var r=mt(!0),n=null,a=rg,i=null,s=a2(o);e=typeof e=="function"?e:e===void 0?MR:mt(e),t=typeof t=="function"?t:t===void 0?$R:mt(t);function o(l){var u,d=(l=i2(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:mt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:mt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:mt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function w0(e,t,r){var n=null,a=mt(!0),i=null,s=rg,o=null,l=a2(u);e=typeof e=="function"?e:e===void 0?MR:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$R:mt(+r);function u(f){var h,p,g,m=(f=i2(f)).length,x,b=!1,v,y=new Array(m),_=new Array(m);for(i==null&&(o=s(v=l())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(y[g],_[g]);o.lineEnd(),o.areaEnd()}b&&(y[h]=+e(x,h,f),_[h]=+t(x,h,f),o.point(n?+n(x,h,f):y[h],r?+r(x,h,f):_[h]))}if(v)return o=null,v+""||null}function d(){return LR().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class FR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Qte(e){return new FR(e,!0)}function Jte(e){return new FR(e,!1)}const s2={draw(e,t){const r=Fa(t/Qp);e.moveTo(r,0),e.arc(0,0,r,0,tg)}},Zte={draw(e,t){const r=Fa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BR=Fa(1/3),ere=BR*2,tre={draw(e,t){const r=Fa(t/ere),n=r*BR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rre={draw(e,t){const r=Fa(t),n=-r/2;e.rect(n,n,r,r)}},nre=.8908130915292852,UR=Yp(Qp/10)/Yp(7*Qp/10),are=Yp(tg/10)*UR,ire=-RR(tg/10)*UR,sre={draw(e,t){const r=Fa(t*nre),n=are*r,a=ire*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=tg*i/5,o=RR(s),l=Yp(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Px=Fa(3),ore={draw(e,t){const r=-Fa(t/(Px*3));e.moveTo(0,r*2),e.lineTo(-Px*r,-r),e.lineTo(Px*r,-r),e.closePath()}},Kn=-.5,Gn=Fa(3)/2,V1=1/Fa(12),lre=(V1/2+1)*3,cre={draw(e,t){const r=Fa(t/lre),n=r/2,a=r*V1,i=n,s=r*V1+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Kn*n-Gn*a,Gn*n+Kn*a),e.lineTo(Kn*i-Gn*s,Gn*i+Kn*s),e.lineTo(Kn*o-Gn*l,Gn*o+Kn*l),e.lineTo(Kn*n+Gn*a,Kn*a-Gn*n),e.lineTo(Kn*i+Gn*s,Kn*s-Gn*i),e.lineTo(Kn*o+Gn*l,Kn*l-Gn*o),e.closePath()}};function ure(e,t){let r=null,n=a2(a);e=typeof e=="function"?e:mt(e||s2),t=typeof t=="function"?t:mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jp(){}function Zp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zR(e){this._context=e}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dre(e){return new zR(e)}function WR(e){this._context=e}WR.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fre(e){return new WR(e)}function HR(e){this._context=e}HR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hre(e){return new HR(e)}function qR(e){this._context=e}qR.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pre(e){return new qR(e)}function yT(e){return e<0?-1:1}function bT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(yT(i)+yT(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function wT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function em(e){this._context=e}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rx(this,this._t0,wT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rx(this,wT(this,r=bT(this,e,t)),r);break;default:Rx(this,this._t0,r=bT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VR(e){this._context=new KR(e)}(VR.prototype=Object.create(em.prototype)).point=function(e,t){em.prototype.point.call(this,t,e)};function KR(e){this._context=e}KR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function mre(e){return new em(e)}function vre(e){return new VR(e)}function GR(e){this._context=e}GR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_T(e),a=_T(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _T(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gre(e){return new GR(e)}function ng(e,t){this._context=e,this._t=t}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xre(e){return new ng(e,.5)}function yre(e){return new ng(e,0)}function bre(e){return new ng(e,1)}function Yc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wre(e,t){return e[t]}function _re(e){const t=[];return t.key=e,t}function Sre(){var e=mt([]),t=K1,r=Yc,n=wre;function a(i){var s=Array.from(e.apply(this,arguments),_re),o,l=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=i2(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K1:typeof i=="function"?i:mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Yc,a):r},a}function Ere(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Yc(e,t)}}function jre(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Yc(e,t)}}function Tre(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Yc(e,t)}}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var Are=["type","size","sizeType"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(this,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){Nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nre(e,t,r){return t=Ore(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Cre(e,"string");return Tf(t)=="symbol"?t:t+""}function Cre(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t){if(e==null)return{};var r=Pre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XR={symbolCircle:s2,symbolCross:Zte,symbolDiamond:tre,symbolSquare:rre,symbolStar:sre,symbolTriangle:ore,symbolWye:cre},Rre=Math.PI/180,Ire=function(t){var r="symbol".concat(eg(t));return XR[r]||s2},Dre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Rre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mre=function(t,r){XR["symbol".concat(eg(t))]=r},o2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=kre(t,Are),u=ET(ET({},l),{},{type:n,size:i,sizeType:o}),d=function(){var x=Ire(n),b=ure().type(x).size(Dre(i,o,n));return b()},f=u.className,h=u.cx,p=u.cy,g=De(u,!0);return h===+h&&p===+p&&i===+i?z.createElement("path",G1({},g,{className:ze("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};o2.registerSymbol=Mre;function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QR(n.key),n)}}function Bre(e,t,r){return t&&Fre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ure(e,t,r){return t=tm(t),zre(e,YR()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function zre(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(e)}function Wre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function Hre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(e,t)}function Af(e,t,r){return t=QR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e){var t=qre(e,"string");return Qc(t)=="symbol"?t:t+""}function qre(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=32,l2=function(e){function t(){return Lre(this,t),Ure(this,t,arguments)}return Hre(t,e),Bre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Xn/2,s=Xn/6,o=Xn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Xn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Xn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=$re({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(o2,{fill:l,cx:i,cy:i,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,x=ze(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Me(p.value)?null:p.value;Ia(!Me(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return z.createElement("li",X1({className:x,style:f,key:"legend-item-".concat(g)},il(n.props,p,g)),z.createElement(B1,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(A.PureComponent);Af(l2,"displayName","Legend");Af(l2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Vre=Uv;function Kre(){this.__data__=new Vre,this.size=0}var Gre=Kre;function Xre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Yre=Xre;function Qre(e){return this.__data__.get(e)}var Jre=Qre;function Zre(e){return this.__data__.has(e)}var ene=Zre,tne=Uv,rne=X_,nne=Y_,ane=200;function ine(e,t){var r=this.__data__;if(r instanceof tne){var n=r.__data__;if(!rne||n.length<ane-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nne(n)}return r.set(e,t),this.size=r.size,this}var sne=ine,one=Uv,lne=Gre,cne=Yre,une=Jre,dne=ene,fne=sne;function Bu(e){var t=this.__data__=new one(e);this.size=t.size}Bu.prototype.clear=lne;Bu.prototype.delete=cne;Bu.prototype.get=une;Bu.prototype.has=dne;Bu.prototype.set=fne;var JR=Bu,hne="__lodash_hash_undefined__";function pne(e){return this.__data__.set(e,hne),this}var mne=pne;function vne(e){return this.__data__.has(e)}var gne=vne,xne=Y_,yne=mne,bne=gne;function rm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xne;++t<r;)this.add(e[t])}rm.prototype.add=rm.prototype.push=yne;rm.prototype.has=bne;var ZR=rm;function wne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var eI=wne;function _ne(e,t){return e.has(t)}var tI=_ne,Sne=ZR,Ene=eI,jne=tI,Tne=1,Ane=2;function Nne(e,t,r,n,a,i){var s=r&Tne,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Ane?new Sne:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var x=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Ene(t,function(b,v){if(!jne(p,v)&&(g===b||a(g,b,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var rI=Nne,One=oi,Cne=One.Uint8Array,kne=Cne;function Pne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Rne=Pne;function Ine(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var c2=Ine,TT=jh,AT=kne,Dne=G_,Mne=rI,$ne=Rne,Lne=c2,Fne=1,Bne=2,Une="[object Boolean]",zne="[object Date]",Wne="[object Error]",Hne="[object Map]",qne="[object Number]",Vne="[object RegExp]",Kne="[object Set]",Gne="[object String]",Xne="[object Symbol]",Yne="[object ArrayBuffer]",Qne="[object DataView]",NT=TT?TT.prototype:void 0,Ix=NT?NT.valueOf:void 0;function Jne(e,t,r,n,a,i,s){switch(r){case Qne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Yne:return!(e.byteLength!=t.byteLength||!i(new AT(e),new AT(t)));case Une:case zne:case qne:return Dne(+e,+t);case Wne:return e.name==t.name&&e.message==t.message;case Vne:case Gne:return e==t+"";case Hne:var o=$ne;case Kne:var l=n&Fne;if(o||(o=Lne),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=Bne,s.set(e,t);var d=Mne(o(e),o(t),n,a,i,s);return s.delete(e),d;case Xne:if(Ix)return Ix.call(e)==Ix.call(t)}return!1}var Zne=Jne;function eae(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var nI=eae,tae=nI,rae=Tn;function nae(e,t,r){var n=t(e);return rae(e)?n:tae(n,r(e))}var aae=nae;function iae(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var sae=iae;function oae(){return[]}var lae=oae,cae=sae,uae=lae,dae=Object.prototype,fae=dae.propertyIsEnumerable,OT=Object.getOwnPropertySymbols,hae=OT?function(e){return e==null?[]:(e=Object(e),cae(OT(e),function(t){return fae.call(e,t)}))}:uae,pae=hae;function mae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vae=mae,gae=Qi,xae=Ji,yae="[object Arguments]";function bae(e){return xae(e)&&gae(e)==yae}var wae=bae,CT=wae,_ae=Ji,aI=Object.prototype,Sae=aI.hasOwnProperty,Eae=aI.propertyIsEnumerable,jae=CT(function(){return arguments}())?CT:function(e){return _ae(e)&&Sae.call(e,"callee")&&!Eae.call(e,"callee")},u2=jae,nm={exports:{}};function Tae(){return!1}var Aae=Tae;nm.exports;(function(e,t){var r=oi,n=Aae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(nm,nm.exports);var iI=nm.exports,Nae=9007199254740991,Oae=/^(?:0|[1-9]\d*)$/;function Cae(e,t){var r=typeof e;return t=t??Nae,!!t&&(r=="number"||r!="symbol"&&Oae.test(e))&&e>-1&&e%1==0&&e<t}var d2=Cae,kae=9007199254740991;function Pae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kae}var f2=Pae,Rae=Qi,Iae=f2,Dae=Ji,Mae="[object Arguments]",$ae="[object Array]",Lae="[object Boolean]",Fae="[object Date]",Bae="[object Error]",Uae="[object Function]",zae="[object Map]",Wae="[object Number]",Hae="[object Object]",qae="[object RegExp]",Vae="[object Set]",Kae="[object String]",Gae="[object WeakMap]",Xae="[object ArrayBuffer]",Yae="[object DataView]",Qae="[object Float32Array]",Jae="[object Float64Array]",Zae="[object Int8Array]",eie="[object Int16Array]",tie="[object Int32Array]",rie="[object Uint8Array]",nie="[object Uint8ClampedArray]",aie="[object Uint16Array]",iie="[object Uint32Array]",yt={};yt[Qae]=yt[Jae]=yt[Zae]=yt[eie]=yt[tie]=yt[rie]=yt[nie]=yt[aie]=yt[iie]=!0;yt[Mae]=yt[$ae]=yt[Xae]=yt[Lae]=yt[Yae]=yt[Fae]=yt[Bae]=yt[Uae]=yt[zae]=yt[Wae]=yt[Hae]=yt[qae]=yt[Vae]=yt[Kae]=yt[Gae]=!1;function sie(e){return Dae(e)&&Iae(e.length)&&!!yt[Rae(e)]}var oie=sie;function lie(e){return function(t){return e(t)}}var sI=lie,am={exports:{}};am.exports;(function(e,t){var r=pR,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(am,am.exports);var cie=am.exports,uie=oie,die=sI,kT=cie,PT=kT&&kT.isTypedArray,fie=PT?die(PT):uie,oI=fie,hie=vae,pie=u2,mie=Tn,vie=iI,gie=d2,xie=oI,yie=Object.prototype,bie=yie.hasOwnProperty;function wie(e,t){var r=mie(e),n=!r&&pie(e),a=!r&&!n&&vie(e),i=!r&&!n&&!a&&xie(e),s=r||n||a||i,o=s?hie(e.length,String):[],l=o.length;for(var u in e)(t||bie.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gie(u,l)))&&o.push(u);return o}var _ie=wie,Sie=Object.prototype;function Eie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Sie;return e===r}var jie=Eie;function Tie(e,t){return function(r){return e(t(r))}}var lI=Tie,Aie=lI,Nie=Aie(Object.keys,Object),Oie=Nie,Cie=jie,kie=Oie,Pie=Object.prototype,Rie=Pie.hasOwnProperty;function Iie(e){if(!Cie(e))return kie(e);var t=[];for(var r in Object(e))Rie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Die=Iie,Mie=K_,$ie=f2;function Lie(e){return e!=null&&$ie(e.length)&&!Mie(e)}var Nh=Lie,Fie=_ie,Bie=Die,Uie=Nh;function zie(e){return Uie(e)?Fie(e):Bie(e)}var ag=zie,Wie=aae,Hie=pae,qie=ag;function Vie(e){return Wie(e,qie,Hie)}var Kie=Vie,RT=Kie,Gie=1,Xie=Object.prototype,Yie=Xie.hasOwnProperty;function Qie(e,t,r,n,a,i){var s=r&Gie,o=RT(e),l=o.length,u=RT(t),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:Yie.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=s;++f<l;){h=o[f];var b=e[h],v=t[h];if(n)var y=s?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(y===void 0?b===v||a(b,v,r,n,i):y)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var Jie=Qie,Zie=Sl,ese=oi,tse=Zie(ese,"DataView"),rse=tse,nse=Sl,ase=oi,ise=nse(ase,"Promise"),sse=ise,ose=Sl,lse=oi,cse=ose(lse,"Set"),cI=cse,use=Sl,dse=oi,fse=use(dse,"WeakMap"),hse=fse,Q1=rse,J1=X_,Z1=sse,eb=cI,tb=hse,uI=Qi,Uu=vR,IT="[object Map]",pse="[object Object]",DT="[object Promise]",MT="[object Set]",$T="[object WeakMap]",LT="[object DataView]",mse=Uu(Q1),vse=Uu(J1),gse=Uu(Z1),xse=Uu(eb),yse=Uu(tb),go=uI;(Q1&&go(new Q1(new ArrayBuffer(1)))!=LT||J1&&go(new J1)!=IT||Z1&&go(Z1.resolve())!=DT||eb&&go(new eb)!=MT||tb&&go(new tb)!=$T)&&(go=function(e){var t=uI(e),r=t==pse?e.constructor:void 0,n=r?Uu(r):"";if(n)switch(n){case mse:return LT;case vse:return IT;case gse:return DT;case xse:return MT;case yse:return $T}return t});var bse=go,Dx=JR,wse=rI,_se=Zne,Sse=Jie,FT=bse,BT=Tn,UT=iI,Ese=oI,jse=1,zT="[object Arguments]",WT="[object Array]",_0="[object Object]",Tse=Object.prototype,HT=Tse.hasOwnProperty;function Ase(e,t,r,n,a,i){var s=BT(e),o=BT(t),l=s?WT:FT(e),u=o?WT:FT(t);l=l==zT?_0:l,u=u==zT?_0:u;var d=l==_0,f=u==_0,h=l==u;if(h&&UT(e)){if(!UT(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Dx),s||Ese(e)?wse(e,t,r,n,a,i):_se(e,t,l,r,n,a,i);if(!(r&jse)){var p=d&&HT.call(e,"__wrapped__"),g=f&&HT.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return i||(i=new Dx),a(m,x,r,n,i)}}return h?(i||(i=new Dx),Sse(e,t,r,n,a,i)):!1}var Nse=Ase,Ose=Nse,qT=Ji;function dI(e,t,r,n,a){return e===t?!0:e==null||t==null||!qT(e)&&!qT(t)?e!==e&&t!==t:Ose(e,t,r,n,dI,a)}var h2=dI,Cse=JR,kse=h2,Pse=1,Rse=2;function Ise(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],u=e[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Cse;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?kse(d,u,Pse|Rse,n,f):h))return!1}}return!0}var Dse=Ise,Mse=Qs;function $se(e){return e===e&&!Mse(e)}var fI=$se,Lse=fI,Fse=ag;function Bse(e){for(var t=Fse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Lse(a)]}return t}var Use=Bse;function zse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var hI=zse,Wse=Dse,Hse=Use,qse=hI;function Vse(e){var t=Hse(e);return t.length==1&&t[0][2]?qse(t[0][0],t[0][1]):function(r){return r===e||Wse(r,e,t)}}var Kse=Vse;function Gse(e,t){return e!=null&&t in Object(e)}var Xse=Gse,Yse=wR,Qse=u2,Jse=Tn,Zse=d2,eoe=f2,toe=Wv;function roe(e,t,r){t=Yse(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=toe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&eoe(a)&&Zse(s,a)&&(Jse(e)||Qse(e)))}var noe=roe,aoe=Xse,ioe=noe;function soe(e,t){return e!=null&&ioe(e,t,aoe)}var ooe=soe,loe=h2,coe=_R,uoe=ooe,doe=V_,foe=fI,hoe=hI,poe=Wv,moe=1,voe=2;function goe(e,t){return doe(e)&&foe(t)?hoe(poe(e),t):function(r){var n=coe(r,e);return n===void 0&&n===t?uoe(r,e):loe(t,n,moe|voe)}}var xoe=goe;function yoe(e){return e}var zu=yoe;function boe(e){return function(t){return t==null?void 0:t[e]}}var woe=boe,_oe=Z_;function Soe(e){return function(t){return _oe(t,e)}}var Eoe=Soe,joe=woe,Toe=Eoe,Aoe=V_,Noe=Wv;function Ooe(e){return Aoe(e)?joe(Noe(e)):Toe(e)}var Coe=Ooe,koe=Kse,Poe=xoe,Roe=zu,Ioe=Tn,Doe=Coe;function Moe(e){return typeof e=="function"?e:e==null?Roe:typeof e=="object"?Ioe(e)?Poe(e[0],e[1]):koe(e):Doe(e)}var li=Moe;function $oe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var pI=$oe;function Loe(e){return e!==e}var Foe=Loe;function Boe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Uoe=Boe,zoe=pI,Woe=Foe,Hoe=Uoe;function qoe(e,t,r){return t===t?Hoe(e,t,r):zoe(e,Woe,r)}var Voe=qoe,Koe=Voe;function Goe(e,t){var r=e==null?0:e.length;return!!r&&Koe(e,t,0)>-1}var Xoe=Goe;function Yoe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Qoe=Yoe;function Joe(){}var Zoe=Joe,Mx=cI,ele=Zoe,tle=c2,rle=1/0,nle=Mx&&1/tle(new Mx([,-0]))[1]==rle?function(e){return new Mx(e)}:ele,ale=nle,ile=ZR,sle=Xoe,ole=Qoe,lle=tI,cle=ale,ule=c2,dle=200;function fle(e,t,r){var n=-1,a=sle,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=ole;else if(i>=dle){var u=t?null:cle(e);if(u)return ule(u);s=!1,a=lle,l=new ile}else l=t?[]:o;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(d)}else a(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var hle=fle,ple=li,mle=hle;function vle(e,t){return e&&e.length?mle(e,ple(t)):[]}var gle=vle;const VT=et(gle);function mI(e,t,r){return t===!0?VT(e,r):Me(t)?VT(e,t):e}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var xle=["ref"];function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gI(n.key),n)}}function ble(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wle(e,t,r){return t=im(t),_le(e,vI()?Reflect.construct(t,r||[],im(e).constructor):t.apply(e,r))}function _le(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sle(e)}function Sle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!e})()}function im(e){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(e)}function Ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rb(e,t)}function ig(e,t,r){return t=gI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gI(e){var t=jle(e,"string");return Jc(t)=="symbol"?t:t+""}function jle(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tle(e,t){if(e==null)return{};var r=Ale(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ale(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nle(e){return e.value}function Ole(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=Tle(t,xle);return z.createElement(l2,r)}var XT=1,Oi=function(e){function t(){var r;yle(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wle(this,t,[].concat(a)),ig(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ele(t,e),ble(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XT||Math.abs(a.height-this.lastBoundingBox.height)>XT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ui(ui({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ui(ui({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Ole(i,ui(ui({},this.props),{},{payload:mI(d,u,Nle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ui(ui({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);ig(Oi,"displayName","Legend");ig(Oi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YT=jh,Cle=u2,kle=Tn,QT=YT?YT.isConcatSpreadable:void 0;function Ple(e){return kle(e)||Cle(e)||!!(QT&&e&&e[QT])}var Rle=Ple,Ile=nI,Dle=Rle;function xI(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Dle),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?xI(o,t-1,r,n,a):Ile(a,o):n||(a[a.length]=o)}return a}var yI=xI;function Mle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var $le=Mle,Lle=$le,Fle=Lle(),Ble=Fle,Ule=Ble,zle=ag;function Wle(e,t){return e&&Ule(e,t,zle)}var bI=Wle,Hle=Nh;function qle(e,t){return function(r,n){if(r==null)return r;if(!Hle(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var Vle=qle,Kle=bI,Gle=Vle,Xle=Gle(Kle),p2=Xle,Yle=p2,Qle=Nh;function Jle(e,t){var r=-1,n=Qle(e)?Array(e.length):[];return Yle(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var wI=Jle;function Zle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ece=Zle,JT=Du;function tce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=JT(e),s=t!==void 0,o=t===null,l=t===t,u=JT(t);if(!o&&!u&&!i&&e>t||i&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var rce=tce,nce=rce;function ace(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=nce(a[n],i[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var ice=ace,$x=J_,sce=Z_,oce=li,lce=wI,cce=ece,uce=sI,dce=ice,fce=zu,hce=Tn;function pce(e,t,r){t.length?t=$x(t,function(i){return hce(i)?function(s){return sce(s,i.length===1?i[0]:i)}:i}):t=[fce];var n=-1;t=$x(t,uce(oce));var a=lce(e,function(i,s,o){var l=$x(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return cce(a,function(i,s){return dce(i,s,r)})}var mce=pce;function vce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var gce=vce,xce=gce,ZT=Math.max;function yce(e,t,r){return t=ZT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=ZT(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),xce(e,this,o)}}var bce=yce;function wce(e){return function(){return e}}var _ce=wce,Sce=Sl,Ece=function(){try{var e=Sce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_I=Ece,jce=_ce,eA=_I,Tce=zu,Ace=eA?function(e,t){return eA(e,"toString",{configurable:!0,enumerable:!1,value:jce(t),writable:!0})}:Tce,Nce=Ace,Oce=800,Cce=16,kce=Date.now;function Pce(e){var t=0,r=0;return function(){var n=kce(),a=Cce-(n-r);if(r=n,a>0){if(++t>=Oce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rce=Pce,Ice=Nce,Dce=Rce,Mce=Dce(Ice),$ce=Mce,Lce=zu,Fce=bce,Bce=$ce;function Uce(e,t){return Bce(Fce(e,t,Lce),e+"")}var zce=Uce,Wce=G_,Hce=Nh,qce=d2,Vce=Qs;function Kce(e,t,r){if(!Vce(r))return!1;var n=typeof t;return(n=="number"?Hce(r)&&qce(t,r.length):n=="string"&&t in r)?Wce(r[t],e):!1}var sg=Kce,Gce=yI,Xce=mce,Yce=zce,tA=sg,Qce=Yce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&tA(e,t[0],t[1])?t=[]:r>2&&tA(t[0],t[1],t[2])&&(t=[t[0]]),Xce(e,Gce(t,1),[])}),Jce=Qce;const m2=et(Jce);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(this,arguments)}function Zce(e,t){return nue(e)||rue(e,t)||tue(e,t)||eue()}function eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tue(e,t){if(e){if(typeof e=="string")return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function nue(e){if(Array.isArray(e))return e}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return t=iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=sue(e,"string");return Nf(t)=="symbol"?t:t+""}function sue(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oue(e){return Array.isArray(e)&&or(e[0])&&or(e[1])?e.join(" ~ "):e}var lue=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,y=function(){if(d&&d.length){var M={padding:0,margin:0},F=(h?m2(d,h):d).map(function(q,V){if(q.type==="none")return null;var ne=Lx({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},o),se=q.formatter||f||oue,G=q.value,te=q.name,ue=G,pe=te;if(se&&ue!=null&&pe!=null){var P=se(G,te,q,V,d);if(Array.isArray(P)){var H=Zce(P,2);ue=H[0],pe=H[1]}else ue=P}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ne},or(pe)?z.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,or(pe)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ue),z.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},_=Lx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Lx({margin:0},u),S=!We(m),E=S?m:"",j=ze("recharts-default-tooltip",p),T=ze("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(E=x(m,d));var O=v?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",nb({className:j,style:_},O),z.createElement("p",{className:T,style:w},z.isValidElement(E)?E:"".concat(E)),y())};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function S0(e,t,r){return t=cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=uue(e,"string");return Of(t)=="symbol"?t:t+""}function uue(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld="recharts-tooltip-wrapper",due={visibility:"hidden"};function fue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ze(ld,S0(S0(S0(S0({},"".concat(ld,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(ld,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(ld,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(ld,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function aA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+o,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(f,l[n])}function hue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=aA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=aA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=hue({translateX:d,translateY:f,useTranslate3d:o})):u=due,{cssProperties:u,cssClasses:fue({translateX:d,translateY:f,coordinate:r})}}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EI(n.key),n)}}function gue(e,t,r){return t&&vue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xue(e,t,r){return t=sm(t),yue(e,SI()?Reflect.construct(t,r||[],sm(e).constructor):t.apply(e,r))}function yue(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(e)}function bue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!e})()}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(e)}function wue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ab(e,t)}function ib(e,t,r){return t=EI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EI(e){var t=_ue(e,"string");return Zc(t)=="symbol"?t:t+""}function _ue(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oA=1,Sue=function(e){function t(){var r;mue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xue(this,t,[].concat(a)),ib(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ib(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return wue(t,e),gue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>oA||Math.abs(n.height-this.state.lastBoundingBox.height)>oA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,y=pue({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=y.cssClasses,w=y.cssProperties,S=sA(sA({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return z.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(j){n.wrapperNode=j}},u)}}])}(A.PureComponent),Eue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wu={isSsr:Eue()};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){v2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TI(n.key),n)}}function Aue(e,t,r){return t&&Tue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nue(e,t,r){return t=om(t),Oue(e,jI()?Reflect.construct(t,r||[],om(e).constructor):t.apply(e,r))}function Oue(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(e)}function Cue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(e)}function kue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sb(e,t)}function sb(e,t){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sb(e,t)}function v2(e,t,r){return t=TI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(e){var t=Pue(e,"string");return eu(t)=="symbol"?t:t+""}function Pue(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rue(e){return e.dataKey}function Iue(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(lue,t)}var fr=function(e){function t(){return jue(this,t),Nue(this,t,arguments)}return kue(t,e),Aue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,x=a.position,b=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,w=g??[];f&&w.length&&(w=mI(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,Rue));var S=w.length>0;return z.createElement(Sue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:x,reverseDirection:b,useTranslate3d:v,viewBox:y,wrapperStyle:_},Iue(u,cA(cA({},this.props),{},{payload:w})))}}])}(A.PureComponent);v2(fr,"displayName","Tooltip");v2(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Due=oi,Mue=function(){return Due.Date.now()},$ue=Mue,Lue=/\s/;function Fue(e){for(var t=e.length;t--&&Lue.test(e.charAt(t)););return t}var Bue=Fue,Uue=Bue,zue=/^\s+/;function Wue(e){return e&&e.slice(0,Uue(e)+1).replace(zue,"")}var Hue=Wue,que=Hue,uA=Qs,Vue=Du,dA=NaN,Kue=/^[-+]0x[0-9a-f]+$/i,Gue=/^0b[01]+$/i,Xue=/^0o[0-7]+$/i,Yue=parseInt;function Que(e){if(typeof e=="number")return e;if(Vue(e))return dA;if(uA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=que(e);var r=Gue.test(e);return r||Xue.test(e)?Yue(e.slice(2),r?2:8):Kue.test(e)?dA:+e}var AI=Que,Jue=Qs,Fx=$ue,fA=AI,Zue="Expected a function",ede=Math.max,tde=Math.min;function rde(e,t,r){var n,a,i,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Zue);t=fA(t)||0,Jue(r)&&(d=!!r.leading,f="maxWait"in r,i=f?ede(fA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var E=n,j=a;return n=a=void 0,u=S,s=e.apply(j,E),s}function g(S){return u=S,o=setTimeout(b,t),d?p(S):s}function m(S){var E=S-l,j=S-u,T=t-E;return f?tde(T,i-j):T}function x(S){var E=S-l,j=S-u;return l===void 0||E>=t||E<0||f&&j>=i}function b(){var S=Fx();if(x(S))return v(S);o=setTimeout(b,m(S))}function v(S){return o=void 0,h&&n?p(S):(n=a=void 0,s)}function y(){o!==void 0&&clearTimeout(o),u=0,n=l=a=o=void 0}function _(){return o===void 0?s:v(Fx())}function w(){var S=Fx(),E=x(S);if(n=arguments,a=this,l=S,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(b,t),p(l)}return o===void 0&&(o=setTimeout(b,t)),s}return w.cancel=y,w.flush=_,w}var nde=rde,ade=nde,ide=Qs,sde="Expected a function";function ode(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(sde);return ide(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ade(e,t,{leading:n,maxWait:t,trailing:a})}var lde=ode;const NI=et(lde);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cde(e,t,r){return t=ude(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return Cf(t)=="symbol"?t:t+""}function dde(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fde(e,t){return vde(e)||mde(e,t)||pde(e,t)||hde()}function hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function vde(e){if(Array.isArray(e))return e}var Ci=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,b=e.className,v=e.onResize,y=e.style,_=y===void 0?{}:y,w=A.useRef(null),S=A.useRef();S.current=v,A.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=A.useState({containerWidth:a.width,containerHeight:a.height}),j=fde(E,2),T=j[0],O=j[1],C=A.useCallback(function(F,q){O(function(V){var ne=Math.round(F),se=Math.round(q);return V.containerWidth===ne&&V.containerHeight===se?V:{containerWidth:ne,containerHeight:se}})},[]);A.useEffect(function(){var F=function(te){var ue,pe=te[0].contentRect,P=pe.width,H=pe.height;C(P,H),(ue=S.current)===null||ue===void 0||ue.call(S,P,H)};m>0&&(F=NI(F,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(F),V=w.current.getBoundingClientRect(),ne=V.width,se=V.height;return C(ne,se),q.observe(w.current),function(){q.disconnect()}},[C,m]);var M=A.useMemo(function(){var F=T.containerWidth,q=T.containerHeight;if(F<0||q<0)return null;Ia(Oo(s)||Oo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ia(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Oo(s)?F:s,ne=Oo(l)?q:l;r&&r>0&&(V?ne=V/r:ne&&(V=ne*r),h&&ne>h&&(ne=h)),Ia(V>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,ne,s,l,d,f,r);var se=!Array.isArray(p)&&Ni(p.type).endsWith("Chart");return z.Children.map(p,function(G){return z.isValidElement(G)?A.cloneElement(G,E0({width:V,height:ne},se?{style:E0({height:"100%",width:"100%",maxHeight:ne,maxWidth:V},G.props.style)}:{})):G})},[r,p,l,h,f,d,T,s]);return z.createElement("div",{id:x?"".concat(x):void 0,className:ze("recharts-responsive-container",b),style:E0(E0({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},M)}),Zi=function(t){return null};Zi.displayName="Cell";function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t,r){return t=xde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xde(e){var t=yde(e,"string");return kf(t)=="symbol"?t:t+""}function yde(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dl={widthCache:{},cacheCount:0},bde=2e3,wde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vA="recharts_measurement_span";function _de(e){var t=ob({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wu.isSsr)return{width:0,height:0};var n=_de(r),a=JSON.stringify({text:t,copyStyle:n});if(Dl.widthCache[a])return Dl.widthCache[a];try{var i=document.getElementById(vA);i||(i=document.createElement("span"),i.setAttribute("id",vA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=ob(ob({},wde),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Dl.widthCache[a]=l,++Dl.cacheCount>bde&&(Dl.cacheCount=0,Dl.widthCache={}),l}catch{return{width:0,height:0}}},Sde=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function lm(e,t){return Ade(e)||Tde(e,t)||jde(e,t)||Ede()}function Ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Ade(e){if(Array.isArray(e))return e}function Nde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cde(n.key),n)}}function Ode(e,t,r){return t&&xA(e.prototype,t),r&&xA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cde(e){var t=kde(e,"string");return Pf(t)=="symbol"?t:t+""}function kde(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ide=Object.keys(OI),ec="NaN";function Dde(e,t){return e*OI[t]}var j0=function(){function e(t,r){Nde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Pde.test(r)&&(this.num=NaN,this.unit=""),Ide.includes(r)&&(this.num=Dde(t,r),this.unit="px")}return Ode(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Rde.exec(r))!==null&&n!==void 0?n:[],i=lm(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function CI(e){if(e.includes(ec))return ec;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yA.exec(t))!==null&&r!==void 0?r:[],a=lm(n,4),i=a[1],s=a[2],o=a[3],l=j0.parse(i??""),u=j0.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ec;t=t.replace(yA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=bA.exec(t))!==null&&f!==void 0?f:[],p=lm(h,4),g=p[1],m=p[2],x=p[3],b=j0.parse(g??""),v=j0.parse(x??""),y=m==="+"?b.add(v):b.subtract(v);if(y.isNaN())return ec;t=t.replace(bA,y.toString())}return t}var wA=/\(([^()]*)\)/;function Mde(e){for(var t=e;t.includes("(");){var r=wA.exec(t),n=lm(r,2),a=n[1];t=t.replace(wA,CI(a))}return t}function $de(e){var t=e.replace(/\s+/g,"");return t=Mde(t),t=CI(t),t}function Lde(e){try{return $de(e)}catch{return ec}}function Bx(e){var t=Lde(e.slice(5,-1));return t===ec?"":t}var Fde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bde=["dx","dy","angle","className","breakAll"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(this,arguments)}function _A(e,t){if(e==null)return{};var r=Ude(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SA(e,t){return qde(e)||Hde(e,t)||Wde(e,t)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wde(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function qde(e){if(Array.isArray(e))return e}var kI=/[ \f\n\r\t\v\u2028\u2029]+/,PI=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];We(r)||(n?i=r.toString().split(""):i=r.toString().split(kI));var s=i.map(function(l){return{word:l,width:Wd(l,a).width}}),o=n?0:Wd("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Vde=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,u=t.breakAll,d=ve(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(ne,se){var G=se.word,te=se.width,ue=ne[ne.length-1];if(ue&&(a==null||i||ue.width+te+n<Number(a)))ue.words.push(G),ue.width+=te+n;else{var pe={words:[G],width:te};ne.push(pe)}return ne},[])},p=h(r),g=function(V){return V.reduce(function(ne,se){return ne.width>se.width?ne:se})};if(!d)return p;for(var m="",x=function(V){var ne=f.slice(0,V),se=PI({breakAll:u,style:l,children:ne+m}).wordsWithComputedWidth,G=h(se),te=G.length>s||g(G).width>Number(a);return[te,G]},b=0,v=f.length-1,y=0,_;b<=v&&y<=f.length-1;){var w=Math.floor((b+v)/2),S=w-1,E=x(S),j=SA(E,2),T=j[0],O=j[1],C=x(w),M=SA(C,1),F=M[0];if(!T&&!F&&(b=w+1),T&&F&&(v=w-1),!T&&F){_=O;break}y++}return _||p},jA=function(t){var r=We(t)?[]:t.toString().split(kI);return[{words:r}]},Kde=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Wu.isSsr){var l,u,d=PI({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return jA(a);return Vde({breakAll:s,children:a,maxLines:o,style:i},l,u,r,n)}return jA(a)},TA="#808080",sl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,b=x===void 0?TA:x,v=_A(t,Fde),y=A.useMemo(function(){return Kde({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),_=v.dx,w=v.dy,S=v.angle,E=v.className,j=v.breakAll,T=_A(v,Bde);if(!or(n)||!or(i))return null;var O=n+(ve(_)?_:0),C=i+(ve(w)?w:0),M;switch(m){case"start":M=Bx("calc(".concat(u,")"));break;case"middle":M=Bx("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:M=Bx("calc(".concat(y.length-1," * -").concat(o,")"));break}var F=[];if(f){var q=y[0].width,V=v.width;F.push("scale(".concat((ve(V)?V/q:1)/q,")"))}return S&&F.push("rotate(".concat(S,", ").concat(O,", ").concat(C,")")),F.length&&(T.transform=F.join(" ")),z.createElement("text",lb({},De(T,!0),{x:O,y:C,className:ze("recharts-text",E),textAnchor:p,fill:b.includes("url")?TA:b}),y.map(function(ne,se){var G=ne.words.join(j?"":" ");return z.createElement("tspan",{x:O,dy:se===0?M:o,key:"".concat(G,"-").concat(se)},G)}))};function Ls(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g2(e){let t,r,n;e.length!==2?(t=Ls,r=(o,l)=>Ls(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ls||e===Gde?e:Xde,r=e,n=e);function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function Xde(){return 0}function RI(e){return e===null?NaN:+e}function*Yde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Qde=g2(Ls),Oh=Qde.right;g2(RI).center;class AA extends Map{constructor(t,r=efe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(NA(this,t))}has(t){return super.has(NA(this,t))}set(t,r){return super.set(Jde(this,t),r)}delete(t){return super.delete(Zde(this,t))}}function NA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Jde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function efe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tfe(e=Ls){if(e===Ls)return II;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function II(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rfe=Math.sqrt(50),nfe=Math.sqrt(10),afe=Math.sqrt(2);function cm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=rfe?10:i>=nfe?5:i>=afe?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?cm(e,t,r*2):[o,l,u]}function cb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?cm(t,e,r):cm(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function ub(e,t,r){return t=+t,e=+e,r=+r,cm(e,t,r)[2]}function db(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ub(t,e,r):ub(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function OA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?II:tfe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),g=Math.min(n,Math.floor(t+(l-u)*f/l+h));DI(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(cd(e,r,t),a(e[n],i)>0&&cd(e,r,n);s<o;){for(cd(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?cd(e,r,o):(++o,cd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function cd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ife(e,t,r){if(e=Float64Array.from(Yde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CA(e);if(t>=1)return OA(e);var n,a=(n-1)*t,i=Math.floor(a),s=OA(DI(e,i).subarray(0,i+1)),o=CA(e.subarray(i+1));return s+(o-s)*(a-i)}}function sfe(e,t,r=RI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function ofe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fb=Symbol("implicit");function x2(){var e=new AA,t=[],r=[],n=fb;function a(i){let s=e.get(i);if(s===void 0){if(n!==fb)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new AA;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return x2(t,r).unknown(n)},ha.apply(a,arguments),a}function Rf(){var e=x2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+u*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*d,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=ofe(h).map(function(b){return g+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rf(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},ha.apply(f(),arguments)}function MI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MI(t())},e}function Hd(){return MI(Rf.apply(null,arguments).paddingInner(1))}function y2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $I(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ch(){}var If=.7,um=1/If,yc="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lfe=/^#([0-9a-f]{3,8})$/,cfe=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),ufe=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),dfe=new RegExp(`^rgba\\(${yc},${yc},${yc},${Df}\\)$`),ffe=new RegExp(`^rgba\\(${ti},${ti},${ti},${Df}\\)$`),hfe=new RegExp(`^hsl\\(${Df},${ti},${ti}\\)$`),pfe=new RegExp(`^hsla\\(${Df},${ti},${ti},${Df}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y2(Ch,Mf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PA,formatHex:PA,formatHex8:mfe,formatHsl:vfe,formatRgb:RA,toString:RA});function PA(){return this.rgb().formatHex()}function mfe(){return this.rgb().formatHex8()}function vfe(){return LI(this).formatHsl()}function RA(){return this.rgb().formatRgb()}function Mf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IA(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?T0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?T0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cfe.exec(e))?new vn(t[1],t[2],t[3],1):(t=ufe.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dfe.exec(e))?T0(t[1],t[2],t[3],t[4]):(t=ffe.exec(e))?T0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hfe.exec(e))?$A(t[1],t[2]/100,t[3]/100,1):(t=pfe.exec(e))?$A(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?IA(kA[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function IA(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function T0(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function gfe(e){return e instanceof Ch||(e=Mf(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function hb(e,t,r,n){return arguments.length===1?gfe(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}y2(vn,hb,$I(Ch,{brighter(e){return e=e==null?um:Math.pow(um,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(qo(this.r),qo(this.g),qo(this.b),dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DA,formatHex:DA,formatHex8:xfe,formatRgb:MA,toString:MA}));function DA(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function xfe(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function MA(){const e=dm(this.opacity);return`${e===1?"rgb(":"rgba("}${qo(this.r)}, ${qo(this.g)}, ${qo(this.b)}${e===1?")":`, ${e})`}`}function dm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=qo(e),(e<16?"0":"")+e.toString(16)}function $A(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Oa(e,t,r,n)}function LI(e){if(e instanceof Oa)return new Oa(e.h,e.s,e.l,e.opacity);if(e instanceof Ch||(e=Mf(e)),!e)return new Oa;if(e instanceof Oa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Oa(s,o,l,e.opacity)}function yfe(e,t,r,n){return arguments.length===1?LI(e):new Oa(e,t,r,n??1)}function Oa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}y2(Oa,yfe,$I(Ch,{brighter(e){return e=e==null?um:Math.pow(um,e),new Oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new Oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vn(Ux(e>=240?e-240:e+120,a,n),Ux(e,a,n),Ux(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Oa(LA(this.h),A0(this.s),A0(this.l),dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dm(this.opacity);return`${e===1?"hsl(":"hsla("}${LA(this.h)}, ${A0(this.s)*100}%, ${A0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LA(e){return e=(e||0)%360,e<0?e+360:e}function A0(e){return Math.max(0,Math.min(1,e||0))}function Ux(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b2=e=>()=>e;function bfe(e,t){return function(r){return e+r*t}}function wfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _fe(e){return(e=+e)==1?FI:function(t,r){return r-t?wfe(t,r,e):b2(isNaN(t)?r:t)}}function FI(e,t){var r=t-e;return r?bfe(e,r):b2(isNaN(e)?t:e)}const FA=function e(t){var r=_fe(t);function n(a,i){var s=r((a=hb(a)).r,(i=hb(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=FI(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Sfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Efe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Tfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Afe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zx=new RegExp(pb.source,"g");function Nfe(e){return function(){return e}}function Ofe(e){return function(t){return e(t)+""}}function Cfe(e,t){var r=pb.lastIndex=zx.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=pb.exec(e))&&(a=zx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:fm(n,a)})),r=zx.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Ofe(l[0].x):Nfe(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Hu(e,t){var r=typeof t,n;return t==null||r==="boolean"?b2(t):(r==="number"?fm:r==="string"?(n=Mf(t))?(t=n,FA):Cfe:t instanceof Mf?FA:t instanceof Date?Tfe:Efe(t)?Sfe:Array.isArray(t)?jfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Afe:fm)(e,t)}function w2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function kfe(e,t){t===void 0&&(t=e,e=Hu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Pfe(e){return function(){return e}}function hm(e){return+e}var BA=[0,1];function nn(e){return e}function mb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pfe(isNaN(t)?NaN:.5)}function Rfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ife(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=mb(a,n),i=r(s,i)):(n=mb(n,a),i=r(i,s)),function(o){return i(n(o))}}function Dfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=mb(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Oh(e,o,1,n)-1;return i[l](a[l](o))}}function kh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function og(){var e=BA,t=BA,r=Hu,n,a,i,s=nn,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==nn&&(s=Rfe(e[0],e[h-1])),o=h>2?Dfe:Ife,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),fm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=w2,d()},f.clamp=function(h){return arguments.length?(s=h?!0:nn,d()):s!==nn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function _2(){return og()(nn,nn)}function Mfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tu(e){return e=pm(Math.abs(e)),e?e[1]:NaN}function $fe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Lfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ffe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=Ffe.exec(e)))throw new Error("invalid format: "+e);var t;return new S2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=S2.prototype;function S2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var BI;function Ufe(e,t){var r=pm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(BI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pm(e,Math.max(0,t+i-1))[0]}function UA(e,t){var r=pm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const zA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UA(e*100,t),r:UA,s:Ufe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WA(e){return e}var HA=Array.prototype.map,qA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zfe(e){var t=e.grouping===void 0||e.thousands===void 0?WA:$fe(HA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WA:Lfe(HA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$f(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,b=f.width,v=f.comma,y=f.precision,_=f.trim,w=f.type;w==="n"?(v=!0,w="g"):zA[w]||(y===void 0&&(y=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?n:/[%p]/.test(w)?s:"",j=zA[w],T=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function O(C){var M=S,F=E,q,V,ne;if(w==="c")F=j(C)+F,C="";else{C=+C;var se=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),y),_&&(C=Bfe(C)),se&&+C==0&&g!=="+"&&(se=!1),M=(se?g==="("?g:o:g==="-"||g==="("?"":g)+M,F=(w==="s"?qA[8+BI/3]:"")+F+(se&&g==="("?")":""),T){for(q=-1,V=C.length;++q<V;)if(ne=C.charCodeAt(q),48>ne||ne>57){F=(ne===46?a+C.slice(q+1):C.slice(q))+F,C=C.slice(0,q);break}}}v&&!x&&(C=t(C,1/0));var G=M.length+C.length+F.length,te=G<b?new Array(b-G+1).join(h):"";switch(v&&x&&(C=t(te+C,te.length?b-F.length:1/0),te=""),p){case"<":C=M+C+F+te;break;case"=":C=M+te+C+F;break;case"^":C=te.slice(0,G=te.length>>1)+M+C+F+te.slice(G);break;default:C=te+M+C+F;break}return i(C)}return O.toString=function(){return f+""},O}function d(f,h){var p=u((f=$f(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(tu(h)/3)))*3,m=Math.pow(10,-g),x=qA[8+g/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var N0,E2,UI;Wfe({thousands:",",grouping:[3],currency:["$",""]});function Wfe(e){return N0=zfe(e),E2=N0.format,UI=N0.formatPrefix,N0}function Hfe(e){return Math.max(0,-tu(Math.abs(e)))}function qfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tu(t)/3)))*3-tu(Math.abs(e)))}function Vfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tu(t)-tu(e))+1}function zI(e,t,r,n){var a=db(e,t,r),i;switch(n=$f(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=qfe(a,s))&&(n.precision=i),UI(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Vfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Hfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return E2(n)}function Js(e){var t=e.domain;return e.ticks=function(r){var n=t();return cb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return zI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=ub(s,o,r),u===l)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function mm(){var e=_2();return e.copy=function(){return kh(e,mm())},ha.apply(e,arguments),Js(e)}function WI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WI(e).unknown(t)},e=arguments.length?Array.from(e,hm):[0,1],Js(r)}function HI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function VA(e){return Math.log(e)}function KA(e){return Math.exp(e)}function Kfe(e){return-Math.log(-e)}function Gfe(e){return-Math.exp(-e)}function Xfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yfe(e){return e===10?Xfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GA(e){return(t,r)=>-e(-t,r)}function j2(e){const t=e(VA,KA),r=t.domain;let n=10,a,i;function s(){return a=Qfe(n),i=Yfe(n),r()[0]<0?(a=GA(a),i=GA(i),e(Kfe,Gfe)):e(VA,KA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=o==null?10:+o;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=cb(u,d,x))}else b=cb(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=E2(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(HI(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function qI(){const e=j2(og()).domain([1,10]);return e.copy=()=>kh(e,qI()).base(e.base()),ha.apply(e,arguments),e}function XA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T2(e){var t=1,r=e(XA(t),YA(t));return r.constant=function(n){return arguments.length?e(XA(t=+n),YA(t)):t},Js(r)}function VI(){var e=T2(og());return e.copy=function(){return kh(e,VI()).constant(e.constant())},ha.apply(e,arguments)}function QA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zfe(e){return e<0?-e*e:e*e}function A2(e){var t=e(nn,nn),r=1;function n(){return r===1?e(nn,nn):r===.5?e(Jfe,Zfe):e(QA(r),QA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Js(t)}function N2(){var e=A2(og());return e.copy=function(){return kh(e,N2()).exponent(e.exponent())},ha.apply(e,arguments),e}function ehe(){return N2.apply(null,arguments).exponent(.5)}function JA(e){return Math.sign(e)*e*e}function the(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KI(){var e=_2(),t=[0,1],r=!1,n;function a(i){var s=the(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(JA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hm)).map(JA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return KI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ha.apply(a,arguments),Js(a)}function GI(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=sfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Oh(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ls),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GI().domain(e).range(t).unknown(n)},ha.apply(i,arguments)}function XI(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Oh(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return XI().domain([e,t]).range(a).unknown(i)},ha.apply(Js(s),arguments)}function YI(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Oh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return YI().domain(e).range(t).unknown(r)},ha.apply(a,arguments)}const Wx=new Date,Hx=new Date;function lr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=i=>lr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Wx.setTime(+i),Hx.setTime(+s),e(Wx),e(Hx),Math.floor(r(Wx,Hx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const vm=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vm);vm.range;const wi=1e3,aa=wi*60,_i=aa*60,Bi=_i*24,O2=Bi*7,ZA=Bi*30,qx=Bi*365,ko=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());ko.range;const C2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());C2.range;const k2=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());k2.range;const P2=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours());P2.range;const R2=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours());R2.range;const Ph=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Bi,e=>e.getDate()-1);Ph.range;const lg=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);lg.range;const QI=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));QI.range;function El(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/O2)}const cg=El(0),gm=El(1),rhe=El(2),nhe=El(3),ru=El(4),ahe=El(5),ihe=El(6);cg.range;gm.range;rhe.range;nhe.range;ru.range;ahe.range;ihe.range;function jl(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/O2)}const ug=jl(0),xm=jl(1),she=jl(2),ohe=jl(3),nu=jl(4),lhe=jl(5),che=jl(6);ug.range;xm.range;she.range;ohe.range;nu.range;lhe.range;che.range;const I2=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());I2.range;const D2=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D2.range;const Ui=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ui.range;const zi=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function JI(e,t,r,n,a,i){const s=[[ko,1,wi],[ko,5,5*wi],[ko,15,15*wi],[ko,30,30*wi],[i,1,aa],[i,5,5*aa],[i,15,15*aa],[i,30,30*aa],[a,1,_i],[a,3,3*_i],[a,6,6*_i],[a,12,12*_i],[n,1,Bi],[n,2,2*Bi],[r,1,O2],[t,1,ZA],[t,3,3*ZA],[e,1,qx]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=g2(([,,x])=>x).right(s,h);if(p===s.length)return e.every(db(u/qx,d/qx,f));if(p===0)return vm.every(Math.max(db(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[uhe,dhe]=JI(zi,D2,ug,QI,R2,k2),[fhe,hhe]=JI(Ui,I2,cg,Ph,P2,C2);function Vx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ud(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function phe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=dd(a),d=fd(a),f=dd(i),h=fd(i),p=dd(s),g=fd(s),m=dd(o),x=fd(o),b=dd(l),v=fd(l),y={a:se,A:G,b:te,B:ue,c:null,d:iN,e:iN,f:$he,g:Khe,G:Xhe,H:Ihe,I:Dhe,j:Mhe,L:ZI,m:Lhe,M:Fhe,p:pe,q:P,Q:lN,s:cN,S:Bhe,u:Uhe,U:zhe,V:Whe,w:Hhe,W:qhe,x:null,X:null,y:Vhe,Y:Ghe,Z:Yhe,"%":oN},_={a:H,A:U,b:W,B:ae,c:null,d:sN,e:sN,f:e0e,g:u0e,G:f0e,H:Qhe,I:Jhe,j:Zhe,L:t6,m:t0e,M:r0e,p:Se,q:J,Q:lN,s:cN,S:n0e,u:a0e,U:i0e,V:s0e,w:o0e,W:l0e,x:null,X:null,y:c0e,Y:d0e,Z:h0e,"%":oN},w={a:O,A:C,b:M,B:F,c:q,d:nN,e:nN,f:Che,g:rN,G:tN,H:aN,I:aN,j:The,L:Ohe,m:jhe,M:Ahe,p:T,q:Ehe,Q:Phe,s:Rhe,S:Nhe,u:yhe,U:bhe,V:whe,w:xhe,W:_he,x:V,X:ne,y:rN,Y:tN,Z:She,"%":khe};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(K,ee){return function(ye){var re=[],Le=-1,Ce=0,tt=K.length,Fe,we,Wt;for(ye instanceof Date||(ye=new Date(+ye));++Le<tt;)K.charCodeAt(Le)===37&&(re.push(K.slice(Ce,Le)),(we=eN[Fe=K.charAt(++Le)])!=null?Fe=K.charAt(++Le):we=Fe==="e"?" ":"0",(Wt=ee[Fe])&&(Fe=Wt(ye,we)),re.push(Fe),Ce=Le+1);return re.push(K.slice(Ce,Le)),re.join("")}}function E(K,ee){return function(ye){var re=ud(1900,void 0,1),Le=j(re,K,ye+="",0),Ce,tt;if(Le!=ye.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ce=Kx(ud(re.y,0,1)),tt=Ce.getUTCDay(),Ce=tt>4||tt===0?xm.ceil(Ce):xm(Ce),Ce=lg.offset(Ce,(re.V-1)*7),re.y=Ce.getUTCFullYear(),re.m=Ce.getUTCMonth(),re.d=Ce.getUTCDate()+(re.w+6)%7):(Ce=Vx(ud(re.y,0,1)),tt=Ce.getDay(),Ce=tt>4||tt===0?gm.ceil(Ce):gm(Ce),Ce=Ph.offset(Ce,(re.V-1)*7),re.y=Ce.getFullYear(),re.m=Ce.getMonth(),re.d=Ce.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),tt="Z"in re?Kx(ud(re.y,0,1)).getUTCDay():Vx(ud(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(tt+5)%7:re.w+re.U*7-(tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Kx(re)):Vx(re)}}function j(K,ee,ye,re){for(var Le=0,Ce=ee.length,tt=ye.length,Fe,we;Le<Ce;){if(re>=tt)return-1;if(Fe=ee.charCodeAt(Le++),Fe===37){if(Fe=ee.charAt(Le++),we=w[Fe in eN?ee.charAt(Le++):Fe],!we||(re=we(K,ye,re))<0)return-1}else if(Fe!=ye.charCodeAt(re++))return-1}return re}function T(K,ee,ye){var re=u.exec(ee.slice(ye));return re?(K.p=d.get(re[0].toLowerCase()),ye+re[0].length):-1}function O(K,ee,ye){var re=p.exec(ee.slice(ye));return re?(K.w=g.get(re[0].toLowerCase()),ye+re[0].length):-1}function C(K,ee,ye){var re=f.exec(ee.slice(ye));return re?(K.w=h.get(re[0].toLowerCase()),ye+re[0].length):-1}function M(K,ee,ye){var re=b.exec(ee.slice(ye));return re?(K.m=v.get(re[0].toLowerCase()),ye+re[0].length):-1}function F(K,ee,ye){var re=m.exec(ee.slice(ye));return re?(K.m=x.get(re[0].toLowerCase()),ye+re[0].length):-1}function q(K,ee,ye){return j(K,t,ee,ye)}function V(K,ee,ye){return j(K,r,ee,ye)}function ne(K,ee,ye){return j(K,n,ee,ye)}function se(K){return s[K.getDay()]}function G(K){return i[K.getDay()]}function te(K){return l[K.getMonth()]}function ue(K){return o[K.getMonth()]}function pe(K){return a[+(K.getHours()>=12)]}function P(K){return 1+~~(K.getMonth()/3)}function H(K){return s[K.getUTCDay()]}function U(K){return i[K.getUTCDay()]}function W(K){return l[K.getUTCMonth()]}function ae(K){return o[K.getUTCMonth()]}function Se(K){return a[+(K.getUTCHours()>=12)]}function J(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ee=S(K+="",y);return ee.toString=function(){return K},ee},parse:function(K){var ee=E(K+="",!1);return ee.toString=function(){return K},ee},utcFormat:function(K){var ee=S(K+="",_);return ee.toString=function(){return K},ee},utcParse:function(K){var ee=E(K+="",!0);return ee.toString=function(){return K},ee}}}var eN={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,mhe=/^%/,vhe=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function ghe(e){return e.replace(vhe,"\\$&")}function dd(e){return new RegExp("^(?:"+e.map(ghe).join("|")+")","i")}function fd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xhe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yhe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function whe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _he(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tN(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function She(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ehe(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function The(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ahe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Nhe(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ohe(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Che(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function khe(e,t,r){var n=mhe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Phe(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Rhe(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iN(e,t){return Ye(e.getDate(),t,2)}function Ihe(e,t){return Ye(e.getHours(),t,2)}function Dhe(e,t){return Ye(e.getHours()%12||12,t,2)}function Mhe(e,t){return Ye(1+Ph.count(Ui(e),e),t,3)}function ZI(e,t){return Ye(e.getMilliseconds(),t,3)}function $he(e,t){return ZI(e,t)+"000"}function Lhe(e,t){return Ye(e.getMonth()+1,t,2)}function Fhe(e,t){return Ye(e.getMinutes(),t,2)}function Bhe(e,t){return Ye(e.getSeconds(),t,2)}function Uhe(e){var t=e.getDay();return t===0?7:t}function zhe(e,t){return Ye(cg.count(Ui(e)-1,e),t,2)}function e6(e){var t=e.getDay();return t>=4||t===0?ru(e):ru.ceil(e)}function Whe(e,t){return e=e6(e),Ye(ru.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function Hhe(e){return e.getDay()}function qhe(e,t){return Ye(gm.count(Ui(e)-1,e),t,2)}function Vhe(e,t){return Ye(e.getFullYear()%100,t,2)}function Khe(e,t){return e=e6(e),Ye(e.getFullYear()%100,t,2)}function Ghe(e,t){return Ye(e.getFullYear()%1e4,t,4)}function Xhe(e,t){var r=e.getDay();return e=r>=4||r===0?ru(e):ru.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function Yhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function sN(e,t){return Ye(e.getUTCDate(),t,2)}function Qhe(e,t){return Ye(e.getUTCHours(),t,2)}function Jhe(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function Zhe(e,t){return Ye(1+lg.count(zi(e),e),t,3)}function t6(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function e0e(e,t){return t6(e,t)+"000"}function t0e(e,t){return Ye(e.getUTCMonth()+1,t,2)}function r0e(e,t){return Ye(e.getUTCMinutes(),t,2)}function n0e(e,t){return Ye(e.getUTCSeconds(),t,2)}function a0e(e){var t=e.getUTCDay();return t===0?7:t}function i0e(e,t){return Ye(ug.count(zi(e)-1,e),t,2)}function r6(e){var t=e.getUTCDay();return t>=4||t===0?nu(e):nu.ceil(e)}function s0e(e,t){return e=r6(e),Ye(nu.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function o0e(e){return e.getUTCDay()}function l0e(e,t){return Ye(xm.count(zi(e)-1,e),t,2)}function c0e(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function u0e(e,t){return e=r6(e),Ye(e.getUTCFullYear()%100,t,2)}function d0e(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function f0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nu(e):nu.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function h0e(){return"+0000"}function oN(){return"%"}function lN(e){return+e}function cN(e){return Math.floor(+e/1e3)}var Ml,n6,a6;p0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p0e(e){return Ml=phe(e),n6=Ml.format,Ml.parse,a6=Ml.utcFormat,Ml.utcParse,Ml}function m0e(e){return new Date(e)}function v0e(e){return e instanceof Date?+e:+new Date(+e)}function M2(e,t,r,n,a,i,s,o,l,u){var d=_2(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),v=u("%b %d"),y=u("%B"),_=u("%Y");function w(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?m:i(S)<S?x:n(S)<S?a(S)<S?b:v:r(S)<S?y:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,v0e)):h().map(m0e)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?w:u(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(HI(E,S)):d},d.copy=function(){return kh(d,M2(e,t,r,n,a,i,s,o,l,u))},d}function g0e(){return ha.apply(M2(fhe,hhe,Ui,I2,cg,Ph,P2,C2,ko,n6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x0e(){return ha.apply(M2(uhe,dhe,zi,D2,ug,lg,R2,k2,ko,a6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dg(){var e=0,t=1,r,n,a,i,s=nn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(Hu),u.rangeRound=d(w2),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i6(){var e=Js(dg()(nn));return e.copy=function(){return Zs(e,i6())},es.apply(e,arguments)}function s6(){var e=j2(dg()).domain([1,10]);return e.copy=function(){return Zs(e,s6()).base(e.base())},es.apply(e,arguments)}function o6(){var e=T2(dg());return e.copy=function(){return Zs(e,o6()).constant(e.constant())},es.apply(e,arguments)}function $2(){var e=A2(dg());return e.copy=function(){return Zs(e,$2()).exponent(e.exponent())},es.apply(e,arguments)}function y0e(){return $2.apply(null,arguments).exponent(.5)}function l6(){var e=[],t=nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Oh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ls),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ife(e,i/n))},r.copy=function(){return l6(t).domain(e)},es.apply(r,arguments)}function fg(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,u=nn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?o:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var b,v,y;return arguments.length?([b,v,y]=x,u=kfe(m,[b,v,y]),p):[u(0),u(.5),u(1)]}}return p.range=g(Hu),p.rangeRound=g(w2),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function c6(){var e=Js(fg()(nn));return e.copy=function(){return Zs(e,c6())},es.apply(e,arguments)}function u6(){var e=j2(fg()).domain([.1,1,10]);return e.copy=function(){return Zs(e,u6()).base(e.base())},es.apply(e,arguments)}function d6(){var e=T2(fg());return e.copy=function(){return Zs(e,d6()).constant(e.constant())},es.apply(e,arguments)}function L2(){var e=A2(fg());return e.copy=function(){return Zs(e,L2()).exponent(e.exponent())},es.apply(e,arguments)}function b0e(){return L2.apply(null,arguments).exponent(.5)}const uN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rf,scaleDiverging:c6,scaleDivergingLog:u6,scaleDivergingPow:L2,scaleDivergingSqrt:b0e,scaleDivergingSymlog:d6,scaleIdentity:WI,scaleImplicit:fb,scaleLinear:mm,scaleLog:qI,scaleOrdinal:x2,scalePoint:Hd,scalePow:N2,scaleQuantile:GI,scaleQuantize:XI,scaleRadial:KI,scaleSequential:i6,scaleSequentialLog:s6,scaleSequentialPow:$2,scaleSequentialQuantile:l6,scaleSequentialSqrt:y0e,scaleSequentialSymlog:o6,scaleSqrt:ehe,scaleSymlog:VI,scaleThreshold:YI,scaleTime:g0e,scaleUtc:x0e,tickFormat:zI},Symbol.toStringTag,{value:"Module"}));var w0e=Du;function _0e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!w0e(s):r(s,o)))var o=s,l=i}return l}var hg=_0e;function S0e(e,t){return e>t}var f6=S0e,E0e=hg,j0e=f6,T0e=zu;function A0e(e){return e&&e.length?E0e(e,T0e,j0e):void 0}var N0e=A0e;const pg=et(N0e);function O0e(e,t){return e<t}var h6=O0e,C0e=hg,k0e=h6,P0e=zu;function R0e(e){return e&&e.length?C0e(e,P0e,k0e):void 0}var I0e=R0e;const mg=et(I0e);var D0e=J_,M0e=li,$0e=wI,L0e=Tn;function F0e(e,t){var r=L0e(e)?D0e:$0e;return r(e,M0e(t))}var B0e=F0e,U0e=yI,z0e=B0e;function W0e(e,t){return U0e(z0e(e,t),1)}var H0e=W0e;const q0e=et(H0e);var V0e=h2;function K0e(e,t){return V0e(e,t)}var G0e=K0e;const vg=et(G0e);var qu=1e9,X0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B2,jt=!0,ca="[DecimalError] ",Vo=ca+"Invalid argument: ",F2=ca+"Exponent out of range: ",Vu=Math.floor,xo=Math.pow,Y0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,ur=1e7,bt=7,p6=9007199254740991,ym=Vu(p6/bt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return ki(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return ft(ki(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Zt(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($n))throw Error(ca+"NaN");if(r.s<1)throw Error(ca+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(jt=!1,t=ki(Lf(r,i),Lf(e,i),i),jt=!0,ft(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g6(t,e):m6(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ca+"NaN");return r.s?(jt=!1,t=ki(r,e,0,1).times(e),jt=!0,r.minus(t)):ft(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return v6(this)};Oe.naturalLogarithm=Oe.ln=function(){return Lf(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m6(t,e):g6(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vo+e);if(t=Zt(a)+1,n=a.d.length-1,r=n*bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ca+"NaN")}for(e=Zt(o),jt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ja(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ki(o,i,s+2)).times(.5),Ja(i.d).slice(0,s)===(t=Ja(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(ft(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return jt=!0,ft(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ur|0,t=o/ur|0;i[a]=(i[a]+t)%ur|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,jt?ft(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ii(e,0,qu),t===void 0?t=n.rounding:ii(t,0,8),ft(r,e+Zt(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ol(n,!0):(ii(e,0,qu),t===void 0?t=a.rounding:ii(t,0,8),n=ft(new a(n),e+1,t),r=ol(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ol(a):(ii(e,0,qu),t===void 0?t=i.rounding:ii(t,0,8),n=ft(new i(a),e+Zt(a)+1,t),r=ol(n.abs(),!1,e+Zt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return ft(new t(e),Zt(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l($n);if(o=new l(o),!o.s){if(e.s<1)throw Error(ca+"Infinity");return o}if(o.eq($n))return o;if(n=l.precision,e.eq($n))return ft(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=p6){for(a=new l($n),t=Math.ceil(n/bt+4),jt=!1;r%2&&(a=a.times(o),fN(a.d,t)),r=Vu(r/2),r!==0;)o=o.times(o),fN(o.d,t);return jt=!0,e.s<0?new l($n).div(a):ft(a,n)}}else if(i<0)throw Error(ca+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,jt=!1,a=e.times(Lf(o,n+u)),jt=!0,a=v6(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Zt(a),n=ol(a,r<=i.toExpNeg||r>=i.toExpPos)):(ii(e,1,qu),t===void 0?t=i.rounding:ii(t,0,8),a=ft(new i(a),e,t),r=Zt(a),n=ol(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ii(e,1,qu),t===void 0?t=n.rounding:ii(t,0,8)),ft(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return ol(e,t<=r.toExpNeg||t>=r.toExpPos)};function m6(e,t){var r,n,a,i,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jt?ft(t,f):t;if(l=e.d,u=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(f/bt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/ur|0,l[i]%=ur;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,jt?ft(t,f):t}function ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vo+e)}function Ja(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=bt-n.length,r&&(i+=os(r)),i+=n;s=e[t],n=s+"",r=bt-n.length,r&&(i+=os(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ki=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ur|0,s=i/ur|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ur+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,d,f,h,p,g,m,x,b,v,y,_,w,S,E,j,T=n.constructor,O=n.s==a.s?1:-1,C=n.d,M=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ca+"Division by zero");for(l=n.e-a.e,E=M.length,w=C.length,p=new T(O),g=p.d=[],u=0;M[u]==(C[u]||0);)++u;if(M[u]>(C[u]||0)&&--l,i==null?v=i=T.precision:s?v=i+(Zt(n)-Zt(a))+1:v=i,v<0)return new T(0);if(v=v/bt+2|0,u=0,E==1)for(d=0,M=M[0],v++;(u<w||d)&&v--;u++)y=d*ur+(C[u]||0),g[u]=y/M|0,d=y%M|0;else{for(d=ur/(M[0]+1)|0,d>1&&(M=e(M,d),C=e(C,d),E=M.length,w=C.length),_=E,m=C.slice(0,E),x=m.length;x<E;)m[x++]=0;j=M.slice(),j.unshift(0),S=M[0],M[1]>=ur/2&&++S;do d=0,o=t(M,m,E,x),o<0?(b=m[0],E!=x&&(b=b*ur+(m[1]||0)),d=b/S|0,d>1?(d>=ur&&(d=ur-1),f=e(M,d),h=f.length,x=m.length,o=t(f,m,h,x),o==1&&(d--,r(f,E<h?j:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),o==-1&&(x=m.length,o=t(M,m,E,x),o<1&&(d++,r(m,E<x?j:M,x))),x=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[x++]=C[_]||0:(m=[C[_]],x=1);while((_++<w||m[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=l,ft(p,s?i+Zt(p)+1:i)}}();function v6(e,t){var r,n,a,i,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Zt(e)>16)throw Error(F2+Zt(e));if(!e.s)return new d($n);for(jt=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(xo(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d($n),d.precision=o;;){if(a=ft(a.times(e),o),r=r.times(++l),s=i.plus(ki(a,r,o)),Ja(s.d).slice(0,o)===Ja(i.d).slice(0,o)){for(;u--;)i=ft(i.times(i),o);return d.precision=f,t==null?(jt=!0,ft(i,f)):i}i=s}}function Zt(e){for(var t=e.e*bt,r=e.d[0];r>=10;r/=10)t++;return t}function Gx(e,t,r){if(t>e.LN10.sd())throw jt=!0,r&&(e.precision=r),Error(ca+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function os(e){for(var t="";e--;)t+="0";return t}function Lf(e,t){var r,n,a,i,s,o,l,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(ca+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new m(0);if(t==null?(jt=!1,u=x):u=t,p.eq(10))return t==null&&(jt=!0),Gx(m,u);if(u+=h,m.precision=u,r=Ja(g),n=r.charAt(0),i=Zt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ja(p.d),n=r.charAt(0),f++;i=Zt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=Gx(m,u+2,x).times(i+""),p=Lf(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=x,t==null?(jt=!0,ft(p,x)):p;for(o=s=p=ki(p.minus($n),p.plus($n),u),d=ft(p.times(p),u),a=3;;){if(s=ft(s.times(d),u),l=o.plus(ki(s,new m(a),u)),Ja(l.d).slice(0,u)===Ja(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Gx(m,u+2,x).times(i+""))),o=ki(o,new m(f),u),m.precision=x,t==null?(jt=!0,ft(o,x)):o;o=l,a+=2}}function dN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vu(r/bt),e.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=bt;n<a;)e.d.push(+t.slice(n,n+=bt));t=t.slice(n),n=bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jt&&(e.e>ym||e.e<-ym))throw Error(F2+r)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,r){var n,a,i,s,o,l,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=bt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/bt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=bt,a=n-bt+s}if(r!==void 0&&(i=xo(10,s-a-1),o=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/xo(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Zt(e),f.length=1,t=t-i-1,f[0]=xo(10,(bt-t%bt)%bt),e.e=Vu(-t/bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xo(10,bt-n),f[d]=a>0?(u/xo(10,s-a)%xo(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(jt&&(e.e>ym||e.e<-ym))throw Error(F2+Zt(e));return e}function g6(e,t){var r,n,a,i,s,o,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jt?ft(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(p/bt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ur-1;--l[i],l[a]+=ur}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,jt?ft(t,p):t):new h(0)}function ol(e,t,r){var n,a=Zt(e),i=Ja(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+os(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+os(-a-1)+i,r&&(n=r-s)>0&&(i+=os(n))):a>=s?(i+=os(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+os(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=os(n))),e.s<0?"-"+i:i}function fN(e,t){if(e.length>t)return e.length=t,!0}function x6(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return dN(s,i.toString())}else if(typeof i!="string")throw Error(Vo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Y0e.test(i))dN(s,i);else throw Error(Vo+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=x6,a.config=a.set=Q0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Q0e(e){if(!e||typeof e!="object")throw Error(ca+"Object expected");var t,r,n,a=["precision",1,qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vo+r+": "+n);return this}var B2=x6(X0e);$n=new B2(1);const ut=B2;function J0e(e){return rpe(e)||tpe(e)||epe(e)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function tpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rpe(e){if(Array.isArray(e))return vb(e)}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var npe=function(t){return t},y6={},b6=function(t){return t===y6},hN=function(t){return function r(){return arguments.length===0||arguments.length===1&&b6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ape=function e(t,r){return t===1?r:hN(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==y6}).length;return s>=t?r.apply(void 0,a):e(t-s,hN(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=a.map(function(f){return b6(f)?l.shift():f});return r.apply(void 0,J0e(d).concat(l))}))})},gg=function(t){return ape(t.length,t)},gb=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},ipe=gg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),spe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return npe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},xb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},w6=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function ope(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function lpe(e,t,r){for(var n=new ut(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var cpe=gg(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),upe=gg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),dpe=gg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const xg={rangeStep:lpe,getDigitCount:ope,interpolateNumber:cpe,uninterpolateNumber:upe,uninterpolateTruncation:dpe};function yb(e){return ppe(e)||hpe(e)||_6(e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ppe(e){if(Array.isArray(e))return bb(e)}function Ff(e,t){return gpe(e)||vpe(e,t)||_6(e,t)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _6(e,t){if(e){if(typeof e=="string")return bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bb(e,t)}}function bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function gpe(e){if(Array.isArray(e))return e}function S6(e){var t=Ff(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function E6(e,t,r){if(e.lte(0))return new ut(0);var n=xg.getDigitCount(e.toNumber()),a=new ut(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new ut(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new ut(Math.ceil(l))}function xpe(e,t,r){var n=1,a=new ut(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ut(10).pow(xg.getDigitCount(e)-1),a=new ut(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ut(Math.floor(e)))}else e===0?a=new ut(Math.floor((t-1)/2)):r||(a=new ut(Math.floor(e)));var s=Math.floor((t-1)/2),o=spe(ipe(function(l){return a.add(new ut(l-s).mul(n)).toNumber()}),gb);return o(0,t)}function j6(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var i=E6(new ut(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new ut(0):(s=new ut(e).add(t).div(2),s=s.sub(new ut(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new ut(t).sub(s).div(i).toNumber()),u=o+l+1;return u>r?j6(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new ut(o).mul(i)),tickMax:s.add(new ut(l).mul(i))})}function ype(e){var t=Ff(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=S6([r,n]),l=Ff(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(yb(gb(0,a-1).map(function(){return 1/0}))):[].concat(yb(gb(0,a-1).map(function(){return-1/0})),[d]);return r>n?xb(f):f}if(u===d)return xpe(u,a,i);var h=j6(u,d,s,i),p=h.step,g=h.tickMin,m=h.tickMax,x=xg.rangeStep(g,m.add(new ut(.1).mul(p)),p);return r>n?xb(x):x}function bpe(e,t){var r=Ff(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=S6([n,a]),o=Ff(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=E6(new ut(u).sub(l).div(d-1),i,0),h=[].concat(yb(xg.rangeStep(new ut(l),new ut(u).sub(new ut(.99).mul(f)),f)),[u]);return n>a?xb(h):h}var wpe=w6(ype),_pe=w6(bpe),Spe="Invariant failed";function ll(e,t){throw new Error(Spe)}var Epe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function jpe(e,t){return Ope(e)||Npe(e,t)||Ape(e,t)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ape(e,t){if(e){if(typeof e=="string")return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Npe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Ope(e){if(Array.isArray(e))return e}function Cpe(e,t){if(e==null)return{};var r=kpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ppe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N6(n.key),n)}}function Ipe(e,t,r){return t&&Rpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dpe(e,t,r){return t=wm(t),Mpe(e,T6()?Reflect.construct(t,r||[],wm(e).constructor):t.apply(e,r))}function Mpe(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(e)}function $pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}function Lpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wb(e,t)}function wb(e,t){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wb(e,t)}function A6(e,t,r){return t=N6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=Fpe(e,"string");return au(t)=="symbol"?t:t+""}function Fpe(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yg=function(e){function t(){return Ppe(this,t),Dpe(this,t,arguments)}return Lpe(t,e),Ipe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Cpe(n,Epe),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&ll();var g=l.map(function(m){var x=u(m,o),b=x.x,v=x.y,y=x.value,_=x.errorVal;if(!_)return null;var w=[],S,E;if(Array.isArray(_)){var j=jpe(_,2);S=j[0],E=j[1]}else S=E=_;if(i==="vertical"){var T=d.scale,O=v+a,C=O+s,M=O-s,F=T(y-S),q=T(y+E);w.push({x1:q,y1:C,x2:q,y2:M}),w.push({x1:F,y1:O,x2:q,y2:O}),w.push({x1:F,y1:C,x2:F,y2:M})}else if(i==="horizontal"){var V=f.scale,ne=b+a,se=ne-s,G=ne+s,te=V(y-S),ue=V(y+E);w.push({x1:se,y1:ue,x2:G,y2:ue}),w.push({x1:ne,y1:te,x2:ne,y2:ue}),w.push({x1:se,y1:te,x2:G,y2:te})}return z.createElement(at,bm({className:"recharts-errorBar",key:"bar-".concat(w.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},p),w.map(function(pe){return z.createElement("line",bm({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return z.createElement(at,{className:"recharts-errorBars"},g)}}])}(z.Component);A6(yg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});A6(yg,"displayName","ErrorBar");function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Bpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bpe(e,t,r){return t=Upe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Upe(e){var t=zpe(e,"string");return Bf(t)=="symbol"?t:t+""}function zpe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=kn(r,Oi);if(!s)return null;var o=Oi.defaultProps,l=o!==void 0?oo(oo({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?oo(oo({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||x||"square",color:U2(f),value:m||g,payload:p}}),oo(oo(oo({},l),Oi.getWithHeight(s,a)),{},{payload:u,item:s})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function vN(e){return Vpe(e)||qpe(e)||Hpe(e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(e,t){if(e){if(typeof e=="string")return _b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(e,t)}}function qpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vpe(e){if(Array.isArray(e))return _b(e)}function _b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bc(e,t,r){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kpe(e){var t=Gpe(e,"string");return Uf(t)=="symbol"?t:t+""}function Gpe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t,r){return We(e)||We(t)?r:or(t)?Bn(e,t,r):Me(t)?t(e):r}function qd(e,t,r,n){var a=q0e(e,function(o){return Ur(o,t)});if(r==="number"){var i=a.filter(function(o){return ve(o)||parseFloat(o)});return i.length?[mg(i),pg(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!We(o)}):a;return s.map(function(o){return or(o)||o instanceof Date?o:""})}var Xpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(tn(f-d)!==tn(h-f)){var g=[];if(tn(h-f)===tn(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[u].index;break}}else{var v=Math.min(d,h),y=Math.max(d,h);if(t>(v+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},U2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Ype=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,b=m.filter(function(E){return Ni(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,y=v!==void 0?Ft(Ft({},v),b[0].props):b[0].props,_=y.barSize,w=y[x];s[w]||(s[w]=[]);var S=We(_)?r:_;s[w].push({item:b[0],stackList:b.slice(1),barSize:We(S)?void 0:rn(S,n,0)})}}return s},Qpe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var u=rn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(_,w){return _+w.barSize||0},0);g+=(l-1)*u,g>=a&&(g-=(l-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,x={offset:m-u,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},E=[].concat(vN(_),[S]);return x=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:x})}),E},f)}else{var b=rn(n,a,0,!0);a-2*b-(l-1)*u<=0&&(u=0);var v=(a-2*b-(l-1)*u)/l;v>1&&(v>>=0);var y=o===+o?Math.min(v,o):v;d=s.reduce(function(_,w,S){var E=[].concat(vN(_),[{item:w.item,position:{offset:b+(v+u)*S+(v-y)/2,size:y}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},Jpe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=O6({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ve(t[p]))return Ft(Ft({},t),{},bc({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ve(t[g]))return Ft(Ft({},t),{},bc({},g,t[g]+(h||0)))}return t},Zpe=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},C6=function(t,r,n,a,i){var s=r.props.children,o=sa(s,yg).filter(function(u){return Zpe(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ur(d,n);if(We(f))return u;var h=Array.isArray(f)?[mg(f),pg(f)]:[f,f],p=l.reduce(function(g,m){var x=Ur(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},eme=function(t,r,n,a,i){var s=r.map(function(o){return C6(t,o,n,i,a)}).filter(function(o){return!We(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},k6=function(t,r,n,a,i){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&C6(t,l,u,a)||qd(t,u,n,i)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},P6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},R6=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Si=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?tn(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Th(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Xx=new WeakMap,O0=function(t,r){if(typeof r!="function")return t;Xx.has(t)||Xx.set(t,new WeakMap);var n=Xx.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},I6=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Rf(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:mm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hd(),realScaleType:"point"}:i==="category"?{scale:Rf(),realScaleType:"band"}:{scale:mm(),realScaleType:"linear"};if(al(a)){var l="scale".concat(eg(a));return{scale:(uN[l]||Hd)(),realScaleType:uN[l]?l:"point"}}return Me(a)?{scale:a}:{scale:Hd(),realScaleType:"point"}},xN=1e-4,D6=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-xN,s=Math.max(a[0],a[1])+xN,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},tme=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},rme=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},nme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Th(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},ame=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Th(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},ime={sign:nme,expand:Ere,none:Yc,silhouette:jre,wiggle:Tre,positive:ame},sme=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=ime[n],s=Sre().keys(a).value(function(o,l){return+Ur(o,l,0)}).order(K1).offset(i);return s(t)},ome=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ft(Ft({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(or(m)){var y=v.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),v.hasStack=!0,v.stackGroups[m]=y}else v.stackGroups[Ah("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ft(Ft({},f),{},bc({},b,v))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return Ft(Ft({},m),{},bc({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:sme(t,b.items,i)}))},g)}return Ft(Ft({},f),{},bc({},h,p))},d)},M6=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=wpe(u,i,o);return t.domain([mg(d),pg(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=_pe(f,i,o);return{niceTicks:h}}return null},yN=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Ur(s,r.dataKey,r.domain[o]);return We(l)?null:r.scale(l)-i/2+a},lme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},cme=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(or(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},ume=function(t){return t.reduce(function(r,n){return[mg(n.concat([r[0]]).filter(ve)),pg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},$6=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(u,d){var f=ume(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},bN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sb=function(t,r,n){if(Me(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ve(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(bN.test(t[0])){var i=+bN.exec(t[0])[1];a[0]=r[0]-i}else Me(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ve(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(wN.test(t[1])){var s=+wN.exec(t[1])[1];a[1]=r[1]+s}else Me(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},_m=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=m2(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},_N=function(t,r,n){return!t||!t.length||vg(t,Bn(n,"type.defaultProps.domain"))?r:t},L6=function(t,r){var n=t.type.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Ft(Ft({},De(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:U2(t),value:Ur(r,a),type:l,payload:r,chartType:u,hide:d})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){F6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F6(e,t,r){return t=dme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dme(e){var t=fme(e,"string");return zf(t)=="symbol"?t:t+""}function fme(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hme(e,t){return gme(e)||vme(e,t)||mme(e,t)||pme()}function pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mme(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function gme(e){if(Array.isArray(e))return e}var Sm=Math.PI/180,xme=function(t){return t*180/Math.PI},gt=function(t,r,n,a){return{x:t+Math.cos(-Sm*a)*n,y:r+Math.sin(-Sm*a)*n}},B6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yme=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.startAngle,u=t.endAngle,d=rn(t.cx,s,s/2),f=rn(t.cy,o,o/2),h=B6(s,o,n),p=rn(t.innerRadius,h,0),g=rn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var v=r[b],y=v.domain,_=v.reversed,w;if(We(v.range))a==="angleAxis"?w=[l,u]:a==="radiusAxis"&&(w=[p,g]),_&&(w=[w[1],w[0]]);else{w=v.range;var S=w,E=hme(S,2);l=E[0],u=E[1]}var j=I6(v,i),T=j.realScaleType,O=j.scale;O.domain(y).range(w),D6(O);var C=M6(O,hi(hi({},v),{},{realScaleType:T})),M=hi(hi(hi({},v),C),{},{range:w,radius:g,realScaleType:T,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return hi(hi({},x),{},F6({},b,M))},{})},bme=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},wme=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=bme({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:xme(u),angleInRadian:u}},_me=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Sme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},jN=function(t,r){var n=t.x,a=t.y,i=wme({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=_me(r),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?hi(hi({},r),{},{radius:s,angle:Sme(p,r)}):null},U6=function(t){return!A.isValidElement(t)&&!Me(t)&&typeof t!="boolean"?t.className:""};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}var Eme=["offset"];function jme(e){return Ome(e)||Nme(e)||Ame(e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function Nme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ome(e){if(Array.isArray(e))return Eb(e)}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cme(e,t){if(e==null)return{};var r=kme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){Pme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pme(e,t,r){return t=Rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rme(e){var t=Ime(e,"string");return Wf(t)=="symbol"?t:t+""}function Ime(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}var Dme=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Me(n)?n(a):a},Mme=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},$me=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,x=(f+h)/2,b=Mme(p,g),v=b>=0?1:-1,y,_;a==="insideStart"?(y=p+v*s,_=m):a==="insideEnd"?(y=g-v*s,_=!m):a==="end"&&(y=g+v*s,_=m),_=b<=0?_:!_;var w=gt(u,d,x,y),S=gt(u,d,x,y+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),j=We(t.id)?Ah("recharts-radial-line-"):t.id;return z.createElement("text",Hf({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:j,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Lme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=gt(s,o,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,b=gt(s,o,x,h),v=b.x,y=b.y;return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},Fme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*a,b=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var y={x:o+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return rr(rr({},y),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return rr(rr({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var w={x:o-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return rr(rr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:o+u+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return rr(rr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?rr({x:o+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideRight"?rr({x:o+u-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?rr({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?rr({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?rr({x:o+x,y:l+h,textAnchor:v,verticalAnchor:g},E):i==="insideTopRight"?rr({x:o+u-x,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideBottomLeft"?rr({x:o+x,y:l+d-h,textAnchor:v,verticalAnchor:p},E):i==="insideBottomRight"?rr({x:o+u-x,y:l+d-h,textAnchor:b,verticalAnchor:p},E):Mu(i)&&(ve(i.x)||Oo(i.x))&&(ve(i.y)||Oo(i.y))?rr({x:o+rn(i.x,u),y:l+rn(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):rr({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Bme=function(t){return"cx"in t&&ve(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=Cme(e,Eme),a=rr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||We(o)&&We(l)&&!A.isValidElement(u)&&!Me(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var p;if(Me(u)){if(p=A.createElement(u,a),A.isValidElement(p))return p}else p=Dme(a);var g=Bme(i),m=De(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $me(a,p,m);var x=g?Lme(a):Fme(a);return z.createElement(sl,Hf({className:ze("recharts-label",f)},m,x,{breakAll:h}),p)}hr.displayName="Label";var z6=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(ve(m)&&ve(x)){if(ve(f)&&ve(h))return{x:f,y:h,width:m,height:x};if(ve(p)&&ve(g))return{x:p,y:g,width:m,height:x}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},Ume=function(t,r){return t?t===!0?z.createElement(hr,{key:"label-implicit",viewBox:r}):or(t)?z.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===hr?A.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Me(t)?z.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Mu(t)?z.createElement(hr,Hf({viewBox:r},t,{key:"label-implicit"})):null:null},zme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=z6(t),s=sa(a,hr).map(function(l,u){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=Ume(t.label,r||i);return[o].concat(jme(s))};hr.parseViewBox=z6;hr.renderCallByParent=zme;function Wme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Hme=Wme;const qme=et(Hme);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}var Vme=["valueAccessor"],Kme=["data","dataKey","clockWise","id","textBreakAll"];function Gme(e){return Jme(e)||Qme(e)||Yme(e)||Xme()}function Xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(e,t){if(e){if(typeof e=="string")return jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jb(e,t)}}function Qme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jme(e){if(Array.isArray(e))return jb(e)}function jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Zme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zme(e,t,r){return t=eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eve(e){var t=tve(e,"string");return qf(t)=="symbol"?t:t+""}function tve(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(e,t){if(e==null)return{};var r=rve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nve=function(t){return Array.isArray(t.value)?qme(t.value):t.value};function Fs(e){var t=e.valueAccessor,r=t===void 0?nve:t,n=ON(e,Vme),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=ON(n,Kme);return!a||!a.length?null:z.createElement(at,{className:"recharts-label-list"},a.map(function(d,f){var h=We(i)?r(d,f):Ur(d&&d.payload,i),p=We(o)?{}:{id:"".concat(o,"-").concat(f)};return z.createElement(hr,Em({},De(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:hr.parseViewBox(We(s)?d:NN(NN({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Fs.displayName="LabelList";function ave(e,t){return e?e===!0?z.createElement(Fs,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Me(e)?z.createElement(Fs,{key:"labelList-implicit",data:t,content:e}):Mu(e)?z.createElement(Fs,Em({data:t},e,{key:"labelList-implicit"})):null:null}function ive(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=sa(n,Fs).map(function(s,o){return A.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=ave(e.label,t);return[i].concat(Gme(a))}Fs.renderCallByParent=ive;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sve(e,t,r){return t=ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=lve(e,"string");return Vf(t)=="symbol"?t:t+""}function lve(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cve=function(t,r){var n=tn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},C0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(o?1:-1)+a,f=Math.asin(l/d)/Sm,h=u?i:i+s*f,p=gt(r,n,d,h),g=gt(r,n,a,h),m=u?i-s*f:i,x=gt(r,n,d*Math.cos(f*Sm),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},W6=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=cve(s,o),u=s+l,d=gt(r,n,i,s),f=gt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=gt(r,n,a,s),g=gt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},uve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=tn(d-u),h=C0({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=C0({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=x.circleTangency,v=x.lineTangency,y=x.theta,_=l?Math.abs(u-d):Math.abs(u-d)-m-y;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):W6({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var S=C0({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=S.circleTangency,j=S.lineTangency,T=S.theta,O=C0({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=O.circleTangency,M=O.lineTangency,F=O.theta,q=l?Math.abs(u-d):Math.abs(u-d)-T-F;if(q<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},dve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H6=function(t){var r=kN(kN({},dve),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=ze("recharts-sector",h),g=s-i,m=rn(o,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=uve({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):x=W6({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",Tb({},De(r,!0),{className:p,d:x,role:"img"}))};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fve(e,t,r){return t=hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=pve(e,"string");return Kf(t)=="symbol"?t:t+""}function pve(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IN={curveBasisClosed:fre,curveBasisOpen:hre,curveBasis:dre,curveBumpX:Qte,curveBumpY:Jte,curveLinearClosed:pre,curveLinear:rg,curveMonotoneX:mre,curveMonotoneY:vre,curveNatural:gre,curveStep:xre,curveStepAfter:bre,curveStepBefore:yre},k0=function(t){return t.x===+t.x&&t.y===+t.y},hd=function(t){return t.x},pd=function(t){return t.y},mve=function(t,r){if(Me(t))return t;var n="curve".concat(eg(t));return(n==="curveMonotone"||n==="curveBump")&&r?IN["".concat(n).concat(r==="vertical"?"Y":"X")]:IN[n]||rg},vve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=mve(n,o),f=u?i.filter(function(m){return k0(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return k0(m)}):s,g=f.map(function(m,x){return RN(RN({},m),{},{base:p[x]})});return o==="vertical"?h=w0().y(pd).x1(hd).x0(function(m){return m.base.x}):h=w0().x(hd).y1(pd).y0(function(m){return m.base.y}),h.defined(k0).curve(d),h(g)}return o==="vertical"&&ve(s)?h=w0().y(pd).x1(hd).x0(s):ve(s)?h=w0().x(hd).y1(pd).y0(s):h=LR().x(hd).y(pd),h.defined(k0).curve(d),h(f)},Nb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?vve(t):a;return A.createElement("path",Ab({},De(t,!1),Xp(t),{className:ze("recharts-curve",r),d:s,ref:i}))},q6={exports:{}},gve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xve=gve,yve=xve;function V6(){}function K6(){}K6.resetWarningCache=V6;var bve=function(){function e(n,a,i,s,o,l){if(l!==yve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K6,resetWarningCache:V6};return r.PropTypes=r,r};q6.exports=bve();var wve=q6.exports;const Je=et(wve),{getOwnPropertyNames:_ve,getOwnPropertySymbols:Sve}=Object,{hasOwnProperty:Eve}=Object.prototype;function Yx(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function P0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);const l=e(r,n,a);return i.delete(r),i.delete(n),l}}function jve(e){return e!=null?e[Symbol.toStringTag]:void 0}function DN(e){return _ve(e).concat(Sve(e))}const Tve=Object.hasOwn||((e,t)=>Eve.call(e,t));function Tl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Ave="__v",Nve="__o",Ove="_owner",{getOwnPropertyDescriptor:MN,keys:$N}=Object;function Cve(e,t){return e.byteLength===t.byteLength&&jm(new Uint8Array(e),new Uint8Array(t))}function kve(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Pve(e,t){return e.byteLength===t.byteLength&&jm(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Rve(e,t){return Tl(e.getTime(),t.getTime())}function Ive(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Dve(e,t){return e===t}function LN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,o,l=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(o=u.next())&&!o.done;){if(a[f]){f++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const Mve=Tl;function $ve(e,t,r){const n=$N(e);let a=n.length;if($N(t).length!==a)return!1;for(;a-- >0;)if(!G6(e,t,r,n[a]))return!1;return!0}function md(e,t,r){const n=DN(e);let a=n.length;if(DN(t).length!==a)return!1;let i,s,o;for(;a-- >0;)if(i=n[a],!G6(e,t,r,i)||(s=MN(e,i),o=MN(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Lve(e,t){return Tl(e.valueOf(),t.valueOf())}function Fve(e,t){return e.source===t.source&&e.flags===t.flags}function FN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,o;for(;(s=i.next())&&!s.done;){const l=t.values();let u=!1,d=0;for(;(o=l.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function jm(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Bve(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G6(e,t,r,n){return(n===Ove||n===Nve||n===Ave)&&(e.$$typeof||t.$$typeof)?!0:Tve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Uve="[object ArrayBuffer]",zve="[object Arguments]",Wve="[object Boolean]",Hve="[object DataView]",qve="[object Date]",Vve="[object Error]",Kve="[object Map]",Gve="[object Number]",Xve="[object Object]",Yve="[object RegExp]",Qve="[object Set]",Jve="[object String]",Zve={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ege="[object URL]",tge=Object.prototype.toString;function rge({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(x,b,v){if(x===b)return!0;if(x==null||b==null)return!1;const y=typeof x;if(y!==typeof b)return!1;if(y!=="object")return y==="number"?o(x,b,v):y==="function"?i(x,b,v):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return l(x,b,v);if(Array.isArray(x))return t(x,b,v);if(_===Date)return n(x,b,v);if(_===RegExp)return d(x,b,v);if(_===Map)return s(x,b,v);if(_===Set)return f(x,b,v);const w=tge.call(x);if(w===qve)return n(x,b,v);if(w===Yve)return d(x,b,v);if(w===Kve)return s(x,b,v);if(w===Qve)return f(x,b,v);if(w===Xve)return typeof x.then!="function"&&typeof b.then!="function"&&l(x,b,v);if(w===ege)return p(x,b,v);if(w===Vve)return a(x,b,v);if(w===zve)return l(x,b,v);if(Zve[w])return h(x,b,v);if(w===Uve)return e(x,b,v);if(w===Hve)return r(x,b,v);if(w===Wve||w===Gve||w===Jve)return u(x,b,v);if(g){let S=g[w];if(!S){const E=jve(x);E&&(S=g[E])}if(S)return S(x,b,v)}return!1}}function nge({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Cve,areArraysEqual:r?md:kve,areDataViewsEqual:Pve,areDatesEqual:Rve,areErrorsEqual:Ive,areFunctionsEqual:Dve,areMapsEqual:r?Yx(LN,md):LN,areNumbersEqual:Mve,areObjectsEqual:r?md:$ve,arePrimitiveWrappersEqual:Lve,areRegExpsEqual:Fve,areSetsEqual:r?Yx(FN,md):FN,areTypedArraysEqual:r?Yx(jm,md):jm,areUrlsEqual:Bve,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=P0(n.areArraysEqual),i=P0(n.areMapsEqual),s=P0(n.areObjectsEqual),o=P0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:o})}return n}function age(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function ige({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(o,l){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(o,l,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(o,l){return t(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(o,l){return t(o,l,i)}}const sge=eo();eo({strict:!0});eo({circular:!0});eo({circular:!0,strict:!0});eo({createInternalComparator:()=>Tl});eo({strict:!0,createInternalComparator:()=>Tl});eo({circular:!0,createInternalComparator:()=>Tl});eo({circular:!0,createInternalComparator:()=>Tl,strict:!0});function eo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=nge(e),s=rge(i),o=r?r(s):age(s);return ige({circular:t,comparator:s,createState:n,equals:o,strict:a})}function oge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function BN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):oge(a)};requestAnimationFrame(n)}function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function lge(e){return fge(e)||dge(e)||uge(e)||cge()}function cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(e,t){if(e){if(typeof e=="string")return UN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(e,t)}}function UN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fge(e){if(Array.isArray(e))return e}function hge(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=lge(s),l=o[0],u=o.slice(1);if(typeof l=="number"){BN(a.bind(null,u),l);return}a(l),BN(a.bind(null,u));return}Ob(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=mge(e,"string");return Gf(t)==="symbol"?t:String(t)}function mge(e,t){if(Gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},gge=function(t){return t},xge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vd=function(t,r){return Object.keys(r).reduce(function(n,a){return WN(WN({},n),{},X6({},a,t(a,r[a])))},{})},HN=function(t,r,n){return t.map(function(a){return"".concat(xge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function yge(e,t){return _ge(e)||wge(e,t)||Y6(e,t)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function _ge(e){if(Array.isArray(e))return e}function Sge(e){return Tge(e)||jge(e)||Y6(e)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6(e,t){if(e){if(typeof e=="string")return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cb(e,t)}}function jge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tge(e){if(Array.isArray(e))return Cb(e)}function Cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tm=1e-4,Q6=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},J6=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},qN=function(t,r){return function(n){var a=Q6(t,r);return J6(a,n)}},Age=function(t,r){return function(n){var a=Q6(t,r),i=[].concat(Sge(a.map(function(s,o){return s*o}).slice(1)),[0]);return J6(i,n)}},VN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=yge(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=qN(a,s),h=qN(i,o),p=Age(a,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var v=b>1?1:b,y=v,_=0;_<8;++_){var w=f(y)-v,S=p(y);if(Math.abs(w-v)<Tm||S<Tm)return h(y);y=g(y-w/S)}return h(y)};return m.isStepper=!1,m},Nge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<Tm&&Math.abs(m)<Tm?[f,0]:[x,m]};return l.isStepper=!0,l.dt=o,l},Oge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VN(a);case"spring":return Nge();default:if(a.split("(")[0]==="cubic-bezier")return VN(a)}return typeof a=="function"?a:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function KN(e){return Pge(e)||kge(e)||Z6(e)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pge(e){if(Array.isArray(e))return Pb(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kb(e,t,r){return t=Rge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rge(e){var t=Ige(e,"string");return Xf(t)==="symbol"?t:String(t)}function Ige(e,t){if(Xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dge(e,t){return Lge(e)||$ge(e,t)||Z6(e,t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Lge(e){if(Array.isArray(e))return e}var Am=function(t,r,n){return t+(r-t)*n},Rb=function(t){var r=t.from,n=t.to;return r!==n},Fge=function e(t,r,n){var a=Vd(function(i,s){if(Rb(s)){var o=t(s.from,s.to,s.velocity),l=Dge(o,2),u=l[0],d=l[1];return Sr(Sr({},s),{},{from:u,velocity:d})}return s},r);return n<1?Vd(function(i,s){return Rb(s)?Sr(Sr({},s),{},{velocity:Am(s.velocity,a[i].velocity,n),from:Am(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Bge=function(e,t,r,n,a){var i=vge(e,t),s=i.reduce(function(x,b){return Sr(Sr({},x),{},kb({},b,[e[b],t[b]]))},{}),o=i.reduce(function(x,b){return Sr(Sr({},x),{},kb({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Vd(function(b,v){return v.from},o)},p=function(){return!Object.values(o).filter(Rb).length},g=function(b){u||(u=b);var v=b-u,y=v/r.dt;o=Fge(r,o,y),a(Sr(Sr(Sr({},e),t),h())),u=b,p()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var v=(b-d)/n,y=Vd(function(w,S){return Am.apply(void 0,KN(S).concat([r(v)]))},s);if(a(Sr(Sr(Sr({},e),t),y)),v<1)l=requestAnimationFrame(f);else{var _=Vd(function(w,S){return Am.apply(void 0,KN(S).concat([r(1)]))},s);a(Sr(Sr(Sr({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var Uge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zge(e,t){if(e==null)return{};var r=Wge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wge(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qx(e){return Kge(e)||Vge(e)||qge(e)||Hge()}function Hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Vge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kge(e){if(Array.isArray(e))return Ib(e)}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){Ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ad(e,t,r){return t=eD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eD(n.key),n)}}function Yge(e,t,r){return t&&Xge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eD(e){var t=Qge(e,"string");return iu(t)==="symbol"?t:String(t)}function Qge(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Db(e,t)}function Zge(e){var t=exe();return function(){var n=Nm(e),a;if(t){var i=Nm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Mb(this,a)}}function Mb(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $b(e)}function $b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function exe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}var Wi=function(e){Jge(r,e);var t=Zge(r);function r(n,a){var i;Gge(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind($b(i)),i.changeStyle=i.changeStyle.bind($b(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Mb(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Mb(i);i.state={style:l?Ad({},l,u):u}}else i.state={style:{}};return i}return Yge(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Ad({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(sge(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var x={style:l?Ad({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(x)}this.runAnimation(ga(ga({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Bge(s,o,Oge(u),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var v=x.duration,y=x.easing,_=y===void 0?"ease":y,w=x.style,S=x.properties,E=x.onAnimationEnd,j=b>0?s[b-1]:x,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Qx(m),[i.runJSAnimation.bind(i,{from:j.style,to:w,duration:v,easing:_}),v]);var O=HN(T,v,_),C=ga(ga(ga({},j.style),w),{},{transition:O});return[].concat(Qx(m),[C,v,E]).filter(gge)};return this.manager.start([l].concat(Qx(s.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=hge());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?Ad({},o,l):l,x=HN(Object.keys(m),s,u);g.start([d,i,ga(ga({},m),{},{transition:x}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=zge(a,Uge),u=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,b=g.className,v=A.cloneElement(p,ga(ga({},l),{},{style:ga(ga({},x),d),className:b}));return v};return u===1?f(A.Children.only(i)):z.createElement("div",null,A.Children.map(i,function(h){return f(h)}))}}]),r}(A.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}function txe(e,t){return ixe(e)||axe(e,t)||nxe(e,t)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nxe(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function axe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ixe(e){if(Array.isArray(e))return e}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sxe(e,t,r){return t=oxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return Yf(t)=="symbol"?t:t+""}function lxe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZN=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},cxe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},uxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z2=function(t){var r=JN(JN({},uxe),t),n=A.useRef(),a=A.useState(-1),i=txe(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=ze("recharts-rectangle",p);return v?z.createElement(Wi,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:v},function(_){var w=_.width,S=_.height,E=_.x,j=_.y;return z.createElement(Wi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:g},z.createElement("path",Om({},De(r,!0),{className:y,d:ZN(E,j,w,S,h),ref:n})))}):z.createElement("path",Om({},De(r,!0),{className:y,d:ZN(l,u,d,f,h)}))},dxe=["points","className","baseLinePoints","connectNulls"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function fxe(e,t){if(e==null)return{};var r=hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eO(e){return gxe(e)||vxe(e)||mxe(e)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(e,t){if(e){if(typeof e=="string")return Lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(e,t)}}function vxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gxe(e){if(Array.isArray(e))return Lb(e)}function Lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tO=function(t){return t&&t.x===+t.x&&t.y===+t.y},xxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){tO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kd=function(t,r){var n=xxe(t);r&&(n=[n.reduce(function(i,s){return[].concat(eO(i),eO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},yxe=function(t,r,n){var a=Kd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Kd(r.reverse(),n).slice(1))},bxe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=fxe(t,dxe);if(!r||!r.length)return null;var o=ze("recharts-polygon",n);if(a&&a.length){var l=s.stroke&&s.stroke!=="none",u=yxe(r,a,i);return z.createElement("g",{className:o},z.createElement("path",tc({},De(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?z.createElement("path",tc({},De(s,!0),{fill:"none",d:Kd(r,i)})):null,l?z.createElement("path",tc({},De(s,!0),{fill:"none",d:Kd(a,i)})):null)}var d=Kd(r,i);return z.createElement("path",tc({},De(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}var W2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=ze("recharts-dot",i);return r===+r&&n===+n&&a===+a?A.createElement("circle",Fb({},De(t,!1),Xp(t),{className:s,cx:r,cy:n,r:a})):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var wxe=["x","y","top","left","width","height","className"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sxe(e,t,r){return t=Exe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Exe(e){var t=jxe(e,"string");return Qf(t)=="symbol"?t:t+""}function jxe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e,t){if(e==null)return{};var r=Axe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Axe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nxe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Oxe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Txe(t,wxe),x=_xe({x:n,y:i,top:o,left:u,width:f,height:p},m);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(o)||!ve(u)?null:z.createElement("path",Bb({},De(x,!0),{className:ze("recharts-cross",g),d:Nxe(n,i,f,p,o,u)}))},Cxe=hg,kxe=f6,Pxe=li;function Rxe(e,t){return e&&e.length?Cxe(e,Pxe(t),kxe):void 0}var Ixe=Rxe;const Dxe=et(Ixe);var Mxe=hg,$xe=li,Lxe=h6;function Fxe(e,t){return e&&e.length?Mxe(e,$xe(t),Lxe):void 0}var Bxe=Fxe;const Uxe=et(Bxe);var zxe=["cx","cy","angle","ticks","axisLine"],Wxe=["ticks","tick","angle","tickFormatter","stroke"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t){if(e==null)return{};var r=Hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rD(n.key),n)}}function Vxe(e,t,r){return t&&iO(e.prototype,t),r&&iO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kxe(e,t,r){return t=Cm(t),Gxe(e,tD()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function Gxe(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xxe(e)}function Xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function Yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ub(e,t)}function bg(e,t,r){return t=rD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rD(e){var t=Qxe(e,"string");return su(t)=="symbol"?t:t+""}function Qxe(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wg=function(e){function t(){return qxe(this,t),Kxe(this,t,arguments)}return Yxe(t,e),Vxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,l=i.cy;return gt(o,l,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=Dxe(o,function(d){return d.coordinate||0}),u=Uxe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=aO(n,zxe),d=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=gt(a,i,d[0],s),h=gt(a,i,d[1],s),p=lo(lo(lo({},De(u,!1)),{},{fill:"none"},De(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",Gd({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,l=a.tickFormatter,u=a.stroke,d=aO(a,Wxe),f=this.getTickTextAnchor(),h=De(d,!1),p=De(s,!1),g=i.map(function(m,x){var b=n.getTickValueCoord(m),v=lo(lo(lo(lo({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return z.createElement(at,Gd({className:ze("recharts-polar-radius-axis-tick",U6(s)),key:"tick-".concat(m.coordinate)},il(n.props,m,x)),t.renderTickItem(s,v,l?l(m.value,x):m.value))});return z.createElement(at,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:z.createElement(at,{className:ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):Me(n)?s=n(a):s=z.createElement(sl,Gd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(A.PureComponent);bg(wg,"displayName","PolarRadiusAxis");bg(wg,"axisType","radiusAxis");bg(wg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){_g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aD(n.key),n)}}function Zxe(e,t,r){return t&&oO(e.prototype,t),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eye(e,t,r){return t=km(t),tye(e,nD()?Reflect.construct(t,r||[],km(e).constructor):t.apply(e,r))}function tye(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rye(e)}function rye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!e})()}function km(e){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(e)}function nye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zb(e,t)}function _g(e,t,r){return t=aD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aD(e){var t=aye(e,"string");return ou(t)=="symbol"?t:t+""}function aye(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iye=Math.PI/180,lO=1e-5,Sg=function(e){function t(){return Jxe(this,t),eye(this,t,arguments)}return nye(t,e),Zxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=gt(i,s,o,n.coordinate),h=gt(i,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*iye),s;return i>lO?s=a==="outer"?"start":"end":i<-lO?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=co(co({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(l==="circle")return z.createElement(W2,_o({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return gt(a,i,s,h.coordinate)});return z.createElement(bxe,_o({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,l=a.tickFormatter,u=a.stroke,d=De(this.props,!1),f=De(s,!1),h=co(co({},d),{},{fill:"none"},De(o,!1)),p=i.map(function(g,m){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),v=co(co(co({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:x.x2,y:x.y2});return z.createElement(at,_o({className:ze("recharts-polar-angle-axis-tick",U6(s)),key:"tick-".concat(g.coordinate)},il(n.props,g,m)),o&&z.createElement("line",_o({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,v,l?l(g.value,m):g.value))});return z.createElement(at,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:z.createElement(at,{className:ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):Me(n)?s=n(a):s=z.createElement(sl,_o({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(A.PureComponent);_g(Sg,"displayName","PolarAngleAxis");_g(Sg,"axisType","angleAxis");_g(Sg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sye=lI,oye=sye(Object.getPrototypeOf,Object),lye=oye,cye=Qi,uye=lye,dye=Ji,fye="[object Object]",hye=Function.prototype,pye=Object.prototype,iD=hye.toString,mye=pye.hasOwnProperty,vye=iD.call(Object);function gye(e){if(!dye(e)||cye(e)!=fye)return!1;var t=uye(e);if(t===null)return!0;var r=mye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iD.call(r)==vye}var xye=gye;const yye=et(xye);var bye=Qi,wye=Ji,_ye="[object Boolean]";function Sye(e){return e===!0||e===!1||wye(e)&&bye(e)==_ye}var Eye=Sye;const jye=et(Eye);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function Tye(e,t){return Cye(e)||Oye(e,t)||Nye(e,t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(e,t){if(e){if(typeof e=="string")return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}}function cO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Cye(e){if(Array.isArray(e))return e}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){kye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kye(e,t,r){return t=Pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pye(e){var t=Rye(e,"string");return Jf(t)=="symbol"?t:t+""}function Rye(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fO=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},Iye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dye=function(t){var r=dO(dO({},Iye),t),n=A.useRef(),a=A.useState(-1),i=Tye(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&o(y)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=ze("recharts-trapezoid",p);return b?z.createElement(Wi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:b},function(y){var _=y.upperWidth,w=y.lowerWidth,S=y.height,E=y.x,j=y.y;return z.createElement(Wi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},z.createElement("path",Pm({},De(r,!0),{className:v,d:fO(E,j,_,w,S),ref:n})))}):z.createElement("g",null,z.createElement("path",Pm({},De(r,!0),{className:v,d:fO(l,u,d,f,h)})))},Mye=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function $ye(e,t){if(e==null)return{};var r=Lye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Fye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fye(e,t,r){return t=Bye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bye(e){var t=Uye(e,"string");return Zf(t)=="symbol"?t:t+""}function Uye(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zye(e,t){return Rm(Rm({},t),e)}function Wye(e,t){return e==="symbols"}function pO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(z2,r);case"trapezoid":return z.createElement(Dye,r);case"sector":return z.createElement(H6,r);case"symbols":if(Wye(t))return z.createElement(o2,r);break;default:return null}}function Hye(e){return A.isValidElement(e)?e.props:e}function sD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zye:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=$ye(e,Mye),u;if(A.isValidElement(t))u=A.cloneElement(t,Rm(Rm({},l),Hye(t)));else if(Me(t))u=t(l);else if(yye(t)&&!jye(t)){var d=a(t,l);u=z.createElement(pO,{shapeType:r,elementProps:d})}else{var f=l;u=z.createElement(pO,{shapeType:r,elementProps:f})}return o?z.createElement(at,{className:s},u):u}function Eg(e,t){return t!=null&&"trapezoids"in e.props}function jg(e,t){return t!=null&&"sectors"in e.props}function eh(e,t){return t!=null&&"points"in e.props}function qye(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Vye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Kye(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Gye(e,t){var r;return Eg(e,t)?r=qye:jg(e,t)?r=Vye:eh(e,t)&&(r=Kye),r}function Xye(e,t){var r;return Eg(e,t)?r="trapezoids":jg(e,t)?r="sectors":eh(e,t)&&(r="points"),r}function Yye(e,t){if(Eg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eh(e,t)?t.payload:{}}function Qye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Xye(r,t),i=Yye(r,t),s=n.filter(function(l,u){var d=vg(i,l),f=r.props[a].filter(function(g){var m=Gye(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Y0;function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){ra(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lD(n.key),n)}}function Zye(e,t,r){return t&&vO(e.prototype,t),r&&vO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=Im(t),t1e(e,oD()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wb(e,t)}function ra(e,t,r){return t=lD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lD(e){var t=a1e(e,"string");return lu(t)=="symbol"?t:t+""}function a1e(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ba=function(e){function t(r){var n;return Jye(this,t),n=e1e(this,t,[r]),ra(n,"pieRef",null),ra(n,"sectorRefs",[]),ra(n,"id",Ah("recharts-pie-")),ra(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Me(a)&&a()}),ra(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Me(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return n1e(t,e),Zye(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,l=i.dataKey,u=i.valueKey,d=De(this.props,!1),f=De(s,!1),h=De(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,v=gt(m.cx,m.cy,m.outerRadius+p,b),y=pt(pt(pt(pt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(v.x,m.cx)},v),_=pt(pt(pt(pt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[gt(m.cx,m.cy,m.outerRadius,b),v]}),w=l;return We(l)&&We(u)?w="value":We(l)&&(w=u),z.createElement(at,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,y,Ur(m,w)))});return z.createElement(at,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?s:h,g=pt(pt({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return z.createElement(at,rc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},il(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(sD,rc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return z.createElement(Wi,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],b=i&&i[0],v=b.startAngle;return i.forEach(function(y,_){var w=h&&h[_],S=_>0?Bn(y,"paddingAngle",0):0;if(w){var E=ss(w.endAngle-w.startAngle,y.endAngle-y.startAngle),j=pt(pt({},y),{},{startAngle:v+S,endAngle:v+E(m)+S});x.push(j),v=j.endAngle}else{var T=y.endAngle,O=y.startAngle,C=ss(0,T-O),M=C(m),F=pt(pt({},y),{},{startAngle:v+S,endAngle:v+M+S});x.push(F),v=F.endAngle}}),z.createElement(at,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!vg(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var m=ze("recharts-pie",o);return z.createElement(at,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),hr.renderCallByParent(this.props,null,!1),(!p||g)&&Fs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);if(Me(n))return n(a);var s=ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Nb,rc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);var s=i;if(Me(n)&&(s=n(a),z.isValidElement(s)))return s;var o=ze("recharts-pie-label-text",typeof n!="boolean"&&!Me(n)?n.className:"");return z.createElement(sl,rc({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(A.PureComponent);Y0=Ba;ra(Ba,"displayName","Pie");ra(Ba,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ra(Ba,"parseDeltaAngle",function(e,t){var r=tn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ra(Ba,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=sa(r,Zi);return t&&t.length?t.map(function(i,s){return pt(pt(pt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return pt(pt({},n),i.props)}):[]});ra(Ba,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=B6(a,i),o=n+rn(e.cx,a,a/2),l=r+rn(e.cy,i,i/2),u=rn(e.innerRadius,s,0),d=rn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});ra(Ba,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?pt(pt({},t.type.defaultProps),t.props):t.props,a=Y0.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Y0.parseCoordinateOfPie(n,r),m=Y0.parseDeltaAngle(s,o),x=Math.abs(m),b=u;We(u)&&We(f)?(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):We(u)&&(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=a.filter(function(j){return Ur(j,b,0)!==0}).length,y=(x>=360?v:v-1)*l,_=x-v*p-y,w=a.reduce(function(j,T){var O=Ur(T,b,0);return j+(ve(O)?O:0)},0),S;if(w>0){var E;S=a.map(function(j,T){var O=Ur(j,b,0),C=Ur(j,d,T),M=(ve(O)?O:0)/w,F;T?F=E.endAngle+tn(m)*l*(O!==0?1:0):F=s;var q=F+tn(m)*((O!==0?p:0)+M*_),V=(F+q)/2,ne=(g.innerRadius+g.outerRadius)/2,se=[{name:C,value:O,payload:j,dataKey:b,type:h}],G=gt(g.cx,g.cy,ne,V);return E=pt(pt(pt({percent:M,cornerRadius:i,name:C,tooltipPayload:se,midAngle:V,middleRadius:ne,tooltipPosition:G},j),g),{},{value:Ur(j,b),startAngle:F,endAngle:q,payload:j,paddingAngle:tn(m)*l}),E})}return pt(pt({},g),{},{sectors:S,data:a})});var i1e=Math.ceil,s1e=Math.max;function o1e(e,t,r,n){for(var a=-1,i=s1e(i1e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var l1e=o1e,c1e=AI,gO=1/0,u1e=17976931348623157e292;function d1e(e){if(!e)return e===0?e:0;if(e=c1e(e),e===gO||e===-gO){var t=e<0?-1:1;return t*u1e}return e===e?e:0}var cD=d1e,f1e=l1e,h1e=sg,Jx=cD;function p1e(e){return function(t,r,n){return n&&typeof n!="number"&&h1e(t,r,n)&&(r=n=void 0),t=Jx(t),r===void 0?(r=t,t=0):r=Jx(r),n=n===void 0?t<r?1:-1:Jx(n),f1e(t,r,n,e)}}var m1e=p1e,v1e=m1e,g1e=v1e(),x1e=g1e;const Dm=et(x1e);function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){uD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uD(e,t,r){return t=y1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1e(e){var t=b1e(e,"string");return th(t)=="symbol"?t:t+""}function b1e(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1e=["Webkit","Moz","O","ms"],_1e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=w1e.reduce(function(i,s){return yO(yO({},i),{},uD({},s+n,r))},{});return a[t]=r,a};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){Nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fD(n.key),n)}}function E1e(e,t,r){return t&&wO(e.prototype,t),r&&wO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1e(e,t,r){return t=$m(t),T1e(e,dD()?Reflect.construct(t,r||[],$m(e).constructor):t.apply(e,r))}function T1e(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(e)}function A1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!e})()}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hb(e,t)}function Nn(e,t,r){return t=fD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e){var t=O1e(e,"string");return cu(t)=="symbol"?t:t+""}function O1e(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Hd().domain(Dm(0,l)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},_O=function(t){return t.changedTouches&&!!t.changedTouches.length},uu=function(e){function t(r){var n;return S1e(this,t),n=j1e(this,t,[r]),Nn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(a){var i=_O(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return N1e(t,e),E1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Ur(i[n],o,n);return Me(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-o,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-o));var x=this.getIndex({startX:s+m,endX:o+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_O(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),b[s]=u+v;var y=this.getIndex(b),_=y.startIndex,w=y.endIndex,S=function(){var j=x.length-1;return s==="startX"&&(o>l?_%m===0:w%m===0)||o<l&&w===j||s==="endX"&&(o>l?w%m===0:_%m===0)||o>l&&w===j};this.setState(Nn(Nn({},s,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Nn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=A.Children.only(u);return f?z.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,x=l.endIndex,b=Math.max(n,this.props.x),v=Zx(Zx({},De(this.props,!1)),{},{x:b,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[x])===null||s===void 0?void 0:s.name);return z.createElement(at,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return z.createElement(at,{className:"recharts-brush-texts"},z.createElement(sl,Mm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),z.createElement(sl,Mm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!ve(o)||!ve(l)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var y=ze("recharts-brush",i),_=z.Children.count(s)===1,w=_1e("userSelect","none");return z.createElement(at,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(i+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):Me(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Zx({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?C1e({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(A.PureComponent);Nn(uu,"displayName","Brush");Nn(uu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var k1e=p2;function P1e(e,t){var r;return k1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var R1e=P1e,I1e=eI,D1e=li,M1e=R1e,$1e=Tn,L1e=sg;function F1e(e,t,r){var n=$1e(e)?I1e:M1e;return r&&L1e(e,t,r)&&(t=void 0),n(e,D1e(t))}var B1e=F1e;const U1e=et(B1e);var ri=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},SO=_I;function z1e(e,t,r){t=="__proto__"&&SO?SO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var W1e=z1e,H1e=W1e,q1e=bI,V1e=li;function K1e(e,t){var r={};return t=V1e(t),q1e(e,function(n,a,i){H1e(r,a,t(n,a,i))}),r}var G1e=K1e;const X1e=et(G1e);function Y1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Q1e=Y1e,J1e=p2;function Z1e(e,t){var r=!0;return J1e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var ebe=Z1e,tbe=Q1e,rbe=ebe,nbe=li,abe=Tn,ibe=sg;function sbe(e,t,r){var n=abe(e)?tbe:rbe;return r&&ibe(e,t,r)&&(t=void 0),n(e,nbe(t))}var obe=sbe;const hD=et(obe);var lbe=["x","y"];function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){cbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cbe(e,t,r){return t=ube(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ube(e){var t=dbe(e,"string");return rh(t)=="symbol"?t:t+""}function dbe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fbe(e,t){if(e==null)return{};var r=hbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pbe(e,t){var r=e.x,n=e.y,a=fbe(e,lbe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return vd(vd(vd(vd(vd({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function jO(e){return z.createElement(sD,qb({shapeType:"rectangle",propTransformer:pbe,activeClassName:"recharts-active-bar"},e))}var mbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ve(n)||$ee(n);return i?t(n,a):(i||ll(),r)}},vbe=["value","background"],pD;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function gbe(e,t){if(e==null)return{};var r=xbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){As(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vD(n.key),n)}}function bbe(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wbe(e,t,r){return t=Fm(t),_be(e,mD()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function _be(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sbe(e)}function Sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function Ebe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vb(e,t)}function As(e,t,r){return t=vD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=jbe(e,"string");return du(t)=="symbol"?t:t+""}function jbe(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gn=function(e){function t(){var r;ybe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wbe(this,t,[].concat(a)),As(r,"state",{isAnimationFinished:!1}),As(r,"id",Ah("recharts-bar-")),As(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),As(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Ebe(t,e),bbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,u=i.activeBar,d=De(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?u:s,m=Gt(Gt(Gt({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(at,Lm({className:"recharts-bar-rectangle"},il(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(jO,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return z.createElement(Wi,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(x,b){var v=h&&h[b];if(v){var y=ss(v.x,x.x),_=ss(v.y,x.y),w=ss(v.width,x.width),S=ss(v.height,x.height);return Gt(Gt({},x),{},{x:y(g),y:_(g),width:w(g),height:S(g)})}if(s==="horizontal"){var E=ss(0,x.height),j=E(g);return Gt(Gt({},x),{},{y:x.y+x.height-j,height:j})}var T=ss(0,x.width),O=T(g);return Gt(Gt({},x),{},{width:O})});return z.createElement(at,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!vg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=De(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=gbe(u,vbe);if(!f)return null;var p=Gt(Gt(Gt(Gt(Gt({},h),{},{fill:"#eee"},f),l),il(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(jO,Lm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=sa(d,yg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:Ur(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(at,g,f.map(function(m){return z.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=ze("recharts-bar",s),v=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,_=v||y,w=We(m)?this.id:m;return z.createElement(at,{className:b},v||y?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:v?u:u-f/2,y:y?d:d-h/2,width:v?f:f*2,height:y?h:h*2}))):null,z.createElement(at,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&Fs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);pD=gn;As(gn,"displayName","Bar");As(gn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});As(gn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=tme(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?Gt(Gt({},m),r.props):r.props,b=x.dataKey,v=x.children,y=x.minPointSize,_=g==="horizontal"?s:i,w=u?_.scale.domain():null,S=lme({numericAxis:_}),E=sa(v,Zi),j=f.map(function(T,O){var C,M,F,q,V,ne;u?C=rme(u[d+O],w):(C=Ur(T,b),Array.isArray(C)||(C=[S,C]));var se=mbe(y,pD.defaultProps.minPointSize)(C[1],O);if(g==="horizontal"){var G,te=[s.scale(C[0]),s.scale(C[1])],ue=te[0],pe=te[1];M=yN({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:T,index:O}),F=(G=pe??ue)!==null&&G!==void 0?G:void 0,q=p.size;var P=ue-pe;if(V=Number.isNaN(P)?0:P,ne={x:M,y:s.y,width:q,height:s.height},Math.abs(se)>0&&Math.abs(V)<Math.abs(se)){var H=tn(V||se)*(Math.abs(se)-Math.abs(V));F-=H,V+=H}}else{var U=[i.scale(C[0]),i.scale(C[1])],W=U[0],ae=U[1];if(M=W,F=yN({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:T,index:O}),q=ae-W,V=p.size,ne={x:i.x,y:F,width:i.width,height:V},Math.abs(se)>0&&Math.abs(q)<Math.abs(se)){var Se=tn(q||se)*(Math.abs(se)-Math.abs(q));q+=Se}}return Gt(Gt(Gt({},T),{},{x:M,y:F,width:q,height:V,value:u?C:C[1],payload:T,background:ne},E&&E[O]&&E[O].props),{},{tooltipPayload:[L6(r,T)],tooltipPosition:{x:M+q/2,y:F+V/2}})});return Gt({data:j,layout:g},h)});function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function Tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gD(n.key),n)}}function Abe(e,t,r){return t&&NO(e.prototype,t),r&&NO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=gD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e){var t=Nbe(e,"string");return nh(t)=="symbol"?t:t+""}function Nbe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Obe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!kn(u,gn);return d.reduce(function(p,g){var m=r[g],x=m.orientation,b=m.domain,v=m.padding,y=v===void 0?{}:v,_=m.mirror,w=m.reversed,S="".concat(x).concat(_?"Mirror":""),E,j,T,O,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=b[1]-b[0],F=1/0,q=m.categoricalDomain.sort(Bee);if(q.forEach(function(U,W){W>0&&(F=Math.min((U||0)-(q[W-1]||0),F))}),Number.isFinite(F)){var V=F/M,ne=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=V*ne/2),m.padding==="no-gap"){var se=rn(t.barCategoryGap,V*ne),G=V*ne/2;E=G-se-(G-se)/ne*se}}}a==="xAxis"?j=[n.left+(y.left||0)+(E||0),n.left+n.width-(y.right||0)-(E||0)]:a==="yAxis"?j=l==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(E||0),n.top+n.height-(y.bottom||0)-(E||0)]:j=m.range,w&&(j=[j[1],j[0]]);var te=I6(m,i,h),ue=te.scale,pe=te.realScaleType;ue.domain(b).range(j),D6(ue);var P=M6(ue,ja(ja({},m),{},{realScaleType:pe}));a==="xAxis"?(C=x==="top"&&!_||x==="bottom"&&_,T=n.left,O=f[S]-C*m.height):a==="yAxis"&&(C=x==="left"&&!_||x==="right"&&_,T=f[S]-C*m.width,O=n.top);var H=ja(ja(ja({},m),P),{},{realScaleType:pe,x:T,y:O,scale:ue,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return H.bandSize=_m(H,P),!m.hide&&a==="xAxis"?f[S]+=(C?-1:1)*H.height:m.hide||(f[S]+=(C?-1:1)*H.width),ja(ja({},p),{},Tg({},g,H))},{})},xD=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Cbe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return xD({x:r,y:n},{x:a,y:i})},yD=function(){function e(t){Tbe(this,e),this.scale=t}return Abe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Tg(yD,"EPS",1e-4);var H2=function(t){var r=Object.keys(t).reduce(function(n,a){return ja(ja({},n),{},Tg({},a,yD.create(t[a])))},{});return ja(ja({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return X1e(a,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return hD(a,function(i,s){return r[s].isInRange(i)})}})};function kbe(e){return(e%180+180)%180}var Pbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=kbe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Rbe=li,Ibe=Nh,Dbe=ag;function Mbe(e){return function(t,r,n){var a=Object(t);if(!Ibe(t)){var i=Rbe(r);t=Dbe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var $be=Mbe,Lbe=cD;function Fbe(e){var t=Lbe(e),r=t%1;return t===t?r?t-r:t:0}var Bbe=Fbe,Ube=pI,zbe=li,Wbe=Bbe,Hbe=Math.max;function qbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Wbe(r);return a<0&&(a=Hbe(n+a,0)),Ube(e,zbe(t),a)}var Vbe=qbe,Kbe=$be,Gbe=Vbe,Xbe=Kbe(Gbe),Ybe=Xbe;const Qbe=et(Ybe);var Jbe=WZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q2=A.createContext(void 0),V2=A.createContext(void 0),bD=A.createContext(void 0),wD=A.createContext({}),_D=A.createContext(void 0),SD=A.createContext(0),ED=A.createContext(0),CO=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,u=t.height,d=Jbe(i);return z.createElement(q2.Provider,{value:n},z.createElement(V2.Provider,{value:a},z.createElement(wD.Provider,{value:i},z.createElement(bD.Provider,{value:d},z.createElement(_D.Provider,{value:s},z.createElement(SD.Provider,{value:u},z.createElement(ED.Provider,{value:l},o)))))))},Zbe=function(){return A.useContext(_D)},jD=function(t){var r=A.useContext(q2);r==null&&ll();var n=r[t];return n==null&&ll(),n},ewe=function(){var t=A.useContext(q2);return fs(t)},twe=function(){var t=A.useContext(V2),r=Qbe(t,function(n){return hD(n.domain,Number.isFinite)});return r||fs(t)},TD=function(t){var r=A.useContext(V2);r==null&&ll();var n=r[t];return n==null&&ll(),n},rwe=function(){var t=A.useContext(bD);return t},nwe=function(){return A.useContext(wD)},K2=function(){return A.useContext(ED)},G2=function(){return A.useContext(SD)};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ND(n.key),n)}}function swe(e,t,r){return t&&iwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function owe(e,t,r){return t=Bm(t),lwe(e,AD()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function lwe(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cwe(e)}function cwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kb(e,t)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=dwe(e,"string");return fu(t)=="symbol"?t:t+""}function dwe(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fwe(e,t){return vwe(e)||mwe(e,t)||pwe(e,t)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(e,t){if(e){if(typeof e=="string")return RO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(e,t)}}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function vwe(e){if(Array.isArray(e))return e}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}var gwe=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):Me(t)?n=t(r):n=z.createElement("line",Gb({},r,{className:"recharts-reference-line-line"})),n},xwe=function(t,r,n,a,i,s,o,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:s});if(ri(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?x.reverse():x}if(r){var b=u.x,v=t.x.apply(b,{position:s});if(ri(u,"discard")&&!t.x.isInRange(v))return null;var y=[{x:v,y:f+p},{x:v,y:f}];return o==="top"?y.reverse():y}if(a){var _=u.segment,w=_.map(function(S){return t.apply(S,{position:s})});return ri(u,"discard")&&U1e(w,function(S){return!t.isInRange(S)})?null:w}return null};function ywe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,u=Zbe(),d=jD(a),f=TD(i),h=rwe();if(!u||!h)return null;Ia(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=H2({x:d.scale,y:f.scale}),g=or(t),m=or(r),x=n&&n.length===2,b=xwe(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=fwe(b,2),y=v[0],_=y.x,w=y.y,S=v[1],E=S.x,j=S.y,T=ri(e,"hidden")?"url(#".concat(u,")"):void 0,O=PO(PO({clipPath:T},De(e,!0)),{},{x1:_,y1:w,x2:E,y2:j});return z.createElement(at,{className:ze("recharts-reference-line",o)},gwe(s,O),hr.renderCallByParent(e,Cbe({x1:_,y1:w,x2:E,y2:j})))}var Y2=function(e){function t(){return awe(this,t),owe(this,t,arguments)}return uwe(t,e),swe(t,[{key:"render",value:function(){return z.createElement(ywe,this.props)}}])}(z.Component);X2(Y2,"displayName","ReferenceLine");X2(Y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CD(n.key),n)}}function _we(e,t,r){return t&&wwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Swe(e,t,r){return t=Um(t),Ewe(e,OD()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function Ewe(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function Twe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}function Yb(e,t){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yb(e,t)}function Ag(e,t,r){return t=CD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=Awe(e,"string");return hu(t)=="symbol"?t:t+""}function Awe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=H2({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ri(t,"discard")&&!s.isInRange(o)?null:o},Ng=function(e){function t(){return bwe(this,t),Swe(this,t,arguments)}return Twe(t,e),_we(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=or(a),d=or(i);if(Ia(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Nwe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,b=ri(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=DO(DO({clipPath:b},De(this.props,!0)),{},{cx:h,cy:p});return z.createElement(at,{className:ze("recharts-reference-dot",x)},t.renderDot(m,v),hr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(z.Component);Ag(Ng,"displayName","ReferenceDot");Ag(Ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ag(Ng,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Me(e)?r=e(t):r=z.createElement(W2,Xb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Og(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PD(n.key),n)}}function kwe(e,t,r){return t&&Cwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pwe(e,t,r){return t=zm(t),Rwe(e,kD()?Reflect.construct(t,r||[],zm(e).constructor):t.apply(e,r))}function Rwe(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iwe(e)}function Iwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!e})()}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(e)}function Dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jb(e,t)}function Jb(e,t){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jb(e,t)}function Og(e,t,r){return t=PD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PD(e){var t=Mwe(e,"string");return pu(t)=="symbol"?t:t+""}function Mwe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $we=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=H2({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ri(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:xD(p,g)},Cg=function(e){function t(){return Owe(this,t),Pwe(this,t,arguments)}return Dwe(t,e),kwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Ia(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=or(a),h=or(i),p=or(s),g=or(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=$we(f,h,p,g,this.props);if(!x&&!m)return null;var b=ri(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(at,{className:ze("recharts-reference-area",l)},t.renderRect(m,$O($O({clipPath:b},De(this.props,!0)),x)),hr.renderCallByParent(this.props,x))}}])}(z.Component);Og(Cg,"displayName","ReferenceArea");Og(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Og(Cg,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Me(e)?r=e(t):r=z.createElement(z2,Qb({},t,{className:"recharts-reference-area-rect"})),r});function RD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Lwe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Pbe(n,r)}function Fwe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Wm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Bwe(e,t){return RD(e,t+1)}function Uwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,u=1,d=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:RD(n,u)};var m=l,x,b=function(){return x===void 0&&(x=r(g,m)),x},v=g.coordinate,y=l===0||Wm(e,v,b,d,o);y||(l=0,d=s,u+=1),y&&(d=v+e*(b()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){zwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zwe(e,t,r){return t=Wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wwe(e){var t=Hwe(e,"string");return ah(t)=="symbol"?t:t+""}function Hwe(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qwe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var x=e*(p.coordinate+e*m()/2-l);i[h]=p=Lr(Lr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Lr(Lr({},p),{},{tickCoord:p.coordinate});var b=Wm(e,p.tickCoord,m,o,l);b&&(l=p.tickCoord-e*(m()/2+a),i[h]=Lr(Lr({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function Vwe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,u=t.end;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=Lr(Lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Wm(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+a),s[o-1]=Lr(Lr({},d),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(v){var y=s[v],_,w=function(){return _===void 0&&(_=r(y,v)),_};if(v===0){var S=e*(y.coordinate-e*w()/2-l);s[v]=y=Lr(Lr({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[v]=y=Lr(Lr({},y),{},{tickCoord:y.coordinate});var E=Wm(e,y.tickCoord,w,l,u);E&&(l=y.tickCoord+e*(w()/2+a),s[v]=Lr(Lr({},y),{},{isShow:!0}))},x=0;x<g;x++)m(x);return s}function Q2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ve(l)||Wu.isSsr)return Bwe(a,typeof l=="number"&&ve(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Wd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(y,_){var w=Me(u)?u(y.value,_):y.value;return p==="width"?Lwe(Wd(w,{fontSize:t,letterSpacing:r}),g,f):Wd(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?tn(a[1].coordinate-a[0].coordinate):1,b=Fwe(i,x,p);return l==="equidistantPreserveStart"?Uwe(x,b,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Vwe(x,b,m,a,s,l==="preserveStartEnd"):h=qwe(x,b,m,a,s),h.filter(function(v){return v.isShow}))}var Kwe=["viewBox"],Gwe=["viewBox"],Xwe=["ticks"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){J2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ey(e,t){if(e==null)return{};var r=Ywe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DD(n.key),n)}}function Jwe(e,t,r){return t&&BO(e.prototype,t),r&&BO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zwe(e,t,r){return t=Hm(t),e_e(e,ID()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function e_e(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(e)}function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function r_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zb(e,t)}function J2(e,t,r){return t=DD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DD(e){var t=n_e(e,"string");return mu(t)=="symbol"?t:t+""}function n_e(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ku=function(e){function t(r){var n;return Qwe(this,t),n=Zwe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return r_e(t,e),Jwe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=ey(n,Kwe),o=this.props,l=o.viewBox,u=ey(o,Gwe);return!xc(i,l)||!xc(s,u)||!xc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,x,b,v,y=f?-1:1,_=n.tickSize||d,w=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=s+ +!f*l,m=x-y*_,v=m-y*h,b=w;break;case"left":m=x=n.coordinate,g=i+ +!f*o,p=g-y*_,b=p-y*h,v=w;break;case"right":m=x=n.coordinate,g=i+ +f*o,p=g+y*_,b=p+y*h,v=w;break;default:p=g=n.coordinate,x=s+ +f*l,m=x+y*_,v=m+y*h,b=w;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=tr(tr(tr({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=tr(tr({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=tr(tr({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return z.createElement("line",nc({},f,{className:ze("recharts-cartesian-axis-line",Bn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=Q2(tr(tr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=De(this.props,!1),b=De(d,!1),v=tr(tr({},x),{},{fill:"none"},De(l,!1)),y=p.map(function(_,w){var S=s.getTickLineCoord(_),E=S.line,j=S.tick,T=tr(tr(tr(tr({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),j),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(at,nc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},il(s.props,_,w)),l&&z.createElement("line",nc({},v,E,{className:ze("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),d&&t.renderTickItem(d,T,"".concat(Me(f)?f(_.value,w):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=ey(f,Xwe),g=h;return Me(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:z.createElement(at,{className:ze("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=ze(a.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,tr(tr({},a),{},{className:o})):Me(n)?s=n(tr(tr({},a),{},{className:o})):s=z.createElement(sl,nc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(A.Component);J2(Ku,"displayName","CartesianAxis");J2(Ku,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var a_e=["x1","y1","x2","y2","key"],i_e=["offset"];function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){s_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_e(e,t,r){return t=o_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_e(e){var t=l_e(e,"string");return cl(t)=="symbol"?t:t+""}function l_e(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function zO(e,t){if(e==null)return{};var r=c_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var u_e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return z.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MD(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Me(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=zO(t,a_e),u=De(l,!1);u.offset;var d=zO(u,i_e);r=z.createElement("line",Po({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function d_e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=Br(Br({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return MD(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function f_e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=Br(Br({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return MD(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function h_e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+s-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function p_e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+o-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var m_e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return R6(Q2(Br(Br(Br({},Ku.defaultProps),n),{},{ticks:Si(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},v_e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return R6(Q2(Br(Br(Br({},Ku.defaultProps),n),{},{ticks:Si(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},$l={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ul(e){var t,r,n,a,i,s,o=K2(),l=G2(),u=nwe(),d=Br(Br({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:$l.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:$l.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:$l.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:$l.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:$l.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:$l.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=ewe(),y=twe();if(!ve(p)||p<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||m_e,w=d.horizontalCoordinatesGenerator||v_e,S=d.horizontalPoints,E=d.verticalPoints;if((!S||!S.length)&&Me(w)){var j=x&&x.length,T=w({yAxis:y?Br(Br({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:l,offset:u},j?!0:m);Ia(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cl(T),"]")),Array.isArray(T)&&(S=T)}if((!E||!E.length)&&Me(_)){var O=b&&b.length,C=_({xAxis:v?Br(Br({},v),{},{ticks:O?b:v.ticks}):void 0,width:o,height:l,offset:u},O?!0:m);Ia(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cl(C),"]")),Array.isArray(C)&&(E=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(u_e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(d_e,Po({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:y})),z.createElement(f_e,Po({},d,{offset:u,verticalPoints:E,xAxis:v,yAxis:y})),z.createElement(h_e,Po({},d,{horizontalPoints:S})),z.createElement(p_e,Po({},d,{verticalPoints:E})))}ul.displayName="CartesianGrid";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FD(n.key),n)}}function y_e(e,t,r){return t&&x_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b_e(e,t,r){return t=qm(t),w_e(e,$D()?Reflect.construct(t,r||[],qm(e).constructor):t.apply(e,r))}function w_e(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(e)}function __e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(e)}function S_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ew(e,t)}function LD(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=E_e(e,"string");return vu(t)=="symbol"?t:t+""}function E_e(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function j_e(e){var t=e.xAxisId,r=K2(),n=G2(),a=jD(t);return a==null?null:A.createElement(Ku,tw({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Si(s,!0)}}))}var Hi=function(e){function t(){return g_e(this,t),b_e(this,t,arguments)}return S_e(t,e),y_e(t,[{key:"render",value:function(){return A.createElement(j_e,this.props)}}])}(A.Component);LD(Hi,"displayName","XAxis");LD(Hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function T_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zD(n.key),n)}}function N_e(e,t,r){return t&&A_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O_e(e,t,r){return t=Vm(t),C_e(e,BD()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function C_e(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(e)}function k_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function P_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rw(e,t)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rw(e,t)}function UD(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=R_e(e,"string");return gu(t)=="symbol"?t:t+""}function R_e(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}var I_e=function(t){var r=t.yAxisId,n=K2(),a=G2(),i=TD(r);return i==null?null:A.createElement(Ku,nw({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Si(o,!0)}}))},qi=function(e){function t(){return T_e(this,t),O_e(this,t,arguments)}return P_e(t,e),N_e(t,[{key:"render",value:function(){return A.createElement(I_e,this.props)}}])}(A.Component);UD(qi,"displayName","YAxis");UD(qi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WO(e){return L_e(e)||$_e(e)||M_e(e)||D_e()}function D_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function $_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L_e(e){if(Array.isArray(e))return aw(e)}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=function(t,r,n,a,i){var s=sa(t,Y2),o=sa(t,Ng),l=[].concat(WO(s),WO(o)),u=sa(t,Cg),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,x){if(x.props[d]===n&&ri(x.props,"extendDomain")&&ve(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&ri(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[g])){var b=x.props[p],v=x.props[g];return[Math.min(m[0],b,v),Math.max(m[1],b,v)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return ve(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},WD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,v,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(y=1,v=new Array(b-1);y<b;y++)v[y-1]=arguments[y];x.fn.apply(x.context,v)}else{var _=x.length,w;for(y=0;y<_;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),b){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!v)for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];x[y].fn.apply(x[y].context,v)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,x=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(WD);var F_e=WD.exports;const B_e=et(F_e);var ty=new B_e,ry="recharts.syncMouseEvents";function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function U_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HD(n.key),n)}}function W_e(e,t,r){return t&&z_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ny(e,t,r){return t=HD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=H_e(e,"string");return ih(t)=="symbol"?t:t+""}function H_e(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q_e=function(){function e(){U_e(this,e),ny(this,"activeIndex",0),ny(this,"coordinateList",[]),ny(this,"layout","horizontal")}return W_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function V_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ve(n)&&ve(a))return!0}return!1}function K_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=gt(t,r,n,a),o=gt(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function G_e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=gt(o,l,u,f),p=gt(o,l,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return qD(t);return[{x:n,y:a},{x:i,y:s}]}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){X_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X_e(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=Q_e(e,"string");return sh(t)=="symbol"?t:t+""}function Q_e(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Nb;if(h==="ScatterChart")g=s,m=Oxe;else if(h==="BarChart")g=K_e(f,s,l,d),m=z2;else if(f==="radial"){var x=qD(s),b=x.cx,v=x.cy,y=x.radius,_=x.startAngle,w=x.endAngle;g={cx:b,cy:v,startAngle:_,endAngle:w,innerRadius:y,outerRadius:y},m=H6}else g={points:G_e(f,s,l)},m=Nb;var S=R0(R0(R0(R0({stroke:"#ccc",pointerEvents:"none"},l),g),De(p,!1)),{},{payload:o,payloadIndex:u,className:ze("recharts-tooltip-cursor",p.className)});return A.isValidElement(p)?A.cloneElement(p,S):A.createElement(m,S)}var Z_e=["item"],e2e=["children","className","width","height","style","compact","title","desc"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function qO(e,t){return n2e(e)||r2e(e,t)||KD(e,t)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function n2e(e){if(Array.isArray(e))return e}function VO(e,t){if(e==null)return{};var r=a2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GD(n.key),n)}}function o2e(e,t,r){return t&&s2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l2e(e,t,r){return t=Km(t),c2e(e,VD()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function c2e(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u2e(e)}function u2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function d2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sw(e,t)}function sw(e,t){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sw(e,t)}function yu(e){return p2e(e)||h2e(e)||KD(e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,t){if(e){if(typeof e=="string")return ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(e,t)}}function h2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p2e(e){if(Array.isArray(e))return ow(e)}function ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=GD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GD(e){var t=m2e(e,"string");return xu(t)=="symbol"?t:t+""}function m2e(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v2e={xAxis:["bottom","top"],yAxis:["left","right"]},g2e={width:"100%",height:"100%"},XD={x:0,y:0};function I0(e){return e}var x2e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},y2e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return oe(oe(oe({},a),gt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return oe(oe(oe({},a),gt(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return XD},kg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(yu(o),yu(u)):o},[]);return s.length>0?s:t&&t.length&&ve(a)&&ve(i)?t.slice(a,i+1):[]};function YD(e){return e==="number"?[0,"auto"]:void 0}var lw=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=kg(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=M1(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(yu(l),[L6(u,h)]):l},[])},GO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=x2e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=Xpe(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=lw(t,r,d,f),p=y2e(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},b2e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=P6(d,i);return n.reduce(function(g,m){var x,b=m.type.defaultProps!==void 0?oe(oe({},m.type.defaultProps),m.props):m.props,v=b.type,y=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,j=b.includeHidden,T=b[s];if(g[T])return g;var O=kg(t.data,{graphicalItems:a.filter(function(P){var H,U=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s];return U===T}),dataStartIndex:l,dataEndIndex:u}),C=O.length,M,F,q;V_e(b.domain,_,v)&&(M=Sb(b.domain,null,_),p&&(v==="number"||S!=="auto")&&(q=qd(O,y,"category")));var V=YD(v);if(!M||M.length===0){var ne,se=(ne=b.domain)!==null&&ne!==void 0?ne:V;if(y){if(M=qd(O,y,v),v==="category"&&p){var G=Fee(M);w&&G?(F=M,M=Dm(0,C)):w||(M=_N(se,M,m).reduce(function(P,H){return P.indexOf(H)>=0?P:[].concat(yu(P),[H])},[]))}else if(v==="category")w?M=M.filter(function(P){return P!==""&&!We(P)}):M=_N(se,M,m).reduce(function(P,H){return P.indexOf(H)>=0||H===""||We(H)?P:[].concat(yu(P),[H])},[]);else if(v==="number"){var te=eme(O,a.filter(function(P){var H,U,W=s in P.props?P.props[s]:(H=P.type.defaultProps)===null||H===void 0?void 0:H[s],ae="hide"in P.props?P.props.hide:(U=P.type.defaultProps)===null||U===void 0?void 0:U.hide;return W===T&&(j||!ae)}),y,i,d);te&&(M=te)}p&&(v==="number"||S!=="auto")&&(q=qd(O,y,"category"))}else p?M=Dm(0,C):o&&o[T]&&o[T].hasStack&&v==="number"?M=h==="expand"?[0,1]:$6(o[T].stackGroups,l,u):M=k6(O,a.filter(function(P){var H=s in P.props?P.props[s]:P.type.defaultProps[s],U="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return H===T&&(j||!U)}),v,d,!0);if(v==="number")M=iw(f,M,T,i,E),se&&(M=Sb(se,M,_));else if(v==="category"&&se){var ue=se,pe=M.every(function(P){return ue.indexOf(P)>=0});pe&&(M=ue)}}return oe(oe({},g),{},Re({},T,oe(oe({},b),{},{axisType:i,domain:M,categoricalDomain:q,duplicateDomain:F,originalDomain:(x=b.domain)!==null&&x!==void 0?x:V,isCategorical:p,layout:d})))},{})},w2e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=kg(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=P6(d,i),m=-1;return n.reduce(function(x,b){var v=b.type.defaultProps!==void 0?oe(oe({},b.type.defaultProps),b.props):b.props,y=v[s],_=YD("number");if(!x[y]){m++;var w;return g?w=Dm(0,p):o&&o[y]&&o[y].hasStack?(w=$6(o[y].stackGroups,l,u),w=iw(f,w,y,i)):(w=Sb(_,k6(h,n.filter(function(S){var E,j,T=s in S.props?S.props[s]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[s],O="hide"in S.props?S.props.hide:(j=S.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!O}),"number",d),a.defaultProps.allowDataOverflow),w=iw(f,w,y,i)),oe(oe({},x),{},Re({},y,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bn(v2e,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},_2e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=sa(d,i),p={};return h&&h.length?p=b2e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=w2e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},S2e=function(t){var r=fs(t),n=Si(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:m2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_m(r,n)}},XO=function(t){var r=t.children,n=t.defaultShowTooltip,a=kn(r,uu),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},E2e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ni(r&&r.type);return n&&n.indexOf("Bar")>=0})},YO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},j2e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=kn(f,uu),g=kn(f,Oi),m=Object.keys(l).reduce(function(w,S){var E=l[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,S){var E=s[S],j=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Re({},j,Bn(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=oe(oe({},x),m),v=b.bottom;p&&(b.bottom+=p.props.height||uu.defaultProps.height),g&&r&&(b=Jpe(b,a,n,r));var y=u-b.left-b.right,_=d-b.top-b.bottom;return oe(oe({brushBottom:v},b),{},{width:Math.max(y,0),height:Math.max(_,0)})},T2e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},QD=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var y=v.graphicalItems,_=v.stackGroups,w=v.offset,S=v.updateId,E=v.dataStartIndex,j=v.dataEndIndex,T=b.barSize,O=b.layout,C=b.barGap,M=b.barCategoryGap,F=b.maxBarSize,q=YO(O),V=q.numericAxisName,ne=q.cateAxisName,se=E2e(y),G=[];return y.forEach(function(te,ue){var pe=kg(b.data,{graphicalItems:[te],dataStartIndex:E,dataEndIndex:j}),P=te.type.defaultProps!==void 0?oe(oe({},te.type.defaultProps),te.props):te.props,H=P.dataKey,U=P.maxBarSize,W=P["".concat(V,"Id")],ae=P["".concat(ne,"Id")],Se={},J=l.reduce(function(cn,Ua){var to=v["".concat(Ua.axisType,"Map")],An=P["".concat(Ua.axisType,"Id")];to&&to[An]||Ua.axisType==="zAxis"||ll();var ro=to[An];return oe(oe({},cn),{},Re(Re({},Ua.axisType,ro),"".concat(Ua.axisType,"Ticks"),Si(ro)))},Se),K=J[ne],ee=J["".concat(ne,"Ticks")],ye=_&&_[W]&&_[W].hasStack&&cme(te,_[W].stackGroups),re=Ni(te.type).indexOf("Bar")>=0,Le=_m(K,ee),Ce=[],tt=se&&Ype({barSize:T,stackGroups:_,totalSize:T2e(J,ne)});if(re){var Fe,we,Wt=We(U)?F:U,Ir=(Fe=(we=_m(K,ee,!0))!==null&&we!==void 0?we:Wt)!==null&&Fe!==void 0?Fe:0;Ce=Qpe({barGap:C,barCategoryGap:M,bandSize:Ir!==Le?Ir:Le,sizeList:tt[ae],maxBarSize:Wt}),Ir!==Le&&(Ce=Ce.map(function(cn){return oe(oe({},cn),{},{position:oe(oe({},cn.position),{},{offset:cn.position.offset-Ir/2})})}))}var Vn=te&&te.type&&te.type.getComposedData;Vn&&G.push({props:oe(oe({},Vn(oe(oe({},J),{},{displayedData:pe,props:b,dataKey:H,item:te,bandSize:Le,barPosition:Ce,offset:w,stackedData:ye,layout:O,dataStartIndex:E,dataEndIndex:j}))),{},Re(Re(Re({key:te.key||"item-".concat(ue)},V,J[V]),ne,J[ne]),"animationId",S)),childIndex:Qee(te,b.children),item:te})}),G},p=function(b,v){var y=b.props,_=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!vT({props:y}))return null;var E=y.children,j=y.layout,T=y.stackOffset,O=y.data,C=y.reverseStackOrder,M=YO(j),F=M.numericAxisName,q=M.cateAxisName,V=sa(E,n),ne=ome(O,V,"".concat(F,"Id"),"".concat(q,"Id"),T,C),se=l.reduce(function(P,H){var U="".concat(H.axisType,"Map");return oe(oe({},P),{},Re({},U,_2e(y,oe(oe({},H),{},{graphicalItems:V,stackGroups:H.axisType===F&&ne,dataStartIndex:_,dataEndIndex:w}))))},{}),G=j2e(oe(oe({},se),{},{props:y,graphicalItems:V}),v==null?void 0:v.legendBBox);Object.keys(se).forEach(function(P){se[P]=d(y,se[P],G,P.replace("Map",""),r)});var te=se["".concat(q,"Map")],ue=S2e(te),pe=h(y,oe(oe({},se),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:V,stackGroups:ne,offset:G}));return oe(oe({formattedGraphicalItems:pe,graphicalItems:V,offset:G,stackGroups:ne},ue),se)},g=function(x){function b(v){var y,_,w;return i2e(this,b),w=l2e(this,b,[v]),Re(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(w,"accessibilityManager",new q_e),Re(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,j=E.dataStartIndex,T=E.dataEndIndex,O=E.updateId;w.setState(oe({legendBBox:S},p({props:w.props,dataStartIndex:j,dataEndIndex:T,updateId:O},oe(oe({},w.state),{},{legendBBox:S}))))}}),Re(w,"handleReceiveSyncEvent",function(S,E,j){if(w.props.syncId===S){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Re(w,"handleBrushChange",function(S){var E=S.startIndex,j=S.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return oe({dataStartIndex:E,dataEndIndex:j},p({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Re(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseEnter;Me(T)&&T(j,S)}}),Re(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),j=E?oe(oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseMove;Me(T)&&T(j,S)}),Re(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Re(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Re(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Re(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Me(j)&&j(E,S)}),Re(w,"handleOuterEvent",function(S){var E=Yee(S),j=Bn(w.props,"".concat(E));if(E&&Me(j)){var T,O;/.*touch.*/i.test(E)?O=w.getMouseInfo(S.changedTouches[0]):O=w.getMouseInfo(S),j((T=O)!==null&&T!==void 0?T:{},S)}}),Re(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var j=oe(oe({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onClick;Me(T)&&T(j,S)}}),Re(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Re(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Re(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Re(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(Me(E)){var j=w.getMouseInfo(S);E(j,S)}}),Re(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&ty.emit(ry,w.props.syncId,S,w.eventEmitterSymbol)}),Re(w,"applySyncEvent",function(S){var E=w.props,j=E.layout,T=E.syncMethod,O=w.state.updateId,C=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:C,dataEndIndex:M},p({props:w.props,dataStartIndex:C,dataEndIndex:M,updateId:O},w.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,q=S.chartY,V=S.activeTooltipIndex,ne=w.state,se=ne.offset,G=ne.tooltipTicks;if(!se)return;if(typeof T=="function")V=T(G,S);else if(T==="value"){V=-1;for(var te=0;te<G.length;te++)if(G[te].value===S.activeLabel){V=te;break}}var ue=oe(oe({},se),{},{x:se.left,y:se.top}),pe=Math.min(F,ue.x+ue.width),P=Math.min(q,ue.y+ue.height),H=G[V]&&G[V].value,U=lw(w.state,w.props.data,V),W=G[V]?{x:j==="horizontal"?G[V].coordinate:pe,y:j==="horizontal"?P:G[V].coordinate}:XD;w.setState(oe(oe({},S),{},{activeLabel:H,activeCoordinate:W,activePayload:U,activeTooltipIndex:V}))}else w.setState(S)}),Re(w,"renderCursor",function(S){var E,j=w.state,T=j.isTooltipActive,O=j.activeCoordinate,C=j.activePayload,M=j.offset,F=j.activeTooltipIndex,q=j.tooltipAxisBandSize,V=w.getTooltipEventType(),ne=(E=S.props.active)!==null&&E!==void 0?E:T,se=w.props.layout,G=S.key||"_recharts-cursor";return z.createElement(J_e,{key:G,activeCoordinate:O,activePayload:C,activeTooltipIndex:F,chartName:r,element:S,isActive:ne,layout:se,offset:M,tooltipAxisBandSize:q,tooltipEventType:V})}),Re(w,"renderPolarAxis",function(S,E,j){var T=Bn(S,"type.axisType"),O=Bn(w.state,"".concat(T,"Map")),C=S.type.defaultProps,M=C!==void 0?oe(oe({},C),S.props):S.props,F=O&&O[M["".concat(T,"Id")]];return A.cloneElement(S,oe(oe({},F),{},{className:ze(T,F.className),key:S.key||"".concat(E,"-").concat(j),ticks:Si(F,!0)}))}),Re(w,"renderPolarGrid",function(S){var E=S.props,j=E.radialLines,T=E.polarAngles,O=E.polarRadius,C=w.state,M=C.radiusAxisMap,F=C.angleAxisMap,q=fs(M),V=fs(F),ne=V.cx,se=V.cy,G=V.innerRadius,te=V.outerRadius;return A.cloneElement(S,{polarAngles:Array.isArray(T)?T:Si(V,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(O)?O:Si(q,!0).map(function(ue){return ue.coordinate}),cx:ne,cy:se,innerRadius:G,outerRadius:te,key:S.key||"polar-grid",radialLines:j})}),Re(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,j=E.children,T=E.width,O=E.height,C=w.props.margin||{},M=T-(C.left||0)-(C.right||0),F=O6({children:j,formattedGraphicalItems:S,legendWidth:M,legendContent:u});if(!F)return null;var q=F.item,V=VO(F,Z_e);return A.cloneElement(q,oe(oe({},V),{},{chartWidth:T,chartHeight:O,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Re(w,"renderTooltip",function(){var S,E=w.props,j=E.children,T=E.accessibilityLayer,O=kn(j,fr);if(!O)return null;var C=w.state,M=C.isTooltipActive,F=C.activeCoordinate,q=C.activePayload,V=C.activeLabel,ne=C.offset,se=(S=O.props.active)!==null&&S!==void 0?S:M;return A.cloneElement(O,{viewBox:oe(oe({},ne),{},{x:ne.left,y:ne.top}),active:se,label:V,payload:se?q:[],coordinate:F,accessibilityLayer:T})}),Re(w,"renderBrush",function(S){var E=w.props,j=E.margin,T=E.data,O=w.state,C=O.offset,M=O.dataStartIndex,F=O.dataEndIndex,q=O.updateId;return A.cloneElement(S,{key:S.key||"_recharts-brush",onChange:O0(w.handleBrushChange,S.props.onChange),data:T,x:ve(S.props.x)?S.props.x:C.left,y:ve(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(j.bottom||0),width:ve(S.props.width)?S.props.width:C.width,startIndex:M,endIndex:F,updateId:"brush-".concat(q)})}),Re(w,"renderReferenceElement",function(S,E,j){if(!S)return null;var T=w,O=T.clipPathId,C=w.state,M=C.xAxisMap,F=C.yAxisMap,q=C.offset,V=S.type.defaultProps||{},ne=S.props,se=ne.xAxisId,G=se===void 0?V.xAxisId:se,te=ne.yAxisId,ue=te===void 0?V.yAxisId:te;return A.cloneElement(S,{key:S.key||"".concat(E,"-").concat(j),xAxis:M[G],yAxis:F[ue],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:O})}),Re(w,"renderActivePoints",function(S){var E=S.item,j=S.activePoint,T=S.basePoint,O=S.childIndex,C=S.isRange,M=[],F=E.props.key,q=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,V=q.activeDot,ne=q.dataKey,se=oe(oe({index:O,dataKey:ne,cx:j.x,cy:j.y,r:4,fill:U2(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},De(V,!1)),Xp(V));return M.push(b.renderActiveDot(V,se,"".concat(F,"-activePoint-").concat(O))),T?M.push(b.renderActiveDot(V,oe(oe({},se),{},{cx:T.x,cy:T.y}),"".concat(F,"-basePoint-").concat(O))):C&&M.push(null),M}),Re(w,"renderGraphicChild",function(S,E,j){var T=w.filterFormatItem(S,E,j);if(!T)return null;var O=w.getTooltipEventType(),C=w.state,M=C.isTooltipActive,F=C.tooltipAxis,q=C.activeTooltipIndex,V=C.activeLabel,ne=w.props.children,se=kn(ne,fr),G=T.props,te=G.points,ue=G.isRange,pe=G.baseLine,P=T.item.type.defaultProps!==void 0?oe(oe({},T.item.type.defaultProps),T.item.props):T.item.props,H=P.activeDot,U=P.hide,W=P.activeBar,ae=P.activeShape,Se=!!(!U&&M&&se&&(H||W||ae)),J={};O!=="axis"&&se&&se.props.trigger==="click"?J={onClick:O0(w.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(J={onMouseLeave:O0(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:O0(w.handleItemMouseEnter,S.props.onMouseEnter)});var K=A.cloneElement(S,oe(oe({},T.props),J));function ee(Ua){return typeof F.dataKey=="function"?F.dataKey(Ua.payload):null}if(Se)if(q>=0){var ye,re;if(F.dataKey&&!F.allowDuplicatedCategory){var Le=typeof F.dataKey=="function"?ee:"payload.".concat(F.dataKey.toString());ye=M1(te,Le,V),re=ue&&pe&&M1(pe,Le,V)}else ye=te==null?void 0:te[q],re=ue&&pe&&pe[q];if(ae||W){var Ce=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[A.cloneElement(S,oe(oe(oe({},T.props),J),{},{activeIndex:Ce})),null,null]}if(!We(ye))return[K].concat(yu(w.renderActivePoints({item:T,activePoint:ye,basePoint:re,childIndex:q,isRange:ue})))}else{var tt,Fe=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:K},we=Fe.graphicalItem,Wt=we.item,Ir=Wt===void 0?S:Wt,Vn=we.childIndex,cn=oe(oe(oe({},T.props),J),{},{activeIndex:Vn});return[A.cloneElement(Ir,cn),null,null]}return ue?[K,null,null]:[K,null]}),Re(w,"renderCustomized",function(S,E,j){return A.cloneElement(S,oe(oe({key:"recharts-customized-".concat(j)},w.props),w.state))}),Re(w,"renderMap",{CartesianGrid:{handler:I0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:I0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:I0},YAxis:{handler:I0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=v.id)!==null&&y!==void 0?y:Ah("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=NI(w.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return d2e(b,x),o2e(b,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,w=y.data,S=y.height,E=y.layout,j=kn(_,fr);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=lw(this.state,w,T,O),M=this.state.tooltipTicks[T].coordinate,F=(this.state.offset.top+S)/2,q=E==="horizontal",V=q?{x:M,y:F}:{y:M,x:F},ne=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});ne&&(V=oe(oe({},V),ne.props.points[T].tooltipPosition),C=ne.props.points[T].tooltipPayload);var se={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:V};this.setState(se),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){L1([kn(y.children,fr)],[kn(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=kn(this.props.children,fr);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Sde(w),E={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},j=w.width/_.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,j);if(!T)return null;var O=this.state,C=O.xAxisMap,M=O.yAxisMap,F=this.getTooltipEventType(),q=GO(this.state,this.props.data,this.props.layout,T);if(F!=="axis"&&C&&M){var V=fs(C).scale,ne=fs(M).scale,se=V&&V.invert?V.invert(E.chartX):null,G=ne&&ne.invert?ne.invert(E.chartY):null;return oe(oe({},E),{},{xValue:se,yValue:G},q)}return q?oe(oe({},E),q):null}},{key:"inRange",value:function(y,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=y/w,j=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,O=E>=T.left&&E<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return O?{x:E,y:j}:null}var C=this.state,M=C.angleAxisMap,F=C.radiusAxisMap;if(M&&F){var q=fs(M);return jN({x:E,y:j},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),w=kn(y,fr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Xp(this.props,this.handleOuterEvent);return oe(oe({},E),S)}},{key:"addListener",value:function(){ty.on(ry,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ty.removeListener(ry,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,w){for(var S=this.state.formattedGraphicalItems,E=0,j=S.length;E<j;E++){var T=S[E];if(T.item===y||T.props.key===y.key||_===Ni(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,E=_.height,j=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:w,y:S,height:E,width:j})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=qO(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,w){var S=qO(w,2),E=S[0],j=S[1];return oe(oe({},_),{},Re({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var T=w[E],O=T.props,C=T.item,M=C.type.defaultProps!==void 0?oe(oe({},C.type.defaultProps),C.props):C.props,F=Ni(C.type);if(F==="Bar"){var q=(O.data||[]).find(function(G){return cxe(y,G)});if(q)return{graphicalItem:T,payload:q}}else if(F==="RadialBar"){var V=(O.data||[]).find(function(G){return jN(y,G)});if(V)return{graphicalItem:T,payload:V}}else if(Eg(T,S)||jg(T,S)||eh(T,S)){var ne=Qye({graphicalItem:T,activeTooltipItem:S,itemData:M.data}),se=M.activeIndex===void 0?ne:M.activeIndex;return{graphicalItem:oe(oe({},T),{},{childIndex:se}),payload:eh(T,S)?M.data[ne]:T.props.data[ne]}}}return null}},{key:"render",value:function(){var y=this;if(!vT(this))return null;var _=this.props,w=_.children,S=_.className,E=_.width,j=_.height,T=_.style,O=_.compact,C=_.title,M=_.desc,F=VO(_,e2e),q=De(F,!1);if(O)return z.createElement(CO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(B1,ac({},q,{width:E,height:j,title:C,desc:M}),this.renderClipPath(),xT(w,this.renderMap)));if(this.props.accessibilityLayer){var V,ne;q.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,q.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",q.onKeyDown=function(G){y.accessibilityManager.keyboardEvent(G)},q.onFocus=function(){y.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return z.createElement(CO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",ac({className:ze("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:E,height:j},T)},se,{ref:function(te){y.container=te}}),z.createElement(B1,ac({},q,{width:E,height:j,title:C,desc:M,style:g2e}),this.renderClipPath(),xT(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Re(g,"displayName",r),Re(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(g,"getDerivedStateFromProps",function(x,b){var v=x.dataKey,y=x.data,_=x.children,w=x.width,S=x.height,E=x.layout,j=x.stackOffset,T=x.margin,O=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var M=XO(x);return oe(oe(oe({},M),{},{updateId:0},p(oe(oe({props:x},M),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(v!==b.prevDataKey||y!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||j!==b.prevStackOffset||!xc(T,b.prevMargin)){var F=XO(x),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=oe(oe({},GO(b,y,E)),{},{updateId:b.updateId+1}),ne=oe(oe(oe({},F),q),V);return oe(oe(oe({},ne),p(oe({props:x},ne),b)),{},{prevDataKey:v,prevData:y,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:_})}if(!L1(_,b.prevChildren)){var se,G,te,ue,pe=kn(_,uu),P=pe&&(se=(G=pe.props)===null||G===void 0?void 0:G.startIndex)!==null&&se!==void 0?se:O,H=pe&&(te=(ue=pe.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&te!==void 0?te:C,U=P!==O||H!==C,W=!We(y),ae=W&&!U?b.updateId:b.updateId+1;return oe(oe({updateId:ae},p(oe(oe({props:x},b),{},{updateId:ae,dataStartIndex:P,dataEndIndex:H}),b)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:H})}return null}),Re(g,"renderActiveDot",function(x,b,v){var y;return A.isValidElement(x)?y=A.cloneElement(x,b):Me(x)?y=x(b):y=z.createElement(W2,b),z.createElement(at,{className:"recharts-active-dot",key:v},y)});var m=A.forwardRef(function(b,v){return z.createElement(g,ac({},b,{ref:v}))});return m.displayName=g.displayName,m},bu=QD({chartName:"BarChart",GraphicalChild:gn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hi},{axisType:"yAxis",AxisComp:qi}],formatAxisMap:Obe}),Z2=QD({chartName:"PieChart",GraphicalChild:Ba,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sg},{axisType:"radiusAxis",AxisComp:wg}],formatAxisMap:yme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const gd={ASIGNADA:"#3b82f6",RECUPERADA:"#8b5cf6",CERRADA:"#6b7280",PERDIDA:"#ef4444",DETERIORO:"#f97316"},A2e=({loans:e})=>{const t=A.useMemo(()=>{const a={},i=new Date;for(let s=7;s>=0;s--){const o=new Date(i);o.setDate(o.getDate()-s*7);const l=`S${8-s}`;a[l]=0}return e.forEach(s=>{const o=new Date(s.issued_at),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24*7));if(l>=0&&l<8){const u=`S${8-l}`;a[u]!==void 0&&a[u]++}}),Object.entries(a).map(([s,o])=>({week:s,count:o}))},[e]),r=A.useMemo(()=>{const a=e.filter(s=>s.reason==="PERDIDA").length,i=e.filter(s=>s.reason==="DETERIORO").length;return[{name:"Perdida",value:a,color:gd.PERDIDA},{name:"Deterioro",value:i,color:gd.DETERIORO}].filter(s=>s.value>0)},[e]),n=A.useMemo(()=>Vs.map(a=>{const i=e.filter(s=>{var o;return((o=s.backup_cards)==null?void 0:o.inventory_terminal)===a});return{terminal:a.split(" ")[0],ASIGNADA:i.filter(s=>s.status==="ASIGNADA").length,RECUPERADA:i.filter(s=>s.status==="RECUPERADA").length,CERRADA:i.filter(s=>s.status==="CERRADA").length}}),[e]);return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Prestamos por Semana"}),c.jsx("div",{className:"h-48",children:c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:t,children:[c.jsx(ul,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Hi,{dataKey:"week",tick:{fontSize:11}}),c.jsx(qi,{tick:{fontSize:11},allowDecimals:!1}),c.jsx(fr,{}),c.jsx(gn,{dataKey:"count",name:"Prestamos",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Motivo de Solicitud"}),c.jsx("div",{className:"h-48",children:r.length>0?c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(Z2,{children:[c.jsx(Ba,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,labelLine:!1,children:r.map((a,i)=>c.jsx(Zi,{fill:a.color},`cell-${i}`))}),c.jsx(fr,{})]})}):c.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos"})})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Estado por Terminal"}),c.jsx("div",{className:"h-48",children:c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:n,layout:"vertical",children:[c.jsx(ul,{strokeDasharray:"3 3",horizontal:!1}),c.jsx(Hi,{type:"number",tick:{fontSize:11},allowDecimals:!1}),c.jsx(qi,{type:"category",dataKey:"terminal",tick:{fontSize:11},width:60}),c.jsx(fr,{}),c.jsx(Oi,{wrapperStyle:{fontSize:10}}),c.jsx(gn,{dataKey:"ASIGNADA",name:"Asignada",stackId:"a",fill:gd.ASIGNADA}),c.jsx(gn,{dataKey:"RECUPERADA",name:"Recuperada",stackId:"a",fill:gd.RECUPERADA}),c.jsx(gn,{dataKey:"CERRADA",name:"Cerrada",stackId:"a",fill:gd.CERRADA})]})})})]})]})},Gm=e=>e.replace(/[.\-\s]/g,"").toUpperCase(),dl=e=>{const t=Gm(e);if(t.length<2)return t;const r=t.slice(0,-1),n=t.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${n}`},QO=e=>{const t=Gm(e);if(t.length<8||t.length>9)return!1;const r=t.slice(0,-1),n=t.slice(-1);if(!/^\d+$/.test(r))return!1;let a=0,i=2;for(let l=r.length-1;l>=0;l--)a+=parseInt(r[l])*i,i=i===7?2:i+1;const s=a%11,o=s===0?"0":s===1?"K":String(11-s);return n===o},N2e=({status:e,isOverdue:t})=>{const r="inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full";if(t&&e==="ASIGNADA")return c.jsxs("span",{className:`${r} bg-amber-100 text-amber-800`,children:[c.jsx(Lv,{className:"w-3 h-3"}),"ATRASADA"]});const n={ASIGNADA:"bg-blue-100 text-blue-800",RECUPERADA:"bg-emerald-100 text-emerald-800",CERRADA:"bg-slate-100 text-slate-700",CANCELADA:"bg-red-100 text-red-800"};return c.jsx("span",{className:`${r} ${n[e]||"bg-slate-100 text-slate-700"}`,children:e})},O2e=({reason:e})=>{const t={PERDIDA:"bg-red-50 text-red-700",DETERIORO:"bg-orange-50 text-orange-700"};return c.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${t[e]||""}`,children:e==="PERDIDA"?"Perdida":"Deterioro"})},C2e=({loans:e,onView:t,onEdit:r,onRecover:n,onCancel:a,onResendEmails:i})=>{const s=A.useMemo(()=>{const o=new Date;return e.map(l=>{const u=new Date(l.issued_at),d=Math.floor((o.getTime()-u.getTime())/(1e3*60*60*24));return{...l,daysPassed:d,isOverdue:l.status==="ASIGNADA"&&d>l.alert_after_days}})},[e]);return e.length===0?c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-8 text-center",children:c.jsx("p",{className:"text-slate-500",children:"No se encontraron prestamos con los filtros seleccionados."})}):c.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Trabajador"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"RUT"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Terminal"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Tarjeta"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Motivo"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Entrega"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Dias"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>{var l,u;return c.jsxs("tr",{className:`hover:bg-slate-50 ${o.isOverdue?"bg-amber-50/50":""}`,children:[c.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:o.person_name}),c.jsx("p",{className:"text-xs text-slate-500",children:o.person_cargo||"-"})]}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:dl(o.person_rut)}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:o.person_terminal}),c.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[c.jsx("p",{className:"text-sm font-mono text-slate-900",children:((l=o.backup_cards)==null?void 0:l.card_number)||"-"}),c.jsx("p",{className:"text-xs text-slate-500",children:(u=o.backup_cards)==null?void 0:u.inventory_terminal})]}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsx(O2e,{reason:o.reason})}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(o.issued_at).toLocaleDateString("es-CL")}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsxs("span",{className:`text-sm font-medium ${o.isOverdue?"text-amber-600":"text-slate-700"}`,children:[o.daysPassed,"d"]})}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsx(N2e,{status:o.status,isOverdue:o.isOverdue})}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("button",{onClick:()=>t(o),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded",title:"Ver detalle",children:c.jsx(NY,{className:"w-4 h-4"})}),o.status==="ASIGNADA"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>r(o),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:c.jsx(KY,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(o),className:"p-1.5 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded",title:"Marcar recuperada",children:c.jsx(dR,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>a(o),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Cancelar",children:c.jsx(Fi,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:()=>i(o),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"Reenviar correos",children:c.jsx(cR,{className:"w-4 h-4"})})]})})]},o.id)})})]})})})},k2e=async(e,t)=>{let r=be.from("backup_cards").select("*").order("card_number",{ascending:!0});e&&e!=="TODAS"&&(r=r.eq("status",e)),t&&(r=r.eq("inventory_terminal",t));const{data:n,error:a}=await r;if(a)throw a;return n},P2e=async e=>{let t=be.from("backup_cards").select("*").eq("status","LIBRE").order("card_number");e&&(t=t.eq("inventory_terminal",e));const{data:r,error:n}=await t;if(n)throw n;return r},R2e=async e=>{const{data:t,error:r}=await be.from("backup_cards").insert({card_number:e.card_number,inventory_terminal:e.inventory_terminal,notes:e.notes||null,status:"LIBRE"}).select().single();if(r)throw r;return t},I2e=async e=>{const{error:t}=await be.from("backup_cards").update({status:"INACTIVA"}).eq("id",e);if(t)throw t},D2e=async e=>{let t=be.from("backup_loans").select("*, backup_cards(*)").order("issued_at",{ascending:!1});e&&(e.search&&(t=t.or(`person_rut.ilike.%${e.search}%,person_name.ilike.%${e.search}%`)),e.terminal&&(t=t.eq("person_terminal",e.terminal)),e.status&&e.status!=="TODAS"&&(t=t.eq("status",e.status)),e.reason&&e.reason!=="TODAS"&&(t=t.eq("reason",e.reason)),e.dateFrom&&(t=t.gte("issued_at",e.dateFrom)),e.dateTo&&(t=t.lte("issued_at",e.dateTo+"T23:59:59")));const{data:r,error:n}=await t;if(n)throw n;return r},M2e=async e=>{const{data:t,error:r}=await be.from("backup_loans").insert({card_id:e.card_id,person_rut:e.person_rut,person_name:e.person_name,person_cargo:e.person_cargo||null,person_terminal:e.person_terminal,person_turno:e.person_turno||null,person_horario:e.person_horario||null,person_contacto:e.person_contacto||null,boss_email:e.worker_email||null,reason:e.reason,requested_at:e.requested_at,discount_amount:e.discount_amount,discount_applied:e.discount_applied,created_by_supervisor:e.created_by_supervisor,status:"ASIGNADA"}).select("*, backup_cards(*)").single();if(r)throw r;const{error:n}=await be.from("backup_cards").update({status:"ASIGNADA"}).eq("id",e.card_id);if(n)throw n;return t},$2e=async(e,t,r)=>{const{data:n,error:a}=await be.from("backup_loans").select("card_id").eq("id",e).single();if(a)throw a;const{error:i}=await be.from("backup_loans").update({status:"CERRADA",recovered_at:t,closed_at:new Date().toISOString()}).eq("id",e);if(i)throw i;const{error:s}=await be.from("backup_cards").update({status:"LIBRE"}).eq("id",n.card_id);if(s)throw s},L2e=async(e,t)=>{const{data:r,error:n}=await be.from("backup_loans").select("card_id").eq("id",e).single();if(n)throw n;const{error:a}=await be.from("backup_loans").update({status:"CANCELADA",cancel_reason:t,closed_at:new Date().toISOString()}).eq("id",e);if(a)throw a;const{error:i}=await be.from("backup_cards").update({status:"LIBRE"}).eq("id",r.card_id);if(i)throw i},F2e=async e=>{const{error:t}=await be.from("backup_loans").update({emails_sent_at:new Date().toISOString()}).eq("id",e);if(t)throw t},JD=async()=>{const{data:e,error:t}=await be.from("backup_email_settings").select("*").order("scope_type",{ascending:!1});if(t)throw t;return e},B2e=async e=>{const{data:t,error:r}=await be.from("backup_email_settings").upsert(e,{onConflict:"scope_type,scope_code"}).select().single();if(r)throw r;return t},U2e=async()=>{const{data:e,error:t}=await be.from("backup_cards").select("inventory_terminal, status");if(t)throw t;const r={"El Roble":0,"La Reina":0,"Maria Angelica":0};e==null||e.forEach(p=>{if(p.status==="LIBRE"){const g=p.inventory_terminal;Vs.includes(g)&&r[g]++}});const{data:n,error:a}=await be.from("backup_loans").select("id, issued_at, alert_after_days, discount_amount, discount_applied").eq("status","ASIGNADA");if(a)throw a;const i=new Date;let s=0,o=0;n==null||n.forEach(p=>{const g=new Date(p.issued_at);Math.floor((i.getTime()-g.getTime())/(1e3*60*60*24))>p.alert_after_days&&s++,p.discount_applied&&(o+=p.discount_amount)});const l=new Date;l.setDate(l.getDate()-30);const{data:u,error:d}=await be.from("backup_loans").select("issued_at, recovered_at, discount_amount, discount_applied").in("status",["RECUPERADA","CERRADA"]).gte("closed_at",l.toISOString());if(d)throw d;let f=0,h=0;return u==null||u.forEach(p=>{if(p.recovered_at){const g=new Date(p.issued_at),m=new Date(p.recovered_at),x=Math.floor((m.getTime()-g.getTime())/(1e3*60*60*24));f+=x,h++}p.discount_applied&&(o+=p.discount_amount)}),{availableByTerminal:r,activeLoans:(n==null?void 0:n.length)||0,overdueLoans:s,avgReturnDays:h>0?Math.round(f/h):0,totalDiscounts:o}},Vr={user:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="5" r="3.5" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 16C2 12.686 5.13401 10 9 10C12.866 10 16 12.686 16 16" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,id:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.5" y="3.5" width="15" height="11" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <circle cx="6" cy="8" r="1.5" stroke="#64748b" stroke-width="1"/>
        <path d="M4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12" stroke="#64748b" stroke-width="1"/>
        <path d="M10.5 7.5H14.5M10.5 10H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`,building:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 16V3.5C2 3.22386 2.22386 3 2.5 3H9.5C9.77614 3 10 3.22386 10 3.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M10 7H14.5C14.7761 7 15 7.22386 15 7.5V16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5 6H7M5 9H7M5 12H7M12 10H13M12 13H13" stroke="#64748b" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M1 16H17" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,calendar:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="2" y="3.5" width="14" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M2 7H16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M5.5 1.5V4.5M12.5 1.5V4.5" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,card:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1" y="3" width="16" height="12" rx="2" stroke="#64748b" stroke-width="1.5"/>
        <path d="M1 7H17" stroke="#64748b" stroke-width="1.5"/>
        <path d="M4 11H8" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,warning:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 6V10M9 12.5V13" stroke="#f59e0b" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M3 15L9 3L15 15H3Z" stroke="#f59e0b" stroke-width="1.5" stroke-linejoin="round"/>
    </svg>`,money:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="9" r="7" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 5V13M11 7H7.5C6.67157 7 6 7.67157 6 8.5C6 9.32843 6.67157 10 7.5 10H10.5C11.3284 10 12 10.6716 12 11.5C12 12.3284 11.3284 13 10.5 13H6" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`,supervisor:`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="9" cy="6" r="3" stroke="#64748b" stroke-width="1.5"/>
        <path d="M3 16C3 13.2386 5.68629 11 9 11C12.3137 11 15 13.2386 15 16" stroke="#64748b" stroke-width="1.5"/>
        <path d="M9 3L10 1.5L11 3" stroke="#f59e0b" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`},Kr=(e,t,r,n=!1)=>`
    <tr>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; width: 40%; vertical-align: middle;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-right: 12px; vertical-align: middle;">${e}</td>
                    <td style="font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">${t}</td>
                </tr>
            </table>
        </td>
        <td style="padding: 14px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; font-weight: ${n?"700":"500"}; color: ${n?"#0f172a":"#334155"}; text-align: right;">${r}</td>
    </tr>
`,z2e=e=>new Date(e).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),W2e=async(e,t,r,n)=>{var f;const a=((f=e.backup_cards)==null?void 0:f.card_number)||"N/A",i=e.person_terminal,s=e.reason==="PERDIDA"?"Prdida de Credencial":"Deterioro de Credencial",o=z2e(e.issued_at),l=n?[n]:void 0,u=e.reason==="PERDIDA"?"#ef4444":"#f59e0b",d=e.reason==="PERDIDA"?"#fef2f2":"#fffbeb";try{const h=`Solicitud Nueva Credencial - ${e.person_name}`,p=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#dbeafe" stroke="#3b82f6" stroke-width="3"/>
                                        <rect x="18" y="20" width="20" height="16" rx="2" stroke="#2563eb" stroke-width="2.5"/>
                                        <circle cx="24" cy="27" r="3" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M20 33C20 31 21.5 29 24 29C26.5 29 28 31 28 33" stroke="#2563eb" stroke-width="2"/>
                                        <path d="M31 25H35M31 29H34" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #1e40af; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Accin Requerida</span>
                                    <span style="font-size: 20px; font-weight: 800; color: #1d4ed8; letter-spacing: -0.5px;">SOLICITUD DE NUEVA CREDENCIAL</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Reason Badge -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td align="center">
                        <span style="display: inline-block; padding: 8px 20px; background: ${d}; border: 1px solid ${u}; border-radius: 100px; color: ${u}; font-size: 12px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">${s}</span>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.user,"Nombre",e.person_name,!0)}
                ${Kr(Vr.id,"RUT",e.person_rut)}
                ${Kr(Vr.building,"Terminal",i)}
                ${Kr(Vr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Kr(Vr.calendar,"Fecha Solicitud",e.requested_at)}
                ${Kr(Vr.supervisor,"Supervisor Entrega",e.created_by_supervisor)}
            </table>
            
            <!-- Action Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #166534; font-weight: 600; text-align: center;">
                             Por favor proceder con la emisin de una nueva credencial para este trabajador.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
        `.trim();await nl.sendEmail({audience:"manual",manualRecipients:[t],cc:r?r.split(",").map(x=>x.trim()).filter(Boolean):void 0,subject:h,body:p,attachments:l,module:"credenciales"});const g=`Notificacin Credencial Respaldo - ${e.person_name}`,m=`
            <!-- Status Banner -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="background: #fef3c7; border: 1px solid #fde68a; border-radius: 12px; padding: 24px; text-align: center;">
                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tr>
                                <td align="center" style="padding-bottom: 8px;">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="28" cy="28" r="26" fill="#fef9c3" stroke="#eab308" stroke-width="3"/>
                                        <path d="M28 18V32M28 36V38" stroke="#ca8a04" stroke-width="4" stroke-linecap="round"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <span style="font-size: 11px; font-weight: 700; color: #92400e; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 4px;">Notificacin Importante</span>
                                    <span style="font-size: 18px; font-weight: 800; color: #b45309; letter-spacing: -0.5px;">CREDENCIAL DE RESPALDO ASIGNADA</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <!-- Intro Message -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 16px 20px; background: #f8fafc; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #475569; line-height: 1.6;">
                            Se le informa que el trabajador a su cargo <strong style="color: #0f172a;">${e.person_name}</strong> utilizar una tarjeta de respaldo mientras se gestiona una nueva credencial.
                        </p>
                    </td>
                </tr>
            </table>
            
            <!-- Worker Data Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Datos del Trabajador</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.user,"Nombre",e.person_name,!0)}
                ${Kr(Vr.id,"RUT",e.person_rut)}
                ${Kr(Vr.building,"Terminal",i)}
                ${Kr(Vr.id,"Cargo",e.person_cargo||"No especificado")}
            </table>
            
            <!-- Backup Info Section -->
            <p style="margin: 0 0 12px 0; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px;">Informacin del Respaldo</p>
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; border-spacing: 0; border-collapse: separate; margin-bottom: 24px;">
                ${Kr(Vr.card,"Tarjeta Asignada",`N ${a}`,!0)}
                ${Kr(Vr.warning,"Motivo",s)}
                ${Kr(Vr.calendar,"Fecha de Entrega",o)}
                ${e.discount_applied?Kr(Vr.money,"Descuento Aplicado",`$${e.discount_amount.toLocaleString("es-CL")} (1 cuota)`,!0):""}
            </table>
            
            <!-- Important Notice -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 16px;">
                <tr>
                    <td style="padding: 20px; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 12px;">
                        <p style="margin: 0; font-size: 14px; color: #1e40af; font-weight: 500; text-align: center;">
                             Una vez que el trabajador reciba su nueva credencial, deber devolver la tarjeta de respaldo.
                        </p>
                    </td>
                </tr>
            </table>
            
            ${n?`
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
                <tr>
                    <td style="padding: 12px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 8px;">
                        <p style="margin: 0; font-size: 13px; color: #92400e; font-weight: 500;">
                             <strong>Documento adjunto:</strong> Autorizacin de descuento firmada
                        </p>
                    </td>
                </tr>
            </table>
            `:""}
            
            <!-- Signature -->
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="padding-top: 16px; border-top: 1px solid #e2e8f0;">
                        <p style="margin: 0; font-size: 14px; color: #64748b;">Saludos cordiales,</p>
                        <p style="margin: 4px 0 0 0; font-size: 14px; font-weight: 700; color: #0f172a;">Gestin de Personal</p>
                    </td>
                </tr>
            </table>
        `.trim();return e.boss_email&&await nl.sendEmail({audience:"manual",manualRecipients:[e.boss_email],subject:g,body:m,module:"credenciales"}),await F2e(e.id),{success:!0}}catch(h){return console.error("Error sending backup emails:",h),{success:!1,error:h instanceof Error?h.message:"Error desconocido al enviar correos"}}},H2e=({isOpen:e,onClose:t,onSubmit:r,isLoading:n,supervisorName:a})=>{const i=A.useRef(null),[s,o]=A.useState({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),[l,u]=A.useState(""),[d,f]=A.useState(""),{data:h=[]}=Tt({queryKey:["backup-cards-available",l],queryFn:()=>P2e(l||void 0),enabled:e}),p=async()=>{const x=Gm(s.person_rut);if(!x)return;if(!QO(x)){f("RUT invalido");return}f("");const{data:b}=await be.from("staff").select("nombre, cargo, terminal_code, turno, horario, contacto").eq("rut",x).single();o(b?v=>({...v,person_rut:dl(x),person_name:b.nombre,person_cargo:b.cargo||"",person_terminal:b.terminal_code||"EL_ROBLE",person_turno:b.turno||"",person_horario:b.horario||"",person_contacto:b.contacto||""}):v=>({...v,person_rut:dl(x)}))},g=async x=>{if(x.preventDefault(),!QO(Gm(s.person_rut))){f("RUT invalido");return}await r(s,m)},m=()=>{const x=window.open("","_blank");if(x){const b=new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"});x.document.write(`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autorizacin de Descuento - ${s.person_name||"RBU"}</title>
    <style>
        @page { size: letter; margin: 15mm 20mm; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: white;
            padding: 0;
            color: #000;
            font-size: 12px;
            line-height: 1.4;
        }

        .page {
            width: 100%;
            max-width: 210mm;
            margin: 0 auto;
        }

        /* Header Styles */
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 5px;
            padding-bottom: 5px;
            border-bottom: 3px solid black;
        }

        /* Logo RBU con camion CSS */
        .logo-container {
            position: relative;
            width: 150px;
            height: 50px;
        }
        .truck-body {
            border: 4px solid #003399;
            border-radius: 8px;
            width: 120px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
            background: white;
            z-index: 2;
        }
        .truck-cab {
            position: absolute;
            top: 5px;
            right: 15px;
            width: 25px;
            height: 35px;
            border-top: 4px solid #003399;
            border-right: 4px solid #003399;
            border-radius: 0 5px 0 0;
        }
        .logo-text {
            color: #cc0000;
            font-weight: 900;
            font-size: 32px;
            font-family: 'Arial Black', Arial, sans-serif;
            letter-spacing: -2px;
        }
        .wheel {
            width: 12px;
            height: 12px;
            border: 4px solid #003399;
            border-radius: 50%;
            position: absolute;
            bottom: -5px;
            background: white;
            z-index: 3;
        }
        .w1 { left: 20px; }
        .w2 { left: 90px; }

        .rbu-santiago {
            color: #cc0000;
            font-weight: bold;
            font-size: 14px;
        }

        .title-bar {
            background-color: black;
            color: white;
            text-align: center;
            padding: 8px 0;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 25px;
        }

        /* Form Fields */
        .field-row {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-end;
        }
        
        .field-label {
            font-weight: bold;
            font-size: 11px;
            white-space: nowrap;
            margin-right: 10px;
        }

        .field-line {
            border-bottom: 2px solid black;
            flex-grow: 1;
            min-height: 18px;
            padding-left: 5px;
            font-size: 12px;
        }

        .rut-row {
            display: flex;
            justify-content: space-between;
        }
        
        .rut-container {
            display: flex;
            width: 38%;
            align-items: flex-end;
        }
        
        .cargo-container {
            display: flex;
            width: 55%;
            align-items: flex-end;
        }

        /* Authorization Text */
        .auth-text {
            text-align: center;
            font-weight: bold;
            margin: 25px 0;
            font-size: 13px;
            letter-spacing: 0.5px;
        }

        .amount-row {
            display: flex;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 12px;
            gap: 20px;
        }

        .concept-row {
            margin-left: 30px;
            margin-bottom: 5px;
            font-size: 13px;
        }
        .desc-small {
            font-size: 10px;
            margin-left: 30px;
            margin-bottom: 18px;
            color: #555;
        }

        /* Right aligned details */
        .details-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            margin-right: 20px;
        }
        
        .detail-item {
            display: flex;
            align-items: flex-end;
            margin-bottom: 8px;
            width: 280px;
            justify-content: flex-end;
        }
        
        .detail-item label {
            font-size: 11px;
            margin-right: 10px;
        }
        
        .detail-value {
            border-bottom: 2px solid black;
            width: 110px;
            text-align: right;
            font-weight: bold;
            font-size: 14px;
            padding-bottom: 2px;
            padding-right: 5px;
        }

        /* Signature & Date */
        .sig-date-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-top: 30px;
            margin-bottom: 10px;
            font-style: italic;
            font-size: 11px;
            font-weight: bold;
        }
        .date-val {
            font-size: 12px;
            font-style: normal;
        }

        .signature-line {
            border-bottom: 2px solid black;
            width: 200px;
            margin-top: 40px;
        }

        .legal-text {
            font-size: 9px;
            text-align: justify;
            line-height: 1.3;
            margin: 15px 0;
            padding-top: 10px;
            border-top: 1px solid #ccc;
        }

        /* Observations Box */
        .obs-header {
            background-color: #333;
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 11px;
            padding: 4px;
            border: 2px solid black;
            border-bottom: none;
        }
        .obs-box {
            border: 2px solid black;
            height: 50px;
            margin-bottom: 30px;
        }

        /* Footer */
        .footer-line {
            border-top: 3px solid black;
            padding-top: 8px;
            text-align: center;
            font-size: 10px;
            font-weight: bold;
            margin-top: 20px;
        }
        .company-name {
            text-align: right;
            font-weight: bold;
            margin-top: 15px;
            font-size: 11px;
            border-bottom: 2px solid black;
            display: inline-block;
            float: right;
            padding-bottom: 2px;
            text-decoration: underline;
        }

        /* Bottom Detail Section */
        .bottom-detail-title {
            text-align: center;
            font-style: italic;
            font-weight: bold;
            font-size: 14px;
            margin-top: 30px;
            margin-bottom: 10px;
            clear: both;
        }
        
        .bottom-table {
            width: 100%;
            font-size: 11px;
            overflow: hidden;
        }
        .bt-left { 
            float: left; 
            font-weight: bold;
        }
        .bt-right { 
            float: right; 
            text-align: center;
        }
        .costo-header {
            font-weight: bold;
            font-size: 10px;
            margin-bottom: 3px;
            color: #555;
        }

        @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
    </style>
</head>
<body>

    <div class="page">
        <div class="header-top">
            <div class="logo-container">
                <div class="truck-cab"></div>
                <div class="truck-body">
                    <span class="logo-text">RBU</span>
                </div>
                <div class="wheel w1"></div>
                <div class="wheel w2"></div>
            </div>
            <div class="rbu-santiago">RBU Santiago.</div>
        </div>

        <div class="title-bar">
            Autorizacin de Descuento
        </div>

        <div class="field-row">
            <span class="field-label">NOMBRE DEL<br>TRABAJADOR:</span>
            <div class="field-line">${s.person_name||""}</div>
        </div>

        <div class="field-row rut-row">
            <div class="rut-container">
                <span class="field-label">RUT :</span>
                <div class="field-line">${s.person_rut||""}</div>
            </div>
            <div class="cargo-container">
                <span class="field-label">Cargo desempeado:</span>
                <div class="field-line">${s.person_cargo||""}</div>
            </div>
        </div>

        <div class="auth-text">
            EL TRABAJADOR INDIVIDUALIZADO AUTORIZA EN ESTE ACTO
        </div>

        <div class="amount-row">
            <span>EL DESCUENTO DE:</span>
            <span>$</span>
            <span>${s.discount_amount.toLocaleString("es-CL")}</span>
        </div>

        <div class="concept-row">
            <strong>POR CONCEPTO DE:</strong> &nbsp; ${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}
        </div>
        <div class="desc-small">Descripcin : Tarjeta de acceso vehicular</div>

        <div class="details-right">
            <div class="detail-item">
                <label>A descontar en:</label>
                <div class="detail-value">1 Cuota</div>
            </div>
            <div class="detail-item">
                <label>A contar de:</label>
                <div class="detail-value" style="font-style: italic; font-size: 12px;">Mes en curso</div>
            </div>
            <div class="detail-item">
                <label>Valor de cada cuota:</label>
                <div class="detail-value">$ ${s.discount_amount.toLocaleString("es-CL")}</div>
            </div>
        </div>

        <div class="sig-date-row">
            <div>
                <span>Firma y Rut del trabajador</span>
                <div class="signature-line"></div>
            </div>
            <span>Fecha : &nbsp; <span class="date-val"><strong>${b}</strong></span></span>
        </div>

        <div class="legal-text">
            El trabajador, mediante el presente instrumento, otorga mandato expreso a REDBUS URBANO S.A. para que descuente de sus remuneraciones en las cuotas y plazos indicados la suma indicada en este acto. Asimismo faculta expresamente a REDBUS URBANO S.A., para que en el evento de que por cualquier causa se pusiese trmino al contrato de trabajo, descuente el total del saldo adeudado de las indemnizaciones a que tenga derecho y/o otros emolumentos que pudiere tener derecho al trmino de la relacin laboral.
        </div>

        <div class="obs-header">Observaciones</div>
        <div class="obs-box"></div>

        <div class="footer-line">
            Av. El Salto 4651, Huechuraba, Santiago.<br>
            Fono: (56 2) 4881800 &nbsp;&nbsp; Fax: (56 2) 4881818
        </div>

        <div style="overflow: hidden; margin-top: 15px;">
            <div class="company-name">REDBUS URBANO S.A.</div>
        </div>

        <div class="bottom-detail-title">Detalle Descuento</div>
        
        <div class="bottom-table">
            <span class="bt-left">${s.reason==="PERDIDA"?"Prdida Credencial":"Deterioro Credencial"}</span>
            <div class="bt-right">
                <div class="costo-header">COSTO</div>
                <div><strong>$${s.discount_amount.toLocaleString("es-CL")}</strong></div>
            </div>
        </div>

    </div>

</body>
</html>
            `),x.document.close(),setTimeout(()=>x.print(),300)}};return A.useEffect(()=>{e&&(o({person_rut:"",person_name:"",person_cargo:"",person_terminal:"EL_ROBLE",person_turno:"",person_horario:"",person_contacto:"",worker_email:"",reason:"PERDIDA",requested_at:new Date().toISOString().split("T")[0],card_id:"",discount_applied:!0,discount_amount:5e3,send_emails:!0,created_by_supervisor:a}),f(""),u(""))},[e,a]),e?c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nuevo Prestamo de Respaldo"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Datos del Trabajador"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"RUT"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:`input pr-10 ${d?"border-red-500":""}`,value:s.person_rut,onChange:x=>o(b=>({...b,person_rut:x.target.value})),onBlur:p,placeholder:"12.345.678-9",required:!0}),c.jsx(UY,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),d&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Nombre"}),c.jsx("input",{type:"text",className:"input",value:s.person_name,onChange:x=>o(b=>({...b,person_name:x.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Cargo"}),c.jsx("input",{type:"text",className:"input",value:s.person_cargo,onChange:x=>o(b=>({...b,person_cargo:x.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal"}),c.jsx("select",{className:"input",value:s.person_terminal,onChange:x=>o(b=>({...b,person_terminal:x.target.value})),required:!0,children:Ma.map(x=>c.jsx("option",{value:x.value,children:x.label},x.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Turno"}),c.jsx("input",{type:"text",className:"input",value:s.person_turno,onChange:x=>o(b=>({...b,person_turno:x.target.value}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Horario"}),c.jsx("input",{type:"text",className:"input",value:s.person_horario,onChange:x=>o(b=>({...b,person_horario:x.target.value})),placeholder:"08:00-18:00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Contacto"}),c.jsx("input",{type:"text",className:"input",value:s.person_contacto,onChange:x=>o(b=>({...b,person_contacto:x.target.value}))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:["Correo ",c.jsx("span",{className:"text-slate-400 font-normal",children:"(opcional)"})]}),c.jsx("input",{type:"email",className:"input",value:s.worker_email,onChange:x=>o(b=>({...b,worker_email:x.target.value})),placeholder:"Para notificar cuando llegue su credencial"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Solicitud"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo"}),c.jsx("select",{className:"input",value:s.reason,onChange:x=>o(b=>({...b,reason:x.target.value})),required:!0,children:fR.map(x=>c.jsx("option",{value:x.value,children:x.label},x.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha Solicitud"}),c.jsx("input",{type:"date",className:"input",value:s.requested_at,onChange:x=>o(b=>({...b,requested_at:x.target.value})),required:!0})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Tarjeta de Respaldo"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Terminal de Inventario"}),c.jsxs("select",{className:"input",value:l,onChange:x=>{u(x.target.value),o(b=>({...b,card_id:""}))},children:[c.jsx("option",{value:"",children:"Todos"}),Vs.map(x=>c.jsx("option",{value:x,children:x},x))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Tarjeta Disponible"}),c.jsxs("select",{className:"input",value:s.card_id,onChange:x=>o(b=>({...b,card_id:x.target.value})),required:!0,children:[c.jsx("option",{value:"",children:"Seleccionar tarjeta..."}),h.map(x=>c.jsxs("option",{value:x.id,children:[x.card_number," (",x.inventory_terminal,")"]},x.id))]}),h.length===0&&c.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No hay tarjetas disponibles"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Descuento"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:s.discount_applied,onChange:x=>o(b=>({...b,discount_applied:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),c.jsxs("span",{className:"text-sm text-slate-700",children:["Aplicar descuento de $",s.discount_amount.toLocaleString("es-CL")," (1 cuota)"]})]}),s.discount_applied&&c.jsxs("span",{className:"text-xs text-slate-500 italic flex items-center gap-1",children:[c.jsx(MY,{className:"w-3 h-3"}),"Se imprimir automticamente al crear"]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Notificaciones"}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:s.send_emails,onChange:x=>o(b=>({...b,send_emails:x.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),c.jsx("span",{className:"text-sm text-slate-700",children:"Enviar correos al crear"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!s.card_id,children:n?"Guardando...":"Crear Prestamo"})]})]}),c.jsx("div",{ref:i,className:"hidden"})]})})]}):null},q2e=({isOpen:e,loan:t,onClose:r})=>{var i,s;if(!e||!t)return null;const n=o=>o?new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=Math.floor((new Date().getTime()-new Date(t.issued_at).getTime())/(1e3*60*60*24));return c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detalle del Prestamo"}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[c.jsx(rQ,{className:"w-4 h-4"}),"Trabajador"]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Nombre:"}),c.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.person_name})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"RUT:"}),c.jsx("span",{className:"text-sm font-medium text-slate-900",children:dl(t.person_rut)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Cargo:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.person_cargo||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Terminal:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.person_terminal})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Turno:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.person_turno||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Horario:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.person_horario||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Contacto:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.person_contacto||"-"})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[c.jsx(jf,{className:"w-4 h-4"}),"Tarjeta de Respaldo"]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Numero:"}),c.jsx("span",{className:"text-sm font-mono font-medium text-slate-900",children:((i=t.backup_cards)==null?void 0:i.card_number)||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Terminal Inventario:"}),c.jsx("span",{className:"text-sm text-slate-900",children:((s=t.backup_cards)==null?void 0:s.inventory_terminal)||"-"})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[c.jsx(yY,{className:"w-4 h-4"}),"Solicitud"]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Motivo:"}),c.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.reason==="PERDIDA"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t.reason==="PERDIDA"?"Perdida":"Deterioro"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Solicitud:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.requested_at})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Fecha Entrega:"}),c.jsx("span",{className:"text-sm text-slate-900",children:n(t.issued_at)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Dias Transcurridos:"}),c.jsxs("span",{className:`text-sm font-medium ${a>t.alert_after_days?"text-amber-600":"text-slate-900"}`,children:[a," dias"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Estado:"}),c.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${t.status==="ASIGNADA"?"bg-blue-100 text-blue-700":t.status==="CERRADA"?"bg-slate-100 text-slate-700":t.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:t.status})]}),t.recovered_at&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Recuperada:"}),c.jsx("span",{className:"text-sm text-slate-900",children:n(t.recovered_at)})]}),t.cancel_reason&&c.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Motivo Cancelacion:"}),c.jsx("p",{className:"text-sm text-slate-900 mt-1",children:t.cancel_reason})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[c.jsx(lR,{className:"w-4 h-4"}),"Descuento"]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Aplicado:"}),c.jsx("span",{className:`text-sm font-medium ${t.discount_applied?"text-emerald-600":"text-slate-500"}`,children:t.discount_applied?"Si":"No"})]}),t.discount_applied&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Monto:"}),c.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["$",t.discount_amount.toLocaleString("es-CL")]})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[c.jsx(oR,{className:"w-4 h-4"}),"Auditoria"]}),c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Creado por:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.created_by_supervisor})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Creado:"}),c.jsx("span",{className:"text-sm text-slate-900",children:n(t.created_at)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Correo Trabajador:"}),c.jsx("span",{className:"text-sm text-slate-900",children:t.boss_email||"-"})]}),t.emails_sent_at&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-slate-500",children:"Emails Enviados:"}),c.jsx("span",{className:"text-sm text-slate-900",children:n(t.emails_sent_at)})]})]})]})]}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:c.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},V2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var d;const[i,s]=A.useState(new Date().toISOString().split("T")[0]),[o,l]=A.useState(""),u=async f=>{f.preventDefault(),t&&(await n(t.id,i,o),l(""))};return!e||!t?null:c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(dR,{className:"w-5 h-5 text-emerald-600"}),c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Marcar como Recuperada"})]}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[c.jsxs("p",{className:"text-sm text-slate-600",children:[c.jsx("span",{className:"font-medium",children:"Trabajador:"})," ",t.person_name]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[c.jsx("span",{className:"font-medium",children:"RUT:"})," ",dl(t.person_rut)]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[c.jsx("span",{className:"font-medium",children:"Tarjeta:"})," ",(d=t.backup_cards)==null?void 0:d.card_number]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Fecha de Devolucion"}),c.jsx("input",{type:"date",className:"input",value:i,onChange:f=>s(f.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Observacion (opcional)"}),c.jsx("textarea",{className:"input min-h-[80px]",value:o,onChange:f=>l(f.target.value),placeholder:"Notas adicionales..."})]}),c.jsx("p",{className:"text-sm text-slate-500",children:"Al confirmar, la tarjeta sera liberada y quedara disponible para nuevos prestamos."}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary bg-emerald-600 hover:bg-emerald-700",disabled:a,children:a?"Procesando...":"Confirmar Devolucion"})]})]})]})})]})},K2e=({isOpen:e,loan:t,onClose:r,onSubmit:n,isLoading:a})=>{var l;const[i,s]=A.useState(""),o=async u=>{u.preventDefault(),!(!t||!i.trim())&&(await n(t.id,i.trim()),s(""))};return!e||!t?null:c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Lv,{className:"w-5 h-5 text-red-600"}),c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cancelar Prestamo"})]}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Esta accion no se puede deshacer."}),c.jsxs("p",{className:"text-sm text-red-700",children:["El prestamo a ",t.person_name," (tarjeta ",(l=t.backup_cards)==null?void 0:l.card_number,") sera cancelado y la tarjeta sera liberada."]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Motivo de cancelacion (obligatorio)"}),c.jsx("textarea",{className:"input min-h-[100px]",value:i,onChange:u=>s(u.target.value),placeholder:"Explique por que se cancela este prestamo...",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[c.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:a,children:"Volver"}),c.jsx("button",{type:"submit",className:"btn btn-primary bg-red-600 hover:bg-red-700",disabled:a||!i.trim(),children:a?"Cancelando...":"Confirmar Cancelacion"})]})]})]})})]})},G2e=({isOpen:e,onClose:t})=>{const r=qt(),[n,a]=A.useState(!1),[i,s]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState({card_number:"",inventory_terminal:"El Roble",notes:""}),{data:f=[],isLoading:h}=Tt({queryKey:["backup-cards",i,o],queryFn:()=>k2e(o||void 0,i||void 0),enabled:e}),p=Qt({mutationFn:R2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]}),a(!1),d({card_number:"",inventory_terminal:"El Roble",notes:""})}}),g=Qt({mutationFn:I2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-cards"]})}}),m=v=>{v.preventDefault(),p.mutate(u)},x=v=>{confirm(`Desactivar tarjeta ${v.card_number}?`)&&g.mutate(v.id)};if(!e)return null;const b={LIBRE:"bg-emerald-100 text-emerald-800",ASIGNADA:"bg-blue-100 text-blue-800",INACTIVA:"bg-slate-100 text-slate-600"};return c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jf,{className:"w-5 h-5 text-slate-600"}),c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventario de Tarjetas"})]}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-wrap items-center gap-3",children:[c.jsxs("select",{className:"input w-auto",value:i,onChange:v=>s(v.target.value),children:[c.jsx("option",{value:"",children:"Todos los terminales"}),Vs.map(v=>c.jsx("option",{value:v,children:v},v))]}),c.jsxs("select",{className:"input w-auto",value:o,onChange:v=>l(v.target.value),children:[c.jsx("option",{value:"",children:"Todos los estados"}),iQ.map(v=>c.jsx("option",{value:v.value,children:v.label},v.value))]}),c.jsx("div",{className:"flex-1"}),c.jsxs("button",{onClick:()=>a(!n),className:"btn btn-primary flex items-center gap-2",children:[c.jsx(uR,{className:"w-4 h-4"}),"Agregar Tarjeta"]})]}),n&&c.jsxs("form",{onSubmit:m,className:"p-4 bg-slate-50 border-b border-slate-100",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Numero de Tarjeta"}),c.jsx("input",{type:"text",className:"input",value:u.card_number,onChange:v=>d(y=>({...y,card_number:v.target.value})),placeholder:"Ej: TR-001",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Terminal"}),c.jsx("select",{className:"input",value:u.inventory_terminal,onChange:v=>d(y=>({...y,inventory_terminal:v.target.value})),children:Vs.map(v=>c.jsx("option",{value:v,children:v},v))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notas (opcional)"}),c.jsx("input",{type:"text",className:"input",value:u.notes,onChange:v=>d(y=>({...y,notes:v.target.value}))})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary text-sm",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary text-sm",disabled:p.isPending,children:p.isPending?"Guardando...":"Guardar"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.length===0?c.jsx("div",{className:"text-center py-8 text-slate-500",children:"No hay tarjetas registradas"}):c.jsx("div",{className:"space-y-2",children:f.map(v=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(jf,{className:"w-5 h-5 text-slate-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:v.card_number}),c.jsx("p",{className:"text-xs text-slate-500",children:v.inventory_terminal})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b[v.status]||""}`,children:v.status}),v.status!=="INACTIVA"&&v.status!=="ASIGNADA"&&c.jsx("button",{onClick:()=>x(v),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Desactivar",children:c.jsx(XY,{className:"w-4 h-4"})})]})]},v.id))})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end",children:c.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cerrar"})})]})})]})},X2e=({isOpen:e,onClose:t})=>{const r=qt(),[n,a]=A.useState("GLOBAL"),[i,s]=A.useState({manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0}),{data:o=[],isLoading:l}=Tt({queryKey:["backup-email-settings"],queryFn:JD,enabled:e}),u=Qt({mutationFn:B2e,onSuccess:()=>{r.invalidateQueries({queryKey:["backup-email-settings"]})}});A.useEffect(()=>{const f=o.find(h=>n==="GLOBAL"?h.scope_type==="GLOBAL":h.scope_code===n);s(f?{manager_email:f.manager_email,cc_emails:f.cc_emails||"",subject_manager:f.subject_manager,subject_boss:f.subject_boss,enabled:f.enabled}:{manager_email:"",cc_emails:"",subject_manager:"Solicitud de Nueva Credencial",subject_boss:"Notificacion de Credencial de Respaldo",enabled:!0})},[n,o]);const d=f=>{f.preventDefault(),u.mutate({scope_type:n==="GLOBAL"?"GLOBAL":"TERMINAL",scope_code:n,...i})};return e?c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:t}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cR,{className:"w-5 h-5 text-slate-600"}),c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Configuracion de Correos"})]}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Configurar para:"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:()=>a("GLOBAL"),className:`px-3 py-1.5 text-sm rounded-lg border ${n==="GLOBAL"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Global"}),Vs.map(f=>c.jsx("button",{type:"button",onClick:()=>a(f),className:`px-3 py-1.5 text-sm rounded-lg border ${n===f?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:f},f))]})]}),l?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Email del Gestor (crear credencial)"}),c.jsx("input",{type:"email",className:"input",value:i.manager_email,onChange:f=>s(h=>({...h,manager_email:f.target.value})),placeholder:"gestor@empresa.cl",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"CC (opcional, separar por coma)"}),c.jsx("input",{type:"text",className:"input",value:i.cc_emails,onChange:f=>s(h=>({...h,cc_emails:f.target.value})),placeholder:"copia1@empresa.cl, copia2@empresa.cl"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Gestor"}),c.jsx("input",{type:"text",className:"input",value:i.subject_manager,onChange:f=>s(h=>({...h,subject_manager:f.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Asunto para Jefatura"}),c.jsx("input",{type:"text",className:"input",value:i.subject_boss,onChange:f=>s(h=>({...h,subject_boss:f.target.value})),required:!0})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:i.enabled,onChange:f=>s(h=>({...h,enabled:f.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),c.jsx("span",{className:"text-sm text-slate-700",children:"Envio habilitado"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cerrar"}),c.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:u.isPending,children:[c.jsx(FY,{className:"w-4 h-4"}),u.isPending?"Guardando...":"Guardar"]})]}),u.isSuccess&&c.jsx("p",{className:"text-sm text-emerald-600 text-center",children:"Configuracion guardada correctamente"})]})]})]})})]}):null},Y2e=({isOpen:e,loan:t,managerEmail:r,workerEmail:n,cc:a,onClose:i,onSubmit:s,isLoading:o})=>{const l=A.useRef(null),[u,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(""),m=_=>{var E;const w=(E=_.target.files)==null?void 0:E[0];if(!w)return;if(!["application/pdf","image/png","image/jpeg"].includes(w.type)){g("Solo se permiten archivos PDF, PNG o JPG");return}if(w.size>5*1024*1024){g("El archivo no puede superar 5MB");return}if(g(""),d(w),w.type.startsWith("image/")){const j=new FileReader;j.onload=T=>{var O;return h((O=T.target)==null?void 0:O.result)},j.readAsDataURL(w)}else h(null)},x=async()=>{if(!u){g("Debe adjuntar el documento firmado");return}const _=new FileReader;_.onload=async w=>{var E;const S=((E=w.target)==null?void 0:E.result).split(",")[1];await s({filename:`autorizacion_descuento_${(t==null?void 0:t.person_rut)||"firmado"}.${u.name.split(".").pop()}`,content:S})},_.readAsDataURL(u)},b=async()=>{await s(null)},v=()=>{d(null),h(null),g("")},y=()=>{v(),i()};return!e||!t?null:c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:y}),c.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Adjuntar Documento Firmado"}),c.jsx("button",{onClick:y,className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(Fi,{className:"w-5 h-5 text-slate-500"})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Trabajador:"})," ",t.person_name," (",dl(t.person_rut),")"]}),c.jsx("p",{className:"text-sm text-blue-800 mt-1",children:c.jsx("strong",{children:"Se enviar correo a:"})}),c.jsxs("ul",{className:"text-xs text-blue-700 mt-1 list-disc list-inside",children:[c.jsxs("li",{children:["Gestor de credenciales: ",r," ",c.jsx("span",{className:"text-blue-500",children:"(con adjunto)"})]}),n&&c.jsxs("li",{children:["Notificacin trabajador: ",n]}),a&&c.jsxs("li",{children:["CC: ",a]})]})]}),c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[c.jsx(wY,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Importante"}),c.jsx("p",{className:"text-xs text-amber-700",children:"Adjunte el documento de autorizacin de descuento firmado por el trabajador. Este se enviar SOLO al gestor de credenciales."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Documento Firmado (PDF, PNG, JPG)"}),c.jsx("input",{type:"file",ref:l,onChange:m,accept:".pdf,.png,.jpg,.jpeg",className:"hidden"}),u?c.jsx("div",{className:"border border-slate-200 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[f?c.jsx("img",{src:f,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):c.jsx("div",{className:"w-16 h-16 bg-red-50 rounded flex items-center justify-center",children:c.jsx(CY,{className:"w-8 h-8 text-red-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:u.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(u.size/1024).toFixed(1)," KB"]})]}),c.jsx("button",{type:"button",onClick:()=>{d(null),h(null)},className:"p-1 hover:bg-slate-100 rounded",children:c.jsx(Fi,{className:"w-4 h-4 text-slate-500"})})]})}):c.jsxs("button",{type:"button",onClick:()=>{var _;return(_=l.current)==null?void 0:_.click()},className:"w-full border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-400 hover:bg-blue-50/50 transition-colors",children:[c.jsx(eQ,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Haga clic para seleccionar archivo"}),c.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Max 5MB"})]}),p&&c.jsx("p",{className:"text-xs text-red-500 mt-2",children:p})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:[c.jsx("button",{type:"button",onClick:b,className:"text-sm text-slate-500 hover:text-slate-700",disabled:o,children:"Enviar sin adjunto"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:y,className:"btn btn-secondary",disabled:o,children:"Cancelar"}),c.jsx("button",{type:"button",onClick:x,className:"btn btn-primary flex items-center gap-2",disabled:o||!u,children:o?"Enviando...":c.jsxs(c.Fragment,{children:[c.jsx(WY,{className:"w-4 h-4"}),"Enviar Correos"]})})]})]})]})})]})},Q2e=()=>{var U,W,ae,Se;const e=qt(),t=qe(J=>J.context),r=qe(J=>J.setContext),n=zn(J=>J.session),[a,i]=A.useState({status:"TODAS",reason:"TODAS",alertsOnly:!1}),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,m]=A.useState(!1),[x,b]=A.useState(!1),[v,y]=A.useState(!1),[_,w]=A.useState(!1),[S,E]=A.useState(null),[j,T]=A.useState(!1),O=Tt({queryKey:["backup-loans",a],queryFn:()=>D2e(a)}),C=Tt({queryKey:["backup-kpis"],queryFn:U2e}),M=Tt({queryKey:["backup-email-settings"],queryFn:JD}),F=Qt({mutationFn:async J=>({loan:await M2e(J),sendEmails:J.send_emails}),onSuccess:({loan:J,sendEmails:K})=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),o(!1),K&&(E(J),w(!0))}}),q=Qt({mutationFn:({id:J,recoveredAt:K,observation:ee})=>$2e(J,K),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),b(!1),p(null)}}),V=Qt({mutationFn:({id:J,reason:K})=>L2e(J,K),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-loans"]}),e.invalidateQueries({queryKey:["backup-kpis"]}),e.invalidateQueries({queryKey:["backup-cards"]}),y(!1),p(null)}}),ne=A.useMemo(()=>{var K;let J=O.data||[];if(t.mode!=="ALL"&&t.value){const ee=(K=Ma.find(ye=>ye.value===t.value))==null?void 0:K.label;ee&&(J=J.filter(ye=>ye.person_terminal===t.value||ye.person_terminal===ee))}if(a.alertsOnly){const ee=new Date;J=J.filter(ye=>{if(ye.status!=="ASIGNADA")return!1;const re=new Date(ye.issued_at);return Math.floor((ee.getTime()-re.getTime())/(1e3*60*60*24))>ye.alert_after_days})}return J},[O.data,t,a.alertsOnly]),se=J=>{p(J),m(!0)},G=J=>{se(J)},te=J=>{p(J),b(!0)},ue=J=>{p(J),y(!0)},pe=J=>{E(J),w(!0)},P=async J=>{var ye;if(!S)return;const K=(ye=M.data)==null?void 0:ye.find(re=>re.scope_code===S.person_terminal||re.scope_type==="GLOBAL");if(!K){rF("Configuracin requerida",'Configure los correos primero en el botn "Correos"'),w(!1),E(null);return}T(!0);const ee=await W2e(S,K.manager_email,K.cc_emails||void 0,J);T(!1),ee.success?(ni("Correos enviados","Los correos de notificacin fueron enviados correctamente",S.person_name),e.invalidateQueries({queryKey:["backup-loans"]})):Qa("Error al enviar correos",ee.error||"Error desconocido"),w(!1),E(null)},H=()=>{if(!ne.length)return;const J=new Date,K=ne.map(ee=>{var Le;const ye=new Date(ee.issued_at),re=Math.floor((J.getTime()-ye.getTime())/(1e3*60*60*24));return{rut:dl(ee.person_rut),nombre:ee.person_name,cargo:ee.person_cargo||"",terminal:ee.person_terminal,tarjeta:((Le=ee.backup_cards)==null?void 0:Le.card_number)||"",motivo:ee.reason==="PERDIDA"?"Perdida":"Deterioro",fecha_entrega:new Date(ee.issued_at).toLocaleDateString("es-CL"),dias:re,estado:ee.status,descuento:ee.discount_applied?ee.discount_amount:0,correo_trabajador:ee.boss_email||"",creado_por:ee.created_by_supervisor}});dt({filename:`prestamos_respaldo_${new Date().toISOString().split("T")[0]}`,sheetName:"Prestamos",rows:K,columns:[{key:"rut",header:"RUT"},{key:"nombre",header:"Nombre"},{key:"cargo",header:"Cargo"},{key:"terminal",header:"Terminal"},{key:"tarjeta",header:"Tarjeta"},{key:"motivo",header:"Motivo"},{key:"fecha_entrega",header:"Fecha Entrega"},{key:"dias",header:"Dias"},{key:"estado",header:"Estado"},{key:"descuento",header:"Descuento"},{key:"email_jefatura",header:"Email Jefatura"},{key:"creado_por",header:"Creado Por"}]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Credenciales de Respaldo",description:"Control de prestamo de tarjetas de respaldo",actions:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>f(!0),className:"btn btn-secondary flex items-center gap-2",children:[c.jsx(qY,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Correos"})]}),c.jsxs("button",{onClick:()=>u(!0),className:"btn btn-secondary flex items-center gap-2",children:[c.jsx(jf,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Tarjetas"})]}),c.jsxs("button",{onClick:H,className:"btn btn-secondary flex items-center gap-2",children:[c.jsx(TY,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"XLSX"})]}),c.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary flex items-center gap-2",children:[c.jsx(uR,{className:"w-4 h-4"}),"Nuevo Prestamo"]})]})}),c.jsx(sQ,{kpis:C.data||{availableByTerminal:{"El Roble":0,"La Reina":0,"Maria Angelica":0},activeLoans:0,overdueLoans:0,avgReturnDays:0,totalDiscounts:0},isLoading:C.isLoading}),!O.isLoading&&O.data&&O.data.length>0&&c.jsx(A2e,{loans:O.data}),c.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm flex flex-wrap items-center gap-2",children:[c.jsx(PY,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),c.jsx("input",{type:"text",className:"h-8 px-2 text-sm border border-slate-200 rounded-md w-32 focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"RUT/Nombre...",value:a.search||"",onChange:J=>i(K=>({...K,search:J.target.value}))}),c.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:t.value||"",onChange:J=>{J.target.value?r({mode:"TERMINAL",value:J.target.value}):r({mode:"ALL"})},children:[c.jsx("option",{value:"",children:"Terminal"}),Ma.map(J=>c.jsx("option",{value:J.value,children:J.label},J.value))]}),c.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.status||"TODAS",onChange:J=>i(K=>({...K,status:J.target.value})),children:[c.jsx("option",{value:"TODAS",children:"Estado"}),aQ.map(J=>c.jsx("option",{value:J.value,children:J.label},J.value))]}),c.jsxs("select",{className:"h-8 px-2 text-sm border border-slate-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.reason||"TODAS",onChange:J=>i(K=>({...K,reason:J.target.value})),children:[c.jsx("option",{value:"TODAS",children:"Motivo"}),fR.map(J=>c.jsx("option",{value:J.value,children:J.label},J.value))]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-xs text-slate-600 whitespace-nowrap",children:[c.jsx("input",{type:"checkbox",checked:a.alertsOnly||!1,onChange:J=>i(K=>({...K,alertsOnly:J.target.checked})),className:"w-3.5 h-3.5 rounded border-slate-300"}),c.jsx(Lv,{className:"w-3.5 h-3.5 text-amber-500"}),"Atrasados"]}),c.jsx("div",{className:"h-4 w-px bg-slate-200 hidden sm:block"}),c.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateFrom||"",onChange:J=>i(K=>({...K,dateFrom:J.target.value})),title:"Desde"}),c.jsx("span",{className:"text-slate-400 text-xs",children:"-"}),c.jsx("input",{type:"date",className:"h-8 px-2 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400",value:a.dateTo||"",onChange:J=>i(K=>({...K,dateTo:J.target.value})),title:"Hasta"})]}),O.isLoading&&c.jsx(xr,{label:"Cargando prestamos..."}),O.isError&&c.jsx(Rr,{message:"Error al cargar prestamos",onRetry:O.refetch}),!O.isLoading&&!O.isError&&c.jsx(C2e,{loans:ne,onView:se,onEdit:G,onRecover:te,onCancel:ue,onResendEmails:pe}),c.jsx(H2e,{isOpen:s,onClose:()=>o(!1),onSubmit:async(J,K)=>{await F.mutateAsync(J),J.discount_applied&&K()},isLoading:F.isPending,supervisorName:(n==null?void 0:n.supervisorName)||"Supervisor"}),c.jsx(q2e,{isOpen:g,loan:h,onClose:()=>{m(!1),p(null)}}),c.jsx(V2e,{isOpen:x,loan:h,onClose:()=>{b(!1),p(null)},onSubmit:async(J,K,ee)=>{await q.mutateAsync({id:J,recoveredAt:K,observation:ee})},isLoading:q.isPending}),c.jsx(K2e,{isOpen:v,loan:h,onClose:()=>{y(!1),p(null)},onSubmit:async(J,K)=>{await V.mutateAsync({id:J,reason:K})},isLoading:V.isPending}),c.jsx(G2e,{isOpen:l,onClose:()=>u(!1)}),c.jsx(X2e,{isOpen:d,onClose:()=>f(!1)}),c.jsx(Y2e,{isOpen:_,loan:S,managerEmail:((W=(U=M.data)==null?void 0:U.find(J=>J.scope_code===(S==null?void 0:S.person_terminal)||J.scope_type==="GLOBAL"))==null?void 0:W.manager_email)||"",workerEmail:(S==null?void 0:S.boss_email)||"",cc:((Se=(ae=M.data)==null?void 0:ae.find(J=>J.scope_code===(S==null?void 0:S.person_terminal)||J.scope_type==="GLOBAL"))==null?void 0:Se.cc_emails)||void 0,onClose:()=>{w(!1),E(null)},onSubmit:P,isLoading:j})]})},J2e=[{id:"s-1",solicitante:"Ana Prez",tipo:"Materiales",fecha:"2023-12-04",estado:"abierta",terminal:"EL_ROBLE"},{id:"s-2",solicitante:"Carlos Vega",tipo:"Personal",fecha:"2023-12-03",estado:"en_proceso",terminal:"LA_REINA"},{id:"s-3",solicitante:"Laura Soto",tipo:"Tecnologa",fecha:"2023-12-02",estado:"cerrada",terminal:"EL_SALTO"}],JO=Iu(J2e,(e,t)=>t!=null&&t.estado&&t.estado!=="todas"?e.estado===t.estado:!0),Z2e=()=>{const e=qe(b=>b.context),t=qe(b=>b.setContext),[r,n]=A.useState({estado:"todas"}),[a,i]=A.useState(""),[s,o]=A.useState(""),[l,u]=A.useState([]),d=Tt({queryKey:["solicitudes",e,r],queryFn:()=>JO.list({terminalContext:e,filters:r,scope:"view"})}),f=A.useMemo(()=>[...d.data??[],...l],[d.data,l]),h=A.useMemo(()=>[{key:"tipo",header:"Tipo"},{key:"solicitante",header:"Solicitante"},{key:"estado",header:"Estado",render:b=>c.jsx("span",{className:"badge capitalize",children:b.estado}),value:b=>b.estado},{key:"fecha",header:"Fecha"},{key:"terminal",header:"Terminal",render:b=>Ge(b.terminal),value:b=>Ge(b.terminal)}],[]),p=h.map(b=>({key:b.key,header:b.header,value:v=>b.value?b.value(v):v[b.key]})),g=()=>{dt({filename:"solicitudes_vista",sheetName:"Solicitudes",rows:f,columns:p})},m=async()=>{const b=await JO.list({terminalContext:e,scope:"all"});dt({filename:"solicitudes_completo",sheetName:"Solicitudes",rows:b,columns:p})},x=()=>{const b={id:`local-${Date.now()}`,solicitante:s,tipo:a,estado:"abierta",fecha:new Date().toISOString().slice(0,10),terminal:e.value??"EL_ROBLE"};u(v=>[b,...v]),o(""),i("")};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Solicitudes",description:"Formulario universal para requerimientos",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",onClick:()=>{var b;return(b=document.getElementById("solicitud-form"))==null?void 0:b.scrollIntoView({behavior:"smooth"})},children:"Nueva solicitud"}),c.jsx(qr,{onExportView:g,onExportAll:m})]})}),c.jsx(ua,{terminalContext:e,onTerminalChange:t,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsxs("select",{className:"input",value:r.estado,onChange:b=>n({estado:b.target.value}),children:[c.jsx("option",{value:"todas",children:"Todas"}),c.jsx("option",{value:"abierta",children:"Abierta"}),c.jsx("option",{value:"en_proceso",children:"En proceso"}),c.jsx("option",{value:"cerrada",children:"Cerrada"})]})]})}),c.jsxs("div",{className:"card p-4",id:"solicitud-form",children:[c.jsx("p",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Crear nueva solicitud"}),c.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Solicitante"}),c.jsx("input",{className:"input",value:s,onChange:b=>o(b.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"label",children:"Tipo"}),c.jsx("input",{className:"input",value:a,onChange:b=>i(b.target.value),placeholder:"Ej: Materiales"})]}),c.jsx("div",{className:"flex items-end justify-end",children:c.jsx("button",{className:"btn btn-primary",onClick:x,disabled:!s||!a,children:"Registrar (mock)"})})]})]}),d.isLoading&&c.jsx(xr,{}),d.isError&&c.jsx(Rr,{onRetry:d.refetch}),!d.isLoading&&!d.isError&&c.jsxs(c.Fragment,{children:[!f.length&&c.jsx(La,{description:"Sin solicitudes"}),f.length>0&&c.jsx($a,{columns:h,rows:f})]})]})},Rh=({terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o,children:l})=>c.jsxs(ua,{terminalContext:e,onTerminalChange:t,children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Buscar PPU"}),c.jsx("input",{type:"text",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 w-32 lg:w-40",placeholder:"PPU...",value:r,onChange:u=>n(u.target.value)})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Desde"}),c.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:a,onChange:u=>i(u.target.value)})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Hasta"}),c.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 outline-none focus:border-brand-500 w-full",value:s,onChange:u=>o(u.target.value)})]}),l]}),Ih=({items:e})=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e.map((t,r)=>c.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:t.label}),c.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.value}),t.subtext&&c.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:t.subtext})]}),t.icon&&c.jsx("div",{className:`p-2 rounded-lg ${t.colorClass||"bg-slate-100 text-slate-600"}`,children:c.jsx(ce,{name:t.icon,size:20})})]},r))}),eSe="https://wvcplgwemvqhvtstlqmt.supabase.co",ZD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2Y3BsZ3dlbXZxaHZ0c3RscW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNjIyMDUsImV4cCI6MjA3NTkzODIwNX0.K1YOv5lRn9fOous3AyG2gPxsQBzqOXRfYHgrCmO5zxk",tSe=J5(eSe,ZD,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),rSe=()=>!!ZD,Dh=async(e,t)=>{if(!rSe())return[];let r=tSe.from(e).select("*");if(t.terminalContext&&t.terminalContext.mode!=="ALL"){const l=Xi(t.terminalContext).map(u=>Hc[u]).filter(Boolean);l.length>0&&(r=r.in("terminal",l))}t.search&&(r=r.ilike("bus_ppu",`%${t.search}%`)),t.dateFrom&&(r=r.gte("created_at",t.dateFrom)),t.dateTo&&(r=r.lte("created_at",t.dateTo));const n=t.sortBy||"updated_at",a=t.sortOrder||"desc";r=r.order(n,{ascending:a==="asc"});const{data:i,error:s}=await r;if(s)throw console.error(`Error fetching ${e}:`,s),s;return i},nSe=e=>Dh("extintores",e),aSe=e=>Dh("tags",e),iSe=e=>Dh("mobileye",e),sSe=e=>Dh("odometro",e),oSe=e=>Dh("publicidad",e),lSe=e=>Tt({queryKey:["minicheck","extintores",e],queryFn:()=>nSe(e)}),cSe=e=>Tt({queryKey:["minicheck","tags",e],queryFn:()=>aSe(e)}),uSe=e=>Tt({queryKey:["minicheck","mobileye",e],queryFn:()=>iSe(e)}),dSe=e=>Tt({queryKey:["minicheck","odometros",e],queryFn:()=>sSe(e)}),fSe=e=>Tt({queryKey:["minicheck","publicidad",e],queryFn:()=>oSe(e)}),hSe=()=>{const e=qe(v=>v.context),t=qe(v=>v.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=lSe(l),p=A.useMemo(()=>{if(!u)return[];const v=u.length,y=u.filter(S=>S.certificacion==="VENCIDA").length,_=u.filter(S=>!S.tiene).length,w=u.filter(S=>S.presion==="BAJA_CARGA").length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Vencidos",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Sin Extintor",value:_,icon:"x",colorClass:"bg-orange-50 text-orange-600"},{label:"Presin Baja",value:w,icon:"activity",colorClass:"bg-yellow-50 text-yellow-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const v=u.filter(_=>_.certificacion==="VIGENTE").length,y=u.filter(_=>_.certificacion==="VENCIDA").length;return[{name:"VIGENTE",value:v,color:"#10b981"},{name:"VENCIDA",value:y,color:"#ef4444"}]},[u]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene",render:v=>c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.tiene?"S":"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"certificacion",header:"Certificacin",render:v=>c.jsx("span",{className:`text-xs font-bold ${v.certificacion==="VIGENTE"?"text-green-600":"text-red-600"}`,children:v.certificacion||"-"}),value:v=>v.certificacion||"-"},{key:"vencimiento_mes",header:"Vencimiento",render:v=>v.vencimiento_mes&&v.vencimiento_anio?`${v.vencimiento_mes}/${v.vencimiento_anio}`:"-",value:v=>`${v.vencimiento_mes}/${v.vencimiento_anio}`},{key:"presion",header:"Presin",value:v=>v.presion||"-"},{key:"cilindro",header:"Cilindro OK",render:v=>v.cilindro?"S":"No",value:v=>v.cilindro?"S":"No"},{key:"updated_at",header:"Actualizado",render:v=>Ut(v.updated_at),value:v=>Ut(v.updated_at)}],x=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{u&&dt({filename:`minicheck_extintor_${new Date().toISOString().split("T")[0]}`,sheetName:"Extintores",rows:u,columns:x})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Control de Extintores",description:"Validacin de estado y vencimiento de extintores",actions:c.jsx("div",{className:"flex gap-2",children:c.jsx(qr,{onExportView:b,onExportAll:b})})}),c.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&c.jsx(xr,{label:"Cargando extintores..."}),f&&c.jsx(Rr,{message:"No se pudieron obtener los registros de extintores.",onRetry:h}),!d&&!f&&c.jsxs(c.Fragment,{children:[c.jsx(Ih,{items:p}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado Certificacin"}),c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:g,children:[c.jsx(ul,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),c.jsx(qi,{tick:{fontSize:10}}),c.jsx(fr,{}),c.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((v,y)=>c.jsx(Zi,{fill:v.color},`cell-${y}`))})]})})]}),c.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?c.jsx($a,{columns:m,rows:u}):c.jsx(La,{label:"Sin registros",description:"No se encontraron extintores con los filtros seleccionados."})})]})]})]})},pSe=()=>{const e=qe(v=>v.context),t=qe(v=>v.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=cSe(l),p=A.useMemo(()=>{if(!u)return[];const v=u.length,y=u.filter(w=>!w.tiene).length,_=u.filter(w=>w.serie&&w.serie.trim().length>0).length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Sin TAG",value:y,icon:"alert-circle",colorClass:"bg-red-50 text-red-600"},{label:"Serie Informada",value:_,icon:"check",colorClass:"bg-blue-50 text-blue-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const v=u.filter(_=>_.tiene).length,y=u.filter(_=>!_.tiene).length;return[{name:"Con TAG",value:v,color:"#10b981"},{name:"Sin TAG",value:y,color:"#ef4444"}]},[u]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene TAG",render:v=>c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${v.tiene?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.tiene?"S":"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"serie",header:"N Serie",value:v=>v.serie||"-"},{key:"observacion",header:"Observacin",value:v=>v.observacion||""},{key:"updated_at",header:"Actualizado",render:v=>Ut(v.updated_at),value:v=>Ut(v.updated_at)}],x=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{u&&dt({filename:`minicheck_tag_${new Date().toISOString().split("T")[0]}`,sheetName:"Tags",rows:u,columns:x})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Control de TAG",description:"Verificacin de dispositivos TAG",actions:c.jsx("div",{className:"flex gap-2",children:c.jsx(qr,{onExportView:b,onExportAll:b})})}),c.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&c.jsx(xr,{label:"Cargando tags..."}),f&&c.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&c.jsxs(c.Fragment,{children:[c.jsx(Ih,{items:p}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin"}),c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(Z2,{children:[c.jsx(Ba,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((v,y)=>c.jsx(Zi,{fill:v.color},`cell-${y}`))}),c.jsx(fr,{}),c.jsx(Oi,{})]})})]}),c.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?c.jsx($a,{columns:m,rows:u}):c.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},mSe=()=>{const e=qe(y=>y.context),t=qe(y=>y.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=uSe(l),p=y=>y.consola&&y.sensor_frontal&&y.sensor_izq&&y.sensor_der,g=A.useMemo(()=>{if(!u)return[];const y=u.length,_=u.filter(S=>!p(S)).length,w=u.filter(S=>S.alerta_izq||S.alerta_der).length;return[{label:"Total Registros",value:y,icon:"clipboard"},{label:"Falla Sensores",value:_,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Alertas Activas",value:w,icon:"bell",colorClass:"bg-yellow-50 text-yellow-600"}]},[u]),m=A.useMemo(()=>{if(!u)return[];const y=u.filter(w=>p(w)).length,_=u.filter(w=>!p(w)).length;return[{name:"Sensores OK",value:y,color:"#10b981"},{name:"Falla",value:_,color:"#ef4444"}]},[u]),x=[{key:"bus_ppu",header:"PPU",value:y=>y.bus_ppu},{key:"terminal",header:"Terminal",render:y=>Ge(y.terminal),value:y=>y.terminal},{key:"bus_marca",header:"Marca",value:y=>y.bus_marca||"-"},{key:"consola",header:"Consola",render:y=>y.consola?c.jsx(ce,{name:"check",size:16,className:"text-green-500"}):c.jsx(ce,{name:"x",size:16,className:"text-red-500"}),value:y=>y.consola?"OK":"Falla"},{key:"id",header:"Sensores OK?",render:y=>{const _=p(y);return c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${_?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_?"S":"NO"})},value:y=>p(y)?"S":"NO"},{key:"id",header:"Alertas",render:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.length>0?c.jsx("span",{className:"text-red-600 font-bold text-xs",children:_.join(", ")}):"-"},value:y=>{const _=[];return y.alerta_izq&&_.push("IZQ"),y.alerta_der&&_.push("DER"),_.join(", ")}},{key:"updated_at",header:"Actualizado",render:y=>Ut(y.updated_at),value:y=>Ut(y.updated_at)}],b=x.map(y=>({header:y.header,key:y.key,value:y.value})),v=()=>{u&&dt({filename:`minicheck_mobileye_${new Date().toISOString().split("T")[0]}`,sheetName:"Mobileye",rows:u,columns:b})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Control Mobileye",description:"Estado de sensores y cmaras Mobileye",actions:c.jsx("div",{className:"flex gap-2",children:c.jsx(qr,{onExportView:v,onExportAll:v})})}),c.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&c.jsx(xr,{label:"Cargando Mobileye..."}),f&&c.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&c.jsxs(c.Fragment,{children:[c.jsx(Ih,{items:g}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Estado General Sensores"}),c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:m,children:[c.jsx(ul,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),c.jsx(qi,{tick:{fontSize:10}}),c.jsx(fr,{}),c.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:m.map((y,_)=>c.jsx(Zi,{fill:y.color},`cell-${_}`))})]})})]}),c.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?c.jsx($a,{columns:x,rows:u}):c.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},vSe=()=>{const e=qe(v=>v.context),t=qe(v=>v.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=dSe(l),p=A.useMemo(()=>{if(!u)return[];const v=u.length,y=u.filter(w=>w.estado==="INCONSISTENTE").length,_=u.filter(w=>w.estado==="NO_FUNCIONA").length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Inconsistentes",value:y,icon:"alert-triangle",colorClass:"bg-yellow-50 text-yellow-600"},{label:"No Funciona",value:_,icon:"x-circle",colorClass:"bg-red-50 text-red-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const v=u.filter(w=>w.estado==="OK").length,y=u.filter(w=>w.estado==="INCONSISTENTE").length,_=u.filter(w=>w.estado==="NO_FUNCIONA").length;return[{name:"OK",value:v,color:"#10b981"},{name:"INCONSISTENTE",value:y,color:"#f59e0b"},{name:"NO FUNCIONA",value:_,color:"#ef4444"}].filter(w=>w.value>0)},[u]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"lectura",header:"Lectura",value:v=>v.lectura.toLocaleString("es-CL")},{key:"estado",header:"Estado",render:v=>{let y="bg-gray-100 text-gray-800";return v.estado==="OK"&&(y="bg-green-100 text-green-800"),v.estado==="INCONSISTENTE"&&(y="bg-yellow-100 text-yellow-800"),v.estado==="NO_FUNCIONA"&&(y="bg-red-100 text-red-800"),c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${y}`,children:v.estado})},value:v=>v.estado},{key:"observacion",header:"Observacin",value:v=>v.observacion||""},{key:"updated_at",header:"Actualizado",render:v=>Ut(v.updated_at),value:v=>Ut(v.updated_at)}],x=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{u&&dt({filename:`minicheck_odometro_${new Date().toISOString().split("T")[0]}`,sheetName:"Odometros",rows:u,columns:x})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Control Odmetro",description:"Lecturas y estado de odmetros",actions:c.jsx("div",{className:"flex gap-2",children:c.jsx(qr,{onExportView:b,onExportAll:b})})}),c.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&c.jsx(xr,{label:"Cargando Odmetros..."}),f&&c.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&c.jsxs(c.Fragment,{children:[c.jsx(Ih,{items:p}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80 flex flex-col items-center justify-center",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2 w-full text-left",children:"Distribucin Estados"}),c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(Z2,{children:[c.jsx(Ba,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((v,y)=>c.jsx(Zi,{fill:v.color},`cell-${y}`))}),c.jsx(fr,{}),c.jsx(Oi,{})]})})]}),c.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?c.jsx($a,{columns:m,rows:u}):c.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},gSe=()=>{const e=qe(v=>v.context),t=qe(v=>v.setContext),[r,n]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(""),l=A.useMemo(()=>({terminalContext:e,search:r,dateFrom:a||void 0,dateTo:s||void 0}),[e,r,a,s]),{data:u,isLoading:d,isError:f,refetch:h}=fSe(l),p=A.useMemo(()=>{if(!u)return[];const v=u.length,y=u.filter(S=>S.danio).length,_=u.filter(S=>S.residuos).length,w=u.filter(S=>!S.tiene).length;return[{label:"Total Registros",value:v,icon:"clipboard"},{label:"Con Dao",value:y,icon:"alert-triangle",colorClass:"bg-red-50 text-red-600"},{label:"Con Residuos",value:_,icon:"trash",colorClass:"bg-orange-50 text-orange-600"},{label:"Sin Publicidad",value:w,icon:"x-circle",colorClass:"bg-gray-50 text-gray-600"}]},[u]),g=A.useMemo(()=>{if(!u)return[];const v=u.filter(w=>w.danio).length,y=u.filter(w=>w.residuos).length,_=u.filter(w=>!w.tiene).length;return[{name:"Con Dao",value:v,color:"#ef4444"},{name:"Con Residuos",value:y,color:"#f97316"},{name:"Sin Pub.",value:_,color:"#64748b"}]},[u]),m=[{key:"bus_ppu",header:"PPU",value:v=>v.bus_ppu},{key:"terminal",header:"Terminal",render:v=>Ge(v.terminal),value:v=>v.terminal},{key:"tiene",header:"Tiene",render:v=>v.tiene?c.jsx("span",{className:"text-green-600 font-bold",children:"S"}):c.jsx("span",{className:"text-gray-400",children:"NO"}),value:v=>v.tiene?"SI":"NO"},{key:"danio",header:"Dao",render:v=>v.danio?c.jsx("span",{className:"px-2 py-0.5 rounded bg-red-100 text-red-800 text-xs font-bold",children:"S"}):c.jsx("span",{className:"text-gray-400",children:"-"}),value:v=>v.danio?"SI":"NO"},{key:"residuos",header:"Residuos",render:v=>v.residuos?c.jsx("span",{className:"px-2 py-0.5 rounded bg-orange-100 text-orange-800 text-xs font-bold",children:"S"}):c.jsx("span",{className:"text-gray-400",children:"-"}),value:v=>v.residuos?"SI":"NO"},{key:"nombre_publicidad",header:"Nombre",value:v=>v.nombre_publicidad||"-"},{key:"updated_at",header:"Actualizado",render:v=>Ut(v.updated_at),value:v=>Ut(v.updated_at)}],x=m.map(v=>({header:v.header,key:v.key,value:v.value})),b=()=>{u&&dt({filename:`minicheck_publicidad_${new Date().toISOString().split("T")[0]}`,sheetName:"Publicidad",rows:u,columns:x})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Pr,{title:"Control Publicidad",description:"Estado de publicidad en buses",actions:c.jsx("div",{className:"flex gap-2",children:c.jsx(qr,{onExportView:b,onExportAll:b})})}),c.jsx(Rh,{terminalContext:e,onTerminalChange:t,search:r,onSearchChange:n,dateFrom:a,onDateFromChange:i,dateTo:s,onDateToChange:o}),d&&c.jsx(xr,{label:"Cargando publicidad..."}),f&&c.jsx(Rr,{message:"No se pudieron cargar los datos.",onRetry:h}),!d&&!f&&c.jsxs(c.Fragment,{children:[c.jsx(Ih,{items:p}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm lg:col-span-1 h-80",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-4",children:"Problemas Detectados"}),c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:g,children:[c.jsx(ul,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Hi,{dataKey:"name",tick:{fontSize:10}}),c.jsx(qi,{tick:{fontSize:10}}),c.jsx(fr,{}),c.jsx(gn,{dataKey:"value",name:"Cantidad",radius:[4,4,0,0],children:g.map((v,y)=>c.jsx(Zi,{fill:v.color},`cell-${y}`))})]})})]}),c.jsx("div",{className:"lg:col-span-2",children:u&&u.length>0?c.jsx($a,{columns:m,rows:u}):c.jsx(La,{label:"Sin registros",description:"No se encontraron datos."})})]})]})]})},xSe=[{ppu:"ABCD12",modelo:"Camin 3/4",estado:"operativo",odometro:123400,proximaMantencion:"2024-01-15",terminal:"EL_ROBLE"},{ppu:"EFGH34",modelo:"Furgn",estado:"en_taller",odometro:88400,proximaMantencion:"2024-02-01",terminal:"LA_REINA"},{ppu:"IJKL56",modelo:"Tracto",estado:"fuera_servicio",odometro:23e4,proximaMantencion:"2024-01-30",terminal:"EL_SALTO"}],ZO=Iu(xSe,(e,t)=>t!=null&&t.estado&&t.estado!=="todos"?e.estado===t.estado:!0),ySe=()=>{const e=qe(g=>g.context),t=qe(g=>g.setContext),[r,n]=A.useState({estado:"todos"}),[a,i]=A.useState(""),s=Tt({queryKey:["flota",e,r],queryFn:()=>ZO.list({terminalContext:e,filters:r,scope:"view"})}),o=s.data??[],l=A.useMemo(()=>[{key:"ppu",header:"PPU"},{key:"modelo",header:"Modelo"},{key:"estado",header:"Estado",render:g=>c.jsx("span",{className:"badge capitalize",children:g.estado}),value:g=>g.estado},{key:"odometro",header:"Odmetro"},{key:"proximaMantencion",header:"Mantencin",render:g=>Ut(g.proximaMantencion),value:g=>Ut(g.proximaMantencion)},{key:"terminal",header:"Terminal",render:g=>Ge(g.terminal),value:g=>Ge(g.terminal)}],[]),u=l.map(g=>({key:g.key,header:g.header,value:m=>g.value?g.value(m):m[g.key]})),d=()=>{dt({filename:"flota_vista",sheetName:"Flota",rows:o,columns:u})},f=async()=>{const g=await ZO.list({terminalContext:e,scope:"all"});dt({filename:"flota_completo",sheetName:"Flota",rows:g,columns:u})},h=A.useMemo(()=>{const g={};return o.forEach(m=>{g[m.estado]=(g[m.estado]??0)+1}),Object.entries(g).map(([m,x])=>({estado:m,count:x}))},[o]),p=o.find(g=>g.ppu===a)??o[0];return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pr,{title:"Estado de Flota",description:"Vista por PPU con ficha y grficas",actions:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"btn btn-primary",children:"Agregar unidad"}),c.jsx(qr,{onExportView:d,onExportAll:f})]})}),c.jsx(ua,{terminalContext:e,onTerminalChange:t,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"label",children:"Estado"}),c.jsxs("select",{className:"input",value:r.estado,onChange:g=>n({estado:g.target.value}),children:[c.jsx("option",{value:"todos",children:"Todos"}),c.jsx("option",{value:"operativo",children:"Operativo"}),c.jsx("option",{value:"en_taller",children:"En taller"}),c.jsx("option",{value:"fuera_servicio",children:"Fuera de servicio"})]})]})}),s.isLoading&&c.jsx(xr,{}),s.isError&&c.jsx(Rr,{onRetry:s.refetch}),!s.isLoading&&!s.isError&&o.length===0&&c.jsx(La,{description:"Sin unidades"}),!s.isLoading&&!s.isError&&o.length>0&&c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsx("div",{className:"md:col-span-2 space-y-3",children:c.jsx($a,{columns:l,rows:o})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"card p-4",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Resumen por estado"}),c.jsx("div",{className:"mt-2 h-48",children:c.jsx(Ci,{width:"100%",height:"100%",children:c.jsxs(bu,{data:h,children:[c.jsx(ul,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(Hi,{dataKey:"estado",tick:{fontSize:12}}),c.jsx(qi,{allowDecimals:!1}),c.jsx(fr,{}),c.jsx(gn,{dataKey:"count",fill:"#3c5eff",radius:[6,6,0,0]})]})})})]}),p&&c.jsxs("div",{className:"card p-4",children:[c.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Ficha rpida"}),c.jsx("select",{className:"input w-32",value:p.ppu,onChange:g=>i(g.target.value),children:o.map(g=>c.jsx("option",{value:g.ppu,children:g.ppu},g.ppu))})]}),c.jsxs("dl",{className:"space-y-2 text-sm text-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("dt",{className:"font-semibold",children:"Modelo"}),c.jsx("dd",{children:p.modelo})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("dt",{className:"font-semibold",children:"Estado"}),c.jsx("dd",{className:"badge capitalize",children:p.estado})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("dt",{className:"font-semibold",children:"Odmetro"}),c.jsx("dd",{children:p.odometro.toLocaleString("es-CL")})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("dt",{className:"font-semibold",children:"Prxima mantencin"}),c.jsx("dd",{children:Ut(p.proximaMantencion)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("dt",{className:"font-semibold",children:"Terminal"}),c.jsx("dd",{children:Ge(p.terminal)})]})]})]})]})]})]})},bSe="modulepreload",wSe=function(e,t){return new URL(e,t).href},eC={},_Se=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(u=>{if(u=wSe(u,n),u in eC)return;eC[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const m=s[g];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":bSe,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},wu={TERMINAL:["El Roble"],CABEZAL:["El Descanso","Aeropuerto","Intermodal La Cisterna"]},wc=e=>{const t={};return e.forEach(r=>{t[r.supply_id]=(t[r.supply_id]||0)+r.quantity}),t},_c=(e,t,r,n)=>e.filter(a=>a.location_type===t&&a.location_name===r&&n.includes(a.period)),SSe=(e,t)=>{const r={},n=_c(e,"TERMINAL","El Roble",["DAY"]),a=wc(n);Object.entries(a).forEach(([o,l])=>{r[o]=(r[o]||0)+l*5});const i=_c(e,"TERMINAL","El Roble",["NIGHT"]),s=wc(i);return Object.entries(s).forEach(([o,l])=>{r[o]=(r[o]||0)+l*4}),wu.CABEZAL.forEach(o=>{const l=_c(e,"CABEZAL",o,["DAY"]),u=wc(l);Object.entries(u).forEach(([d,f])=>{r[d]=(r[d]||0)+f*5})}),e8(r,t)},ESe=(e,t)=>{const r={},n=_c(e,"TERMINAL","El Roble",["DAY"]),a=wc(n);Object.entries(a).forEach(([o,l])=>{r[o]=(r[o]||0)+l*2});const i=_c(e,"TERMINAL","El Roble",["NIGHT"]),s=wc(i);return Object.entries(s).forEach(([o,l])=>{r[o]=(r[o]||0)+l*3}),wu.CABEZAL.forEach(o=>{const l=_c(e,"CABEZAL",o,["WEEKEND"]),u=wc(l);Object.entries(u).forEach(([d,f])=>{r[d]=(r[d]||0)+f*2})}),e8(r,t)},e8=(e,t)=>{const r=new Map(t.map(n=>[n.id,n]));return Object.entries(e).filter(([,n])=>n>0).map(([n,a])=>{var i;return{supply_id:n,supply_name:((i=r.get(n))==null?void 0:i.name)||"Desconocido",quantity:a}}).sort((n,a)=>n.supply_name.localeCompare(a.supply_name))},jSe=()=>{const e=new Date().getDay();return e===1?"SEMANA":e===5?"FIN_SEMANA":"EXTRA"},TSe=(e,t)=>{if(!t)return null;const r=new Date(e);return r.setDate(r.getDate()+t),r},cw=(e,t=3)=>{if(!e)return!1;const r=new Date(e),n=new Date;return Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24))<=t},uw=e=>({SEMANA:"Semana",FIN_SEMANA:"Fin de Semana",EXTRA:"Extra"})[e]||e,tC=e=>e==="PENDIENTE"?"Pendiente":"Retirado",Pg=async()=>{if(!jn())return[];const{data:e,error:t}=await be.from("supplies").select("*").order("name");if(t)throw console.error("Error fetching supplies:",t),t;return e||[]},ASe=async e=>{const{data:t,error:r}=await be.from("supplies").insert(e).select().single();if(r)throw console.error("Error creating supply:",r),r;return t},NSe=async(e,t)=>{const{data:r,error:n}=await be.from("supplies").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating supply:",n),n;return r},OSe=async e=>{const{error:t}=await be.from("supplies").delete().eq("id",e);if(t)throw console.error("Error deleting supply:",t),t},t8=async()=>{if(!jn())return[];const{data:e,error:t}=await be.from("supply_consumption_profiles").select("*").order("location_type").order("location_name").order("period");if(t)throw console.error("Error fetching consumption profiles:",t),t;return e||[]},CSe=async e=>{const{data:t,error:r}=await be.from("supply_consumption_profiles").upsert(e,{onConflict:"location_type,location_name,period,supply_id"}).select().single();if(r)throw console.error("Error upserting consumption profile:",r),r;return t},r8=async e=>{if(!jn())return[];let t=be.from("supply_requests").select("*").order("requested_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.terminal&&(t=t.eq("terminal",e.terminal));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching supply requests:",n),n;return r||[]},kSe=async e=>{if(!jn())return null;const{data:t,error:r}=await be.from("supply_requests").select("*").eq("id",e).single();if(r)throw console.error("Error fetching supply request:",r),r;const{data:n,error:a}=await be.from("supply_request_items").select("*, supply:supplies(*)").eq("request_id",e);if(a)throw console.error("Error fetching request items:",a),a;return{...t,items:n||[]}},PSe=async(e,t,r)=>{const{data:n,error:a}=await be.from("supply_requests").insert({terminal:e.terminal,request_type:e.request_type,created_by:t,consumption_snapshot:r}).select().single();if(a)throw console.error("Error creating supply request:",a),a;const i=e.items.filter(s=>s.quantity>0).map(s=>({request_id:n.id,supply_id:s.supply_id,quantity:s.quantity,is_extra:s.is_extra}));if(i.length>0){const{error:s}=await be.from("supply_request_items").insert(i);if(s)throw console.error("Error creating request items:",s),s}try{await RSe(n,r||{})}catch(s){console.error("Error sending request email:",s)}return n},RSe=async(e,t)=>{let r;e.request_type==="SEMANA"?r="MONDAY":e.request_type==="FIN_SEMANA"?r="FRIDAY":r="MANUAL";const{data:n,error:a}=await be.from("supply_email_settings").select("*").eq("trigger",r).eq("enabled",!0).single();if(a||!n){console.log(`No enabled email settings found for trigger: ${r}`);return}if(!n.recipients){console.log(`No recipients configured for trigger: ${r}`);return}const i=Object.entries(t).map(([u,d])=>`<tr><td style="padding: 8px; border-bottom: 1px solid #e2e8f0;">${u}</td><td style="padding: 8px; border-bottom: 1px solid #e2e8f0; text-align: center;">${d}</td></tr>`).join(""),s=Object.values(t).reduce((u,d)=>u+d,0),o=`
        <p><strong>Terminal:</strong> ${e.terminal}</p>
        <p><strong>Tipo:</strong> ${e.request_type==="SEMANA"?"Semanal":e.request_type==="FIN_SEMANA"?"Fin de Semana":"Extra"}</p>
        <p><strong>Solicitado por:</strong> ${e.created_by}</p>
        <p><strong>Fecha:</strong> ${new Date(e.requested_at).toLocaleString("es-CL")}</p>
        
        <table style="width: 100%; border-collapse: collapse; margin-top: 16px;">
            <thead>
                <tr style="background-color: #f8fafc;">
                    <th style="padding: 10px; text-align: left; border-bottom: 2px solid #e2e8f0;">Insumo</th>
                    <th style="padding: 10px; text-align: center; border-bottom: 2px solid #e2e8f0;">Cantidad</th>
                </tr>
            </thead>
            <tbody>
                ${i}
            </tbody>
            <tfoot>
                <tr style="background-color: #f8fafc; font-weight: bold;">
                    <td style="padding: 10px;">TOTAL</td>
                    <td style="padding: 10px; text-align: center;">${s} unidades</td>
                </tr>
            </tfoot>
        </table>
        
        ${n.body?`<div style="margin-top: 24px;">${n.body}</div>`:""}
    `,{emailService:l}=await _Se(async()=>{const{emailService:u}=await Promise.resolve().then(()=>mX);return{emailService:u}},void 0,import.meta.url);await l.sendEmail({audience:"manual",manualRecipients:n.recipients.split(",").map(u=>u.trim()),subject:n.subject,body:o,module:"informativos"})},ISe=async e=>{const{data:t,error:r}=await be.from("supply_requests").update({status:"RETIRADO",retrieved_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw console.error("Error marking request as retrieved:",r),r;return t},DSe=async e=>{const{error:t}=await be.from("supply_requests").delete().eq("id",e);if(t)throw console.error("Error deleting supply request:",t),t},MSe=async(e,t)=>{const r=t.name.split(".").pop(),a=`receipts/${`${e}_${Date.now()}.${r}`}`,{error:i}=await be.storage.from("supply-receipts").upload(a,t);if(i)throw console.error("Error uploading receipt:",i),i;const{error:s}=await be.from("supply_requests").update({receipt_path:a}).eq("id",e);if(s)throw console.error("Error updating receipt path:",s),s;return a},$Se=async e=>{const{data:t}=await be.storage.from("supply-receipts").createSignedUrl(e,3600);return(t==null?void 0:t.signedUrl)||""},LSe=async()=>{if(!jn())return[];const{data:e,error:t}=await be.from("supply_deliveries").select("*, supply:supplies(*)").order("delivered_at",{ascending:!1});if(t)throw console.error("Error fetching deliveries with supplies:",t),t;return e||[]},FSe=async(e,t,r)=>{const n=new Date,a=TSe(n,r),{data:i,error:s}=await be.from("supply_deliveries").insert({...e,created_by:t,delivered_at:n.toISOString(),next_delivery_at:(a==null?void 0:a.toISOString())||null}).select().single();if(s)throw console.error("Error creating delivery:",s),s;return i},n8=async()=>{if(!jn())return[];const{data:e,error:t}=await be.from("supply_email_settings").select("*").order("trigger");if(t)throw console.error("Error fetching email settings:",t),t;return e||[]},rC=async(e,t)=>{const{data:r,error:n}=await be.from("supply_email_settings").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating email settings:",n),n;return r},BSe=async(e,t)=>{const{data:r,error:n}=await be.from("supply_email_settings").insert({trigger:e,...t}).select().single();if(n)throw console.error("Error creating email settings:",n),n;return r},USe=async()=>{const e=await n8();if(e.length>0)return e;const t=[{trigger:"MONDAY",recipients:"",subject:"Solicitud Semanal de Insumos",body:"",enabled:!0},{trigger:"FRIDAY",recipients:"",subject:"Solicitud Fin de Semana - Insumos",body:"",enabled:!0},{trigger:"MANUAL",recipients:"",subject:"Solicitud Manual de Insumos",body:"",enabled:!0}],r=[];for(const n of t)try{const a=await BSe(n.trigger,{recipients:n.recipients,subject:n.subject,body:n.body,enabled:n.enabled});r.push(a)}catch(a){console.error(`Error creating default email setting for ${n.trigger}:`,a)}return r},zSe=async()=>{if(!jn())return{pending:0,retrieved:0};const{data:e,error:t}=await be.from("supply_requests").select("status");if(t)throw console.error("Error fetching request stats:",t),t;const r=(e==null?void 0:e.filter(a=>a.status==="PENDIENTE").length)||0,n=(e==null?void 0:e.filter(a=>a.status==="RETIRADO").length)||0;return{pending:r,retrieved:n}},WSe=async(e=7)=>{if(!jn())return[];const t=new Date;t.setDate(t.getDate()+e);const{data:r,error:n}=await be.from("supply_deliveries").select("*, supply:supplies(*)").not("next_delivery_at","is",null).lte("next_delivery_at",t.toISOString()).order("next_delivery_at");if(n)throw console.error("Error fetching upcoming deliveries:",n),n;return r||[]},HSe=()=>{const[e,t]=A.useState({supplies:[],requestStats:{pending:0,retrieved:0},upcomingDeliveries:[],recentRequests:[]}),[r,n]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const[s,o,l,u]=await Promise.all([Pg(),zSe(),WSe(7),r8()]);t({supplies:s,requestStats:o,upcomingDeliveries:l,recentRequests:u.slice(0,5)})}catch(s){console.error("Error loading dashboard stats:",s)}finally{n(!1)}})()},[]),e.supplies.filter(i=>i.min_stock>0&&i.min_stock>0);const a=e.upcomingDeliveries.filter(i=>cw(i.next_delivery_at,3));return r?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand-100 text-brand-600",children:c.jsx(ce,{name:"package",size:22})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Insumos"}),c.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.supplies.length})]})]})}),c.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-warning-100 text-warning-600",children:c.jsx(ce,{name:"clock",size:22})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Pendientes"}),c.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.pending})]})]})}),c.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-success-100 text-success-600",children:c.jsx(ce,{name:"check-circle",size:22})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Retiradas"}),c.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.requestStats.retrieved})]})]})}),c.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-xl ${a.length>0?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-500"}`,children:c.jsx(ce,{name:"alert-triangle",size:22})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Alertas"}),c.jsx("p",{className:"text-2xl font-bold text-slate-800",children:a.length})]})]})})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[c.jsx("h3",{className:"font-semibold text-slate-800",children:"Solicitudes Recientes"}),c.jsx(ce,{name:"file-text",size:18,className:"text-slate-400"})]}),c.jsx("div",{className:"divide-y divide-slate-100",children:e.recentRequests.length===0?c.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay solicitudes registradas"}):e.recentRequests.map(i=>c.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[c.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-600":"bg-success-100 text-success-600"}`,children:c.jsx(ce,{name:i.status==="PENDIENTE"?"clock":"check",size:16})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("p",{className:"text-sm font-medium text-slate-800 truncate",children:[uw(i.request_type)," - ",i.terminal]}),c.jsx("p",{className:"text-xs text-slate-500",children:new Date(i.requested_at).toLocaleDateString("es-CL")})]}),c.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${i.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:i.status==="PENDIENTE"?"Pendiente":"Retirado"})]},i.id))})]}),c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[c.jsx("h3",{className:"font-semibold text-slate-800",children:"Entregas Proximas"}),c.jsx(ce,{name:"calendar",size:18,className:"text-slate-400"})]}),c.jsx("div",{className:"divide-y divide-slate-100",children:e.upcomingDeliveries.length===0?c.jsx("div",{className:"px-5 py-8 text-center text-sm text-slate-500",children:"No hay entregas programadas"}):e.upcomingDeliveries.slice(0,5).map(i=>{const s=cw(i.next_delivery_at,3);return c.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5",children:[c.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${s?"bg-danger-100 text-danger-600":"bg-slate-100 text-slate-600"}`,children:c.jsx(ce,{name:"user",size:16})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:i.staff_name}),c.jsx("p",{className:"text-xs text-slate-500",children:i.next_delivery_at?new Date(i.next_delivery_at).toLocaleDateString("es-CL"):"Sin fecha"})]}),s&&c.jsx("span",{className:"inline-flex items-center rounded-full bg-danger-100 px-2.5 py-0.5 text-xs font-medium text-danger-700",children:"Vencida"})]},i.id)})})]})]}),c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[c.jsx("h3",{className:"font-semibold text-slate-800",children:"Catalogo de Insumos"}),c.jsxs("span",{className:"text-sm text-slate-500",children:[e.supplies.length," insumos"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-5 py-3",children:"Nombre"}),c.jsx("th",{className:"px-5 py-3",children:"Unidad"}),c.jsx("th",{className:"px-5 py-3 text-center",children:"Vida Util"}),c.jsx("th",{className:"px-5 py-3 text-center",children:"Stock Min"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:e.supplies.map(i=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-5 py-3 text-sm font-medium text-slate-800",children:i.name}),c.jsx("td",{className:"px-5 py-3 text-sm text-slate-600",children:i.unit}),c.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.life_days?`${i.life_days} dias`:"-"}),c.jsx("td",{className:"px-5 py-3 text-center text-sm text-slate-600",children:i.min_stock>0?i.min_stock:"-"})]},i.id))})]})})]})]})},qSe=({onSuccess:e,onCancel:t})=>{const r=zn(E=>E.session),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,l]=A.useState(!0),[u,d]=A.useState(!1),[f,h]=A.useState(wu.TERMINAL[0]),[p,g]=A.useState(jSe()),[m,x]=A.useState([]),[b,v]=A.useState({supply_id:"",quantity:0});A.useEffect(()=>{(async()=>{try{const[j,T]=await Promise.all([Pg(),t8()]);a(j),s(T)}catch(j){console.error("Error loading form data:",j)}finally{l(!1)}})()},[]),A.useEffect(()=>{if(n.length===0||i.length===0)return;let E;p==="SEMANA"?E=SSe(i,n):p==="FIN_SEMANA"?E=ESe(i,n):E=[],x(E.map(j=>({...j,is_extra:!1})))},[p,n,i]);const y=(E,j)=>{x(T=>T.map(O=>O.supply_id===E?{...O,quantity:Math.max(0,j)}:O))},_=()=>{if(!b.supply_id||b.quantity<=0)return;const E=n.find(T=>T.id===b.supply_id);if(!E)return;const j=m.find(T=>T.supply_id===b.supply_id);x(j?T=>T.map(O=>O.supply_id===b.supply_id?{...O,quantity:O.quantity+b.quantity}:O):T=>[...T,{supply_id:b.supply_id,supply_name:E.name,quantity:b.quantity,is_extra:!0}]),v({supply_id:"",quantity:0})},w=E=>{x(j=>j.filter(T=>T.supply_id!==E))},S=async()=>{const E=m.filter(j=>j.quantity>0);if(E.length===0){alert("Debe agregar al menos un insumo");return}d(!0);try{const j={};E.forEach(T=>{j[T.supply_name]=T.quantity}),await PSe({terminal:f,request_type:p,items:E.map(T=>({supply_id:T.supply_id,quantity:T.quantity,is_extra:T.is_extra}))},(r==null?void 0:r.supervisorName)||"Usuario",j),e()}catch(j){console.error("Error creating request:",j),alert("Error al crear la solicitud")}finally{d(!1)}};return o?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Terminal"}),c.jsx("select",{value:f,onChange:E=>h(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:wu.TERMINAL.map(E=>c.jsx("option",{value:E,children:E},E))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Tipo de Solicitud"}),c.jsxs("select",{value:p,onChange:E=>g(E.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"SEMANA",children:"Semana (Lun-Vie)"}),c.jsx("option",{value:"FIN_SEMANA",children:"Fin de Semana"}),c.jsx("option",{value:"EXTRA",children:"Extra"})]})]})]}),p!=="EXTRA"&&c.jsx("div",{className:"rounded-lg bg-brand-50 p-3 text-sm text-brand-700",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ce,{name:"info",size:18,className:"mt-0.5 flex-shrink-0"}),c.jsx("p",{children:p==="SEMANA"?"Calculo automatico para Lunes a Viernes incluyendo noches de lunes a jueves.":"Calculo automatico para Viernes noche, Sabado y Domingo completos."})]})}),c.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-2",children:"Insumo"}),c.jsx("th",{className:"px-4 py-2 text-right w-24",children:"Cantidad"}),c.jsx("th",{className:"px-4 py-2 w-12"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:m.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-500",children:"No hay insumos. Agregue items extra."})}):m.map(E=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[E.supply_name,E.is_extra&&c.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),c.jsx("td",{className:"px-4 py-2",children:c.jsx("input",{type:"number",min:"0",value:E.quantity,onChange:j=>y(E.supply_id,parseInt(j.target.value)||0),className:"w-full rounded border border-slate-300 px-2 py-1 text-right text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("button",{onClick:()=>w(E.supply_id),className:"rounded p-1 text-slate-400 hover:bg-danger-100 hover:text-danger-600",children:c.jsx(ce,{name:"x",size:16})})})]},E.supply_id))})]})}),c.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 p-4",children:[c.jsx("p",{className:"mb-3 text-sm font-medium text-slate-700",children:"Agregar insumo extra"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("select",{value:b.supply_id,onChange:E=>v(j=>({...j,supply_id:E.target.value})),className:"flex-1 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:"Seleccionar insumo..."}),n.filter(E=>!m.some(j=>j.supply_id===E.id)).map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]}),c.jsx("input",{type:"number",min:"1",placeholder:"Cant.",value:b.quantity||"",onChange:E=>v(j=>({...j,quantity:parseInt(E.target.value)||0})),className:"w-20 rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),c.jsx("button",{onClick:_,disabled:!b.supply_id||b.quantity<=0,className:"rounded-lg bg-slate-100 px-3 py-2 text-slate-600 hover:bg-slate-200 disabled:opacity-50",children:c.jsx(ce,{name:"plus",size:18})})]})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-4 py-3",children:[c.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Total items: ",m.filter(E=>E.quantity>0).length]}),c.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[m.reduce((E,j)=>E+j.quantity,0)," unidades"]})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),c.jsxs("button",{onClick:S,disabled:u||m.filter(E=>E.quantity>0).length===0,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[u&&c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Crear Solicitud"]})]})]})},VSe=({onRefresh:e})=>{const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,s]=A.useState(!1),[o,l]=A.useState(null),[u,d]=A.useState(!1),[f,h]=A.useState("ALL"),[p,g]=A.useState(null),[m,x]=A.useState(null),[b,v]=A.useState(!1),[y,_]=A.useState(null),w=async()=>{try{a(!0);const F=await r8(f!=="ALL"?{status:f}:void 0);r(F)}catch(F){console.error("Error loading requests:",F)}finally{a(!1)}};A.useEffect(()=>{w()},[f]);const S=async F=>{try{const q=await kSe(F);l(q),d(!0)}catch(q){console.error("Error loading request detail:",q)}},E=F=>{g(F),x(null),_(null)},j=async()=>{if(!(!p||!m)){v(!0),_(null);try{await MSe(p,m),await ISe(p),g(null),x(null),await w(),e==null||e()}catch(F){console.error("Error closing request:",F);const q=F instanceof Error?F.message:"Error desconocido";q.includes("Bucket not found")||q.includes("not found")?_('El bucket de almacenamiento no existe. Contacte al administrador para crear el bucket "supply-receipts" en Supabase Storage.'):q.includes("security")||q.includes("policy")?_("Error de permisos. Verifique las polticas del bucket en Supabase."):_(`Error al cerrar solicitud: ${q}`)}finally{v(!1)}}},T=F=>{var V;const q=(V=F.target.files)==null?void 0:V[0];if(q){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(q.type)){_("Tipo de archivo no vlido. Use PDF, JPG o PNG.");return}if(q.size>5*1024*1024){_("El archivo excede 5MB.");return}x(q),_(null)}},O=async F=>{if(confirm("Eliminar esta solicitud?"))try{await DSe(F),await w(),e==null||e()}catch(q){console.error("Error deleting request:",q)}},C=async F=>{try{const q=await $Se(F);window.open(q,"_blank")}catch(q){console.error("Error getting receipt URL:",q)}},M=()=>{s(!1),w(),e==null||e()};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>h("ALL"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="ALL"?"bg-brand-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Todas"}),c.jsx("button",{onClick:()=>h("PENDIENTE"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="PENDIENTE"?"bg-warning-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Pendientes"}),c.jsx("button",{onClick:()=>h("RETIRADO"),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f==="RETIRADO"?"bg-success-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Retiradas"})]}),c.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 transition-colors",children:[c.jsx(ce,{name:"plus",size:18}),c.jsx("span",{children:"Nueva Solicitud"})]})]}),c.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):t.length===0?c.jsxs("div",{className:"px-5 py-12 text-center",children:[c.jsx(ce,{name:"inbox",size:40,className:"mx-auto text-slate-300 mb-3"}),c.jsx("p",{className:"text-sm text-slate-500",children:"No hay solicitudes registradas"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-3",children:"Fecha"}),c.jsx("th",{className:"px-4 py-3",children:"Tipo"}),c.jsx("th",{className:"px-4 py-3",children:"Terminal"}),c.jsx("th",{className:"px-4 py-3",children:"Estado"}),c.jsx("th",{className:"px-4 py-3",children:"Creado por"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(F=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(F.requested_at).toLocaleDateString("es-CL")}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:uw(F.request_type)}),c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:F.terminal}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${F.status==="PENDIENTE"?"bg-warning-100 text-warning-700":"bg-success-100 text-success-700"}`,children:tC(F.status)})}),c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:F.created_by}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("button",{onClick:()=>S(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver detalle",children:c.jsx(ce,{name:"eye",size:16})}),F.status==="PENDIENTE"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>E(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-success-100 hover:text-success-600",title:"Cerrar solicitud (requiere boleta)",children:c.jsx(ce,{name:"check",size:16})}),c.jsx("button",{onClick:()=>O(F.id),className:"rounded-lg p-1.5 text-slate-500 hover:bg-danger-100 hover:text-danger-600",title:"Eliminar",children:c.jsx(ce,{name:"trash",size:16})})]}),F.receipt_path&&c.jsx("button",{onClick:()=>C(F.receipt_path),className:"rounded-lg p-1.5 text-slate-500 hover:bg-slate-100 hover:text-brand-600",title:"Ver boleta",children:c.jsx(ce,{name:"file",size:16})})]})})]},F.id))})]})})}),i&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"relative mt-8 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Solicitud"}),c.jsx("button",{onClick:()=>s(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:20})})]}),c.jsx(qSe,{onSuccess:M,onCancel:()=>s(!1)})]})}),u&&o&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"relative mt-8 w-full max-w-lg rounded-2xl bg-white p-6 shadow-xl",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Detalle Solicitud"}),c.jsx("button",{onClick:()=>{d(!1),l(null)},className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:20})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Tipo:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-800",children:uw(o.request_type)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Estado:"}),c.jsx("span",{className:`ml-2 font-medium ${o.status==="PENDIENTE"?"text-warning-600":"text-success-600"}`,children:tC(o.status)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Terminal:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-800",children:o.terminal})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Fecha:"}),c.jsx("span",{className:"ml-2 font-medium text-slate-800",children:new Date(o.requested_at).toLocaleDateString("es-CL")})]})]}),c.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-2",children:"Insumo"}),c.jsx("th",{className:"px-4 py-2 text-right",children:"Cantidad"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:o.items.map(F=>{var q;return c.jsxs("tr",{children:[c.jsxs("td",{className:"px-4 py-2 text-slate-800",children:[((q=F.supply)==null?void 0:q.name)||"Desconocido",F.is_extra&&c.jsx("span",{className:"ml-2 text-xs text-brand-500",children:"(extra)"})]}),c.jsx("td",{className:"px-4 py-2 text-right font-medium text-slate-800",children:F.quantity})]},F.id)})})]})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Cerrar Solicitud"}),c.jsx("button",{onClick:()=>g(null),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:20})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"rounded-lg bg-warning-50 p-4 text-sm text-warning-800",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ce,{name:"alert-triangle",size:18,className:"mt-0.5 flex-shrink-0"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Obligatorio:"})," Debe adjuntar la boleta o comprobante para cerrar esta solicitud."]})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Boleta o Comprobante (PDF, JPG, PNG - max 5MB) *"}),c.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:T,className:"block w-full text-sm text-slate-500 file:mr-4 file:rounded-lg file:border-0 file:bg-brand-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-brand-700 hover:file:bg-brand-100"}),m&&c.jsxs("p",{className:"mt-2 flex items-center gap-2 text-sm text-success-600",children:[c.jsx(ce,{name:"check",size:16}),m.name]})]}),y&&c.jsx("div",{className:"rounded-lg bg-danger-50 p-3 text-sm text-danger-700",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ce,{name:"alert-triangle",size:16,className:"mt-0.5 flex-shrink-0"}),c.jsx("p",{children:y})]})}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:()=>g(null),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),c.jsxs("button",{onClick:j,disabled:!m||b,className:"inline-flex items-center gap-2 rounded-lg bg-success-500 px-4 py-2 text-sm font-medium text-white hover:bg-success-600 disabled:opacity-50",children:[b&&c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Cerrar Solicitud"]})]})]})]})})]})},KSe=()=>{const e=zn(v=>v.session),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,l]=A.useState(!0),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[p,g]=A.useState({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),m=async()=>{try{const[v,y,_]=await Promise.all([Pg(),LSe(),eR({mode:"ALL"},{cargo:"cleaner",status:"ACTIVO"})]);r(v),a(y),s(_)}catch(v){console.error("Error loading deliveries data:",v)}finally{l(!1)}};A.useEffect(()=>{m()},[]);const x=v=>{const y=i.find(_=>_.rut===v);g(_=>({..._,staff_rut:v,staff_name:(y==null?void 0:y.nombre)||""}))},b=async()=>{if(!p.supply_id||!p.staff_rut||p.quantity<=0){alert("Complete todos los campos requeridos");return}h(!0);try{const v=t.find(y=>y.id===p.supply_id);await FSe(p,(e==null?void 0:e.supervisorName)||"Usuario",(v==null?void 0:v.life_days)||null),d(!1),g({supply_id:"",staff_rut:"",staff_name:"",quantity:1,notes:""}),await m()}catch(v){console.error("Error creating delivery:",v),alert("Error al registrar la entrega")}finally{h(!1)}};return o?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Registro de entregas de insumos a personal de limpieza"}),c.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[c.jsx(ce,{name:"plus",size:18}),c.jsx("span",{children:"Nueva Entrega"})]})]}),c.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:n.length===0?c.jsxs("div",{className:"px-5 py-12 text-center",children:[c.jsx(ce,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),c.jsx("p",{className:"text-sm text-slate-500",children:"No hay entregas registradas"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-3",children:"Fecha"}),c.jsx("th",{className:"px-4 py-3",children:"Personal"}),c.jsx("th",{className:"px-4 py-3",children:"Insumo"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Cantidad"}),c.jsx("th",{className:"px-4 py-3",children:"Proxima Entrega"}),c.jsx("th",{className:"px-4 py-3",children:"Notas"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(v=>{var _;const y=cw(v.next_delivery_at,3);return c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(v.delivered_at).toLocaleDateString("es-CL")}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-800",children:v.staff_name}),c.jsx("p",{className:"text-xs text-slate-500",children:v.staff_rut})]})}),c.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:((_=v.supply)==null?void 0:_.name)||"Desconocido"}),c.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium text-slate-800",children:v.quantity}),c.jsx("td",{className:"px-4 py-3",children:v.next_delivery_at?c.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${y?"bg-danger-100 text-danger-700":"bg-slate-100 text-slate-600"}`,children:new Date(v.next_delivery_at).toLocaleDateString("es-CL")}):c.jsx("span",{className:"text-sm text-slate-400",children:"-"})}),c.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:v.notes||"-"})]},v.id)})})]})})}),u&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/60 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"relative mt-8 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Entrega"}),c.jsx("button",{onClick:()=>d(!1),className:"rounded-lg p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:c.jsx(ce,{name:"x",size:20})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Personal (Cleaner)"}),c.jsxs("select",{value:p.staff_rut,onChange:v=>x(v.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:"Seleccionar cleaner..."}),i.map(v=>c.jsxs("option",{value:v.rut,children:[v.nombre," (",v.rut,")"]},v.rut))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Insumo"}),c.jsxs("select",{value:p.supply_id,onChange:v=>g(y=>({...y,supply_id:v.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:"Seleccionar insumo..."}),t.map(v=>c.jsxs("option",{value:v.id,children:[v.name," (",v.unit,")",v.life_days&&` - ${v.life_days} dias vida util`]},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cantidad"}),c.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:v=>g(y=>({...y,quantity:parseInt(v.target.value)||1})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Notas (opcional)"}),c.jsx("textarea",{value:p.notes||"",onChange:v=>g(y=>({...y,notes:v.target.value})),rows:2,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",placeholder:"Observaciones..."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:()=>d(!1),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),c.jsxs("button",{onClick:b,disabled:f||!p.supply_id||!p.staff_rut,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[f&&c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Registrar Entrega"]})]})]})]})})]})},GSe=["rollo","bolsa","unidad","litro","kit"],XSe=()=>{const[e,t]=A.useState("consumption"),[r,n]=A.useState("TERMINAL"),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState(!0),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[g,m]=A.useState({name:"",unit:"unidad",life_days:null,min_stock:0}),x=async()=>{try{const[j,T]=await Promise.all([Pg(),t8()]);i(j),o(T)}catch(j){console.error("Error loading config data:",j)}finally{u(!1)}};A.useEffect(()=>{x()},[]);const b=(j,T,O,C)=>{const M=s.find(F=>F.location_type===j&&F.location_name===T&&F.period===O&&F.supply_id===C);return(M==null?void 0:M.quantity)||0},v=async(j,T,O,C,M)=>{f(!0);try{await CSe({location_type:j,location_name:T,period:O,supply_id:C,quantity:Math.max(0,M)}),await x()}catch(F){console.error("Error updating profile:",F)}finally{f(!1)}},y=async(j,T,O)=>{f(!0);try{await NSe(j,{[T]:O}),await x()}catch(C){console.error("Error updating supply:",C)}finally{f(!1)}},_=async()=>{if(!g.name.trim()){alert("Ingrese el nombre del insumo");return}f(!0);try{await ASe({name:g.name.trim(),unit:g.unit,life_days:g.life_days,min_stock:g.min_stock}),m({name:"",unit:"unidad",life_days:null,min_stock:0}),p(!1),await x()}catch(j){console.error("Error creating supply:",j),alert("Error al crear el insumo")}finally{f(!1)}},w=async(j,T)=>{if(confirm(`Eliminar insumo "${T}"? Esta accion no se puede deshacer.`)){f(!0);try{await OSe(j),await x()}catch(O){console.error("Error deleting supply:",O),alert("Error al eliminar. Puede que tenga datos asociados.")}finally{f(!1)}}};if(l)return c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})});const S=r==="TERMINAL"?[{key:"DAY",label:"Dia"},{key:"NIGHT",label:"Noche"}]:[{key:"DAY",label:"Dia (L-V)"},{key:"WEEKEND",label:"Fin de Semana"}],E=r==="TERMINAL"?wu.TERMINAL:wu.CABEZAL;return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2 border-b border-slate-200 pb-2",children:[c.jsx("button",{onClick:()=>t("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="consumption"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Consumos"}),c.jsx("button",{onClick:()=>t("supplies"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${e==="supplies"?"bg-brand-500 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Insumos"})]}),e==="consumption"&&c.jsxs("div",{className:"space-y-4",children:[a.length===0&&c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[c.jsx(ce,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"No hay insumos configurados. Agregue insumos primero."}),c.jsxs("button",{onClick:()=>t("supplies"),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[c.jsx(ce,{name:"plus",size:18}),"Agregar Insumos"]})]}),a.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n("TERMINAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="TERMINAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Terminal"}),c.jsx("button",{onClick:()=>n("CABEZAL"),className:`flex-1 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ${r==="CABEZAL"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Cabezales"})]}),d&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-brand-600",children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}),"Guardando..."]}),E.map(j=>c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[c.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:c.jsx("h3",{className:"font-medium text-slate-800",children:j})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-2",children:"Insumo"}),S.map(T=>c.jsx("th",{className:"px-4 py-2 text-center w-28",children:T.label},T.key))]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(T=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-slate-800",children:T.name}),S.map(O=>c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("input",{type:"number",min:"0",value:b(r,j,O.key,T.id),onChange:C=>v(r,j,O.key,T.id,parseInt(C.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})},O.key))]},T.id))})]})})]},j))]})]}),e==="supplies"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[c.jsx(ce,{name:"plus",size:18}),"Agregar Insumo"]})}),h&&c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-brand-200 p-4",children:[c.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Nuevo Insumo"}),c.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Nombre *"}),c.jsx("input",{type:"text",value:g.name,onChange:j=>m(T=>({...T,name:j.target.value})),placeholder:"Ej: Nova",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Unidad *"}),c.jsx("select",{value:g.unit,onChange:j=>m(T=>({...T,unit:j.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:GSe.map(j=>c.jsx("option",{value:j,children:j},j))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Vida Util (dias)"}),c.jsx("input",{type:"number",min:"0",value:g.life_days||"",placeholder:"Opcional",onChange:j=>m(T=>({...T,life_days:j.target.value?parseInt(j.target.value):null})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-600",children:"Stock Minimo"}),c.jsx("input",{type:"number",min:"0",value:g.min_stock,onChange:j=>m(T=>({...T,min_stock:parseInt(j.target.value)||0})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx("button",{onClick:()=>{p(!1),m({name:"",unit:"unidad",life_days:null,min_stock:0})},className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),c.jsxs("button",{onClick:_,disabled:d||!g.name.trim(),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[d&&c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardar"]})]})]}),a.length===0&&!h?c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[c.jsx(ce,{name:"package",size:40,className:"mx-auto text-slate-300 mb-3"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"No hay insumos configurados"}),c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600",children:[c.jsx(ce,{name:"plus",size:18}),"Agregar Primer Insumo"]})]}):a.length>0&&c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[c.jsx("div",{className:"border-b border-slate-100 px-4 py-3 bg-slate-50",children:c.jsx("h3",{className:"font-medium text-slate-800",children:"Configuracion de Insumos"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs font-medium uppercase tracking-wide text-slate-500",children:[c.jsx("th",{className:"px-4 py-2",children:"Insumo"}),c.jsx("th",{className:"px-4 py-2",children:"Unidad"}),c.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Vida Util (dias)"}),c.jsx("th",{className:"px-4 py-2 text-center w-28",children:"Stock Minimo"}),c.jsx("th",{className:"px-4 py-2 w-16"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(j=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-medium text-slate-800",children:j.name}),c.jsx("td",{className:"px-4 py-2 text-slate-600",children:j.unit}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("input",{type:"number",min:"0",value:j.life_days||"",placeholder:"-",onChange:T=>y(j.id,"life_days",T.target.value?parseInt(T.target.value):null),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("input",{type:"number",min:"0",value:j.min_stock||"",placeholder:"-",onChange:T=>y(j.id,"min_stock",parseInt(T.target.value)||0),className:"w-16 rounded border border-slate-300 px-2 py-1 text-center text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("button",{onClick:()=>w(j.id,j.name),className:"rounded p-1 text-slate-400 hover:bg-danger-100 hover:text-danger-600",children:c.jsx(ce,{name:"trash",size:16})})})]},j.id))})]})})]})]})]})},YSe={MONDAY:"Lunes (Solicitud Semanal)",FRIDAY:"Viernes (Fin de Semana)",MANUAL:"Manual"},QSe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(!1),[s,o]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState(null),[h,p]=A.useState({recipients:"",subject:"",body:"",enabled:!0}),g=async()=>{try{const w=await n8();return t(w),w}catch(w){return console.error("Error loading email settings:",w),[]}finally{n(!1)}},m=async()=>{i(!0);try{const w=await USe();t(w)}catch(w){console.error("Error creating default settings:",w),alert("Error al crear configuraciones. Verifique que las tablas existan en Supabase.")}finally{i(!1)}};A.useEffect(()=>{g()},[]);const x=w=>{f(w.id),p({recipients:w.recipients,subject:w.subject,body:w.body,enabled:w.enabled})},b=()=>{f(null),p({recipients:"",subject:"",body:"",enabled:!0})},v=async w=>{o(w);try{await rC(w,h),await g(),f(null)}catch(S){console.error("Error saving email settings:",S),alert("Error al guardar la configuracion")}finally{o(null)}},y=async w=>{o(w.id);try{await rC(w.id,{enabled:!w.enabled}),await g()}catch(S){console.error("Error toggling email setting:",S)}finally{o(null)}},_=async w=>{if(!w.recipients){alert("Configure los destinatarios primero");return}u(w.id);try{await nl.sendEmail({audience:"manual",manualRecipients:w.recipients.split(",").map(S=>S.trim()),subject:`[TEST] ${w.subject}`,body:`<p>Este es un correo de prueba.</p><hr/>${w.body}`,module:"informativos"}),alert("Correo de prueba enviado")}catch(S){console.error("Error sending test email:",S),alert("Error al enviar el correo de prueba")}finally{u(null)}};return r?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})}):e.length===0?c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 p-8 text-center",children:[c.jsx(ce,{name:"send",size:40,className:"mx-auto text-slate-300 mb-3"}),c.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Configurar Correos Automaticos"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Cree las configuraciones de correo para las solicitudes automaticas de Lunes, Viernes y Manual."}),c.jsxs("button",{onClick:m,disabled:a,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[a?c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):c.jsx(ce,{name:"plus",size:18}),"Crear Configuraciones"]})]})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"rounded-lg bg-slate-50 p-4 text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ce,{name:"info",size:18,className:"mt-0.5 flex-shrink-0 text-slate-500"}),c.jsx("p",{children:"Configure los destinatarios y plantillas de correo para las solicitudes automaticas. Los correos se envian automaticamente los dias configurados."})]})}),c.jsx("div",{className:"space-y-4",children:e.map(w=>{const S=d===w.id,E=s===w.id,j=l===w.id;return c.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-3 bg-slate-50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`h-2 w-2 rounded-full ${w.enabled?"bg-success-500":"bg-slate-400"}`}),c.jsx("h3",{className:"font-medium text-slate-800",children:YSe[w.trigger]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:()=>y(w),disabled:E,className:`rounded-lg px-3 py-1 text-xs font-medium transition-colors ${w.enabled?"bg-success-100 text-success-700 hover:bg-success-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:w.enabled?"Activo":"Inactivo"})})]}),c.jsx("div",{className:"p-4",children:S?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Destinatarios (separados por coma)"}),c.jsx("input",{type:"text",value:h.recipients,onChange:T=>p(O=>({...O,recipients:T.target.value})),placeholder:"correo1@ejemplo.com, correo2@ejemplo.com",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Asunto"}),c.jsx("input",{type:"text",value:h.subject,onChange:T=>p(O=>({...O,subject:T.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1.5 block text-sm font-medium text-slate-700",children:"Cuerpo del mensaje (HTML permitido)"}),c.jsx("textarea",{value:h.body,onChange:T=>p(O=>({...O,body:T.target.value})),rows:4,placeholder:"Ejemplo: <p>Estimados,</p><p>Se adjunta la solicitud de insumos.</p>",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:b,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancelar"}),c.jsxs("button",{onClick:()=>v(w.id),disabled:E,className:"inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50",children:[E&&c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardar"]})]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Destinatarios"}),c.jsx("p",{className:"mt-1 text-sm text-slate-800",children:w.recipients||c.jsx("span",{className:"text-slate-400 italic",children:"No configurado"})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Asunto"}),c.jsx("p",{className:"mt-1 text-sm text-slate-800",children:w.subject})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Mensaje"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600 line-clamp-2",children:w.body||c.jsx("span",{className:"text-slate-400 italic",children:"Sin mensaje"})})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsxs("button",{onClick:()=>x(w),className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-100",children:[c.jsx(ce,{name:"edit",size:14}),"Editar"]}),c.jsxs("button",{onClick:()=>_(w),disabled:j||!w.recipients,className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium text-brand-600 hover:bg-brand-50 disabled:opacity-50",children:[j?c.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-brand-500 border-t-transparent"}):c.jsx(ce,{name:"send",size:14}),"Enviar Prueba"]})]})]})})]},w.id)})})]})},JSe=[{key:"dashboard",label:"Dashboard",icon:"bar-chart"},{key:"solicitudes",label:"Solicitudes",icon:"file-text"},{key:"entregas",label:"Entregas",icon:"package"},{key:"config",label:"Configuracion",icon:"settings"}],ZSe=()=>{const[e,t]=A.useState("dashboard"),[r,n]=A.useState("consumption"),[a,i]=A.useState(0),s=()=>i(o=>o+1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Solicitudes de Insumos"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Gestion inteligente de insumos, solicitudes y entregas a personal"})]}),c.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-3",children:JSe.map(o=>c.jsxs("button",{onClick:()=>t(o.key),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all ${e===o.key?"bg-brand-500 text-white shadow-brand":"text-slate-600 hover:bg-slate-100"}`,children:[c.jsx(ce,{name:o.icon,size:18}),c.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.key))}),c.jsxs("div",{children:[e==="dashboard"&&c.jsx(HSe,{}),e==="solicitudes"&&c.jsx(VSe,{onRefresh:s}),e==="entregas"&&c.jsx(KSe,{}),e==="config"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n("consumption"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="consumption"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Consumos e Insumos"}),c.jsx("button",{onClick:()=>n("emails"),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${r==="emails"?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Correos"})]}),r==="consumption"&&c.jsx(XSe,{}),r==="emails"&&c.jsx(QSe,{})]})]},a)]})},eEe=()=>{const e=zn(a=>a.session),t=zn(a=>a.hydrateSession),[r,n]=A.useState(!0);return A.useEffect(()=>{t().finally(()=>n(!1))},[t]),r?c.jsx(xr,{label:"Validando sesin"}):e?c.jsx(eP,{}):c.jsx(Z4,{to:"/",replace:!0})},tEe=()=>c.jsx(s7,{children:c.jsxs(JF,{children:[c.jsx(Dt,{path:"/",element:c.jsx(g7,{})}),c.jsx(Dt,{element:c.jsx(eEe,{}),children:c.jsxs(Dt,{element:c.jsx(S7,{}),children:[c.jsx(Dt,{path:"/personal",element:c.jsx(lX,{})}),c.jsx(Dt,{path:"/reuniones",element:c.jsx(uX,{})}),c.jsx(Dt,{path:"/tareas",element:c.jsx(fX,{})}),c.jsx(Dt,{path:"/informativos",element:c.jsx(vX,{})}),c.jsx(Dt,{path:"/asistencia",element:c.jsx(oY,{})}),c.jsx(Dt,{path:"/aseo/interior",element:c.jsx(uY,{})}),c.jsx(Dt,{path:"/aseo/exterior",element:c.jsx(dY,{})}),c.jsx(Dt,{path:"/aseo/rodillo",element:c.jsx(fY,{})}),c.jsx(Dt,{path:"/credenciales",element:c.jsx(Q2e,{})}),c.jsx(Dt,{path:"/solicitudes",element:c.jsx(Z2e,{})}),c.jsx(Dt,{path:"/minicheck/extintor",element:c.jsx(hSe,{})}),c.jsx(Dt,{path:"/minicheck/tag",element:c.jsx(pSe,{})}),c.jsx(Dt,{path:"/minicheck/mobileye",element:c.jsx(mSe,{})}),c.jsx(Dt,{path:"/minicheck/odometro",element:c.jsx(vSe,{})}),c.jsx(Dt,{path:"/minicheck/publicidad",element:c.jsx(gSe,{})}),c.jsx(Dt,{path:"/estado-flota",element:c.jsx(ySe,{})}),c.jsx(Dt,{path:"/insumos",element:c.jsx(ZSe,{})})]})}),c.jsx(Dt,{path:"*",element:c.jsx(Z4,{to:"/",replace:!0})})]})});ay.createRoot(document.getElementById("root")).render(c.jsx(z.StrictMode,{children:c.jsx(sF,{children:c.jsx(tEe,{})})}));
